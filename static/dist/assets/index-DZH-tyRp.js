var P3=Object.defineProperty;var M3=(t,e,n)=>e in t?P3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var A3=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var kc=(t,e,n)=>M3(t,typeof e!="symbol"?e+"":e,n);var xNe=A3((dke,Tw)=>{function I3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h$={exports:{}},sb={},d$={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=Symbol.for("react.element"),N3=Symbol.for("react.portal"),k3=Symbol.for("react.fragment"),H3=Symbol.for("react.strict_mode"),D3=Symbol.for("react.profiler"),L3=Symbol.for("react.provider"),$3=Symbol.for("react.context"),F3=Symbol.for("react.forward_ref"),B3=Symbol.for("react.suspense"),j3=Symbol.for("react.memo"),V3=Symbol.for("react.lazy"),hA=Symbol.iterator;function W3(t){return t===null||typeof t!="object"?null:(t=hA&&t[hA]||t["@@iterator"],typeof t=="function"?t:null)}var f$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g$=Object.assign,m$={};function Rd(t,e,n){this.props=t,this.context=e,this.refs=m$,this.updater=n||f$}Rd.prototype.isReactComponent={};Rd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p$(){}p$.prototype=Rd.prototype;function bT(t,e,n){this.props=t,this.context=e,this.refs=m$,this.updater=n||f$}var ST=bT.prototype=new p$;ST.constructor=bT;g$(ST,Rd.prototype);ST.isPureReactComponent=!0;var dA=Array.isArray,v$=Object.prototype.hasOwnProperty,RT={current:null},y$={key:!0,ref:!0,__self:!0,__source:!0};function w$(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)v$.call(e,r)&&!y$.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Um,type:t,key:o,ref:s,props:i,_owner:RT.current}}function U3(t,e){return{$$typeof:Um,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ET(t){return typeof t=="object"&&t!==null&&t.$$typeof===Um}function z3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fA=/\/+/g;function BS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?z3(""+t.key):e.toString(36)}function Fy(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Um:case N3:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+BS(s,0):r,dA(i)?(n="",t!=null&&(n=t.replace(fA,"$&/")+"/"),Fy(i,e,n,"",function(u){return u})):i!=null&&(ET(i)&&(i=U3(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(fA,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",dA(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+BS(o,a);s+=Fy(o,e,n,l,i)}else if(l=W3(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+BS(o,a++),s+=Fy(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Mp(t,e,n){if(t==null)return t;var r=[],i=0;return Fy(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Y3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ir={current:null},By={transition:null},G3={ReactCurrentDispatcher:Ir,ReactCurrentBatchConfig:By,ReactCurrentOwner:RT};function C$(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:Mp,forEach:function(t,e,n){Mp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mp(t,function(){e++}),e},toArray:function(t){return Mp(t,function(e){return e})||[]},only:function(t){if(!ET(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Component=Rd;st.Fragment=k3;st.Profiler=D3;st.PureComponent=bT;st.StrictMode=H3;st.Suspense=B3;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G3;st.act=C$;st.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g$({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=RT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)v$.call(e,l)&&!y$.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Um,type:t.type,key:i,ref:o,props:r,_owner:s}};st.createContext=function(t){return t={$$typeof:$3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:L3,_context:t},t.Consumer=t};st.createElement=w$;st.createFactory=function(t){var e=w$.bind(null,t);return e.type=t,e};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:F3,render:t}};st.isValidElement=ET;st.lazy=function(t){return{$$typeof:V3,_payload:{_status:-1,_result:t},_init:Y3}};st.memo=function(t,e){return{$$typeof:j3,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=By.transition;By.transition={};try{t()}finally{By.transition=e}};st.unstable_act=C$;st.useCallback=function(t,e){return Ir.current.useCallback(t,e)};st.useContext=function(t){return Ir.current.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t){return Ir.current.useDeferredValue(t)};st.useEffect=function(t,e){return Ir.current.useEffect(t,e)};st.useId=function(){return Ir.current.useId()};st.useImperativeHandle=function(t,e,n){return Ir.current.useImperativeHandle(t,e,n)};st.useInsertionEffect=function(t,e){return Ir.current.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return Ir.current.useLayoutEffect(t,e)};st.useMemo=function(t,e){return Ir.current.useMemo(t,e)};st.useReducer=function(t,e,n){return Ir.current.useReducer(t,e,n)};st.useRef=function(t){return Ir.current.useRef(t)};st.useState=function(t){return Ir.current.useState(t)};st.useSyncExternalStore=function(t,e,n){return Ir.current.useSyncExternalStore(t,e,n)};st.useTransition=function(){return Ir.current.useTransition()};st.version="18.3.1";d$.exports=st;var de=d$.exports;const Dt=Wm(de),K3=I3({__proto__:null,default:Dt},[de]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q3=de,X3=Symbol.for("react.element"),Z3=Symbol.for("react.fragment"),Q3=Object.prototype.hasOwnProperty,J3=q3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e4={key:!0,ref:!0,__self:!0,__source:!0};function b$(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Q3.call(e,r)&&!e4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:X3,type:t,key:o,ref:s,props:i,_owner:J3.current}}sb.Fragment=Z3;sb.jsx=b$;sb.jsxs=b$;h$.exports=sb;var ce=h$.exports,QE={},S$={exports:{}},wi={},R$={exports:{}},E$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,W){var j=Y.length;Y.push(W);e:for(;0<j;){var b=j-1>>>1,R=Y[b];if(0<i(R,W))Y[b]=W,Y[j]=R,j=b;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var W=Y[0],j=Y.pop();if(j!==W){Y[0]=j;e:for(var b=0,R=Y.length,E=R>>>1;b<E;){var H=2*(b+1)-1,D=Y[H],A=H+1,B=Y[A];if(0>i(D,j))A<R&&0>i(B,D)?(Y[b]=B,Y[A]=j,b=A):(Y[b]=D,Y[H]=j,b=H);else if(A<R&&0>i(B,j))Y[b]=B,Y[A]=j,b=A;else break e}}return W}function i(Y,W){var j=Y.sortIndex-W.sortIndex;return j!==0?j:Y.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Y){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=Y)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function C(Y){if(v=!1,w(Y),!g)if(n(l)!==null)g=!0,K(S);else{var W=n(u);W!==null&&X(C,W.startTime-Y)}}function S(Y,W){g=!1,v&&(v=!1,p(O),O=-1),f=!0;var j=d;try{for(w(W),h=n(l);h!==null&&(!(h.expirationTime>W)||Y&&!P());){var b=h.callback;if(typeof b=="function"){h.callback=null,d=h.priorityLevel;var R=b(h.expirationTime<=W);W=t.unstable_now(),typeof R=="function"?h.callback=R:h===n(l)&&r(l),w(W)}else r(l);h=n(l)}if(h!==null)var E=!0;else{var H=n(u);H!==null&&X(C,H.startTime-W),E=!1}return E}finally{h=null,d=j,f=!1}}var x=!1,_=null,O=-1,I=5,T=-1;function P(){return!(t.unstable_now()-T<I)}function M(){if(_!==null){var Y=t.unstable_now();T=Y;var W=!0;try{W=_(!0,Y)}finally{W?N():(x=!1,_=null)}}else x=!1}var N;if(typeof m=="function")N=function(){m(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,V=$.port2;$.port1.onmessage=M,N=function(){V.postMessage(null)}}else N=function(){y(M,0)};function K(Y){_=Y,x||(x=!0,N())}function X(Y,W){O=y(function(){Y(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,K(S))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var j=d;d=W;try{return Y()}finally{d=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,W){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var j=d;d=Y;try{return W()}finally{d=j}},t.unstable_scheduleCallback=function(Y,W,j){var b=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?b+j:b):j=b,Y){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=j+R,Y={id:c++,callback:W,priorityLevel:Y,startTime:j,expirationTime:R,sortIndex:-1},j>b?(Y.sortIndex=j,e(u,Y),n(l)===null&&Y===n(u)&&(v?(p(O),O=-1):v=!0,X(C,j-b))):(Y.sortIndex=R,e(l,Y),g||f||(g=!0,K(S))),Y},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Y){var W=d;return function(){var j=d;d=W;try{return Y.apply(this,arguments)}finally{d=j}}}})(E$);R$.exports=E$;var t4=R$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n4=de,yi=t4;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _$=new Set,nm={};function Cc(t,e){od(t,e),od(t+"Capture",e)}function od(t,e){for(nm[t]=e,t=0;t<e.length;t++)_$.add(e[t])}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),JE=Object.prototype.hasOwnProperty,r4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gA={},mA={};function i4(t){return JE.call(mA,t)?!0:JE.call(gA,t)?!1:r4.test(t)?mA[t]=!0:(gA[t]=!0,!1)}function o4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function s4(t,e,n,r){if(e===null||typeof e>"u"||o4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tr[t]=new Nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tr[e]=new Nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tr[t]=new Nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tr[t]=new Nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tr[t]=new Nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tr[t]=new Nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tr[t]=new Nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tr[t]=new Nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tr[t]=new Nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var _T=/[\-:]([a-z])/g;function TT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_T,TT);tr[e]=new Nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_T,TT);tr[e]=new Nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_T,TT);tr[e]=new Nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tr[t]=new Nr(t,1,!1,t.toLowerCase(),null,!1,!1)});tr.xlinkHref=new Nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tr[t]=new Nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function OT(t,e,n,r){var i=tr.hasOwnProperty(e)?tr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(s4(e,n,i,r)&&(n=null),r||i===null?i4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oa=n4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ap=Symbol.for("react.element"),Th=Symbol.for("react.portal"),Oh=Symbol.for("react.fragment"),xT=Symbol.for("react.strict_mode"),e1=Symbol.for("react.profiler"),T$=Symbol.for("react.provider"),O$=Symbol.for("react.context"),PT=Symbol.for("react.forward_ref"),t1=Symbol.for("react.suspense"),n1=Symbol.for("react.suspense_list"),MT=Symbol.for("react.memo"),Za=Symbol.for("react.lazy"),x$=Symbol.for("react.offscreen"),pA=Symbol.iterator;function Zd(t){return t===null||typeof t!="object"?null:(t=pA&&t[pA]||t["@@iterator"],typeof t=="function"?t:null)}var un=Object.assign,jS;function dg(t){if(jS===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jS=e&&e[1]||""}return`
`+jS+t}var VS=!1;function WS(t,e){if(!t||VS)return"";VS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{VS=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dg(t):""}function a4(t){switch(t.tag){case 5:return dg(t.type);case 16:return dg("Lazy");case 13:return dg("Suspense");case 19:return dg("SuspenseList");case 0:case 2:case 15:return t=WS(t.type,!1),t;case 11:return t=WS(t.type.render,!1),t;case 1:return t=WS(t.type,!0),t;default:return""}}function r1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oh:return"Fragment";case Th:return"Portal";case e1:return"Profiler";case xT:return"StrictMode";case t1:return"Suspense";case n1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O$:return(t.displayName||"Context")+".Consumer";case T$:return(t._context.displayName||"Context")+".Provider";case PT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case MT:return e=t.displayName||null,e!==null?e:r1(t.type)||"Memo";case Za:e=t._payload,t=t._init;try{return r1(t(e))}catch{}}return null}function l4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return r1(e);case 8:return e===xT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function P$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function u4(t){var e=P$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ip(t){t._valueTracker||(t._valueTracker=u4(t))}function M$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=P$(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ow(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function i1(t,e){var n=e.checked;return un({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=kl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function A$(t,e){e=e.checked,e!=null&&OT(t,"checked",e,!1)}function o1(t,e){A$(t,e);var n=kl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?s1(t,e.type,n):e.hasOwnProperty("defaultValue")&&s1(t,e.type,kl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function s1(t,e,n){(e!=="number"||Ow(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fg=Array.isArray;function zh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+kl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function a1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return un({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pe(92));if(fg(n)){if(1<n.length)throw Error(pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:kl(n)}}function I$(t,e){var n=kl(e.value),r=kl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function CA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function N$(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function l1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?N$(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Np,k$=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Np=Np||document.createElement("div"),Np.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Np.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rm(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c4=["Webkit","ms","Moz","O"];Object.keys(bg).forEach(function(t){c4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bg[e]=bg[t]})});function H$(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bg.hasOwnProperty(t)&&bg[t]?(""+e).trim():e+"px"}function D$(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=H$(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var h4=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function u1(t,e){if(e){if(h4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function c1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h1=null;function AT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var d1=null,Yh=null,Gh=null;function bA(t){if(t=Gm(t)){if(typeof d1!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=hb(e),d1(t.stateNode,t.type,e))}}function L$(t){Yh?Gh?Gh.push(t):Gh=[t]:Yh=t}function $$(){if(Yh){var t=Yh,e=Gh;if(Gh=Yh=null,bA(t),e)for(t=0;t<e.length;t++)bA(e[t])}}function F$(t,e){return t(e)}function B$(){}var US=!1;function j$(t,e,n){if(US)return t(e,n);US=!0;try{return F$(t,e,n)}finally{US=!1,(Yh!==null||Gh!==null)&&(B$(),$$())}}function im(t,e){var n=t.stateNode;if(n===null)return null;var r=hb(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pe(231,e,typeof n));return n}var f1=!1;if(wa)try{var Qd={};Object.defineProperty(Qd,"passive",{get:function(){f1=!0}}),window.addEventListener("test",Qd,Qd),window.removeEventListener("test",Qd,Qd)}catch{f1=!1}function d4(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Sg=!1,xw=null,Pw=!1,g1=null,f4={onError:function(t){Sg=!0,xw=t}};function g4(t,e,n,r,i,o,s,a,l){Sg=!1,xw=null,d4.apply(f4,arguments)}function m4(t,e,n,r,i,o,s,a,l){if(g4.apply(this,arguments),Sg){if(Sg){var u=xw;Sg=!1,xw=null}else throw Error(pe(198));Pw||(Pw=!0,g1=u)}}function bc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function V$(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function SA(t){if(bc(t)!==t)throw Error(pe(188))}function p4(t){var e=t.alternate;if(!e){if(e=bc(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return SA(i),t;if(o===r)return SA(i),e;o=o.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?t:e}function W$(t){return t=p4(t),t!==null?U$(t):null}function U$(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=U$(t);if(e!==null)return e;t=t.sibling}return null}var z$=yi.unstable_scheduleCallback,RA=yi.unstable_cancelCallback,v4=yi.unstable_shouldYield,y4=yi.unstable_requestPaint,Cn=yi.unstable_now,w4=yi.unstable_getCurrentPriorityLevel,IT=yi.unstable_ImmediatePriority,Y$=yi.unstable_UserBlockingPriority,Mw=yi.unstable_NormalPriority,C4=yi.unstable_LowPriority,G$=yi.unstable_IdlePriority,ab=null,_s=null;function b4(t){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(ab,t,void 0,(t.current.flags&128)===128)}catch{}}var _o=Math.clz32?Math.clz32:E4,S4=Math.log,R4=Math.LN2;function E4(t){return t>>>=0,t===0?32:31-(S4(t)/R4|0)|0}var kp=64,Hp=4194304;function gg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Aw(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=gg(a):(o&=s,o!==0&&(r=gg(o)))}else s=n&~i,s!==0?r=gg(s):o!==0&&(r=gg(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_o(e),i=1<<n,r|=t[n],e&=~i;return r}function _4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-_o(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=_4(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function m1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K$(){var t=kp;return kp<<=1,!(kp&4194240)&&(kp=64),t}function zS(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_o(e),t[e]=n}function O4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_o(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function NT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_o(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ot=0;function q$(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var X$,kT,Z$,Q$,J$,p1=!1,Dp=[],Cl=null,bl=null,Sl=null,om=new Map,sm=new Map,il=[],x4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EA(t,e){switch(t){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":bl=null;break;case"mouseover":case"mouseout":Sl=null;break;case"pointerover":case"pointerout":om.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sm.delete(e.pointerId)}}function Jd(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Gm(e),e!==null&&kT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function P4(t,e,n,r,i){switch(e){case"focusin":return Cl=Jd(Cl,t,e,n,r,i),!0;case"dragenter":return bl=Jd(bl,t,e,n,r,i),!0;case"mouseover":return Sl=Jd(Sl,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return om.set(o,Jd(om.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,sm.set(o,Jd(sm.get(o)||null,t,e,n,r,i)),!0}return!1}function eF(t){var e=Vu(t.target);if(e!==null){var n=bc(e);if(n!==null){if(e=n.tag,e===13){if(e=V$(n),e!==null){t.blockedOn=e,J$(t.priority,function(){Z$(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=v1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);h1=r,n.target.dispatchEvent(r),h1=null}else return e=Gm(n),e!==null&&kT(e),t.blockedOn=n,!1;e.shift()}return!0}function _A(t,e,n){jy(t)&&n.delete(e)}function M4(){p1=!1,Cl!==null&&jy(Cl)&&(Cl=null),bl!==null&&jy(bl)&&(bl=null),Sl!==null&&jy(Sl)&&(Sl=null),om.forEach(_A),sm.forEach(_A)}function ef(t,e){t.blockedOn===e&&(t.blockedOn=null,p1||(p1=!0,yi.unstable_scheduleCallback(yi.unstable_NormalPriority,M4)))}function am(t){function e(i){return ef(i,t)}if(0<Dp.length){ef(Dp[0],t);for(var n=1;n<Dp.length;n++){var r=Dp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cl!==null&&ef(Cl,t),bl!==null&&ef(bl,t),Sl!==null&&ef(Sl,t),om.forEach(e),sm.forEach(e),n=0;n<il.length;n++)r=il[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<il.length&&(n=il[0],n.blockedOn===null);)eF(n),n.blockedOn===null&&il.shift()}var Kh=Oa.ReactCurrentBatchConfig,Iw=!0;function A4(t,e,n,r){var i=Ot,o=Kh.transition;Kh.transition=null;try{Ot=1,HT(t,e,n,r)}finally{Ot=i,Kh.transition=o}}function I4(t,e,n,r){var i=Ot,o=Kh.transition;Kh.transition=null;try{Ot=4,HT(t,e,n,r)}finally{Ot=i,Kh.transition=o}}function HT(t,e,n,r){if(Iw){var i=v1(t,e,n,r);if(i===null)t0(t,e,r,Nw,n),EA(t,r);else if(P4(i,t,e,n,r))r.stopPropagation();else if(EA(t,r),e&4&&-1<x4.indexOf(t)){for(;i!==null;){var o=Gm(i);if(o!==null&&X$(o),o=v1(t,e,n,r),o===null&&t0(t,e,r,Nw,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else t0(t,e,r,null,n)}}var Nw=null;function v1(t,e,n,r){if(Nw=null,t=AT(r),t=Vu(t),t!==null)if(e=bc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=V$(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nw=t,null}function tF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w4()){case IT:return 1;case Y$:return 4;case Mw:case C4:return 16;case G$:return 536870912;default:return 16}default:return 16}}var cl=null,DT=null,Vy=null;function nF(){if(Vy)return Vy;var t,e=DT,n=e.length,r,i="value"in cl?cl.value:cl.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Vy=i.slice(t,1<r?1-r:void 0)}function Wy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lp(){return!0}function TA(){return!1}function Ci(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Lp:TA,this.isPropagationStopped=TA,this}return un(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lp)},persist:function(){},isPersistent:Lp}),e}var Ed={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},LT=Ci(Ed),Ym=un({},Ed,{view:0,detail:0}),N4=Ci(Ym),YS,GS,tf,lb=un({},Ym,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$T,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tf&&(tf&&t.type==="mousemove"?(YS=t.screenX-tf.screenX,GS=t.screenY-tf.screenY):GS=YS=0,tf=t),YS)},movementY:function(t){return"movementY"in t?t.movementY:GS}}),OA=Ci(lb),k4=un({},lb,{dataTransfer:0}),H4=Ci(k4),D4=un({},Ym,{relatedTarget:0}),KS=Ci(D4),L4=un({},Ed,{animationName:0,elapsedTime:0,pseudoElement:0}),$4=Ci(L4),F4=un({},Ed,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B4=Ci(F4),j4=un({},Ed,{data:0}),xA=Ci(j4),V4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=U4[t])?!!e[t]:!1}function $T(){return z4}var Y4=un({},Ym,{key:function(t){if(t.key){var e=V4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$T,charCode:function(t){return t.type==="keypress"?Wy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),G4=Ci(Y4),K4=un({},lb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PA=Ci(K4),q4=un({},Ym,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$T}),X4=Ci(q4),Z4=un({},Ed,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q4=Ci(Z4),J4=un({},lb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e5=Ci(J4),t5=[9,13,27,32],FT=wa&&"CompositionEvent"in window,Rg=null;wa&&"documentMode"in document&&(Rg=document.documentMode);var n5=wa&&"TextEvent"in window&&!Rg,rF=wa&&(!FT||Rg&&8<Rg&&11>=Rg),MA=" ",AA=!1;function iF(t,e){switch(t){case"keyup":return t5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xh=!1;function r5(t,e){switch(t){case"compositionend":return oF(e);case"keypress":return e.which!==32?null:(AA=!0,MA);case"textInput":return t=e.data,t===MA&&AA?null:t;default:return null}}function i5(t,e){if(xh)return t==="compositionend"||!FT&&iF(t,e)?(t=nF(),Vy=DT=cl=null,xh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rF&&e.locale!=="ko"?null:e.data;default:return null}}var o5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!o5[t.type]:e==="textarea"}function sF(t,e,n,r){L$(r),e=kw(e,"onChange"),0<e.length&&(n=new LT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Eg=null,lm=null;function s5(t){vF(t,0)}function ub(t){var e=Ah(t);if(M$(e))return t}function a5(t,e){if(t==="change")return e}var aF=!1;if(wa){var qS;if(wa){var XS="oninput"in document;if(!XS){var NA=document.createElement("div");NA.setAttribute("oninput","return;"),XS=typeof NA.oninput=="function"}qS=XS}else qS=!1;aF=qS&&(!document.documentMode||9<document.documentMode)}function kA(){Eg&&(Eg.detachEvent("onpropertychange",lF),lm=Eg=null)}function lF(t){if(t.propertyName==="value"&&ub(lm)){var e=[];sF(e,lm,t,AT(t)),j$(s5,e)}}function l5(t,e,n){t==="focusin"?(kA(),Eg=e,lm=n,Eg.attachEvent("onpropertychange",lF)):t==="focusout"&&kA()}function u5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ub(lm)}function c5(t,e){if(t==="click")return ub(e)}function h5(t,e){if(t==="input"||t==="change")return ub(e)}function d5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Po=typeof Object.is=="function"?Object.is:d5;function um(t,e){if(Po(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!JE.call(e,i)||!Po(t[i],e[i]))return!1}return!0}function HA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function DA(t,e){var n=HA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HA(n)}}function uF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cF(){for(var t=window,e=Ow();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ow(t.document)}return e}function BT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f5(t){var e=cF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uF(n.ownerDocument.documentElement,n)){if(r!==null&&BT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=DA(n,o);var s=DA(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var g5=wa&&"documentMode"in document&&11>=document.documentMode,Ph=null,y1=null,_g=null,w1=!1;function LA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;w1||Ph==null||Ph!==Ow(r)||(r=Ph,"selectionStart"in r&&BT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_g&&um(_g,r)||(_g=r,r=kw(y1,"onSelect"),0<r.length&&(e=new LT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ph)))}function $p(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mh={animationend:$p("Animation","AnimationEnd"),animationiteration:$p("Animation","AnimationIteration"),animationstart:$p("Animation","AnimationStart"),transitionend:$p("Transition","TransitionEnd")},ZS={},hF={};wa&&(hF=document.createElement("div").style,"AnimationEvent"in window||(delete Mh.animationend.animation,delete Mh.animationiteration.animation,delete Mh.animationstart.animation),"TransitionEvent"in window||delete Mh.transitionend.transition);function cb(t){if(ZS[t])return ZS[t];if(!Mh[t])return t;var e=Mh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hF)return ZS[t]=e[n];return t}var dF=cb("animationend"),fF=cb("animationiteration"),gF=cb("animationstart"),mF=cb("transitionend"),pF=new Map,$A="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fl(t,e){pF.set(t,e),Cc(e,[t])}for(var QS=0;QS<$A.length;QS++){var JS=$A[QS],m5=JS.toLowerCase(),p5=JS[0].toUpperCase()+JS.slice(1);Fl(m5,"on"+p5)}Fl(dF,"onAnimationEnd");Fl(fF,"onAnimationIteration");Fl(gF,"onAnimationStart");Fl("dblclick","onDoubleClick");Fl("focusin","onFocus");Fl("focusout","onBlur");Fl(mF,"onTransitionEnd");od("onMouseEnter",["mouseout","mouseover"]);od("onMouseLeave",["mouseout","mouseover"]);od("onPointerEnter",["pointerout","pointerover"]);od("onPointerLeave",["pointerout","pointerover"]);Cc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v5=new Set("cancel close invalid load scroll toggle".split(" ").concat(mg));function FA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,m4(r,e,void 0,t),t.currentTarget=null}function vF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;FA(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;FA(i,a,u),o=l}}}if(Pw)throw t=g1,Pw=!1,g1=null,t}function Wt(t,e){var n=e[E1];n===void 0&&(n=e[E1]=new Set);var r=t+"__bubble";n.has(r)||(yF(e,t,2,!1),n.add(r))}function e0(t,e,n){var r=0;e&&(r|=4),yF(n,t,r,e)}var Fp="_reactListening"+Math.random().toString(36).slice(2);function cm(t){if(!t[Fp]){t[Fp]=!0,_$.forEach(function(n){n!=="selectionchange"&&(v5.has(n)||e0(n,!1,t),e0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fp]||(e[Fp]=!0,e0("selectionchange",!1,e))}}function yF(t,e,n,r){switch(tF(e)){case 1:var i=A4;break;case 4:i=I4;break;default:i=HT}n=i.bind(null,e,n,t),i=void 0,!f1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function t0(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Vu(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}j$(function(){var u=o,c=AT(n),h=[];e:{var d=pF.get(t);if(d!==void 0){var f=LT,g=t;switch(t){case"keypress":if(Wy(n)===0)break e;case"keydown":case"keyup":f=G4;break;case"focusin":g="focus",f=KS;break;case"focusout":g="blur",f=KS;break;case"beforeblur":case"afterblur":f=KS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=OA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=H4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=X4;break;case dF:case fF:case gF:f=$4;break;case mF:f=Q4;break;case"scroll":f=N4;break;case"wheel":f=e5;break;case"copy":case"cut":case"paste":f=B4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=PA}var v=(e&4)!==0,y=!v&&t==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var m=u,w;m!==null;){w=m;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,p!==null&&(C=im(m,p),C!=null&&v.push(hm(m,C,w)))),y)break;m=m.return}0<v.length&&(d=new f(d,g,null,n,c),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==h1&&(g=n.relatedTarget||n.fromElement)&&(Vu(g)||g[Ca]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?Vu(g):null,g!==null&&(y=bc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(v=OA,C="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=PA,C="onPointerLeave",p="onPointerEnter",m="pointer"),y=f==null?d:Ah(f),w=g==null?d:Ah(g),d=new v(C,m+"leave",f,n,c),d.target=y,d.relatedTarget=w,C=null,Vu(c)===u&&(v=new v(p,m+"enter",g,n,c),v.target=w,v.relatedTarget=y,C=v),y=C,f&&g)t:{for(v=f,p=g,m=0,w=v;w;w=Hc(w))m++;for(w=0,C=p;C;C=Hc(C))w++;for(;0<m-w;)v=Hc(v),m--;for(;0<w-m;)p=Hc(p),w--;for(;m--;){if(v===p||p!==null&&v===p.alternate)break t;v=Hc(v),p=Hc(p)}v=null}else v=null;f!==null&&BA(h,d,f,v,!1),g!==null&&y!==null&&BA(h,y,g,v,!0)}}e:{if(d=u?Ah(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=a5;else if(IA(d))if(aF)S=h5;else{S=u5;var x=l5}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=c5);if(S&&(S=S(t,u))){sF(h,S,n,c);break e}x&&x(t,d,u),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&s1(d,"number",d.value)}switch(x=u?Ah(u):window,t){case"focusin":(IA(x)||x.contentEditable==="true")&&(Ph=x,y1=u,_g=null);break;case"focusout":_g=y1=Ph=null;break;case"mousedown":w1=!0;break;case"contextmenu":case"mouseup":case"dragend":w1=!1,LA(h,n,c);break;case"selectionchange":if(g5)break;case"keydown":case"keyup":LA(h,n,c)}var _;if(FT)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else xh?iF(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(rF&&n.locale!=="ko"&&(xh||O!=="onCompositionStart"?O==="onCompositionEnd"&&xh&&(_=nF()):(cl=c,DT="value"in cl?cl.value:cl.textContent,xh=!0)),x=kw(u,O),0<x.length&&(O=new xA(O,t,null,n,c),h.push({event:O,listeners:x}),_?O.data=_:(_=oF(n),_!==null&&(O.data=_)))),(_=n5?r5(t,n):i5(t,n))&&(u=kw(u,"onBeforeInput"),0<u.length&&(c=new xA("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=_))}vF(h,e)})}function hm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kw(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=im(t,n),o!=null&&r.unshift(hm(t,o,i)),o=im(t,e),o!=null&&r.push(hm(t,o,i))),t=t.return}return r}function Hc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function BA(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=im(n,o),l!=null&&s.unshift(hm(n,l,a))):i||(l=im(n,o),l!=null&&s.push(hm(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var y5=/\r\n?/g,w5=/\u0000|\uFFFD/g;function jA(t){return(typeof t=="string"?t:""+t).replace(y5,`
`).replace(w5,"")}function Bp(t,e,n){if(e=jA(e),jA(t)!==e&&n)throw Error(pe(425))}function Hw(){}var C1=null,b1=null;function S1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var R1=typeof setTimeout=="function"?setTimeout:void 0,C5=typeof clearTimeout=="function"?clearTimeout:void 0,VA=typeof Promise=="function"?Promise:void 0,b5=typeof queueMicrotask=="function"?queueMicrotask:typeof VA<"u"?function(t){return VA.resolve(null).then(t).catch(S5)}:R1;function S5(t){setTimeout(function(){throw t})}function n0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),am(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);am(e)}function Rl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function WA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _d=Math.random().toString(36).slice(2),ys="__reactFiber$"+_d,dm="__reactProps$"+_d,Ca="__reactContainer$"+_d,E1="__reactEvents$"+_d,R5="__reactListeners$"+_d,E5="__reactHandles$"+_d;function Vu(t){var e=t[ys];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ca]||n[ys]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=WA(t);t!==null;){if(n=t[ys])return n;t=WA(t)}return e}t=n,n=t.parentNode}return null}function Gm(t){return t=t[ys]||t[Ca],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ah(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function hb(t){return t[dm]||null}var _1=[],Ih=-1;function Bl(t){return{current:t}}function zt(t){0>Ih||(t.current=_1[Ih],_1[Ih]=null,Ih--)}function Lt(t,e){Ih++,_1[Ih]=t.current,t.current=e}var Hl={},vr=Bl(Hl),Qr=Bl(!1),oc=Hl;function sd(t,e){var n=t.type.contextTypes;if(!n)return Hl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jr(t){return t=t.childContextTypes,t!=null}function Dw(){zt(Qr),zt(vr)}function UA(t,e,n){if(vr.current!==Hl)throw Error(pe(168));Lt(vr,e),Lt(Qr,n)}function wF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(pe(108,l4(t)||"Unknown",i));return un({},n,r)}function Lw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hl,oc=vr.current,Lt(vr,t),Lt(Qr,Qr.current),!0}function zA(t,e,n){var r=t.stateNode;if(!r)throw Error(pe(169));n?(t=wF(t,e,oc),r.__reactInternalMemoizedMergedChildContext=t,zt(Qr),zt(vr),Lt(vr,t)):zt(Qr),Lt(Qr,n)}var sa=null,db=!1,r0=!1;function CF(t){sa===null?sa=[t]:sa.push(t)}function _5(t){db=!0,CF(t)}function jl(){if(!r0&&sa!==null){r0=!0;var t=0,e=Ot;try{var n=sa;for(Ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sa=null,db=!1}catch(i){throw sa!==null&&(sa=sa.slice(t+1)),z$(IT,jl),i}finally{Ot=e,r0=!1}}return null}var Nh=[],kh=0,$w=null,Fw=0,$i=[],Fi=0,sc=null,la=1,ua="";function Hu(t,e){Nh[kh++]=Fw,Nh[kh++]=$w,$w=t,Fw=e}function bF(t,e,n){$i[Fi++]=la,$i[Fi++]=ua,$i[Fi++]=sc,sc=t;var r=la;t=ua;var i=32-_o(r)-1;r&=~(1<<i),n+=1;var o=32-_o(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,la=1<<32-_o(e)+i|n<<i|r,ua=o+t}else la=1<<o|n<<i|r,ua=t}function jT(t){t.return!==null&&(Hu(t,1),bF(t,1,0))}function VT(t){for(;t===$w;)$w=Nh[--kh],Nh[kh]=null,Fw=Nh[--kh],Nh[kh]=null;for(;t===sc;)sc=$i[--Fi],$i[Fi]=null,ua=$i[--Fi],$i[Fi]=null,la=$i[--Fi],$i[Fi]=null}var vi=null,mi=null,Zt=!1,bo=null;function SF(t,e){var n=Wi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function YA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vi=t,mi=Rl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vi=t,mi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sc!==null?{id:la,overflow:ua}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vi=t,mi=null,!0):!1;default:return!1}}function T1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function O1(t){if(Zt){var e=mi;if(e){var n=e;if(!YA(t,e)){if(T1(t))throw Error(pe(418));e=Rl(n.nextSibling);var r=vi;e&&YA(t,e)?SF(r,n):(t.flags=t.flags&-4097|2,Zt=!1,vi=t)}}else{if(T1(t))throw Error(pe(418));t.flags=t.flags&-4097|2,Zt=!1,vi=t}}}function GA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vi=t}function jp(t){if(t!==vi)return!1;if(!Zt)return GA(t),Zt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!S1(t.type,t.memoizedProps)),e&&(e=mi)){if(T1(t))throw RF(),Error(pe(418));for(;e;)SF(t,e),e=Rl(e.nextSibling)}if(GA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mi=Rl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mi=null}}else mi=vi?Rl(t.stateNode.nextSibling):null;return!0}function RF(){for(var t=mi;t;)t=Rl(t.nextSibling)}function ad(){mi=vi=null,Zt=!1}function WT(t){bo===null?bo=[t]:bo.push(t)}var T5=Oa.ReactCurrentBatchConfig;function nf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,t))}return t}function Vp(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function KA(t){var e=t._init;return e(t._payload)}function EF(t){function e(p,m){if(t){var w=p.deletions;w===null?(p.deletions=[m],p.flags|=16):w.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=Ol(p,m),p.index=0,p.sibling=null,p}function o(p,m,w){return p.index=w,t?(w=p.alternate,w!==null?(w=w.index,w<m?(p.flags|=2,m):w):(p.flags|=2,m)):(p.flags|=1048576,m)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,w,C){return m===null||m.tag!==6?(m=c0(w,p.mode,C),m.return=p,m):(m=i(m,w),m.return=p,m)}function l(p,m,w,C){var S=w.type;return S===Oh?c(p,m,w.props.children,C,w.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Za&&KA(S)===m.type)?(C=i(m,w.props),C.ref=nf(p,m,w),C.return=p,C):(C=Xy(w.type,w.key,w.props,null,p.mode,C),C.ref=nf(p,m,w),C.return=p,C)}function u(p,m,w,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=h0(w,p.mode,C),m.return=p,m):(m=i(m,w.children||[]),m.return=p,m)}function c(p,m,w,C,S){return m===null||m.tag!==7?(m=tc(w,p.mode,C,S),m.return=p,m):(m=i(m,w),m.return=p,m)}function h(p,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=c0(""+m,p.mode,w),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ap:return w=Xy(m.type,m.key,m.props,null,p.mode,w),w.ref=nf(p,null,m),w.return=p,w;case Th:return m=h0(m,p.mode,w),m.return=p,m;case Za:var C=m._init;return h(p,C(m._payload),w)}if(fg(m)||Zd(m))return m=tc(m,p.mode,w,null),m.return=p,m;Vp(p,m)}return null}function d(p,m,w,C){var S=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(p,m,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ap:return w.key===S?l(p,m,w,C):null;case Th:return w.key===S?u(p,m,w,C):null;case Za:return S=w._init,d(p,m,S(w._payload),C)}if(fg(w)||Zd(w))return S!==null?null:c(p,m,w,C,null);Vp(p,w)}return null}function f(p,m,w,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return p=p.get(w)||null,a(m,p,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ap:return p=p.get(C.key===null?w:C.key)||null,l(m,p,C,S);case Th:return p=p.get(C.key===null?w:C.key)||null,u(m,p,C,S);case Za:var x=C._init;return f(p,m,w,x(C._payload),S)}if(fg(C)||Zd(C))return p=p.get(w)||null,c(m,p,C,S,null);Vp(m,C)}return null}function g(p,m,w,C){for(var S=null,x=null,_=m,O=m=0,I=null;_!==null&&O<w.length;O++){_.index>O?(I=_,_=null):I=_.sibling;var T=d(p,_,w[O],C);if(T===null){_===null&&(_=I);break}t&&_&&T.alternate===null&&e(p,_),m=o(T,m,O),x===null?S=T:x.sibling=T,x=T,_=I}if(O===w.length)return n(p,_),Zt&&Hu(p,O),S;if(_===null){for(;O<w.length;O++)_=h(p,w[O],C),_!==null&&(m=o(_,m,O),x===null?S=_:x.sibling=_,x=_);return Zt&&Hu(p,O),S}for(_=r(p,_);O<w.length;O++)I=f(_,p,O,w[O],C),I!==null&&(t&&I.alternate!==null&&_.delete(I.key===null?O:I.key),m=o(I,m,O),x===null?S=I:x.sibling=I,x=I);return t&&_.forEach(function(P){return e(p,P)}),Zt&&Hu(p,O),S}function v(p,m,w,C){var S=Zd(w);if(typeof S!="function")throw Error(pe(150));if(w=S.call(w),w==null)throw Error(pe(151));for(var x=S=null,_=m,O=m=0,I=null,T=w.next();_!==null&&!T.done;O++,T=w.next()){_.index>O?(I=_,_=null):I=_.sibling;var P=d(p,_,T.value,C);if(P===null){_===null&&(_=I);break}t&&_&&P.alternate===null&&e(p,_),m=o(P,m,O),x===null?S=P:x.sibling=P,x=P,_=I}if(T.done)return n(p,_),Zt&&Hu(p,O),S;if(_===null){for(;!T.done;O++,T=w.next())T=h(p,T.value,C),T!==null&&(m=o(T,m,O),x===null?S=T:x.sibling=T,x=T);return Zt&&Hu(p,O),S}for(_=r(p,_);!T.done;O++,T=w.next())T=f(_,p,O,T.value,C),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?O:T.key),m=o(T,m,O),x===null?S=T:x.sibling=T,x=T);return t&&_.forEach(function(M){return e(p,M)}),Zt&&Hu(p,O),S}function y(p,m,w,C){if(typeof w=="object"&&w!==null&&w.type===Oh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ap:e:{for(var S=w.key,x=m;x!==null;){if(x.key===S){if(S=w.type,S===Oh){if(x.tag===7){n(p,x.sibling),m=i(x,w.props.children),m.return=p,p=m;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Za&&KA(S)===x.type){n(p,x.sibling),m=i(x,w.props),m.ref=nf(p,x,w),m.return=p,p=m;break e}n(p,x);break}else e(p,x);x=x.sibling}w.type===Oh?(m=tc(w.props.children,p.mode,C,w.key),m.return=p,p=m):(C=Xy(w.type,w.key,w.props,null,p.mode,C),C.ref=nf(p,m,w),C.return=p,p=C)}return s(p);case Th:e:{for(x=w.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(p,m.sibling),m=i(m,w.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=h0(w,p.mode,C),m.return=p,p=m}return s(p);case Za:return x=w._init,y(p,m,x(w._payload),C)}if(fg(w))return g(p,m,w,C);if(Zd(w))return v(p,m,w,C);Vp(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,w),m.return=p,p=m):(n(p,m),m=c0(w,p.mode,C),m.return=p,p=m),s(p)):n(p,m)}return y}var ld=EF(!0),_F=EF(!1),Bw=Bl(null),jw=null,Hh=null,UT=null;function zT(){UT=Hh=jw=null}function YT(t){var e=Bw.current;zt(Bw),t._currentValue=e}function x1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qh(t,e){jw=t,UT=Hh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zr=!0),t.firstContext=null)}function Yi(t){var e=t._currentValue;if(UT!==t)if(t={context:t,memoizedValue:e,next:null},Hh===null){if(jw===null)throw Error(pe(308));Hh=t,jw.dependencies={lanes:0,firstContext:t}}else Hh=Hh.next=t;return e}var Wu=null;function GT(t){Wu===null?Wu=[t]:Wu.push(t)}function TF(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,GT(e)):(n.next=i.next,i.next=n),e.interleaved=n,ba(t,r)}function ba(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qa=!1;function KT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function El(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,gt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ba(t,n)}return i=r.interleaved,i===null?(e.next=e,GT(r)):(e.next=i.next,i.next=e),r.interleaved=e,ba(t,n)}function Uy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,NT(t,n)}}function qA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vw(t,e,n,r){var i=t.updateQueue;Qa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(d=e,f=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(f,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break e;h=un({},h,d);break e;case 2:Qa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);lc|=s,t.lanes=s,t.memoizedState=h}}function XA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var Km={},Ts=Bl(Km),fm=Bl(Km),gm=Bl(Km);function Uu(t){if(t===Km)throw Error(pe(174));return t}function qT(t,e){switch(Lt(gm,e),Lt(fm,t),Lt(Ts,Km),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:l1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=l1(e,t)}zt(Ts),Lt(Ts,e)}function ud(){zt(Ts),zt(fm),zt(gm)}function xF(t){Uu(gm.current);var e=Uu(Ts.current),n=l1(e,t.type);e!==n&&(Lt(fm,t),Lt(Ts,n))}function XT(t){fm.current===t&&(zt(Ts),zt(fm))}var rn=Bl(0);function Ww(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var i0=[];function ZT(){for(var t=0;t<i0.length;t++)i0[t]._workInProgressVersionPrimary=null;i0.length=0}var zy=Oa.ReactCurrentDispatcher,o0=Oa.ReactCurrentBatchConfig,ac=0,ln=null,Dn=null,Wn=null,Uw=!1,Tg=!1,mm=0,O5=0;function sr(){throw Error(pe(321))}function QT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Po(t[n],e[n]))return!1;return!0}function JT(t,e,n,r,i,o){if(ac=o,ln=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zy.current=t===null||t.memoizedState===null?A5:I5,t=n(r,i),Tg){o=0;do{if(Tg=!1,mm=0,25<=o)throw Error(pe(301));o+=1,Wn=Dn=null,e.updateQueue=null,zy.current=N5,t=n(r,i)}while(Tg)}if(zy.current=zw,e=Dn!==null&&Dn.next!==null,ac=0,Wn=Dn=ln=null,Uw=!1,e)throw Error(pe(300));return t}function eO(){var t=mm!==0;return mm=0,t}function hs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?ln.memoizedState=Wn=t:Wn=Wn.next=t,Wn}function Gi(){if(Dn===null){var t=ln.alternate;t=t!==null?t.memoizedState:null}else t=Dn.next;var e=Wn===null?ln.memoizedState:Wn.next;if(e!==null)Wn=e,Dn=t;else{if(t===null)throw Error(pe(310));Dn=t,t={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Wn===null?ln.memoizedState=Wn=t:Wn=Wn.next=t}return Wn}function pm(t,e){return typeof e=="function"?e(t):e}function s0(t){var e=Gi(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=Dn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((ac&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,ln.lanes|=c,lc|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Po(r,e.memoizedState)||(Zr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ln.lanes|=o,lc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function a0(t){var e=Gi(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Po(o,e.memoizedState)||(Zr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function PF(){}function MF(t,e){var n=ln,r=Gi(),i=e(),o=!Po(r.memoizedState,i);if(o&&(r.memoizedState=i,Zr=!0),r=r.queue,tO(NF.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Wn!==null&&Wn.memoizedState.tag&1){if(n.flags|=2048,vm(9,IF.bind(null,n,r,i,e),void 0,null),Yn===null)throw Error(pe(349));ac&30||AF(n,e,i)}return i}function AF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IF(t,e,n,r){e.value=n,e.getSnapshot=r,kF(e)&&HF(t)}function NF(t,e,n){return n(function(){kF(e)&&HF(t)})}function kF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Po(t,n)}catch{return!0}}function HF(t){var e=ba(t,1);e!==null&&To(e,t,1,-1)}function ZA(t){var e=hs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pm,lastRenderedState:t},e.queue=t,t=t.dispatch=M5.bind(null,ln,t),[e.memoizedState,t]}function vm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DF(){return Gi().memoizedState}function Yy(t,e,n,r){var i=hs();ln.flags|=t,i.memoizedState=vm(1|e,n,void 0,r===void 0?null:r)}function fb(t,e,n,r){var i=Gi();r=r===void 0?null:r;var o=void 0;if(Dn!==null){var s=Dn.memoizedState;if(o=s.destroy,r!==null&&QT(r,s.deps)){i.memoizedState=vm(e,n,o,r);return}}ln.flags|=t,i.memoizedState=vm(1|e,n,o,r)}function QA(t,e){return Yy(8390656,8,t,e)}function tO(t,e){return fb(2048,8,t,e)}function LF(t,e){return fb(4,2,t,e)}function $F(t,e){return fb(4,4,t,e)}function FF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BF(t,e,n){return n=n!=null?n.concat([t]):null,fb(4,4,FF.bind(null,e,t),n)}function nO(){}function jF(t,e){var n=Gi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&QT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VF(t,e){var n=Gi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&QT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WF(t,e,n){return ac&21?(Po(n,e)||(n=K$(),ln.lanes|=n,lc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zr=!0),t.memoizedState=n)}function x5(t,e){var n=Ot;Ot=n!==0&&4>n?n:4,t(!0);var r=o0.transition;o0.transition={};try{t(!1),e()}finally{Ot=n,o0.transition=r}}function UF(){return Gi().memoizedState}function P5(t,e,n){var r=Tl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zF(t))YF(e,n);else if(n=TF(t,e,n,r),n!==null){var i=Pr();To(n,t,r,i),GF(n,e,r)}}function M5(t,e,n){var r=Tl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zF(t))YF(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Po(a,s)){var l=e.interleaved;l===null?(i.next=i,GT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=TF(t,e,i,r),n!==null&&(i=Pr(),To(n,t,r,i),GF(n,e,r))}}function zF(t){var e=t.alternate;return t===ln||e!==null&&e===ln}function YF(t,e){Tg=Uw=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,NT(t,n)}}var zw={readContext:Yi,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},A5={readContext:Yi,useCallback:function(t,e){return hs().memoizedState=[t,e===void 0?null:e],t},useContext:Yi,useEffect:QA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Yy(4194308,4,FF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yy(4,2,t,e)},useMemo:function(t,e){var n=hs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=P5.bind(null,ln,t),[r.memoizedState,t]},useRef:function(t){var e=hs();return t={current:t},e.memoizedState=t},useState:ZA,useDebugValue:nO,useDeferredValue:function(t){return hs().memoizedState=t},useTransition:function(){var t=ZA(!1),e=t[0];return t=x5.bind(null,t[1]),hs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ln,i=hs();if(Zt){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=e(),Yn===null)throw Error(pe(349));ac&30||AF(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,QA(NF.bind(null,r,o,t),[t]),r.flags|=2048,vm(9,IF.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=hs(),e=Yn.identifierPrefix;if(Zt){var n=ua,r=la;n=(r&~(1<<32-_o(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=O5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},I5={readContext:Yi,useCallback:jF,useContext:Yi,useEffect:tO,useImperativeHandle:BF,useInsertionEffect:LF,useLayoutEffect:$F,useMemo:VF,useReducer:s0,useRef:DF,useState:function(){return s0(pm)},useDebugValue:nO,useDeferredValue:function(t){var e=Gi();return WF(e,Dn.memoizedState,t)},useTransition:function(){var t=s0(pm)[0],e=Gi().memoizedState;return[t,e]},useMutableSource:PF,useSyncExternalStore:MF,useId:UF,unstable_isNewReconciler:!1},N5={readContext:Yi,useCallback:jF,useContext:Yi,useEffect:tO,useImperativeHandle:BF,useInsertionEffect:LF,useLayoutEffect:$F,useMemo:VF,useReducer:a0,useRef:DF,useState:function(){return a0(pm)},useDebugValue:nO,useDeferredValue:function(t){var e=Gi();return Dn===null?e.memoizedState=t:WF(e,Dn.memoizedState,t)},useTransition:function(){var t=a0(pm)[0],e=Gi().memoizedState;return[t,e]},useMutableSource:PF,useSyncExternalStore:MF,useId:UF,unstable_isNewReconciler:!1};function yo(t,e){if(t&&t.defaultProps){e=un({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function P1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:un({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gb={isMounted:function(t){return(t=t._reactInternals)?bc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pr(),i=Tl(t),o=pa(r,i);o.payload=e,n!=null&&(o.callback=n),e=El(t,o,i),e!==null&&(To(e,t,i,r),Uy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pr(),i=Tl(t),o=pa(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=El(t,o,i),e!==null&&(To(e,t,i,r),Uy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pr(),r=Tl(t),i=pa(n,r);i.tag=2,e!=null&&(i.callback=e),e=El(t,i,r),e!==null&&(To(e,t,r,n),Uy(e,t,r))}};function JA(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!um(n,r)||!um(i,o):!0}function KF(t,e,n){var r=!1,i=Hl,o=e.contextType;return typeof o=="object"&&o!==null?o=Yi(o):(i=Jr(e)?oc:vr.current,r=e.contextTypes,o=(r=r!=null)?sd(t,i):Hl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gb,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function eI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gb.enqueueReplaceState(e,e.state,null)}function M1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},KT(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Yi(o):(o=Jr(e)?oc:vr.current,i.context=sd(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(P1(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gb.enqueueReplaceState(i,i.state,null),Vw(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cd(t,e){try{var n="",r=e;do n+=a4(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function l0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function A1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var k5=typeof WeakMap=="function"?WeakMap:Map;function qF(t,e,n){n=pa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gw||(Gw=!0,j1=r),A1(t,e)},n}function XF(t,e,n){n=pa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){A1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){A1(t,e),typeof r!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function tI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new k5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=K5.bind(null,t,e,n),e.then(t,t))}function nI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pa(-1,1),e.tag=2,El(n,e,1))),n.lanes|=1),t)}var H5=Oa.ReactCurrentOwner,Zr=!1;function Er(t,e,n,r){e.child=t===null?_F(e,null,n,r):ld(e,t.child,n,r)}function iI(t,e,n,r,i){n=n.render;var o=e.ref;return qh(e,i),r=JT(t,e,n,r,o,i),n=eO(),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sa(t,e,i)):(Zt&&n&&jT(e),e.flags|=1,Er(t,e,r,i),e.child)}function oI(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!cO(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ZF(t,e,o,r,i)):(t=Xy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:um,n(s,r)&&t.ref===e.ref)return Sa(t,e,i)}return e.flags|=1,t=Ol(o,r),t.ref=e.ref,t.return=e,e.child=t}function ZF(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(um(o,r)&&t.ref===e.ref)if(Zr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Zr=!0);else return e.lanes=t.lanes,Sa(t,e,i)}return I1(t,e,n,r,i)}function QF(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(Lh,di),di|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Lt(Lh,di),di|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Lt(Lh,di),di|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Lt(Lh,di),di|=r;return Er(t,e,i,n),e.child}function JF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function I1(t,e,n,r,i){var o=Jr(n)?oc:vr.current;return o=sd(e,o),qh(e,i),n=JT(t,e,n,r,o,i),r=eO(),t!==null&&!Zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sa(t,e,i)):(Zt&&r&&jT(e),e.flags|=1,Er(t,e,n,i),e.child)}function sI(t,e,n,r,i){if(Jr(n)){var o=!0;Lw(e)}else o=!1;if(qh(e,i),e.stateNode===null)Gy(t,e),KF(e,n,r),M1(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yi(u):(u=Jr(n)?oc:vr.current,u=sd(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&eI(e,s,r,u),Qa=!1;var d=e.memoizedState;s.state=d,Vw(e,r,s,i),l=e.memoizedState,a!==r||d!==l||Qr.current||Qa?(typeof c=="function"&&(P1(e,n,c,r),l=e.memoizedState),(a=Qa||JA(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,OF(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:yo(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yi(l):(l=Jr(n)?oc:vr.current,l=sd(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&eI(e,s,r,l),Qa=!1,d=e.memoizedState,s.state=d,Vw(e,r,s,i);var g=e.memoizedState;a!==h||d!==g||Qr.current||Qa?(typeof f=="function"&&(P1(e,n,f,r),g=e.memoizedState),(u=Qa||JA(e,n,u,r,d,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return N1(t,e,n,r,o,i)}function N1(t,e,n,r,i,o){JF(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&zA(e,n,!1),Sa(t,e,o);r=e.stateNode,H5.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ld(e,t.child,null,o),e.child=ld(e,null,a,o)):Er(t,e,a,o),e.memoizedState=r.state,i&&zA(e,n,!0),e.child}function e2(t){var e=t.stateNode;e.pendingContext?UA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&UA(t,e.context,!1),qT(t,e.containerInfo)}function aI(t,e,n,r,i){return ad(),WT(i),e.flags|=256,Er(t,e,n,r),e.child}var k1={dehydrated:null,treeContext:null,retryLane:0};function H1(t){return{baseLanes:t,cachePool:null,transitions:null}}function t2(t,e,n){var r=e.pendingProps,i=rn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Lt(rn,i&1),t===null)return O1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=vb(s,r,0,null),t=tc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=H1(n),e.memoizedState=k1,t):rO(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return D5(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ol(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ol(a,o):(o=tc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?H1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=k1,r}return o=t.child,t=o.sibling,r=Ol(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rO(t,e){return e=vb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wp(t,e,n,r){return r!==null&&WT(r),ld(e,t.child,null,n),t=rO(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function D5(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=l0(Error(pe(422))),Wp(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=vb({mode:"visible",children:r.children},i,0,null),o=tc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ld(e,t.child,null,s),e.child.memoizedState=H1(s),e.memoizedState=k1,o);if(!(e.mode&1))return Wp(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(pe(419)),r=l0(o,r,void 0),Wp(t,e,s,r)}if(a=(s&t.childLanes)!==0,Zr||a){if(r=Yn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ba(t,i),To(r,t,i,-1))}return uO(),r=l0(Error(pe(421))),Wp(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=q5.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,mi=Rl(i.nextSibling),vi=e,Zt=!0,bo=null,t!==null&&($i[Fi++]=la,$i[Fi++]=ua,$i[Fi++]=sc,la=t.id,ua=t.overflow,sc=e),e=rO(e,r.children),e.flags|=4096,e)}function lI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),x1(t.return,e,n)}function u0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function n2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Er(t,e,r.children,n),r=rn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lI(t,n,e);else if(t.tag===19)lI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Lt(rn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ww(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),u0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ww(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}u0(e,!0,n,null,o);break;case"together":u0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),lc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,n=Ol(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ol(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function L5(t,e,n){switch(e.tag){case 3:e2(e),ad();break;case 5:xF(e);break;case 1:Jr(e.type)&&Lw(e);break;case 4:qT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Lt(Bw,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Lt(rn,rn.current&1),e.flags|=128,null):n&e.child.childLanes?t2(t,e,n):(Lt(rn,rn.current&1),t=Sa(t,e,n),t!==null?t.sibling:null);Lt(rn,rn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return n2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Lt(rn,rn.current),r)break;return null;case 22:case 23:return e.lanes=0,QF(t,e,n)}return Sa(t,e,n)}var r2,D1,i2,o2;r2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};D1=function(){};i2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Uu(Ts.current);var o=null;switch(n){case"input":i=i1(t,i),r=i1(t,r),o=[];break;case"select":i=un({},i,{value:void 0}),r=un({},r,{value:void 0}),o=[];break;case"textarea":i=a1(t,i),r=a1(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hw)}u1(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nm.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Wt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};o2=function(t,e,n,r){n!==r&&(e.flags|=4)};function rf(t,e){if(!Zt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ar(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $5(t,e,n){var r=e.pendingProps;switch(VT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ar(e),null;case 1:return Jr(e.type)&&Dw(),ar(e),null;case 3:return r=e.stateNode,ud(),zt(Qr),zt(vr),ZT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bo!==null&&(U1(bo),bo=null))),D1(t,e),ar(e),null;case 5:XT(e);var i=Uu(gm.current);if(n=e.type,t!==null&&e.stateNode!=null)i2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return ar(e),null}if(t=Uu(Ts.current),jp(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ys]=e,r[dm]=o,t=(e.mode&1)!==0,n){case"dialog":Wt("cancel",r),Wt("close",r);break;case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(i=0;i<mg.length;i++)Wt(mg[i],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"details":Wt("toggle",r);break;case"input":vA(r,o),Wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Wt("invalid",r);break;case"textarea":wA(r,o),Wt("invalid",r)}u1(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Bp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Bp(r.textContent,a,t),i=["children",""+a]):nm.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Wt("scroll",r)}switch(n){case"input":Ip(r),yA(r,o,!0);break;case"textarea":Ip(r),CA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hw)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=N$(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ys]=e,t[dm]=r,r2(t,e,!1,!1),e.stateNode=t;e:{switch(s=c1(n,r),n){case"dialog":Wt("cancel",t),Wt("close",t),i=r;break;case"iframe":case"object":case"embed":Wt("load",t),i=r;break;case"video":case"audio":for(i=0;i<mg.length;i++)Wt(mg[i],t);i=r;break;case"source":Wt("error",t),i=r;break;case"img":case"image":case"link":Wt("error",t),Wt("load",t),i=r;break;case"details":Wt("toggle",t),i=r;break;case"input":vA(t,r),i=i1(t,r),Wt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=un({},r,{value:void 0}),Wt("invalid",t);break;case"textarea":wA(t,r),i=a1(t,r),Wt("invalid",t);break;default:i=r}u1(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?D$(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&k$(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rm(t,l):typeof l=="number"&&rm(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(nm.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Wt("scroll",t):l!=null&&OT(t,o,l,s))}switch(n){case"input":Ip(t),yA(t,r,!1);break;case"textarea":Ip(t),CA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+kl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?zh(t,!!r.multiple,o,!1):r.defaultValue!=null&&zh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ar(e),null;case 6:if(t&&e.stateNode!=null)o2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(n=Uu(gm.current),Uu(Ts.current),jp(e)){if(r=e.stateNode,n=e.memoizedProps,r[ys]=e,(o=r.nodeValue!==n)&&(t=vi,t!==null))switch(t.tag){case 3:Bp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bp(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ys]=e,e.stateNode=r}return ar(e),null;case 13:if(zt(rn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Zt&&mi!==null&&e.mode&1&&!(e.flags&128))RF(),ad(),e.flags|=98560,o=!1;else if(o=jp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(pe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(pe(317));o[ys]=e}else ad(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ar(e),o=!1}else bo!==null&&(U1(bo),bo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rn.current&1?Ln===0&&(Ln=3):uO())),e.updateQueue!==null&&(e.flags|=4),ar(e),null);case 4:return ud(),D1(t,e),t===null&&cm(e.stateNode.containerInfo),ar(e),null;case 10:return YT(e.type._context),ar(e),null;case 17:return Jr(e.type)&&Dw(),ar(e),null;case 19:if(zt(rn),o=e.memoizedState,o===null)return ar(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)rf(o,!1);else{if(Ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ww(t),s!==null){for(e.flags|=128,rf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Lt(rn,rn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Cn()>hd&&(e.flags|=128,r=!0,rf(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ww(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Zt)return ar(e),null}else 2*Cn()-o.renderingStartTime>hd&&n!==1073741824&&(e.flags|=128,r=!0,rf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Cn(),e.sibling=null,n=rn.current,Lt(rn,r?n&1|2:n&1),e):(ar(e),null);case 22:case 23:return lO(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?di&1073741824&&(ar(e),e.subtreeFlags&6&&(e.flags|=8192)):ar(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function F5(t,e){switch(VT(e),e.tag){case 1:return Jr(e.type)&&Dw(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ud(),zt(Qr),zt(vr),ZT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return XT(e),null;case 13:if(zt(rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));ad()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zt(rn),null;case 4:return ud(),null;case 10:return YT(e.type._context),null;case 22:case 23:return lO(),null;case 24:return null;default:return null}}var Up=!1,fr=!1,B5=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Dh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mn(t,e,r)}else n.current=null}function L1(t,e,n){try{n()}catch(r){mn(t,e,r)}}var uI=!1;function j5(t,e){if(C1=Iw,t=cF(),BT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(b1={focusedElem:t,selectionRange:n},Iw=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){e=Me;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:yo(e.type,v),y);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(C){mn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}return g=uI,uI=!1,g}function Og(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&L1(e,n,o)}i=i.next}while(i!==r)}}function mb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function s2(t){var e=t.alternate;e!==null&&(t.alternate=null,s2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ys],delete e[dm],delete e[E1],delete e[R5],delete e[E5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a2(t){return t.tag===5||t.tag===3||t.tag===4}function cI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function F1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hw));else if(r!==4&&(t=t.child,t!==null))for(F1(t,e,n),t=t.sibling;t!==null;)F1(t,e,n),t=t.sibling}function B1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(B1(t,e,n),t=t.sibling;t!==null;)B1(t,e,n),t=t.sibling}var Qn=null,wo=!1;function Ha(t,e,n){for(n=n.child;n!==null;)l2(t,e,n),n=n.sibling}function l2(t,e,n){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(ab,n)}catch{}switch(n.tag){case 5:fr||Dh(n,e);case 6:var r=Qn,i=wo;Qn=null,Ha(t,e,n),Qn=r,wo=i,Qn!==null&&(wo?(t=Qn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qn.removeChild(n.stateNode));break;case 18:Qn!==null&&(wo?(t=Qn,n=n.stateNode,t.nodeType===8?n0(t.parentNode,n):t.nodeType===1&&n0(t,n),am(t)):n0(Qn,n.stateNode));break;case 4:r=Qn,i=wo,Qn=n.stateNode.containerInfo,wo=!0,Ha(t,e,n),Qn=r,wo=i;break;case 0:case 11:case 14:case 15:if(!fr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&L1(n,e,s),i=i.next}while(i!==r)}Ha(t,e,n);break;case 1:if(!fr&&(Dh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){mn(n,e,a)}Ha(t,e,n);break;case 21:Ha(t,e,n);break;case 22:n.mode&1?(fr=(r=fr)||n.memoizedState!==null,Ha(t,e,n),fr=r):Ha(t,e,n);break;default:Ha(t,e,n)}}function hI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new B5),e.forEach(function(r){var i=X5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ji(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Qn=a.stateNode,wo=!1;break e;case 3:Qn=a.stateNode.containerInfo,wo=!0;break e;case 4:Qn=a.stateNode.containerInfo,wo=!0;break e}a=a.return}if(Qn===null)throw Error(pe(160));l2(o,s,i),Qn=null,wo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){mn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)u2(e,t),e=e.sibling}function u2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ji(e,t),Vo(t),r&4){try{Og(3,t,t.return),mb(3,t)}catch(v){mn(t,t.return,v)}try{Og(5,t,t.return)}catch(v){mn(t,t.return,v)}}break;case 1:Ji(e,t),Vo(t),r&512&&n!==null&&Dh(n,n.return);break;case 5:if(Ji(e,t),Vo(t),r&512&&n!==null&&Dh(n,n.return),t.flags&32){var i=t.stateNode;try{rm(i,"")}catch(v){mn(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&A$(i,o),c1(a,s);var u=c1(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?D$(i,h):c==="dangerouslySetInnerHTML"?k$(i,h):c==="children"?rm(i,h):OT(i,c,h,u)}switch(a){case"input":o1(i,o);break;case"textarea":I$(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?zh(i,!!o.multiple,f,!1):d!==!!o.multiple&&(o.defaultValue!=null?zh(i,!!o.multiple,o.defaultValue,!0):zh(i,!!o.multiple,o.multiple?[]:"",!1))}i[dm]=o}catch(v){mn(t,t.return,v)}}break;case 6:if(Ji(e,t),Vo(t),r&4){if(t.stateNode===null)throw Error(pe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){mn(t,t.return,v)}}break;case 3:if(Ji(e,t),Vo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{am(e.containerInfo)}catch(v){mn(t,t.return,v)}break;case 4:Ji(e,t),Vo(t);break;case 13:Ji(e,t),Vo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(sO=Cn())),r&4&&hI(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(fr=(u=fr)||c,Ji(e,t),fr=u):Ji(e,t),Vo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Me=t,c=t.child;c!==null;){for(h=Me=c;Me!==null;){switch(d=Me,f=d.child,d.tag){case 0:case 11:case 14:case 15:Og(4,d,d.return);break;case 1:Dh(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){mn(r,n,v)}}break;case 5:Dh(d,d.return);break;case 22:if(d.memoizedState!==null){fI(h);continue}}f!==null?(f.return=d,Me=f):fI(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=H$("display",s))}catch(v){mn(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){mn(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ji(e,t),Vo(t),r&4&&hI(t);break;case 21:break;default:Ji(e,t),Vo(t)}}function Vo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(a2(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rm(i,""),r.flags&=-33);var o=cI(t);B1(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=cI(t);F1(t,a,s);break;default:throw Error(pe(161))}}catch(l){mn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function V5(t,e,n){Me=t,c2(t)}function c2(t,e,n){for(var r=(t.mode&1)!==0;Me!==null;){var i=Me,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Up;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||fr;a=Up;var u=fr;if(Up=s,(fr=l)&&!u)for(Me=i;Me!==null;)s=Me,l=s.child,s.tag===22&&s.memoizedState!==null?gI(i):l!==null?(l.return=s,Me=l):gI(i);for(;o!==null;)Me=o,c2(o),o=o.sibling;Me=i,Up=a,fr=u}dI(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Me=o):dI(t)}}function dI(t){for(;Me!==null;){var e=Me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fr||mb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&XA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}XA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&am(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}fr||e.flags&512&&$1(e)}catch(d){mn(e,e.return,d)}}if(e===t){Me=null;break}if(n=e.sibling,n!==null){n.return=e.return,Me=n;break}Me=e.return}}function fI(t){for(;Me!==null;){var e=Me;if(e===t){Me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Me=n;break}Me=e.return}}function gI(t){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mb(4,e)}catch(l){mn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){mn(e,i,l)}}var o=e.return;try{$1(e)}catch(l){mn(e,o,l)}break;case 5:var s=e.return;try{$1(e)}catch(l){mn(e,s,l)}}}catch(l){mn(e,e.return,l)}if(e===t){Me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Me=a;break}Me=e.return}}var W5=Math.ceil,Yw=Oa.ReactCurrentDispatcher,iO=Oa.ReactCurrentOwner,Ui=Oa.ReactCurrentBatchConfig,gt=0,Yn=null,On=null,er=0,di=0,Lh=Bl(0),Ln=0,ym=null,lc=0,pb=0,oO=0,xg=null,Xr=null,sO=0,hd=1/0,ea=null,Gw=!1,j1=null,_l=null,zp=!1,hl=null,Kw=0,Pg=0,V1=null,Ky=-1,qy=0;function Pr(){return gt&6?Cn():Ky!==-1?Ky:Ky=Cn()}function Tl(t){return t.mode&1?gt&2&&er!==0?er&-er:T5.transition!==null?(qy===0&&(qy=K$()),qy):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:tF(t.type)),t):1}function To(t,e,n,r){if(50<Pg)throw Pg=0,V1=null,Error(pe(185));zm(t,n,r),(!(gt&2)||t!==Yn)&&(t===Yn&&(!(gt&2)&&(pb|=n),Ln===4&&ol(t,er)),ei(t,r),n===1&&gt===0&&!(e.mode&1)&&(hd=Cn()+500,db&&jl()))}function ei(t,e){var n=t.callbackNode;T4(t,e);var r=Aw(t,t===Yn?er:0);if(r===0)n!==null&&RA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&RA(n),e===1)t.tag===0?_5(mI.bind(null,t)):CF(mI.bind(null,t)),b5(function(){!(gt&6)&&jl()}),n=null;else{switch(q$(r)){case 1:n=IT;break;case 4:n=Y$;break;case 16:n=Mw;break;case 536870912:n=G$;break;default:n=Mw}n=y2(n,h2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h2(t,e){if(Ky=-1,qy=0,gt&6)throw Error(pe(327));var n=t.callbackNode;if(Xh()&&t.callbackNode!==n)return null;var r=Aw(t,t===Yn?er:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qw(t,r);else{e=r;var i=gt;gt|=2;var o=f2();(Yn!==t||er!==e)&&(ea=null,hd=Cn()+500,ec(t,e));do try{Y5();break}catch(a){d2(t,a)}while(!0);zT(),Yw.current=o,gt=i,On!==null?e=0:(Yn=null,er=0,e=Ln)}if(e!==0){if(e===2&&(i=m1(t),i!==0&&(r=i,e=W1(t,i))),e===1)throw n=ym,ec(t,0),ol(t,r),ei(t,Cn()),n;if(e===6)ol(t,r);else{if(i=t.current.alternate,!(r&30)&&!U5(i)&&(e=qw(t,r),e===2&&(o=m1(t),o!==0&&(r=o,e=W1(t,o))),e===1))throw n=ym,ec(t,0),ol(t,r),ei(t,Cn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:Du(t,Xr,ea);break;case 3:if(ol(t,r),(r&130023424)===r&&(e=sO+500-Cn(),10<e)){if(Aw(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=R1(Du.bind(null,t,Xr,ea),e);break}Du(t,Xr,ea);break;case 4:if(ol(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-_o(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*W5(r/1960))-r,10<r){t.timeoutHandle=R1(Du.bind(null,t,Xr,ea),r);break}Du(t,Xr,ea);break;case 5:Du(t,Xr,ea);break;default:throw Error(pe(329))}}}return ei(t,Cn()),t.callbackNode===n?h2.bind(null,t):null}function W1(t,e){var n=xg;return t.current.memoizedState.isDehydrated&&(ec(t,e).flags|=256),t=qw(t,e),t!==2&&(e=Xr,Xr=n,e!==null&&U1(e)),t}function U1(t){Xr===null?Xr=t:Xr.push.apply(Xr,t)}function U5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Po(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ol(t,e){for(e&=~oO,e&=~pb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_o(e),r=1<<n;t[n]=-1,e&=~r}}function mI(t){if(gt&6)throw Error(pe(327));Xh();var e=Aw(t,0);if(!(e&1))return ei(t,Cn()),null;var n=qw(t,e);if(t.tag!==0&&n===2){var r=m1(t);r!==0&&(e=r,n=W1(t,r))}if(n===1)throw n=ym,ec(t,0),ol(t,e),ei(t,Cn()),n;if(n===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Du(t,Xr,ea),ei(t,Cn()),null}function aO(t,e){var n=gt;gt|=1;try{return t(e)}finally{gt=n,gt===0&&(hd=Cn()+500,db&&jl())}}function uc(t){hl!==null&&hl.tag===0&&!(gt&6)&&Xh();var e=gt;gt|=1;var n=Ui.transition,r=Ot;try{if(Ui.transition=null,Ot=1,t)return t()}finally{Ot=r,Ui.transition=n,gt=e,!(gt&6)&&jl()}}function lO(){di=Lh.current,zt(Lh)}function ec(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,C5(n)),On!==null)for(n=On.return;n!==null;){var r=n;switch(VT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dw();break;case 3:ud(),zt(Qr),zt(vr),ZT();break;case 5:XT(r);break;case 4:ud();break;case 13:zt(rn);break;case 19:zt(rn);break;case 10:YT(r.type._context);break;case 22:case 23:lO()}n=n.return}if(Yn=t,On=t=Ol(t.current,null),er=di=e,Ln=0,ym=null,oO=pb=lc=0,Xr=xg=null,Wu!==null){for(e=0;e<Wu.length;e++)if(n=Wu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Wu=null}return t}function d2(t,e){do{var n=On;try{if(zT(),zy.current=zw,Uw){for(var r=ln.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uw=!1}if(ac=0,Wn=Dn=ln=null,Tg=!1,mm=0,iO.current=null,n===null||n.return===null){Ln=1,ym=e,On=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=er,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=nI(s);if(f!==null){f.flags&=-257,rI(f,s,a,o,e),f.mode&1&&tI(o,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){tI(o,u,e),uO();break e}l=Error(pe(426))}}else if(Zt&&a.mode&1){var y=nI(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),rI(y,s,a,o,e),WT(cd(l,a));break e}}o=l=cd(l,a),Ln!==4&&(Ln=2),xg===null?xg=[o]:xg.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=qF(o,l,e);qA(o,p);break e;case 1:a=l;var m=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_l===null||!_l.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=XF(o,a,e);qA(o,C);break e}}o=o.return}while(o!==null)}m2(n)}catch(S){e=S,On===n&&n!==null&&(On=n=n.return);continue}break}while(!0)}function f2(){var t=Yw.current;return Yw.current=zw,t===null?zw:t}function uO(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),Yn===null||!(lc&268435455)&&!(pb&268435455)||ol(Yn,er)}function qw(t,e){var n=gt;gt|=2;var r=f2();(Yn!==t||er!==e)&&(ea=null,ec(t,e));do try{z5();break}catch(i){d2(t,i)}while(!0);if(zT(),gt=n,Yw.current=r,On!==null)throw Error(pe(261));return Yn=null,er=0,Ln}function z5(){for(;On!==null;)g2(On)}function Y5(){for(;On!==null&&!v4();)g2(On)}function g2(t){var e=v2(t.alternate,t,di);t.memoizedProps=t.pendingProps,e===null?m2(t):On=e,iO.current=null}function m2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=F5(n,e),n!==null){n.flags&=32767,On=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ln=6,On=null;return}}else if(n=$5(n,e,di),n!==null){On=n;return}if(e=e.sibling,e!==null){On=e;return}On=e=t}while(e!==null);Ln===0&&(Ln=5)}function Du(t,e,n){var r=Ot,i=Ui.transition;try{Ui.transition=null,Ot=1,G5(t,e,n,r)}finally{Ui.transition=i,Ot=r}return null}function G5(t,e,n,r){do Xh();while(hl!==null);if(gt&6)throw Error(pe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(O4(t,o),t===Yn&&(On=Yn=null,er=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zp||(zp=!0,y2(Mw,function(){return Xh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ui.transition,Ui.transition=null;var s=Ot;Ot=1;var a=gt;gt|=4,iO.current=null,j5(t,n),u2(n,t),f5(b1),Iw=!!C1,b1=C1=null,t.current=n,V5(n),y4(),gt=a,Ot=s,Ui.transition=o}else t.current=n;if(zp&&(zp=!1,hl=t,Kw=i),o=t.pendingLanes,o===0&&(_l=null),b4(n.stateNode),ei(t,Cn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gw)throw Gw=!1,t=j1,j1=null,t;return Kw&1&&t.tag!==0&&Xh(),o=t.pendingLanes,o&1?t===V1?Pg++:(Pg=0,V1=t):Pg=0,jl(),null}function Xh(){if(hl!==null){var t=q$(Kw),e=Ui.transition,n=Ot;try{if(Ui.transition=null,Ot=16>t?16:t,hl===null)var r=!1;else{if(t=hl,hl=null,Kw=0,gt&6)throw Error(pe(331));var i=gt;for(gt|=4,Me=t.current;Me!==null;){var o=Me,s=o.child;if(Me.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Me=u;Me!==null;){var c=Me;switch(c.tag){case 0:case 11:case 15:Og(8,c,o)}var h=c.child;if(h!==null)h.return=c,Me=h;else for(;Me!==null;){c=Me;var d=c.sibling,f=c.return;if(s2(c),c===u){Me=null;break}if(d!==null){d.return=f,Me=d;break}Me=f}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Me=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Me=s;else e:for(;Me!==null;){if(o=Me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Og(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,Me=p;break e}Me=o.return}}var m=t.current;for(Me=m;Me!==null;){s=Me;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Me=w;else e:for(s=m;Me!==null;){if(a=Me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mb(9,a)}}catch(S){mn(a,a.return,S)}if(a===s){Me=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Me=C;break e}Me=a.return}}if(gt=i,jl(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(ab,t)}catch{}r=!0}return r}finally{Ot=n,Ui.transition=e}}return!1}function pI(t,e,n){e=cd(n,e),e=qF(t,e,1),t=El(t,e,1),e=Pr(),t!==null&&(zm(t,1,e),ei(t,e))}function mn(t,e,n){if(t.tag===3)pI(t,t,n);else for(;e!==null;){if(e.tag===3){pI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_l===null||!_l.has(r))){t=cd(n,t),t=XF(e,t,1),e=El(e,t,1),t=Pr(),e!==null&&(zm(e,1,t),ei(e,t));break}}e=e.return}}function K5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pr(),t.pingedLanes|=t.suspendedLanes&n,Yn===t&&(er&n)===n&&(Ln===4||Ln===3&&(er&130023424)===er&&500>Cn()-sO?ec(t,0):oO|=n),ei(t,e)}function p2(t,e){e===0&&(t.mode&1?(e=Hp,Hp<<=1,!(Hp&130023424)&&(Hp=4194304)):e=1);var n=Pr();t=ba(t,e),t!==null&&(zm(t,e,n),ei(t,n))}function q5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),p2(t,n)}function X5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),p2(t,n)}var v2;v2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qr.current)Zr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zr=!1,L5(t,e,n);Zr=!!(t.flags&131072)}else Zr=!1,Zt&&e.flags&1048576&&bF(e,Fw,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gy(t,e),t=e.pendingProps;var i=sd(e,vr.current);qh(e,n),i=JT(null,e,r,t,i,n);var o=eO();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jr(r)?(o=!0,Lw(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,KT(e),i.updater=gb,e.stateNode=i,i._reactInternals=e,M1(e,r,t,n),e=N1(null,e,r,!0,o,n)):(e.tag=0,Zt&&o&&jT(e),Er(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Q5(r),t=yo(r,t),i){case 0:e=I1(null,e,r,t,n);break e;case 1:e=sI(null,e,r,t,n);break e;case 11:e=iI(null,e,r,t,n);break e;case 14:e=oI(null,e,r,yo(r.type,t),n);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yo(r,i),I1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yo(r,i),sI(t,e,r,i,n);case 3:e:{if(e2(e),t===null)throw Error(pe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,OF(t,e),Vw(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=cd(Error(pe(423)),e),e=aI(t,e,r,n,i);break e}else if(r!==i){i=cd(Error(pe(424)),e),e=aI(t,e,r,n,i);break e}else for(mi=Rl(e.stateNode.containerInfo.firstChild),vi=e,Zt=!0,bo=null,n=_F(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ad(),r===i){e=Sa(t,e,n);break e}Er(t,e,r,n)}e=e.child}return e;case 5:return xF(e),t===null&&O1(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,S1(r,i)?s=null:o!==null&&S1(r,o)&&(e.flags|=32),JF(t,e),Er(t,e,s,n),e.child;case 6:return t===null&&O1(e),null;case 13:return t2(t,e,n);case 4:return qT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ld(e,null,r,n):Er(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yo(r,i),iI(t,e,r,i,n);case 7:return Er(t,e,e.pendingProps,n),e.child;case 8:return Er(t,e,e.pendingProps.children,n),e.child;case 12:return Er(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Lt(Bw,r._currentValue),r._currentValue=s,o!==null)if(Po(o.value,s)){if(o.children===i.children&&!Qr.current){e=Sa(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=pa(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),x1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(pe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),x1(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Er(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qh(e,n),i=Yi(i),r=r(i),e.flags|=1,Er(t,e,r,n),e.child;case 14:return r=e.type,i=yo(r,e.pendingProps),i=yo(r.type,i),oI(t,e,r,i,n);case 15:return ZF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:yo(r,i),Gy(t,e),e.tag=1,Jr(r)?(t=!0,Lw(e)):t=!1,qh(e,n),KF(e,r,i),M1(e,r,i,n),N1(null,e,r,!0,t,n);case 19:return n2(t,e,n);case 22:return QF(t,e,n)}throw Error(pe(156,e.tag))};function y2(t,e){return z$(t,e)}function Z5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(t,e,n,r){return new Z5(t,e,n,r)}function cO(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q5(t){if(typeof t=="function")return cO(t)?1:0;if(t!=null){if(t=t.$$typeof,t===PT)return 11;if(t===MT)return 14}return 2}function Ol(t,e){var n=t.alternate;return n===null?(n=Wi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xy(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")cO(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Oh:return tc(n.children,i,o,e);case xT:s=8,i|=8;break;case e1:return t=Wi(12,n,e,i|2),t.elementType=e1,t.lanes=o,t;case t1:return t=Wi(13,n,e,i),t.elementType=t1,t.lanes=o,t;case n1:return t=Wi(19,n,e,i),t.elementType=n1,t.lanes=o,t;case x$:return vb(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T$:s=10;break e;case O$:s=9;break e;case PT:s=11;break e;case MT:s=14;break e;case Za:s=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=Wi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function tc(t,e,n,r){return t=Wi(7,t,r,e),t.lanes=n,t}function vb(t,e,n,r){return t=Wi(22,t,r,e),t.elementType=x$,t.lanes=n,t.stateNode={isHidden:!1},t}function c0(t,e,n){return t=Wi(6,t,null,e),t.lanes=n,t}function h0(t,e,n){return e=Wi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function J5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zS(0),this.expirationTimes=zS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hO(t,e,n,r,i,o,s,a,l){return t=new J5(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Wi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},KT(o),t}function eY(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Th,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function w2(t){if(!t)return Hl;t=t._reactInternals;e:{if(bc(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var n=t.type;if(Jr(n))return wF(t,n,e)}return e}function C2(t,e,n,r,i,o,s,a,l){return t=hO(n,r,!0,t,i,o,s,a,l),t.context=w2(null),n=t.current,r=Pr(),i=Tl(n),o=pa(r,i),o.callback=e??null,El(n,o,i),t.current.lanes=i,zm(t,i,r),ei(t,r),t}function yb(t,e,n,r){var i=e.current,o=Pr(),s=Tl(i);return n=w2(n),e.context===null?e.context=n:e.pendingContext=n,e=pa(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=El(i,e,s),t!==null&&(To(t,i,s,o),Uy(t,i,s)),s}function Xw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dO(t,e){vI(t,e),(t=t.alternate)&&vI(t,e)}function tY(){return null}var b2=typeof reportError=="function"?reportError:function(t){console.error(t)};function fO(t){this._internalRoot=t}wb.prototype.render=fO.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));yb(t,e,null,null)};wb.prototype.unmount=fO.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;uc(function(){yb(null,t,null,null)}),e[Ca]=null}};function wb(t){this._internalRoot=t}wb.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q$();t={blockedOn:null,target:t,priority:e};for(var n=0;n<il.length&&e!==0&&e<il[n].priority;n++);il.splice(n,0,t),n===0&&eF(t)}};function gO(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yI(){}function nY(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Xw(s);o.call(u)}}var s=C2(e,r,t,0,null,!1,!1,"",yI);return t._reactRootContainer=s,t[Ca]=s.current,cm(t.nodeType===8?t.parentNode:t),uc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Xw(l);a.call(u)}}var l=hO(t,0,!1,null,null,!1,!1,"",yI);return t._reactRootContainer=l,t[Ca]=l.current,cm(t.nodeType===8?t.parentNode:t),uc(function(){yb(e,l,n,r)}),l}function bb(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Xw(s);a.call(l)}}yb(e,s,t,i)}else s=nY(n,e,t,i,r);return Xw(s)}X$=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gg(e.pendingLanes);n!==0&&(NT(e,n|1),ei(e,Cn()),!(gt&6)&&(hd=Cn()+500,jl()))}break;case 13:uc(function(){var r=ba(t,1);if(r!==null){var i=Pr();To(r,t,1,i)}}),dO(t,1)}};kT=function(t){if(t.tag===13){var e=ba(t,134217728);if(e!==null){var n=Pr();To(e,t,134217728,n)}dO(t,134217728)}};Z$=function(t){if(t.tag===13){var e=Tl(t),n=ba(t,e);if(n!==null){var r=Pr();To(n,t,e,r)}dO(t,e)}};Q$=function(){return Ot};J$=function(t,e){var n=Ot;try{return Ot=t,e()}finally{Ot=n}};d1=function(t,e,n){switch(e){case"input":if(o1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hb(r);if(!i)throw Error(pe(90));M$(r),o1(r,i)}}}break;case"textarea":I$(t,n);break;case"select":e=n.value,e!=null&&zh(t,!!n.multiple,e,!1)}};F$=aO;B$=uc;var rY={usingClientEntryPoint:!1,Events:[Gm,Ah,hb,L$,$$,aO]},of={findFiberByHostInstance:Vu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iY={bundleType:of.bundleType,version:of.version,rendererPackageName:of.rendererPackageName,rendererConfig:of.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=W$(t),t===null?null:t.stateNode},findFiberByHostInstance:of.findFiberByHostInstance||tY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{ab=Yp.inject(iY),_s=Yp}catch{}}wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rY;wi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gO(e))throw Error(pe(200));return eY(t,e,null,n)};wi.createRoot=function(t,e){if(!gO(t))throw Error(pe(299));var n=!1,r="",i=b2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hO(t,1,!1,null,null,n,!1,r,i),t[Ca]=e.current,cm(t.nodeType===8?t.parentNode:t),new fO(e)};wi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=W$(e),t=t===null?null:t.stateNode,t};wi.flushSync=function(t){return uc(t)};wi.hydrate=function(t,e,n){if(!Cb(e))throw Error(pe(200));return bb(null,t,e,!0,n)};wi.hydrateRoot=function(t,e,n){if(!gO(t))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=b2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=C2(e,null,t,1,n??null,i,!1,o,s),t[Ca]=e.current,cm(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wb(e)};wi.render=function(t,e,n){if(!Cb(e))throw Error(pe(200));return bb(null,t,e,!1,n)};wi.unmountComponentAtNode=function(t){if(!Cb(t))throw Error(pe(40));return t._reactRootContainer?(uc(function(){bb(null,null,t,!1,function(){t._reactRootContainer=null,t[Ca]=null})}),!0):!1};wi.unstable_batchedUpdates=aO;wi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cb(n))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return bb(t,e,n,!1,r)};wi.version="18.3.1-next-f1338f8080-20240426";function S2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S2)}catch(t){console.error(t)}}S2(),S$.exports=wi;var mO=S$.exports;const R2=Wm(mO);var wI=mO;QE.createRoot=wI.createRoot,QE.hydrateRoot=wI.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wm.apply(this,arguments)}var dl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dl||(dl={}));const CI="popstate";function oY(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return z1("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zw(i)}return aY(e,n,null,t)}function Sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pO(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sY(){return Math.random().toString(36).substr(2,8)}function bI(t,e){return{usr:t.state,key:t.key,idx:e}}function z1(t,e,n,r){return n===void 0&&(n=null),wm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Td(e):e,{state:n,key:e&&e.key||r||sY()})}function Zw(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Td(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function aY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=dl.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(wm({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=dl.Pop;let y=c(),p=y==null?null:y-u;u=y,l&&l({action:a,location:v.location,delta:p})}function d(y,p){a=dl.Push;let m=z1(v.location,y,p);u=c()+1;let w=bI(m,u),C=v.createHref(m);try{s.pushState(w,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}o&&l&&l({action:a,location:v.location,delta:1})}function f(y,p){a=dl.Replace;let m=z1(v.location,y,p);u=c();let w=bI(m,u),C=v.createHref(m);s.replaceState(w,"",C),o&&l&&l({action:a,location:v.location,delta:0})}function g(y){let p=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof y=="string"?y:Zw(y);return m=m.replace(/ $/,"%20"),Sn(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let v={get action(){return a},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(CI,h),l=y,()=>{i.removeEventListener(CI,h),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let p=g(y);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:f,go(y){return s.go(y)}};return v}var SI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(SI||(SI={}));function lY(t,e,n){return n===void 0&&(n="/"),uY(t,e,n)}function uY(t,e,n,r){let i=typeof e=="string"?Td(e):e,o=vO(i.pathname||"/",n);if(o==null)return null;let s=E2(t);cY(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=SY(o);a=wY(s[l],u)}return a}function E2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Sn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=xl([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Sn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),E2(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:vY(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of _2(o.path))i(o,s,l)}),e}function _2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=_2(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yY(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hY=/^:[\w-]+$/,dY=3,fY=2,gY=1,mY=10,pY=-2,RI=t=>t==="*";function vY(t,e){let n=t.split("/"),r=n.length;return n.some(RI)&&(r+=pY),e&&(r+=fY),n.filter(i=>!RI(i)).reduce((i,o)=>i+(hY.test(o)?dY:o===""?gY:mY),r)}function yY(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wY(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",h=CY({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:xl([o,h.pathname]),pathnameBase:OY(xl([o,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(o=xl([o,h.pathnameBase]))}return s}function CY(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bY(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let v=a[h]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[h];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function bY(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pO(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SY(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pO(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const RY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EY=t=>RY.test(t);function _Y(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Td(t):t,o;if(n)if(EY(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),pO(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=EI(n.substring(1),"/"):o=EI(n,e)}else o=e;return{pathname:o,search:xY(r),hash:PY(i)}}function EI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function d0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TY(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yO(t,e){let n=TY(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wO(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Td(t):(i=wm({},t),Sn(!i.pathname||!i.pathname.includes("?"),d0("?","pathname","search",i)),Sn(!i.pathname||!i.pathname.includes("#"),d0("#","pathname","hash",i)),Sn(!i.search||!i.search.includes("#"),d0("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=_Y(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const xl=t=>t.join("/").replace(/\/\/+/g,"/"),OY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const T2=["post","put","patch","delete"];new Set(T2);const AY=["get",...T2];new Set(AY);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cm.apply(this,arguments)}const CO=de.createContext(null),IY=de.createContext(null),Vl=de.createContext(null),Sb=de.createContext(null),As=de.createContext({outlet:null,matches:[],isDataRoute:!1}),O2=de.createContext(null);function NY(t,e){let{relative:n}=e===void 0?{}:e;Od()||Sn(!1);let{basename:r,navigator:i}=de.useContext(Vl),{hash:o,pathname:s,search:a}=M2(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:xl([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Od(){return de.useContext(Sb)!=null}function qm(){return Od()||Sn(!1),de.useContext(Sb).location}function x2(t){de.useContext(Vl).static||de.useLayoutEffect(t)}function xd(){let{isDataRoute:t}=de.useContext(As);return t?KY():kY()}function kY(){Od()||Sn(!1);let t=de.useContext(CO),{basename:e,future:n,navigator:r}=de.useContext(Vl),{matches:i}=de.useContext(As),{pathname:o}=qm(),s=JSON.stringify(yO(i,n.v7_relativeSplatPath)),a=de.useRef(!1);return x2(()=>{a.current=!0}),de.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=wO(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:xl([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,o,t])}const HY=de.createContext(null);function DY(t){let e=de.useContext(As).outlet;return e&&de.createElement(HY.Provider,{value:t},e)}function P2(){let{matches:t}=de.useContext(As),e=t[t.length-1];return e?e.params:{}}function M2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=de.useContext(Vl),{matches:i}=de.useContext(As),{pathname:o}=qm(),s=JSON.stringify(yO(i,r.v7_relativeSplatPath));return de.useMemo(()=>wO(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function LY(t,e){return $Y(t,e)}function $Y(t,e,n,r){Od()||Sn(!1);let{navigator:i}=de.useContext(Vl),{matches:o}=de.useContext(As),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=qm(),c;if(e){var h;let y=typeof e=="string"?Td(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Sn(!1),c=y}else c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=lY(t,{pathname:f}),v=WY(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:xl([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:xl([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&v?de.createElement(Sb.Provider,{value:{location:Cm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:dl.Pop}},v):v}function FY(){let t=GY(),e=MY(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),n?de.createElement("pre",{style:i},n):null,null)}const BY=de.createElement(FY,null);class jY extends de.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?de.createElement(As.Provider,{value:this.props.routeContext},de.createElement(O2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VY(t){let{routeContext:e,match:n,children:r}=t,i=de.useContext(CO);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),de.createElement(As.Provider,{value:e},r)}function WY(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||Sn(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:f}=n,g=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let f,g=!1,v=null,y=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||BY,l&&(u<0&&d===0?(qY("route-fallback"),g=!0,y=null):u===d&&(g=!0,y=h.route.hydrateFallbackElement||null)));let p=e.concat(s.slice(0,d+1)),m=()=>{let w;return f?w=v:g?w=y:h.route.Component?w=de.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=c,de.createElement(VY,{match:h,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?de.createElement(jY,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var A2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(A2||{}),I2=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(I2||{});function UY(t){let e=de.useContext(CO);return e||Sn(!1),e}function zY(t){let e=de.useContext(IY);return e||Sn(!1),e}function YY(t){let e=de.useContext(As);return e||Sn(!1),e}function N2(t){let e=YY(),n=e.matches[e.matches.length-1];return n.route.id||Sn(!1),n.route.id}function GY(){var t;let e=de.useContext(O2),n=zY(),r=N2();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KY(){let{router:t}=UY(A2.UseNavigateStable),e=N2(I2.UseNavigateStable),n=de.useRef(!1);return x2(()=>{n.current=!0}),de.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Cm({fromRouteId:e},o)))},[t,e])}const _I={};function qY(t,e,n){_I[t]||(_I[t]=!0)}function XY(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ZY(t){let{to:e,replace:n,state:r,relative:i}=t;Od()||Sn(!1);let{future:o,static:s}=de.useContext(Vl),{matches:a}=de.useContext(As),{pathname:l}=qm(),u=xd(),c=wO(e,yO(a,o.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return de.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function QY(t){return DY(t.context)}function Lu(t){Sn(!1)}function JY(t){let{basename:e="/",children:n=null,location:r,navigationType:i=dl.Pop,navigator:o,static:s=!1,future:a}=t;Od()&&Sn(!1);let l=e.replace(/^\/*/,"/"),u=de.useMemo(()=>({basename:l,navigator:o,static:s,future:Cm({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Td(r));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:g="default"}=r,v=de.useMemo(()=>{let y=vO(c,l);return y==null?null:{location:{pathname:y,search:h,hash:d,state:f,key:g},navigationType:i}},[l,c,h,d,f,g,i]);return v==null?null:de.createElement(Vl.Provider,{value:u},de.createElement(Sb.Provider,{children:n,value:v}))}function e6(t){let{children:e,location:n}=t;return LY(Y1(e),n)}new Promise(()=>{});function Y1(t,e){e===void 0&&(e=[]);let n=[];return de.Children.forEach(t,(r,i)=>{if(!de.isValidElement(r))return;let o=[...e,i];if(r.type===de.Fragment){n.push.apply(n,Y1(r.props.children,o));return}r.type!==Lu&&Sn(!1),!r.props.index||!r.props.children||Sn(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Y1(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G1.apply(this,arguments)}function t6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function n6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function r6(t,e){return t.button===0&&(!e||e==="_self")&&!n6(t)}const i6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],o6="6";try{window.__reactRouterVersion=o6}catch{}const s6="startTransition",TI=K3[s6];function a6(t){let{basename:e,children:n,future:r,window:i}=t,o=de.useRef();o.current==null&&(o.current=oY({window:i,v5Compat:!0}));let s=o.current,[a,l]=de.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=de.useCallback(h=>{u&&TI?TI(()=>l(h)):l(h)},[l,u]);return de.useLayoutEffect(()=>s.listen(c),[s,c]),de.useEffect(()=>XY(r),[r]),de.createElement(JY,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const l6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k2=de.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,d=t6(e,i6),{basename:f}=de.useContext(Vl),g,v=!1;if(typeof u=="string"&&u6.test(u)&&(g=u,l6))try{let w=new URL(window.location.href),C=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=vO(C.pathname,f);C.origin===w.origin&&S!=null?u=S+C.search+C.hash:v=!0}catch{}let y=NY(u,{relative:i}),p=c6(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:h});function m(w){r&&r(w),w.defaultPrevented||p(w)}return de.createElement("a",G1({},d,{href:g||y,onClick:v||o?r:m,ref:n,target:l}))});var OI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(OI||(OI={}));var xI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xI||(xI={}));function c6(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=xd(),u=qm(),c=M2(t,{relative:s});return de.useCallback(h=>{if(r6(h,n)){h.preventDefault();let d=r!==void 0?r:Zw(u)===Zw(c);l(t,{replace:d,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[u,l,c,r,i,n,t,o,s,a])}const h6={},PI=t=>{let e;const n=new Set,r=(c,h)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const f=e;e=h??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(g=>g(e,f))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(h6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},d6=t=>t?PI(t):PI;var H2={exports:{}},D2={},L2={exports:{}},$2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd=de;function f6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var g6=typeof Object.is=="function"?Object.is:f6,m6=dd.useState,p6=dd.useEffect,v6=dd.useLayoutEffect,y6=dd.useDebugValue;function w6(t,e){var n=e(),r=m6({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return v6(function(){i.value=n,i.getSnapshot=e,f0(i)&&o({inst:i})},[t,n,e]),p6(function(){return f0(i)&&o({inst:i}),t(function(){f0(i)&&o({inst:i})})},[t]),y6(n),n}function f0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!g6(t,n)}catch{return!0}}function C6(t,e){return e()}var b6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C6:w6;$2.useSyncExternalStore=dd.useSyncExternalStore!==void 0?dd.useSyncExternalStore:b6;L2.exports=$2;var S6=L2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb=de,R6=S6;function E6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _6=typeof Object.is=="function"?Object.is:E6,T6=R6.useSyncExternalStore,O6=Rb.useRef,x6=Rb.useEffect,P6=Rb.useMemo,M6=Rb.useDebugValue;D2.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=O6(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=P6(function(){function l(f){if(!u){if(u=!0,c=f,f=r(f),i!==void 0&&s.hasValue){var g=s.value;if(i(g,f))return h=g}return h=f}if(g=h,_6(c,f))return g;var v=r(f);return i!==void 0&&i(g,v)?(c=f,g):(c=f,h=v)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=T6(t,o[0],o[1]);return x6(function(){s.hasValue=!0,s.value=a},[a]),M6(a),a};H2.exports=D2;var A6=H2.exports;const I6=Wm(A6),F2={},{useDebugValue:N6}=Dt,{useSyncExternalStoreWithSelector:k6}=I6;let MI=!1;const H6=t=>t;function D6(t,e=H6,n){(F2?"production":void 0)!=="production"&&n&&!MI&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),MI=!0);const r=k6(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return N6(r),r}const AI=t=>{(F2?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?d6(t):t,n=(r,i)=>D6(e,r,i);return Object.assign(n,e),n},B2=t=>t?AI(t):AI,Eb=B2(t=>({user:null,isLoading:!1,error:null,setUser:e=>t({user:e}),setLoading:e=>t({isLoading:e}),setError:e=>t({error:e})})),L6=B2(t=>({notifications:[],unreadCount:0,addNotification:e=>t(n=>({notifications:[e,...n.notifications],unreadCount:n.unreadCount+(e.read?0:1)})),markAsRead:e=>t(n=>({notifications:n.notifications.map(r=>r.id===e?{...r,read:!0}:r),unreadCount:Math.max(0,n.unreadCount-1)}))}));function j2(t,e){return function(){return t.apply(e,arguments)}}const{toString:$6}=Object.prototype,{getPrototypeOf:bO}=Object,{iterator:_b,toStringTag:V2}=Symbol,Tb=(t=>e=>{const n=$6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ko=t=>(t=t.toLowerCase(),e=>Tb(e)===t),Ob=t=>e=>typeof e===t,{isArray:Pd}=Array,fd=Ob("undefined");function Xm(t){return t!==null&&!fd(t)&&t.constructor!==null&&!fd(t.constructor)&&ti(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const W2=ko("ArrayBuffer");function F6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&W2(t.buffer),e}const B6=Ob("string"),ti=Ob("function"),U2=Ob("number"),Zm=t=>t!==null&&typeof t=="object",j6=t=>t===!0||t===!1,Zy=t=>{if(Tb(t)!=="object")return!1;const e=bO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(V2 in t)&&!(_b in t)},V6=t=>{if(!Zm(t)||Xm(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},W6=ko("Date"),U6=ko("File"),z6=ko("Blob"),Y6=ko("FileList"),G6=t=>Zm(t)&&ti(t.pipe),K6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ti(t.append)&&((e=Tb(t))==="formdata"||e==="object"&&ti(t.toString)&&t.toString()==="[object FormData]"))},q6=ko("URLSearchParams"),[X6,Z6,Q6,J6]=["ReadableStream","Request","Response","Headers"].map(ko),eG=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qm(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Pd(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Xm(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function z2(t,e){if(Xm(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const zu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Y2=t=>!fd(t)&&t!==zu;function K1(){const{caseless:t,skipUndefined:e}=Y2(this)&&this||{},n={},r=(i,o)=>{const s=t&&z2(n,o)||o;Zy(n[s])&&Zy(i)?n[s]=K1(n[s],i):Zy(i)?n[s]=K1({},i):Pd(i)?n[s]=i.slice():(!e||!fd(i))&&(n[s]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Qm(arguments[i],r);return n}const tG=(t,e,n,{allOwnKeys:r}={})=>(Qm(e,(i,o)=>{n&&ti(i)?t[o]=j2(i,n):t[o]=i},{allOwnKeys:r}),t),nG=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),rG=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},iG=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&bO(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},oG=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},sG=t=>{if(!t)return null;if(Pd(t))return t;let e=t.length;if(!U2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},aG=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&bO(Uint8Array)),lG=(t,e)=>{const r=(t&&t[_b]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},uG=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},cG=ko("HTMLFormElement"),hG=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),II=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),dG=ko("RegExp"),G2=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Qm(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},fG=t=>{G2(t,(e,n)=>{if(ti(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ti(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},gG=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Pd(t)?r(t):r(String(t).split(e)),n},mG=()=>{},pG=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function vG(t){return!!(t&&ti(t.append)&&t[V2]==="FormData"&&t[_b])}const yG=t=>{const e=new Array(10),n=(r,i)=>{if(Zm(r)){if(e.indexOf(r)>=0)return;if(Xm(r))return r;if(!("toJSON"in r)){e[i]=r;const o=Pd(r)?[]:{};return Qm(r,(s,a)=>{const l=n(s,i+1);!fd(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},wG=ko("AsyncFunction"),CG=t=>t&&(Zm(t)||ti(t))&&ti(t.then)&&ti(t.catch),K2=((t,e)=>t?setImmediate:e?((n,r)=>(zu.addEventListener("message",({source:i,data:o})=>{i===zu&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),zu.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ti(zu.postMessage)),bG=typeof queueMicrotask<"u"?queueMicrotask.bind(zu):typeof process<"u"&&process.nextTick||K2,SG=t=>t!=null&&ti(t[_b]),he={isArray:Pd,isArrayBuffer:W2,isBuffer:Xm,isFormData:K6,isArrayBufferView:F6,isString:B6,isNumber:U2,isBoolean:j6,isObject:Zm,isPlainObject:Zy,isEmptyObject:V6,isReadableStream:X6,isRequest:Z6,isResponse:Q6,isHeaders:J6,isUndefined:fd,isDate:W6,isFile:U6,isBlob:z6,isRegExp:dG,isFunction:ti,isStream:G6,isURLSearchParams:q6,isTypedArray:aG,isFileList:Y6,forEach:Qm,merge:K1,extend:tG,trim:eG,stripBOM:nG,inherits:rG,toFlatObject:iG,kindOf:Tb,kindOfTest:ko,endsWith:oG,toArray:sG,forEachEntry:lG,matchAll:uG,isHTMLForm:cG,hasOwnProperty:II,hasOwnProp:II,reduceDescriptors:G2,freezeMethods:fG,toObjectSet:gG,toCamelCase:hG,noop:mG,toFiniteNumber:pG,findKey:z2,global:zu,isContextDefined:Y2,isSpecCompliantForm:vG,toJSONObject:yG,isAsyncFn:wG,isThenable:CG,setImmediate:K2,asap:bG,isIterable:SG};function Ke(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}he.inherits(Ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const q2=Ke.prototype,X2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{X2[t]={value:t}});Object.defineProperties(Ke,X2);Object.defineProperty(q2,"isAxiosError",{value:!0});Ke.from=(t,e,n,r,i,o)=>{const s=Object.create(q2);he.toFlatObject(t,s,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ke.call(s,a,l,n,r,i),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",o&&Object.assign(s,o),s};const RG=null;function q1(t){return he.isPlainObject(t)||he.isArray(t)}function Z2(t){return he.endsWith(t,"[]")?t.slice(0,-2):t}function NI(t,e,n){return t?t.concat(e).map(function(i,o){return i=Z2(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function EG(t){return he.isArray(t)&&!t.some(q1)}const _G=he.toFlatObject(he,{},null,function(e){return/^is[A-Z]/.test(e)});function xb(t,e,n){if(!he.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=he.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!he.isUndefined(y[v])});const r=n.metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(e);if(!he.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(he.isDate(g))return g.toISOString();if(he.isBoolean(g))return g.toString();if(!l&&he.isBlob(g))throw new Ke("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(g)||he.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function c(g,v,y){let p=g;if(g&&!y&&typeof g=="object"){if(he.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(he.isArray(g)&&EG(g)||(he.isFileList(g)||he.endsWith(v,"[]"))&&(p=he.toArray(g)))return v=Z2(v),p.forEach(function(w,C){!(he.isUndefined(w)||w===null)&&e.append(s===!0?NI([v],C,o):s===null?v:v+"[]",u(w))}),!1}return q1(g)?!0:(e.append(NI(y,v,o),u(g)),!1)}const h=[],d=Object.assign(_G,{defaultVisitor:c,convertValue:u,isVisitable:q1});function f(g,v){if(!he.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),he.forEach(g,function(p,m){(!(he.isUndefined(p)||p===null)&&i.call(e,p,he.isString(m)?m.trim():m,v,d))===!0&&f(p,v?v.concat(m):[m])}),h.pop()}}if(!he.isObject(t))throw new TypeError("data must be an object");return f(t),e}function kI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function SO(t,e){this._pairs=[],t&&xb(t,this,e)}const Q2=SO.prototype;Q2.append=function(e,n){this._pairs.push([e,n])};Q2.toString=function(e){const n=e?function(r){return e.call(this,r,kI)}:kI;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function TG(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function J2(t,e,n){if(!e)return t;const r=n&&n.encode||TG;he.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=he.isURLSearchParams(e)?e.toString():new SO(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class HI{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){he.forEach(this.handlers,function(r){r!==null&&e(r)})}}const eB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OG=typeof URLSearchParams<"u"?URLSearchParams:SO,xG=typeof FormData<"u"?FormData:null,PG=typeof Blob<"u"?Blob:null,MG={isBrowser:!0,classes:{URLSearchParams:OG,FormData:xG,Blob:PG},protocols:["http","https","file","blob","url","data"]},RO=typeof window<"u"&&typeof document<"u",X1=typeof navigator=="object"&&navigator||void 0,AG=RO&&(!X1||["ReactNative","NativeScript","NS"].indexOf(X1.product)<0),IG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NG=RO&&window.location.href||"http://localhost",kG=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:RO,hasStandardBrowserEnv:AG,hasStandardBrowserWebWorkerEnv:IG,navigator:X1,origin:NG},Symbol.toStringTag,{value:"Module"})),mr={...kG,...MG};function HG(t,e){return xb(t,new mr.classes.URLSearchParams,{visitor:function(n,r,i,o){return mr.isNode&&he.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function DG(t){return he.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function LG(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function tB(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&he.isArray(i)?i.length:s,l?(he.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!he.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&he.isArray(i[s])&&(i[s]=LG(i[s])),!a)}if(he.isFormData(t)&&he.isFunction(t.entries)){const n={};return he.forEachEntry(t,(r,i)=>{e(DG(r),i,n,0)}),n}return null}function $G(t,e,n){if(he.isString(t))try{return(e||JSON.parse)(t),he.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Jm={transitional:eB,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=he.isObject(e);if(o&&he.isHTMLForm(e)&&(e=new FormData(e)),he.isFormData(e))return i?JSON.stringify(tB(e)):e;if(he.isArrayBuffer(e)||he.isBuffer(e)||he.isStream(e)||he.isFile(e)||he.isBlob(e)||he.isReadableStream(e))return e;if(he.isArrayBufferView(e))return e.buffer;if(he.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return HG(e,this.formSerializer).toString();if((a=he.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return xb(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),$G(e)):e}],transformResponse:[function(e){const n=this.transitional||Jm.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(he.isResponse(e)||he.isReadableStream(e))return e;if(e&&he.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?Ke.from(a,Ke.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mr.classes.FormData,Blob:mr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],t=>{Jm.headers[t]={}});const FG=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BG=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&FG[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},DI=Symbol("internals");function sf(t){return t&&String(t).trim().toLowerCase()}function Qy(t){return t===!1||t==null?t:he.isArray(t)?t.map(Qy):String(t)}function jG(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const VG=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function g0(t,e,n,r,i){if(he.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!he.isString(e)){if(he.isString(r))return e.indexOf(r)!==-1;if(he.isRegExp(r))return r.test(e)}}function WG(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function UG(t,e){const n=he.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let ni=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,u){const c=sf(l);if(!c)throw new Error("header name must be a non-empty string");const h=he.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=Qy(a))}const s=(a,l)=>he.forEach(a,(u,c)=>o(u,c,l));if(he.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(he.isString(e)&&(e=e.trim())&&!VG(e))s(BG(e),n);else if(he.isObject(e)&&he.isIterable(e)){let a={},l,u;for(const c of e){if(!he.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?he.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}s(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=sf(e),e){const r=he.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return jG(i);if(he.isFunction(n))return n.call(this,i,r);if(he.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=sf(e),e){const r=he.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||g0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=sf(s),s){const a=he.findKey(r,s);a&&(!n||g0(r,r[a],a,n))&&(delete r[a],i=!0)}}return he.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||g0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return he.forEach(this,(i,o)=>{const s=he.findKey(r,o);if(s){n[s]=Qy(i),delete n[o];return}const a=e?WG(o):String(o).trim();a!==o&&delete n[o],n[a]=Qy(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return he.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&he.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[DI]=this[DI]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=sf(s);r[a]||(UG(i,s),r[a]=!0)}return he.isArray(e)?e.forEach(o):o(e),this}};ni.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(ni.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});he.freezeMethods(ni);function m0(t,e){const n=this||Jm,r=e||n,i=ni.from(r.headers);let o=r.data;return he.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function nB(t){return!!(t&&t.__CANCEL__)}function Md(t,e,n){Ke.call(this,t??"canceled",Ke.ERR_CANCELED,e,n),this.name="CanceledError"}he.inherits(Md,Ke,{__CANCEL__:!0});function rB(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ke("Request failed with status code "+n.status,[Ke.ERR_BAD_REQUEST,Ke.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function zG(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function YG(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[o];s||(s=u),n[i]=l,r[i]=u;let h=o,d=0;for(;h!==i;)d+=n[h++],h=h%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const f=c&&u-c;return f?Math.round(d*1e3/f):void 0}}function GG(t,e){let n=0,r=1e3/e,i,o;const s=(u,c=Date.now())=>{n=c,i=null,o&&(clearTimeout(o),o=null),t(...u)};return[(...u)=>{const c=Date.now(),h=c-n;h>=r?s(u,c):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},r-h)))},()=>i&&s(i)]}const Qw=(t,e,n=3)=>{let r=0;const i=YG(50,250);return GG(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,u=i(l),c=s<=a;r=s;const h={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},LI=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},$I=t=>(...e)=>he.asap(()=>t(...e)),KG=mr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,mr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(mr.origin),mr.navigator&&/(msie|trident)/i.test(mr.navigator.userAgent)):()=>!0,qG=mr.hasStandardBrowserEnv?{write(t,e,n,r,i,o,s){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];he.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),he.isString(r)&&a.push(`path=${r}`),he.isString(i)&&a.push(`domain=${i}`),o===!0&&a.push("secure"),he.isString(s)&&a.push(`SameSite=${s}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function XG(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ZG(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function iB(t,e,n){let r=!XG(e);return t&&(r||n==!1)?ZG(t,e):e}const FI=t=>t instanceof ni?{...t}:t;function cc(t,e){e=e||{};const n={};function r(u,c,h,d){return he.isPlainObject(u)&&he.isPlainObject(c)?he.merge.call({caseless:d},u,c):he.isPlainObject(c)?he.merge({},c):he.isArray(c)?c.slice():c}function i(u,c,h,d){if(he.isUndefined(c)){if(!he.isUndefined(u))return r(void 0,u,h,d)}else return r(u,c,h,d)}function o(u,c){if(!he.isUndefined(c))return r(void 0,c)}function s(u,c){if(he.isUndefined(c)){if(!he.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,h){if(h in e)return r(u,c);if(h in t)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,c,h)=>i(FI(u),FI(c),h,!0)};return he.forEach(Object.keys({...t,...e}),function(c){const h=l[c]||i,d=h(t[c],e[c],c);he.isUndefined(d)&&h!==a||(n[c]=d)}),n}const oB=t=>{const e=cc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;if(e.headers=s=ni.from(s),e.url=J2(iB(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),he.isFormData(n)){if(mr.hasStandardBrowserEnv||mr.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(he.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,h])=>{u.includes(c.toLowerCase())&&s.set(c,h)})}}if(mr.hasStandardBrowserEnv&&(r&&he.isFunction(r)&&(r=r(e)),r||r!==!1&&KG(e.url))){const l=i&&o&&qG.read(o);l&&s.set(i,l)}return e},QG=typeof XMLHttpRequest<"u",JG=QG&&function(t){return new Promise(function(n,r){const i=oB(t);let o=i.data;const s=ni.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,h,d,f,g;function v(){f&&f(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function p(){if(!y)return;const w=ni.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:t,request:y};rB(function(_){n(_),v()},function(_){r(_),v()},S),y=null}"onloadend"in y?y.onloadend=p:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(p)},y.onabort=function(){y&&(r(new Ke("Request aborted",Ke.ECONNABORTED,t,y)),y=null)},y.onerror=function(C){const S=C&&C.message?C.message:"Network Error",x=new Ke(S,Ke.ERR_NETWORK,t,y);x.event=C||null,r(x),y=null},y.ontimeout=function(){let C=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||eB;i.timeoutErrorMessage&&(C=i.timeoutErrorMessage),r(new Ke(C,S.clarifyTimeoutError?Ke.ETIMEDOUT:Ke.ECONNABORTED,t,y)),y=null},o===void 0&&s.setContentType(null),"setRequestHeader"in y&&he.forEach(s.toJSON(),function(C,S){y.setRequestHeader(S,C)}),he.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),a&&a!=="json"&&(y.responseType=i.responseType),u&&([d,g]=Qw(u,!0),y.addEventListener("progress",d)),l&&y.upload&&([h,f]=Qw(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(c=w=>{y&&(r(!w||w.type?new Md(null,t,y):w),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const m=zG(i.url);if(m&&mr.protocols.indexOf(m)===-1){r(new Ke("Unsupported protocol "+m+":",Ke.ERR_BAD_REQUEST,t));return}y.send(o||null)})},e8=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof Ke?c:new Md(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{s=null,o(new Ke(`timeout ${e} of ms exceeded`,Ke.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>he.asap(a),l}},t8=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},n8=async function*(t,e){for await(const n of r8(t))yield*t8(n,e)},r8=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},BI=(t,e,n,r)=>{const i=n8(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let h=c.byteLength;if(n){let d=o+=h;n(d)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},jI=64*1024,{isFunction:Gp}=he,i8=(({Request:t,Response:e})=>({Request:t,Response:e}))(he.global),{ReadableStream:VI,TextEncoder:WI}=he.global,UI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},o8=t=>{t=he.merge.call({skipUndefined:!0},i8,t);const{fetch:e,Request:n,Response:r}=t,i=e?Gp(e):typeof fetch=="function",o=Gp(n),s=Gp(r);if(!i)return!1;const a=i&&Gp(VI),l=i&&(typeof WI=="function"?(g=>v=>g.encode(v))(new WI):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=o&&a&&UI(()=>{let g=!1;const v=new n(mr.origin,{body:new VI,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),c=s&&a&&UI(()=>he.isReadableStream(new r("").body)),h={stream:c&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(v,y)=>{let p=v&&v[g];if(p)return p.call(v);throw new Ke(`Response type '${g}' is not supported`,Ke.ERR_NOT_SUPPORT,y)})});const d=async g=>{if(g==null)return 0;if(he.isBlob(g))return g.size;if(he.isSpecCompliantForm(g))return(await new n(mr.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(he.isArrayBufferView(g)||he.isArrayBuffer(g))return g.byteLength;if(he.isURLSearchParams(g)&&(g=g+""),he.isString(g))return(await l(g)).byteLength},f=async(g,v)=>{const y=he.toFiniteNumber(g.getContentLength());return y??d(v)};return async g=>{let{url:v,method:y,data:p,signal:m,cancelToken:w,timeout:C,onDownloadProgress:S,onUploadProgress:x,responseType:_,headers:O,withCredentials:I="same-origin",fetchOptions:T}=oB(g),P=e||fetch;_=_?(_+"").toLowerCase():"text";let M=e8([m,w&&w.toAbortSignal()],C),N=null;const $=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let V;try{if(x&&u&&y!=="get"&&y!=="head"&&(V=await f(O,p))!==0){let b=new n(v,{method:"POST",body:p,duplex:"half"}),R;if(he.isFormData(p)&&(R=b.headers.get("content-type"))&&O.setContentType(R),b.body){const[E,H]=LI(V,Qw($I(x)));p=BI(b.body,jI,E,H)}}he.isString(I)||(I=I?"include":"omit");const K=o&&"credentials"in n.prototype,X={...T,signal:M,method:y.toUpperCase(),headers:O.normalize().toJSON(),body:p,duplex:"half",credentials:K?I:void 0};N=o&&new n(v,X);let Y=await(o?P(N,T):P(v,X));const W=c&&(_==="stream"||_==="response");if(c&&(S||W&&$)){const b={};["status","statusText","headers"].forEach(D=>{b[D]=Y[D]});const R=he.toFiniteNumber(Y.headers.get("content-length")),[E,H]=S&&LI(R,Qw($I(S),!0))||[];Y=new r(BI(Y.body,jI,E,()=>{H&&H(),$&&$()}),b)}_=_||"text";let j=await h[he.findKey(h,_)||"text"](Y,g);return!W&&$&&$(),await new Promise((b,R)=>{rB(b,R,{data:j,headers:ni.from(Y.headers),status:Y.status,statusText:Y.statusText,config:g,request:N})})}catch(K){throw $&&$(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Ke("Network Error",Ke.ERR_NETWORK,g,N),{cause:K.cause||K}):Ke.from(K,K&&K.code,g,N)}}},s8=new Map,sB=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,o=[r,i,n];let s=o.length,a=s,l,u,c=s8;for(;a--;)l=o[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:o8(e)),c=u;return u};sB();const EO={http:RG,xhr:JG,fetch:{get:sB}};he.forEach(EO,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const zI=t=>`- ${t}`,a8=t=>he.isFunction(t)||t===null||t===!1;function l8(t,e){t=he.isArray(t)?t:[t];const{length:n}=t;let r,i;const o={};for(let s=0;s<n;s++){r=t[s];let a;if(i=r,!a8(r)&&(i=EO[(a=String(r)).toLowerCase()],i===void 0))throw new Ke(`Unknown adapter '${a}'`);if(i&&(he.isFunction(i)||(i=i.get(e))))break;o[a||"#"+s]=i}if(!i){const s=Object.entries(o).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?s.length>1?`since :
`+s.map(zI).join(`
`):" "+zI(s[0]):"as no adapter specified";throw new Ke("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const aB={getAdapter:l8,adapters:EO};function p0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Md(null,t)}function YI(t){return p0(t),t.headers=ni.from(t.headers),t.data=m0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),aB.getAdapter(t.adapter||Jm.adapter,t)(t).then(function(r){return p0(t),r.data=m0.call(t,t.transformResponse,r),r.headers=ni.from(r.headers),r},function(r){return nB(r)||(p0(t),r&&r.response&&(r.response.data=m0.call(t,t.transformResponse,r.response),r.response.headers=ni.from(r.response.headers))),Promise.reject(r)})}const lB="1.13.2",Pb={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Pb[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const GI={};Pb.transitional=function(e,n,r){function i(o,s){return"[Axios v"+lB+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new Ke(i(s," has been removed"+(n?" in "+n:"")),Ke.ERR_DEPRECATED);return n&&!GI[s]&&(GI[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};Pb.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function u8(t,e,n){if(typeof t!="object")throw new Ke("options must be an object",Ke.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new Ke("option "+o+" must be "+l,Ke.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ke("Unknown option "+o,Ke.ERR_BAD_OPTION)}}const Jy={assertOptions:u8,validators:Pb},Wo=Jy.validators;let nc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new HI,response:new HI}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=cc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Jy.assertOptions(r,{silentJSONParsing:Wo.transitional(Wo.boolean),forcedJSONParsing:Wo.transitional(Wo.boolean),clarifyTimeoutError:Wo.transitional(Wo.boolean)},!1),i!=null&&(he.isFunction(i)?n.paramsSerializer={serialize:i}:Jy.assertOptions(i,{encode:Wo.function,serialize:Wo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Jy.assertOptions(n,{baseUrl:Wo.spelling("baseURL"),withXsrfToken:Wo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&he.merge(o.common,o[n.method]);o&&he.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=ni.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,h=0,d;if(!l){const g=[YI.bind(this),void 0];for(g.unshift(...a),g.push(...u),d=g.length,c=Promise.resolve(n);h<d;)c=c.then(g[h++],g[h++]);return c}d=a.length;let f=n;for(;h<d;){const g=a[h++],v=a[h++];try{f=g(f)}catch(y){v.call(this,y);break}}try{c=YI.call(this,f)}catch(g){return Promise.reject(g)}for(h=0,d=u.length;h<d;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=cc(this.defaults,e);const n=iB(e.baseURL,e.url,e.allowAbsoluteUrls);return J2(n,e.params,e.paramsSerializer)}};he.forEach(["delete","get","head","options"],function(e){nc.prototype[e]=function(n,r){return this.request(cc(r||{},{method:e,url:n,data:(r||{}).data}))}});he.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(cc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}nc.prototype[e]=n(),nc.prototype[e+"Form"]=n(!0)});let c8=class uB{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Md(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new uB(function(i){e=i}),cancel:e}}};function h8(t){return function(n){return t.apply(null,n)}}function d8(t){return he.isObject(t)&&t.isAxiosError===!0}const Z1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Z1).forEach(([t,e])=>{Z1[e]=t});function cB(t){const e=new nc(t),n=j2(nc.prototype.request,e);return he.extend(n,nc.prototype,e,{allOwnKeys:!0}),he.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return cB(cc(t,i))},n}const En=cB(Jm);En.Axios=nc;En.CanceledError=Md;En.CancelToken=c8;En.isCancel=nB;En.VERSION=lB;En.toFormData=xb;En.AxiosError=Ke;En.Cancel=En.CanceledError;En.all=function(e){return Promise.all(e)};En.spread=h8;En.isAxiosError=d8;En.mergeConfig=cc;En.AxiosHeaders=ni;En.formToJSON=t=>tB(he.isHTMLForm(t)?new FormData(t):t);En.getAdapter=aB.getAdapter;En.HttpStatusCode=Z1;En.default=En;const{Axios:NNe,AxiosError:kNe,CanceledError:HNe,isCancel:DNe,CancelToken:LNe,VERSION:$Ne,all:FNe,Cancel:BNe,isAxiosError:jNe,spread:VNe,toFormData:WNe,AxiosHeaders:UNe,HttpStatusCode:zNe,formToJSON:YNe,getAdapter:GNe,mergeConfig:KNe}=En,gn=En.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});gn.interceptors.request.use(t=>{var n;const e=(n=document.querySelector("[name=csrfmiddlewaretoken]"))==null?void 0:n.getAttribute("value");return e&&(t.headers["X-CSRFToken"]=e),t});const Mb={register:(t,e,n)=>gn.post("/accounts/register/",{username:t,email:e,password:n}),login:(t,e)=>gn.post("/accounts/login/",{username:t,password:e}),logout:()=>gn.post("/accounts/logout/"),getProfile:()=>gn.get("/accounts/profile/")},Mg={list:()=>gn.get("/documents/"),create:t=>gn.post("/documents/create/",{title:t}),get:t=>gn.get(`/documents/${t}/`),update:(t,e)=>gn.post(`/documents/${t}/update/`,e),delete:t=>gn.post(`/documents/${t}/delete/`),addComment:(t,e)=>gn.post(`/documents/${t}/comment/`,e),getComments:t=>gn.get(`/documents/${t}/comments/`),share:(t,e,n)=>gn.post(`/documents/${t}/permission/add/`,{email:e,role:n}),export:(t,e)=>gn.get(`/documents/${t}/export/${e}/`),import:(t,e)=>{const n=new FormData;return n.append("file",e),gn.post(`/documents/${t}/import/`,n)}},Ag={list:()=>gn.get("/spreadsheets/"),create:t=>gn.post("/spreadsheets/create/",{title:t}),get:t=>gn.get(`/spreadsheets/${t}/`),update:(t,e)=>gn.post(`/spreadsheets/${t}/update/`,e),delete:t=>gn.post(`/spreadsheets/${t}/delete/`),share:(t,e,n)=>gn.post(`/spreadsheets/${t}/permission/add/`,{email:e,role:n}),export:(t,e)=>gn.get(`/spreadsheets/${t}/export/${e}/`)};var f8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const g8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bi=(t,e)=>{const n=de.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},u)=>de.createElement("svg",{ref:u,...f8,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${g8(t)}`,...l},[...e.map(([c,h])=>de.createElement(c,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},m8=bi("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),p8=bi("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Q1=bi("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),v8=bi("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),hB=bi("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),y8=bi("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),dB=bi("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),KI=bi("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),fB=bi("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Jw=bi("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),w8=bi("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),qI=bi("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),C8=bi("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function b8(){const t=xd(),{setUser:e,setError:n,error:r}=Eb(),[i,o]=de.useState(""),[s,a]=de.useState(""),[l,u]=de.useState(!1),c=async h=>{var d,f;h.preventDefault(),u(!0);try{const g=await Mb.login(i,s);e(g.data),t("/")}catch(g){n(((f=(d=g.response)==null?void 0:d.data)==null?void 0:f.message)||"Login failed")}finally{u(!1)}};return ce.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-blue-800 flex items-center justify-center px-4",children:ce.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[ce.jsxs("div",{className:"text-center mb-8",children:[ce.jsx("img",{src:"/Docs-Hub.png",alt:"DocsHub Logo",className:"h-16 w-16 mx-auto mb-4"}),ce.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"DocsHub"}),ce.jsx("p",{className:"text-gray-600 mt-2",children:"Collaborative Editing"})]}),r&&ce.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:r}),ce.jsxs("form",{onSubmit:c,className:"space-y-4",children:[ce.jsxs("div",{children:[ce.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),ce.jsxs("div",{className:"relative",children:[ce.jsx(hB,{className:"absolute left-3 top-3 text-gray-400",size:18}),ce.jsx("input",{type:"email",value:i,onChange:h=>o(h.target.value),className:"input pl-10",placeholder:"you@example.com",required:!0})]})]}),ce.jsxs("div",{children:[ce.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),ce.jsxs("div",{className:"relative",children:[ce.jsx(Q1,{className:"absolute left-3 top-3 text-gray-400",size:18}),ce.jsx("input",{type:"password",value:s,onChange:h=>a(h.target.value),className:"input pl-10",placeholder:"",required:!0})]})]}),ce.jsx("button",{type:"submit",disabled:l,className:"w-full btn btn-primary",children:l?"Signing in...":"Sign In"})]}),ce.jsx("div",{className:"mt-6 text-center",children:ce.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",ce.jsx(k2,{to:"/register",className:"text-blue-600 font-medium hover:underline",children:"Sign Up"})]})})]})})}function S8(){const t=xd(),{setUser:e,setError:n,error:r}=Eb(),[i,o]=de.useState(""),[s,a]=de.useState(""),[l,u]=de.useState(""),[c,h]=de.useState(""),[d,f]=de.useState(!1),g=async v=>{var y,p;if(v.preventDefault(),l!==c){n("Passwords do not match");return}f(!0);try{const m=await Mb.register(i,s,l);e(m.data),t("/")}catch(m){n(((p=(y=m.response)==null?void 0:y.data)==null?void 0:p.message)||"Registration failed")}finally{f(!1)}};return ce.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-blue-800 flex items-center justify-center px-4",children:ce.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[ce.jsxs("div",{className:"text-center mb-8",children:[ce.jsx("img",{src:"/Docs-Hub.png",alt:"DocsHub Logo",className:"h-16 w-16 mx-auto mb-4"}),ce.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"DocsHub"}),ce.jsx("p",{className:"text-gray-600 mt-2",children:"Create an Account"})]}),r&&ce.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:r}),ce.jsxs("form",{onSubmit:g,className:"space-y-4",children:[ce.jsxs("div",{children:[ce.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),ce.jsxs("div",{className:"relative",children:[ce.jsx(C8,{className:"absolute left-3 top-3 text-gray-400",size:18}),ce.jsx("input",{type:"text",value:i,onChange:v=>o(v.target.value),className:"input pl-10",placeholder:"john_doe",required:!0})]})]}),ce.jsxs("div",{children:[ce.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),ce.jsxs("div",{className:"relative",children:[ce.jsx(hB,{className:"absolute left-3 top-3 text-gray-400",size:18}),ce.jsx("input",{type:"email",value:s,onChange:v=>a(v.target.value),className:"input pl-10",placeholder:"you@example.com",required:!0})]})]}),ce.jsxs("div",{children:[ce.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),ce.jsxs("div",{className:"relative",children:[ce.jsx(Q1,{className:"absolute left-3 top-3 text-gray-400",size:18}),ce.jsx("input",{type:"password",value:l,onChange:v=>u(v.target.value),className:"input pl-10",placeholder:"",required:!0})]})]}),ce.jsxs("div",{children:[ce.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),ce.jsxs("div",{className:"relative",children:[ce.jsx(Q1,{className:"absolute left-3 top-3 text-gray-400",size:18}),ce.jsx("input",{type:"password",value:c,onChange:v=>h(v.target.value),className:"input pl-10",placeholder:"",required:!0})]})]}),ce.jsx("button",{type:"submit",disabled:d,className:"w-full btn btn-primary",children:d?"Creating Account...":"Sign Up"})]}),ce.jsx("div",{className:"mt-6 text-center",children:ce.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",ce.jsx(k2,{to:"/login",className:"text-blue-600 font-medium hover:underline",children:"Sign In"})]})})]})})}function R8(){const t=xd(),[e,n]=de.useState([]),[r,i]=de.useState([]),[o,s]=de.useState(!0);de.useEffect(()=>{(async()=>{try{const[h,d]=await Promise.all([Mg.list(),Ag.list()]);n(h.data),i(d.data)}catch(h){console.error("Failed to load files:",h)}finally{s(!1)}})()},[]);const a=async()=>{try{const c=await Mg.create("Untitled Document");t(`/documents/${c.data.id}`)}catch(c){console.error("Failed to create document:",c)}},l=async()=>{try{const c=await Ag.create("Untitled Spreadsheet");t(`/spreadsheets/${c.data.id}`)}catch(c){console.error("Failed to create spreadsheet:",c)}},u=async(c,h)=>{if(confirm("Are you sure you want to delete this?"))try{h==="document"?(await Mg.delete(c),n(e.filter(d=>d.id!==c))):(await Ag.delete(c),i(r.filter(d=>d.id!==c)))}catch(d){console.error("Failed to delete:",d)}};return o?ce.jsx("div",{className:"text-center py-8",children:"Loading..."}):ce.jsxs("div",{className:"space-y-8",children:[ce.jsxs("section",{children:[ce.jsxs("div",{className:"flex justify-between items-center mb-4",children:[ce.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[ce.jsx(p8,{size:28}),"Documents"]}),ce.jsxs("button",{onClick:a,className:"btn btn-primary flex items-center gap-2",children:[ce.jsx(KI,{size:18}),"New Document"]})]}),e.length===0?ce.jsx("div",{className:"text-center py-12 bg-gray-100 rounded-lg",children:ce.jsx("p",{className:"text-gray-600",children:"No documents yet. Create one to get started!"})}):ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(c=>ce.jsxs("div",{className:"card p-4 hover:shadow-lg transition-shadow cursor-pointer",children:[ce.jsx("h3",{className:"font-semibold text-lg mb-2",children:c.title}),ce.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["by ",c.owner.username]}),ce.jsxs("div",{className:"flex gap-2",children:[ce.jsx("button",{onClick:()=>t(`/documents/${c.id}`),className:"flex-1 btn btn-primary text-sm",children:"Open"}),ce.jsx("button",{className:"btn btn-secondary p-2",children:ce.jsx(Jw,{size:18})}),ce.jsx("button",{onClick:()=>u(c.id,"document"),className:"btn btn-danger p-2",children:ce.jsx(qI,{size:18})})]})]},c.id))})]}),ce.jsxs("section",{children:[ce.jsxs("div",{className:"flex justify-between items-center mb-4",children:[ce.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[ce.jsx(w8,{size:28}),"Spreadsheets"]}),ce.jsxs("button",{onClick:l,className:"btn btn-primary flex items-center gap-2",children:[ce.jsx(KI,{size:18}),"New Spreadsheet"]})]}),r.length===0?ce.jsx("div",{className:"text-center py-12 bg-gray-100 rounded-lg",children:ce.jsx("p",{className:"text-gray-600",children:"No spreadsheets yet. Create one to get started!"})}):ce.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(c=>ce.jsxs("div",{className:"card p-4 hover:shadow-lg transition-shadow",children:[ce.jsx("h3",{className:"font-semibold text-lg mb-2",children:c.title}),ce.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["by ",c.owner.username]}),ce.jsxs("div",{className:"flex gap-2",children:[ce.jsx("button",{onClick:()=>t(`/spreadsheets/${c.id}`),className:"flex-1 btn btn-primary text-sm",children:"Open"}),ce.jsx("button",{className:"btn btn-secondary p-2",children:ce.jsx(Jw,{size:18})}),ce.jsx("button",{onClick:()=>u(c.id,"spreadsheet"),className:"btn btn-danger p-2",children:ce.jsx(qI,{size:18})})]})]},c.id))})]})]})}function E8(){this.__data__=[],this.size=0}var _8=E8;function T8(t,e){return t===e||t!==t&&e!==e}var gB=T8,O8=gB;function x8(t,e){for(var n=t.length;n--;)if(O8(t[n][0],e))return n;return-1}var Ab=x8,P8=Ab,M8=Array.prototype,A8=M8.splice;function I8(t){var e=this.__data__,n=P8(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():A8.call(e,n,1),--this.size,!0}var N8=I8,k8=Ab;function H8(t){var e=this.__data__,n=k8(e,t);return n<0?void 0:e[n][1]}var D8=H8,L8=Ab;function $8(t){return L8(this.__data__,t)>-1}var F8=$8,B8=Ab;function j8(t,e){var n=this.__data__,r=B8(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var V8=j8,W8=_8,U8=N8,z8=D8,Y8=F8,G8=V8;function Ad(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ad.prototype.clear=W8;Ad.prototype.delete=U8;Ad.prototype.get=z8;Ad.prototype.has=Y8;Ad.prototype.set=G8;var Ib=Ad,K8=Ib;function q8(){this.__data__=new K8,this.size=0}var X8=q8;function Z8(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Q8=Z8;function J8(t){return this.__data__.get(t)}var e9=J8;function t9(t){return this.__data__.has(t)}var n9=t9,r9=typeof Jn=="object"&&Jn&&Jn.Object===Object&&Jn,mB=r9,i9=mB,o9=typeof self=="object"&&self&&self.Object===Object&&self,s9=i9||o9||Function("return this")(),xa=s9,a9=xa,l9=a9.Symbol,_O=l9,XI=_O,pB=Object.prototype,u9=pB.hasOwnProperty,c9=pB.toString,af=XI?XI.toStringTag:void 0;function h9(t){var e=u9.call(t,af),n=t[af];try{t[af]=void 0;var r=!0}catch{}var i=c9.call(t);return r&&(e?t[af]=n:delete t[af]),i}var d9=h9,f9=Object.prototype,g9=f9.toString;function m9(t){return g9.call(t)}var p9=m9,ZI=_O,v9=d9,y9=p9,w9="[object Null]",C9="[object Undefined]",QI=ZI?ZI.toStringTag:void 0;function b9(t){return t==null?t===void 0?C9:w9:QI&&QI in Object(t)?v9(t):y9(t)}var Nb=b9;function S9(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vB=S9,R9=Nb,E9=vB,_9="[object AsyncFunction]",T9="[object Function]",O9="[object GeneratorFunction]",x9="[object Proxy]";function P9(t){if(!E9(t))return!1;var e=R9(t);return e==T9||e==O9||e==_9||e==x9}var yB=P9,M9=xa,A9=M9["__core-js_shared__"],I9=A9,v0=I9,JI=function(){var t=/[^.]+$/.exec(v0&&v0.keys&&v0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function N9(t){return!!JI&&JI in t}var k9=N9,H9=Function.prototype,D9=H9.toString;function L9(t){if(t!=null){try{return D9.call(t)}catch{}try{return t+""}catch{}}return""}var wB=L9,$9=yB,F9=k9,B9=vB,j9=wB,V9=/[\\^$.*+?()[\]{}|]/g,W9=/^\[object .+?Constructor\]$/,U9=Function.prototype,z9=Object.prototype,Y9=U9.toString,G9=z9.hasOwnProperty,K9=RegExp("^"+Y9.call(G9).replace(V9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function q9(t){if(!B9(t)||F9(t))return!1;var e=$9(t)?K9:W9;return e.test(j9(t))}var X9=q9;function Z9(t,e){return t==null?void 0:t[e]}var Q9=Z9,J9=X9,eK=Q9;function tK(t,e){var n=eK(t,e);return J9(n)?n:void 0}var Id=tK,nK=Id,rK=xa,iK=nK(rK,"Map"),TO=iK,oK=Id,sK=oK(Object,"create"),kb=sK,eN=kb;function aK(){this.__data__=eN?eN(null):{},this.size=0}var lK=aK;function uK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cK=uK,hK=kb,dK="__lodash_hash_undefined__",fK=Object.prototype,gK=fK.hasOwnProperty;function mK(t){var e=this.__data__;if(hK){var n=e[t];return n===dK?void 0:n}return gK.call(e,t)?e[t]:void 0}var pK=mK,vK=kb,yK=Object.prototype,wK=yK.hasOwnProperty;function CK(t){var e=this.__data__;return vK?e[t]!==void 0:wK.call(e,t)}var bK=CK,SK=kb,RK="__lodash_hash_undefined__";function EK(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=SK&&e===void 0?RK:e,this}var _K=EK,TK=lK,OK=cK,xK=pK,PK=bK,MK=_K;function Nd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nd.prototype.clear=TK;Nd.prototype.delete=OK;Nd.prototype.get=xK;Nd.prototype.has=PK;Nd.prototype.set=MK;var AK=Nd,tN=AK,IK=Ib,NK=TO;function kK(){this.size=0,this.__data__={hash:new tN,map:new(NK||IK),string:new tN}}var HK=kK;function DK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var LK=DK,$K=LK;function FK(t,e){var n=t.__data__;return $K(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Hb=FK,BK=Hb;function jK(t){var e=BK(this,t).delete(t);return this.size-=e?1:0,e}var VK=jK,WK=Hb;function UK(t){return WK(this,t).get(t)}var zK=UK,YK=Hb;function GK(t){return YK(this,t).has(t)}var KK=GK,qK=Hb;function XK(t,e){var n=qK(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ZK=XK,QK=HK,JK=VK,eq=zK,tq=KK,nq=ZK;function kd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kd.prototype.clear=QK;kd.prototype.delete=JK;kd.prototype.get=eq;kd.prototype.has=tq;kd.prototype.set=nq;var CB=kd,rq=Ib,iq=TO,oq=CB,sq=200;function aq(t,e){var n=this.__data__;if(n instanceof rq){var r=n.__data__;if(!iq||r.length<sq-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new oq(r)}return n.set(t,e),this.size=n.size,this}var lq=aq,uq=Ib,cq=X8,hq=Q8,dq=e9,fq=n9,gq=lq;function Hd(t){var e=this.__data__=new uq(t);this.size=e.size}Hd.prototype.clear=cq;Hd.prototype.delete=hq;Hd.prototype.get=dq;Hd.prototype.has=fq;Hd.prototype.set=gq;var mq=Hd,pq="__lodash_hash_undefined__";function vq(t){return this.__data__.set(t,pq),this}var yq=vq;function wq(t){return this.__data__.has(t)}var Cq=wq,bq=CB,Sq=yq,Rq=Cq;function eC(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new bq;++e<n;)this.add(t[e])}eC.prototype.add=eC.prototype.push=Sq;eC.prototype.has=Rq;var Eq=eC;function _q(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Tq=_q;function Oq(t,e){return t.has(e)}var xq=Oq,Pq=Eq,Mq=Tq,Aq=xq,Iq=1,Nq=2;function kq(t,e,n,r,i,o){var s=n&Iq,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&Nq?new Pq:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var g=t[h],v=e[h];if(r)var y=s?r(v,g,h,e,t,o):r(g,v,h,t,e,o);if(y!==void 0){if(y)continue;d=!1;break}if(f){if(!Mq(e,function(p,m){if(!Aq(f,m)&&(g===p||i(g,p,n,r,o)))return f.push(m)})){d=!1;break}}else if(!(g===v||i(g,v,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var bB=kq,Hq=xa,Dq=Hq.Uint8Array,Lq=Dq;function $q(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Fq=$q;function Bq(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var jq=Bq,nN=_O,rN=Lq,Vq=gB,Wq=bB,Uq=Fq,zq=jq,Yq=1,Gq=2,Kq="[object Boolean]",qq="[object Date]",Xq="[object Error]",Zq="[object Map]",Qq="[object Number]",Jq="[object RegExp]",e7="[object Set]",t7="[object String]",n7="[object Symbol]",r7="[object ArrayBuffer]",i7="[object DataView]",iN=nN?nN.prototype:void 0,y0=iN?iN.valueOf:void 0;function o7(t,e,n,r,i,o,s){switch(n){case i7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case r7:return!(t.byteLength!=e.byteLength||!o(new rN(t),new rN(e)));case Kq:case qq:case Qq:return Vq(+t,+e);case Xq:return t.name==e.name&&t.message==e.message;case Jq:case t7:return t==e+"";case Zq:var a=Uq;case e7:var l=r&Yq;if(a||(a=zq),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Gq,s.set(t,e);var c=Wq(a(t),a(e),r,i,o,s);return s.delete(t),c;case n7:if(y0)return y0.call(t)==y0.call(e)}return!1}var s7=o7;function a7(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var l7=a7,u7=Array.isArray,OO=u7,c7=l7,h7=OO;function d7(t,e,n){var r=e(t);return h7(t)?r:c7(r,n(t))}var f7=d7;function g7(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var m7=g7;function p7(){return[]}var v7=p7,y7=m7,w7=v7,C7=Object.prototype,b7=C7.propertyIsEnumerable,oN=Object.getOwnPropertySymbols,S7=oN?function(t){return t==null?[]:(t=Object(t),y7(oN(t),function(e){return b7.call(t,e)}))}:w7,R7=S7;function E7(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var _7=E7;function T7(t){return t!=null&&typeof t=="object"}var Db=T7,O7=Nb,x7=Db,P7="[object Arguments]";function M7(t){return x7(t)&&O7(t)==P7}var A7=M7,sN=A7,I7=Db,SB=Object.prototype,N7=SB.hasOwnProperty,k7=SB.propertyIsEnumerable,H7=sN(function(){return arguments}())?sN:function(t){return I7(t)&&N7.call(t,"callee")&&!k7.call(t,"callee")},D7=H7,tC={exports:{}};function L7(){return!1}var $7=L7;tC.exports;(function(t,e){var n=xa,r=$7,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(tC,tC.exports);var RB=tC.exports,F7=9007199254740991,B7=/^(?:0|[1-9]\d*)$/;function j7(t,e){var n=typeof t;return e=e??F7,!!e&&(n=="number"||n!="symbol"&&B7.test(t))&&t>-1&&t%1==0&&t<e}var V7=j7,W7=9007199254740991;function U7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=W7}var EB=U7,z7=Nb,Y7=EB,G7=Db,K7="[object Arguments]",q7="[object Array]",X7="[object Boolean]",Z7="[object Date]",Q7="[object Error]",J7="[object Function]",eX="[object Map]",tX="[object Number]",nX="[object Object]",rX="[object RegExp]",iX="[object Set]",oX="[object String]",sX="[object WeakMap]",aX="[object ArrayBuffer]",lX="[object DataView]",uX="[object Float32Array]",cX="[object Float64Array]",hX="[object Int8Array]",dX="[object Int16Array]",fX="[object Int32Array]",gX="[object Uint8Array]",mX="[object Uint8ClampedArray]",pX="[object Uint16Array]",vX="[object Uint32Array]",Ut={};Ut[uX]=Ut[cX]=Ut[hX]=Ut[dX]=Ut[fX]=Ut[gX]=Ut[mX]=Ut[pX]=Ut[vX]=!0;Ut[K7]=Ut[q7]=Ut[aX]=Ut[X7]=Ut[lX]=Ut[Z7]=Ut[Q7]=Ut[J7]=Ut[eX]=Ut[tX]=Ut[nX]=Ut[rX]=Ut[iX]=Ut[oX]=Ut[sX]=!1;function yX(t){return G7(t)&&Y7(t.length)&&!!Ut[z7(t)]}var wX=yX;function CX(t){return function(e){return t(e)}}var bX=CX,nC={exports:{}};nC.exports;(function(t,e){var n=mB,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(nC,nC.exports);var SX=nC.exports,RX=wX,EX=bX,aN=SX,lN=aN&&aN.isTypedArray,_X=lN?EX(lN):RX,_B=_X,TX=_7,OX=D7,xX=OO,PX=RB,MX=V7,AX=_B,IX=Object.prototype,NX=IX.hasOwnProperty;function kX(t,e){var n=xX(t),r=!n&&OX(t),i=!n&&!r&&PX(t),o=!n&&!r&&!i&&AX(t),s=n||r||i||o,a=s?TX(t.length,String):[],l=a.length;for(var u in t)(e||NX.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||MX(u,l)))&&a.push(u);return a}var HX=kX,DX=Object.prototype;function LX(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||DX;return t===n}var $X=LX;function FX(t,e){return function(n){return t(e(n))}}var BX=FX,jX=BX,VX=jX(Object.keys,Object),WX=VX,UX=$X,zX=WX,YX=Object.prototype,GX=YX.hasOwnProperty;function KX(t){if(!UX(t))return zX(t);var e=[];for(var n in Object(t))GX.call(t,n)&&n!="constructor"&&e.push(n);return e}var qX=KX,XX=yB,ZX=EB;function QX(t){return t!=null&&ZX(t.length)&&!XX(t)}var JX=QX,eZ=HX,tZ=qX,nZ=JX;function rZ(t){return nZ(t)?eZ(t):tZ(t)}var iZ=rZ,oZ=f7,sZ=R7,aZ=iZ;function lZ(t){return oZ(t,aZ,sZ)}var uZ=lZ,uN=uZ,cZ=1,hZ=Object.prototype,dZ=hZ.hasOwnProperty;function fZ(t,e,n,r,i,o){var s=n&cZ,a=uN(t),l=a.length,u=uN(e),c=u.length;if(l!=c&&!s)return!1;for(var h=l;h--;){var d=a[h];if(!(s?d in e:dZ.call(e,d)))return!1}var f=o.get(t),g=o.get(e);if(f&&g)return f==e&&g==t;var v=!0;o.set(t,e),o.set(e,t);for(var y=s;++h<l;){d=a[h];var p=t[d],m=e[d];if(r)var w=s?r(m,p,d,e,t,o):r(p,m,d,t,e,o);if(!(w===void 0?p===m||i(p,m,n,r,o):w)){v=!1;break}y||(y=d=="constructor")}if(v&&!y){var C=t.constructor,S=e.constructor;C!=S&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(v=!1)}return o.delete(t),o.delete(e),v}var gZ=fZ,mZ=Id,pZ=xa,vZ=mZ(pZ,"DataView"),yZ=vZ,wZ=Id,CZ=xa,bZ=wZ(CZ,"Promise"),SZ=bZ,RZ=Id,EZ=xa,_Z=RZ(EZ,"Set"),TZ=_Z,OZ=Id,xZ=xa,PZ=OZ(xZ,"WeakMap"),MZ=PZ,J1=yZ,e_=TO,t_=SZ,n_=TZ,r_=MZ,TB=Nb,Dd=wB,cN="[object Map]",AZ="[object Object]",hN="[object Promise]",dN="[object Set]",fN="[object WeakMap]",gN="[object DataView]",IZ=Dd(J1),NZ=Dd(e_),kZ=Dd(t_),HZ=Dd(n_),DZ=Dd(r_),$u=TB;(J1&&$u(new J1(new ArrayBuffer(1)))!=gN||e_&&$u(new e_)!=cN||t_&&$u(t_.resolve())!=hN||n_&&$u(new n_)!=dN||r_&&$u(new r_)!=fN)&&($u=function(t){var e=TB(t),n=e==AZ?t.constructor:void 0,r=n?Dd(n):"";if(r)switch(r){case IZ:return gN;case NZ:return cN;case kZ:return hN;case HZ:return dN;case DZ:return fN}return e});var LZ=$u,w0=mq,$Z=bB,FZ=s7,BZ=gZ,mN=LZ,pN=OO,vN=RB,jZ=_B,VZ=1,yN="[object Arguments]",wN="[object Array]",Kp="[object Object]",WZ=Object.prototype,CN=WZ.hasOwnProperty;function UZ(t,e,n,r,i,o){var s=pN(t),a=pN(e),l=s?wN:mN(t),u=a?wN:mN(e);l=l==yN?Kp:l,u=u==yN?Kp:u;var c=l==Kp,h=u==Kp,d=l==u;if(d&&vN(t)){if(!vN(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new w0),s||jZ(t)?$Z(t,e,n,r,i,o):FZ(t,e,l,n,r,i,o);if(!(n&VZ)){var f=c&&CN.call(t,"__wrapped__"),g=h&&CN.call(e,"__wrapped__");if(f||g){var v=f?t.value():t,y=g?e.value():e;return o||(o=new w0),i(v,y,n,r,o)}}return d?(o||(o=new w0),BZ(t,e,n,r,i,o)):!1}var zZ=UZ,YZ=zZ,bN=Db;function OB(t,e,n,r,i){return t===e?!0:t==null||e==null||!bN(t)&&!bN(e)?t!==t&&e!==e:YZ(t,e,n,r,OB,i)}var GZ=OB,KZ=GZ;function qZ(t,e){return KZ(t,e)}var XZ=qZ,xB={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Jn,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),c=i(47),h=i(48),d=i(49),f=i(12),g=i(32),v=i(33),y=i(31),p=i(1),m={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:d.default,Attributor:{Attribute:f.default,Class:g.default,Style:v.default,Store:y.default}};r.default=m},function(n,r,i){var o=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var w in m)m.hasOwnProperty(w)&&(p[w]=m[w])};return function(p,m){y(p,m);function w(){this.constructor=p}p.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(y){o(p,y);function p(m){var w=this;return m="[Parchment] "+m,w=y.call(this,m)||this,w.message=m,w.name=w.constructor.name,w}return p}(Error);r.ParchmentError=s;var a={},l={},u={},c={};r.DATA_KEY="__blot";var h;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function d(y,p){var m=g(y);if(m==null)throw new s("Unable to create "+y+" blot");var w=m,C=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:w.create(p);return new w(C,p)}r.create=d;function f(y,p){return p===void 0&&(p=!1),y==null?null:y[r.DATA_KEY]!=null?y[r.DATA_KEY].blot:p?f(y.parentNode,p):null}r.find=f;function g(y,p){p===void 0&&(p=h.ANY);var m;if(typeof y=="string")m=c[y]||a[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)m=c.text;else if(typeof y=="number")y&h.LEVEL&h.BLOCK?m=c.block:y&h.LEVEL&h.INLINE&&(m=c.inline);else if(y instanceof HTMLElement){var w=(y.getAttribute("class")||"").split(/\s+/);for(var C in w)if(m=l[w[C]],m)break;m=m||u[y.tagName]}return m==null?null:p&h.LEVEL&m.scope&&p&h.TYPE&m.scope?m:null}r.query=g;function v(){for(var y=[],p=0;p<arguments.length;p++)y[p]=arguments[p];if(y.length>1)return y.map(function(C){return v(C)});var m=y[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new s("Invalid definition");if(m.blotName==="abstract")throw new s("Cannot register abstract class");if(c[m.blotName||m.attrName]=m,typeof m.keyName=="string")a[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(C){return C.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var w=Array.isArray(m.tagName)?m.tagName:[m.tagName];w.forEach(function(C){(u[C]==null||m.className==null)&&(u[C]=m)})}return m}r.register=v},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u="\0",c=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};c.prototype.insert=function(h,d){var f={};return h.length===0?this:(f.insert=h,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(f.attributes=d),this.push(f))},c.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},c.prototype.retain=function(h,d){if(h<=0)return this;var f={retain:h};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(f.attributes=d),this.push(f)},c.prototype.push=function(h){var d=this.ops.length,f=this.ops[d-1];if(h=a(!0,{},h),typeof f=="object"){if(typeof h.delete=="number"&&typeof f.delete=="number")return this.ops[d-1]={delete:f.delete+h.delete},this;if(typeof f.delete=="number"&&h.insert!=null&&(d-=1,f=this.ops[d-1],typeof f!="object"))return this.ops.unshift(h),this;if(s(h.attributes,f.attributes)){if(typeof h.insert=="string"&&typeof f.insert=="string")return this.ops[d-1]={insert:f.insert+h.insert},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof f.retain=="number")return this.ops[d-1]={retain:f.retain+h.retain},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this}}return d===this.ops.length?this.ops.push(h):this.ops.splice(d,0,h),this},c.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},c.prototype.filter=function(h){return this.ops.filter(h)},c.prototype.forEach=function(h){this.ops.forEach(h)},c.prototype.map=function(h){return this.ops.map(h)},c.prototype.partition=function(h){var d=[],f=[];return this.forEach(function(g){var v=h(g)?d:f;v.push(g)}),[d,f]},c.prototype.reduce=function(h,d){return this.ops.reduce(h,d)},c.prototype.changeLength=function(){return this.reduce(function(h,d){return d.insert?h+l.length(d):d.delete?h-d.delete:h},0)},c.prototype.length=function(){return this.reduce(function(h,d){return h+l.length(d)},0)},c.prototype.slice=function(h,d){h=h||0,typeof d!="number"&&(d=1/0);for(var f=[],g=l.iterator(this.ops),v=0;v<d&&g.hasNext();){var y;v<h?y=g.next(h-v):(y=g.next(d-v),f.push(y)),v+=l.length(y)}return new c(f)},c.prototype.compose=function(h){var d=l.iterator(this.ops),f=l.iterator(h.ops),g=[],v=f.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var y=v.retain;d.peekType()==="insert"&&d.peekLength()<=y;)y-=d.peekLength(),g.push(d.next());v.retain-y>0&&f.next(v.retain-y)}for(var p=new c(g);d.hasNext()||f.hasNext();)if(f.peekType()==="insert")p.push(f.next());else if(d.peekType()==="delete")p.push(d.next());else{var m=Math.min(d.peekLength(),f.peekLength()),w=d.next(m),C=f.next(m);if(typeof C.retain=="number"){var S={};typeof w.retain=="number"?S.retain=m:S.insert=w.insert;var x=l.attributes.compose(w.attributes,C.attributes,typeof w.retain=="number");if(x&&(S.attributes=x),p.push(S),!f.hasNext()&&s(p.ops[p.ops.length-1],S)){var _=new c(d.rest());return p.concat(_).chop()}}else typeof C.delete=="number"&&typeof w.retain=="number"&&p.push(C)}return p.chop()},c.prototype.concat=function(h){var d=new c(this.ops.slice());return h.ops.length>0&&(d.push(h.ops[0]),d.ops=d.ops.concat(h.ops.slice(1))),d},c.prototype.diff=function(h,d){if(this.ops===h.ops)return new c;var f=[this,h].map(function(m){return m.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:u;var C=m===h?"on":"with";throw new Error("diff() called "+C+" non-document")}).join("")}),g=new c,v=o(f[0],f[1],d),y=l.iterator(this.ops),p=l.iterator(h.ops);return v.forEach(function(m){for(var w=m[1].length;w>0;){var C=0;switch(m[0]){case o.INSERT:C=Math.min(p.peekLength(),w),g.push(p.next(C));break;case o.DELETE:C=Math.min(w,y.peekLength()),y.next(C),g.delete(C);break;case o.EQUAL:C=Math.min(y.peekLength(),p.peekLength(),w);var S=y.next(C),x=p.next(C);s(S.insert,x.insert)?g.retain(C,l.attributes.diff(S.attributes,x.attributes)):g.push(x).delete(C);break}w-=C}}),g.chop()},c.prototype.eachLine=function(h,d){d=d||`
`;for(var f=l.iterator(this.ops),g=new c,v=0;f.hasNext();){if(f.peekType()!=="insert")return;var y=f.peek(),p=l.length(y)-f.peekLength(),m=typeof y.insert=="string"?y.insert.indexOf(d,p)-p:-1;if(m<0)g.push(f.next());else if(m>0)g.push(f.next(m));else{if(h(g,f.next(1).attributes||{},v)===!1)return;v+=1,g=new c}}g.length()>0&&h(g,{},v)},c.prototype.transform=function(h,d){if(d=!!d,typeof h=="number")return this.transformPosition(h,d);for(var f=l.iterator(this.ops),g=l.iterator(h.ops),v=new c;f.hasNext()||g.hasNext();)if(f.peekType()==="insert"&&(d||g.peekType()!=="insert"))v.retain(l.length(f.next()));else if(g.peekType()==="insert")v.push(g.next());else{var y=Math.min(f.peekLength(),g.peekLength()),p=f.next(y),m=g.next(y);if(p.delete)continue;m.delete?v.push(m):v.retain(y,l.attributes.transform(p.attributes,m.attributes,d))}return v.chop()},c.prototype.transformPosition=function(h,d){d=!!d;for(var f=l.iterator(this.ops),g=0;f.hasNext()&&g<=h;){var v=f.peekLength(),y=f.peekType();if(f.next(),y==="delete"){h-=Math.min(v,h-g);continue}else y==="insert"&&(g<h||!d)&&(h+=v);g+=v}return h},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(f){return typeof Array.isArray=="function"?Array.isArray(f):o.call(f)==="[object Array]"},u=function(f){if(!f||o.call(f)!=="[object Object]")return!1;var g=i.call(f,"constructor"),v=f.constructor&&f.constructor.prototype&&i.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!g&&!v)return!1;var y;for(y in f);return typeof y>"u"||i.call(f,y)},c=function(f,g){s&&g.name==="__proto__"?s(f,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):f[g.name]=g.newValue},h=function(f,g){if(g==="__proto__")if(i.call(f,g)){if(a)return a(f,g).value}else return;return f[g]};n.exports=function d(){var f,g,v,y,p,m,w=arguments[0],C=1,S=arguments.length,x=!1;for(typeof w=="boolean"&&(x=w,w=arguments[1]||{},C=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});C<S;++C)if(f=arguments[C],f!=null)for(g in f)v=h(w,g),y=h(f,g),w!==y&&(x&&y&&(u(y)||(p=l(y)))?(p?(p=!1,m=v&&l(v)?v:[]):m=v&&u(v)?v:{},c(w,{name:g,newValue:d(x,m,y)})):typeof y<"u"&&c(w,{name:g,newValue:y}));return w}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function P(M,N){for(var $=0;$<N.length;$++){var V=N[$];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(M,V.key,V)}}return function(M,N,$){return N&&P(M.prototype,N),$&&P(M,$),M}}(),s=function P(M,N,$){M===null&&(M=Function.prototype);var V=Object.getOwnPropertyDescriptor(M,N);if(V===void 0){var K=Object.getPrototypeOf(M);return K===null?void 0:P(K,N,$)}else{if("value"in V)return V.value;var X=V.get;return X===void 0?void 0:X.call($)}},a=i(3),l=w(a),u=i(2),c=w(u),h=i(0),d=w(h),f=i(16),g=w(f),v=i(6),y=w(v),p=i(7),m=w(p);function w(P){return P&&P.__esModule?P:{default:P}}function C(P,M){if(!(P instanceof M))throw new TypeError("Cannot call a class as a function")}function S(P,M){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:P}function x(P,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);P.prototype=Object.create(M&&M.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(P,M):P.__proto__=M)}var _=1,O=function(P){x(M,P);function M(){return C(this,M),S(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return o(M,[{key:"attach",value:function(){s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function($,V){var K=d.default.query($,d.default.Scope.BLOCK_ATTRIBUTE);K!=null&&this.attributes.attribute(K,V)}},{key:"formatAt",value:function($,V,K,X){this.format(K,X)}},{key:"insertAt",value:function($,V,K){if(typeof V=="string"&&V.endsWith(`
`)){var X=d.default.create(I.blotName);this.parent.insertBefore(X,$===0?this:this.next),X.insertAt(0,V.slice(0,-1))}else s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,$,V,K)}}]),M}(d.default.Embed);O.scope=d.default.Scope.BLOCK_BLOT;var I=function(P){x(M,P);function M(N){C(this,M);var $=S(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,N));return $.cache={},$}return o(M,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function($,V){return V.length()===0?$:$.insert(V.value(),T(V))},new c.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function($,V){s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"deleteAt",this).call(this,$,V),this.cache={}}},{key:"formatAt",value:function($,V,K,X){V<=0||(d.default.query(K,d.default.Scope.BLOCK)?$+V===this.length()&&this.format(K,X):s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"formatAt",this).call(this,$,Math.min(V,this.length()-$-1),K,X),this.cache={})}},{key:"insertAt",value:function($,V,K){if(K!=null)return s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,$,V,K);if(V.length!==0){var X=V.split(`
`),Y=X.shift();Y.length>0&&($<this.length()-1||this.children.tail==null?s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,Math.min($,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var W=this;X.reduce(function(j,b){return W=W.split(j,!0),W.insertAt(0,b),b.length},$+Y.length)}}},{key:"insertBefore",value:function($,V){var K=this.children.head;s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertBefore",this).call(this,$,V),K instanceof g.default&&K.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"length",this).call(this)+_),this.cache.length}},{key:"moveChildren",value:function($,V){s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"moveChildren",this).call(this,$,V),this.cache={}}},{key:"optimize",value:function($){s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,$),this.cache={}}},{key:"path",value:function($){return s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"path",this).call(this,$,!0)}},{key:"removeChild",value:function($){s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"removeChild",this).call(this,$),this.cache={}}},{key:"split",value:function($){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(V&&($===0||$>=this.length()-_)){var K=this.clone();return $===0?(this.parent.insertBefore(K,this),this):(this.parent.insertBefore(K,this.next),K)}else{var X=s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"split",this).call(this,$,V);return this.cache={},X}}}]),M}(d.default.Block);I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[y.default,d.default.Embed,m.default];function T(P){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return P==null||(typeof P.formats=="function"&&(M=(0,l.default)(M,P.formats())),P.parent==null||P.parent.blotName=="scroll"||P.parent.statics.scope!==P.statics.scope)?M:T(P.parent,M)}r.bubbleFormats=T,r.BlockEmbed=O,r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},s=function(){function W(j,b){var R=[],E=!0,H=!1,D=void 0;try{for(var A=j[Symbol.iterator](),B;!(E=(B=A.next()).done)&&(R.push(B.value),!(b&&R.length===b));E=!0);}catch(U){H=!0,D=U}finally{try{!E&&A.return&&A.return()}finally{if(H)throw D}}return R}return function(j,b){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return W(j,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(j,b){for(var R=0;R<b.length;R++){var E=b[R];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(j,E.key,E)}}return function(j,b,R){return b&&W(j.prototype,b),R&&W(j,R),j}}();i(50);var l=i(2),u=T(l),c=i(14),h=T(c),d=i(8),f=T(d),g=i(9),v=T(g),y=i(0),p=T(y),m=i(15),w=T(m),C=i(3),S=T(C),x=i(10),_=T(x),O=i(34),I=T(O);function T(W){return W&&W.__esModule?W:{default:W}}function P(W,j,b){return j in W?Object.defineProperty(W,j,{value:b,enumerable:!0,configurable:!0,writable:!0}):W[j]=b,W}function M(W,j){if(!(W instanceof j))throw new TypeError("Cannot call a class as a function")}var N=(0,_.default)("quill"),$=function(){a(W,null,[{key:"debug",value:function(b){b===!0&&(b="log"),_.default.level(b)}},{key:"find",value:function(b){return b.__quill||p.default.find(b)}},{key:"import",value:function(b){return this.imports[b]==null&&N.error("Cannot import "+b+". Are you sure it was registered?"),this.imports[b]}},{key:"register",value:function(b,R){var E=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof b!="string"){var D=b.attrName||b.blotName;typeof D=="string"?this.register("formats/"+D,b,R):Object.keys(b).forEach(function(A){E.register(A,b[A],R)})}else this.imports[b]!=null&&!H&&N.warn("Overwriting "+b+" with",R),this.imports[b]=R,(b.startsWith("blots/")||b.startsWith("formats/"))&&R.blotName!=="abstract"?p.default.register(R):b.startsWith("modules")&&typeof R.register=="function"&&R.register()}}]);function W(j){var b=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(M(this,W),this.options=V(j,R),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",j);this.options.debug&&W.debug(this.options.debug);var E=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,function(D){D===f.default.events.TEXT_CHANGE&&b.root.classList.toggle("ql-blank",b.editor.isBlank())}),this.emitter.on(f.default.events.SCROLL_UPDATE,function(D,A){var B=b.selection.lastRange,U=B&&B.length===0?B.index:void 0;K.call(b,function(){return b.editor.update(null,A,U)},D)});var H=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+E+"<p><br></p></div>");this.setContents(H),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(W,[{key:"addContainer",value:function(b){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof b=="string"){var E=b;b=document.createElement("div"),b.classList.add(E)}return this.container.insertBefore(b,R),b}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(b,R,E){var H=this,D=X(b,R,E),A=s(D,4);return b=A[0],R=A[1],E=A[3],K.call(this,function(){return H.editor.deleteText(b,R)},E,b,-1*R)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(b),this.container.classList.toggle("ql-disabled",!b)}},{key:"focus",value:function(){var b=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=b,this.scrollIntoView()}},{key:"format",value:function(b,R){var E=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;return K.call(this,function(){var D=E.getSelection(!0),A=new u.default;if(D==null)return A;if(p.default.query(b,p.default.Scope.BLOCK))A=E.editor.formatLine(D.index,D.length,P({},b,R));else{if(D.length===0)return E.selection.format(b,R),A;A=E.editor.formatText(D.index,D.length,P({},b,R))}return E.setSelection(D,f.default.sources.SILENT),A},H)}},{key:"formatLine",value:function(b,R,E,H,D){var A=this,B=void 0,U=X(b,R,E,H,D),q=s(U,4);return b=q[0],R=q[1],B=q[2],D=q[3],K.call(this,function(){return A.editor.formatLine(b,R,B)},D,b,0)}},{key:"formatText",value:function(b,R,E,H,D){var A=this,B=void 0,U=X(b,R,E,H,D),q=s(U,4);return b=q[0],R=q[1],B=q[2],D=q[3],K.call(this,function(){return A.editor.formatText(b,R,B)},D,b,0)}},{key:"getBounds",value:function(b){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=void 0;typeof b=="number"?E=this.selection.getBounds(b,R):E=this.selection.getBounds(b.index,b.length);var H=this.container.getBoundingClientRect();return{bottom:E.bottom-H.top,height:E.height,left:E.left-H.left,right:E.right-H.left,top:E.top-H.top,width:E.width}}},{key:"getContents",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-b,E=X(b,R),H=s(E,2);return b=H[0],R=H[1],this.editor.getContents(b,R)}},{key:"getFormat",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof b=="number"?this.editor.getFormat(b,R):this.editor.getFormat(b.index,b.length)}},{key:"getIndex",value:function(b){return b.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(b){return this.scroll.leaf(b)}},{key:"getLine",value:function(b){return this.scroll.line(b)}},{key:"getLines",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof b!="number"?this.scroll.lines(b.index,b.length):this.scroll.lines(b,R)}},{key:"getModule",value:function(b){return this.theme.modules[b]}},{key:"getSelection",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return b&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-b,E=X(b,R),H=s(E,2);return b=H[0],R=H[1],this.editor.getText(b,R)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(b,R,E){var H=this,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W.sources.API;return K.call(this,function(){return H.editor.insertEmbed(b,R,E)},D,b)}},{key:"insertText",value:function(b,R,E,H,D){var A=this,B=void 0,U=X(b,0,E,H,D),q=s(U,4);return b=q[0],B=q[2],D=q[3],K.call(this,function(){return A.editor.insertText(b,R,B)},D,b,R.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(b,R,E){this.clipboard.dangerouslyPasteHTML(b,R,E)}},{key:"removeFormat",value:function(b,R,E){var H=this,D=X(b,R,E),A=s(D,4);return b=A[0],R=A[1],E=A[3],K.call(this,function(){return H.editor.removeFormat(b,R)},E,b)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(b){var R=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return K.call(this,function(){b=new u.default(b);var H=R.getLength(),D=R.editor.deleteText(0,H),A=R.editor.applyDelta(b),B=A.ops[A.ops.length-1];B!=null&&typeof B.insert=="string"&&B.insert[B.insert.length-1]===`
`&&(R.editor.deleteText(R.getLength()-1,1),A.delete(1));var U=D.compose(A);return U},E)}},{key:"setSelection",value:function(b,R,E){if(b==null)this.selection.setRange(null,R||W.sources.API);else{var H=X(b,R,E),D=s(H,4);b=D[0],R=D[1],E=D[3],this.selection.setRange(new m.Range(b,R),E),E!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(b){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API,E=new u.default().insert(b);return this.setContents(E,R)}},{key:"update",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,R=this.scroll.update(b);return this.selection.update(b),R}},{key:"updateContents",value:function(b){var R=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return K.call(this,function(){return b=new u.default(b),R.editor.applyDelta(b,E)},E,!0)}}]),W}();$.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},$.events=f.default.events,$.sources=f.default.sources,$.version="1.3.7",$.imports={delta:u.default,parchment:p.default,"core/module":v.default,"core/theme":I.default};function V(W,j){if(j=(0,S.default)(!0,{container:W,modules:{clipboard:!0,keyboard:!0,history:!0}},j),!j.theme||j.theme===$.DEFAULTS.theme)j.theme=I.default;else if(j.theme=$.import("themes/"+j.theme),j.theme==null)throw new Error("Invalid theme "+j.theme+". Did you register it?");var b=(0,S.default)(!0,{},j.theme.DEFAULTS);[b,j].forEach(function(H){H.modules=H.modules||{},Object.keys(H.modules).forEach(function(D){H.modules[D]===!0&&(H.modules[D]={})})});var R=Object.keys(b.modules).concat(Object.keys(j.modules)),E=R.reduce(function(H,D){var A=$.import("modules/"+D);return A==null?N.error("Cannot load "+D+" module. Are you sure you registered it?"):H[D]=A.DEFAULTS||{},H},{});return j.modules!=null&&j.modules.toolbar&&j.modules.toolbar.constructor!==Object&&(j.modules.toolbar={container:j.modules.toolbar}),j=(0,S.default)(!0,{},$.DEFAULTS,{modules:E},b,j),["bounds","container","scrollingContainer"].forEach(function(H){typeof j[H]=="string"&&(j[H]=document.querySelector(j[H]))}),j.modules=Object.keys(j.modules).reduce(function(H,D){return j.modules[D]&&(H[D]=j.modules[D]),H},{}),j}function K(W,j,b,R){if(this.options.strict&&!this.isEnabled()&&j===f.default.sources.USER)return new u.default;var E=b==null?null:this.getSelection(),H=this.editor.delta,D=W();if(E!=null&&(b===!0&&(b=E.index),R==null?E=Y(E,D,j):R!==0&&(E=Y(E,b,R,j)),this.setSelection(E,f.default.sources.SILENT)),D.length()>0){var A,B=[f.default.events.TEXT_CHANGE,D,H,j];if((A=this.emitter).emit.apply(A,[f.default.events.EDITOR_CHANGE].concat(B)),j!==f.default.sources.SILENT){var U;(U=this.emitter).emit.apply(U,B)}}return D}function X(W,j,b,R,E){var H={};return typeof W.index=="number"&&typeof W.length=="number"?typeof j!="number"?(E=R,R=b,b=j,j=W.length,W=W.index):(j=W.length,W=W.index):typeof j!="number"&&(E=R,R=b,b=j,j=0),(typeof b>"u"?"undefined":o(b))==="object"?(H=b,E=R):typeof b=="string"&&(R!=null?H[b]=R:E=b),E=E||f.default.sources.API,[W,j,H,E]}function Y(W,j,b,R){if(W==null)return null;var E=void 0,H=void 0;if(j instanceof u.default){var D=[W.index,W.index+W.length].map(function(q){return j.transformPosition(q,R!==f.default.sources.USER)}),A=s(D,2);E=A[0],H=A[1]}else{var B=[W.index,W.index+W.length].map(function(q){return q<j||q===j&&R===f.default.sources.USER?q:b>=0?q+b:Math.max(j,q+b)}),U=s(B,2);E=U[0],H=U[1]}return new m.Range(E,H-E)}r.expandConfig=V,r.overload=X,r.default=$},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(p,m){for(var w=0;w<m.length;w++){var C=m[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,m,w){return m&&y(p.prototype,m),w&&y(p,w),p}}(),s=function y(p,m,w){p===null&&(p=Function.prototype);var C=Object.getOwnPropertyDescriptor(p,m);if(C===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:y(S,m,w)}else{if("value"in C)return C.value;var x=C.get;return x===void 0?void 0:x.call(w)}},a=i(7),l=h(a),u=i(0),c=h(u);function h(y){return y&&y.__esModule?y:{default:y}}function d(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function f(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function g(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var v=function(y){g(p,y);function p(){return d(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"formatAt",value:function(w,C,S,x){if(p.compare(this.statics.blotName,S)<0&&c.default.query(S,c.default.Scope.BLOT)){var _=this.isolate(w,C);x&&_.wrap(S,x)}else s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,w,C,S,x)}},{key:"optimize",value:function(w){if(s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,w),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var C=this.parent.isolate(this.offset(),this.length());this.moveChildren(C),C.wrap(this)}}}],[{key:"compare",value:function(w,C){var S=p.order.indexOf(w),x=p.order.indexOf(C);return S>=0||x>=0?S-x:w===C?0:w<C?-1:1}}]),p}(c.default.Inline);v.allowedChildren=[v,c.default.Embed,l.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(w,C){for(var S=0;S<C.length;S++){var x=C[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}return function(w,C,S){return C&&m(w.prototype,C),S&&m(w,S),w}}(),s=function m(w,C,S){w===null&&(w=Function.prototype);var x=Object.getOwnPropertyDescriptor(w,C);if(x===void 0){var _=Object.getPrototypeOf(w);return _===null?void 0:m(_,C,S)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(S)}},a=i(54),l=h(a),u=i(10),c=h(u);function h(m){return m&&m.__esModule?m:{default:m}}function d(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function f(m,w){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:m}function g(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}var v=(0,c.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(m){document.addEventListener(m,function(){for(var w=arguments.length,C=Array(w),S=0;S<w;S++)C[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(x){if(x.__quill&&x.__quill.emitter){var _;(_=x.__quill.emitter).handleDOM.apply(_,C)}})})});var p=function(m){g(w,m);function w(){d(this,w);var C=f(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return C.listeners={},C.on("error",v.error),C}return o(w,[{key:"emit",value:function(){v.log.apply(v,arguments),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var x=arguments.length,_=Array(x>1?x-1:0),O=1;O<x;O++)_[O-1]=arguments[O];(this.listeners[S.type]||[]).forEach(function(I){var T=I.node,P=I.handler;(S.target===T||T.contains(S.target))&&P.apply(void 0,[S].concat(_))})}},{key:"listenDOM",value:function(S,x,_){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:x,handler:_})}}]),w}(l.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var c,h=arguments.length,d=Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];(c=console)[u].apply(c,d)}}function l(u){return o.reduce(function(c,h){return c[h]=a.bind(console,h,u),c},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(d,f,g){return g||(g={}),d===f?!0:d instanceof Date&&f instanceof Date?d.getTime()===f.getTime():!d||!f||typeof d!="object"&&typeof f!="object"?g.strict?d===f:d==f:h(d,f,g)};function u(d){return d==null}function c(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function h(d,f,g){var v,y;if(u(d)||u(f)||d.prototype!==f.prototype)return!1;if(a(d))return a(f)?(d=o.call(d),f=o.call(f),l(d,f,g)):!1;if(c(d)){if(!c(f)||d.length!==f.length)return!1;for(v=0;v<d.length;v++)if(d[v]!==f[v])return!1;return!0}try{var p=s(d),m=s(f)}catch{return!1}if(p.length!=m.length)return!1;for(p.sort(),m.sort(),v=p.length-1;v>=0;v--)if(p[v]!=m[v])return!1;for(v=p.length-1;v>=0;v--)if(y=p[v],!l(d[y],f[y],g))return!1;return typeof d==typeof f}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var h=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|h:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var c=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function O(I,T){var P=[],M=!0,N=!1,$=void 0;try{for(var V=I[Symbol.iterator](),K;!(M=(K=V.next()).done)&&(P.push(K.value),!(T&&P.length===T));M=!0);}catch(X){N=!0,$=X}finally{try{!M&&V.return&&V.return()}finally{if(N)throw $}}return P}return function(I,T){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return O(I,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function O(I,T){for(var P=0;P<T.length;P++){var M=T[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(I,M.key,M)}}return function(I,T,P){return T&&O(I.prototype,T),P&&O(I,P),I}}(),a=function O(I,T,P){I===null&&(I=Function.prototype);var M=Object.getOwnPropertyDescriptor(I,T);if(M===void 0){var N=Object.getPrototypeOf(I);return N===null?void 0:O(N,T,P)}else{if("value"in M)return M.value;var $=M.get;return $===void 0?void 0:$.call(P)}},l=i(2),u=m(l),c=i(0),h=m(c),d=i(4),f=m(d),g=i(6),v=m(g),y=i(7),p=m(y);function m(O){return O&&O.__esModule?O:{default:O}}function w(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function C(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function S(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}var x=function(O){S(I,O);function I(){return w(this,I),C(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return I}(v.default);x.blotName="code",x.tagName="CODE";var _=function(O){S(I,O);function I(){return w(this,I),C(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,[{key:"delta",value:function(){var P=this,M=this.domNode.textContent;return M.endsWith(`
`)&&(M=M.slice(0,-1)),M.split(`
`).reduce(function(N,$){return N.insert($).insert(`
`,P.formats())},new u.default)}},{key:"format",value:function(P,M){if(!(P===this.statics.blotName&&M)){var N=this.descendant(p.default,this.length()-1),$=o(N,1),V=$[0];V!=null&&V.deleteAt(V.length()-1,1),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,P,M)}}},{key:"formatAt",value:function(P,M,N,$){if(M!==0&&!(h.default.query(N,h.default.Scope.BLOCK)==null||N===this.statics.blotName&&$===this.statics.formats(this.domNode))){var V=this.newlineIndex(P);if(!(V<0||V>=P+M)){var K=this.newlineIndex(P,!0)+1,X=V-K+1,Y=this.isolate(K,X),W=Y.next;Y.format(N,$),W instanceof I&&W.formatAt(0,P-K+M-X,N,$)}}}},{key:"insertAt",value:function(P,M,N){if(N==null){var $=this.descendant(p.default,P),V=o($,2),K=V[0],X=V[1];K.insertAt(X,M)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M)return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var N=this.domNode.textContent.slice(P).indexOf(`
`);return N>-1?P+N:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,P);var M=this.next;M!=null&&M.prev===this&&M.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===M.statics.formats(M.domNode)&&(M.optimize(P),M.moveChildren(this),M.remove())}},{key:"replace",value:function(P){a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(M){var N=h.default.find(M);N==null?M.parentNode.removeChild(M):N instanceof h.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(P){var M=a(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,P);return M.setAttribute("spellcheck",!1),M}},{key:"formats",value:function(){return!0}}]),I}(f.default);_.blotName="code-block",_.tagName="PRE",_.TAB="  ",r.Code=x,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},s=function(){function W(j,b){var R=[],E=!0,H=!1,D=void 0;try{for(var A=j[Symbol.iterator](),B;!(E=(B=A.next()).done)&&(R.push(B.value),!(b&&R.length===b));E=!0);}catch(U){H=!0,D=U}finally{try{!E&&A.return&&A.return()}finally{if(H)throw D}}return R}return function(j,b){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return W(j,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(j,b){for(var R=0;R<b.length;R++){var E=b[R];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(j,E.key,E)}}return function(j,b,R){return b&&W(j.prototype,b),R&&W(j,R),j}}(),l=i(2),u=M(l),c=i(20),h=M(c),d=i(0),f=M(d),g=i(13),v=M(g),y=i(24),p=M(y),m=i(4),w=M(m),C=i(16),S=M(C),x=i(21),_=M(x),O=i(11),I=M(O),T=i(3),P=M(T);function M(W){return W&&W.__esModule?W:{default:W}}function N(W,j,b){return j in W?Object.defineProperty(W,j,{value:b,enumerable:!0,configurable:!0,writable:!0}):W[j]=b,W}function $(W,j){if(!(W instanceof j))throw new TypeError("Cannot call a class as a function")}var V=/^[ -~]*$/,K=function(){function W(j){$(this,W),this.scroll=j,this.delta=this.getDelta()}return a(W,[{key:"applyDelta",value:function(b){var R=this,E=!1;this.scroll.update();var H=this.scroll.length();return this.scroll.batchStart(),b=Y(b),b.reduce(function(D,A){var B=A.retain||A.delete||A.insert.length||1,U=A.attributes||{};if(A.insert!=null){if(typeof A.insert=="string"){var q=A.insert;q.endsWith(`
`)&&E&&(E=!1,q=q.slice(0,-1)),D>=H&&!q.endsWith(`
`)&&(E=!0),R.scroll.insertAt(D,q);var ie=R.scroll.line(D),ue=s(ie,2),ve=ue[0],Ce=ue[1],re=(0,P.default)({},(0,m.bubbleFormats)(ve));if(ve instanceof w.default){var Oe=ve.descendant(f.default.Leaf,Ce),$e=s(Oe,1),Fe=$e[0];re=(0,P.default)(re,(0,m.bubbleFormats)(Fe))}U=h.default.attributes.diff(re,U)||{}}else if(o(A.insert)==="object"){var le=Object.keys(A.insert)[0];if(le==null)return D;R.scroll.insertAt(D,le,A.insert[le])}H+=B}return Object.keys(U).forEach(function(se){R.scroll.formatAt(D,B,se,U[se])}),D+B},0),b.reduce(function(D,A){return typeof A.delete=="number"?(R.scroll.deleteAt(D,A.delete),D):D+(A.retain||A.insert.length||1)},0),this.scroll.batchEnd(),this.update(b)}},{key:"deleteText",value:function(b,R){return this.scroll.deleteAt(b,R),this.update(new u.default().retain(b).delete(R))}},{key:"formatLine",value:function(b,R){var E=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(H).forEach(function(D){if(!(E.scroll.whitelist!=null&&!E.scroll.whitelist[D])){var A=E.scroll.lines(b,Math.max(R,1)),B=R;A.forEach(function(U){var q=U.length();if(!(U instanceof v.default))U.format(D,H[D]);else{var ie=b-U.offset(E.scroll),ue=U.newlineIndex(ie+B)-ie+1;U.formatAt(ie,ue,D,H[D])}B-=q})}}),this.scroll.optimize(),this.update(new u.default().retain(b).retain(R,(0,_.default)(H)))}},{key:"formatText",value:function(b,R){var E=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(H).forEach(function(D){E.scroll.formatAt(b,R,D,H[D])}),this.update(new u.default().retain(b).retain(R,(0,_.default)(H)))}},{key:"getContents",value:function(b,R){return this.delta.slice(b,b+R)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(b,R){return b.concat(R.delta())},new u.default)}},{key:"getFormat",value:function(b){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=[],H=[];R===0?this.scroll.path(b).forEach(function(A){var B=s(A,1),U=B[0];U instanceof w.default?E.push(U):U instanceof f.default.Leaf&&H.push(U)}):(E=this.scroll.lines(b,R),H=this.scroll.descendants(f.default.Leaf,b,R));var D=[E,H].map(function(A){if(A.length===0)return{};for(var B=(0,m.bubbleFormats)(A.shift());Object.keys(B).length>0;){var U=A.shift();if(U==null)return B;B=X((0,m.bubbleFormats)(U),B)}return B});return P.default.apply(P.default,D)}},{key:"getText",value:function(b,R){return this.getContents(b,R).filter(function(E){return typeof E.insert=="string"}).map(function(E){return E.insert}).join("")}},{key:"insertEmbed",value:function(b,R,E){return this.scroll.insertAt(b,R,E),this.update(new u.default().retain(b).insert(N({},R,E)))}},{key:"insertText",value:function(b,R){var E=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R=R.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(b,R),Object.keys(H).forEach(function(D){E.scroll.formatAt(b,R.length,D,H[D])}),this.update(new u.default().retain(b).insert(R,(0,_.default)(H)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var b=this.scroll.children.head;return b.statics.blotName!==w.default.blotName||b.children.length>1?!1:b.children.head instanceof S.default}},{key:"removeFormat",value:function(b,R){var E=this.getText(b,R),H=this.scroll.line(b+R),D=s(H,2),A=D[0],B=D[1],U=0,q=new u.default;A!=null&&(A instanceof v.default?U=A.newlineIndex(B)-B+1:U=A.length()-B,q=A.delta().slice(B,B+U-1).insert(`
`));var ie=this.getContents(b,R+U),ue=ie.diff(new u.default().insert(E).concat(q)),ve=new u.default().retain(b).concat(ue);return this.applyDelta(ve)}},{key:"update",value:function(b){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,H=this.delta;if(R.length===1&&R[0].type==="characterData"&&R[0].target.data.match(V)&&f.default.find(R[0].target)){var D=f.default.find(R[0].target),A=(0,m.bubbleFormats)(D),B=D.offset(this.scroll),U=R[0].oldValue.replace(p.default.CONTENTS,""),q=new u.default().insert(U),ie=new u.default().insert(D.value()),ue=new u.default().retain(B).concat(q.diff(ie,E));b=ue.reduce(function(ve,Ce){return Ce.insert?ve.insert(Ce.insert,A):ve.push(Ce)},new u.default),this.delta=H.compose(b)}else this.delta=this.getDelta(),(!b||!(0,I.default)(H.compose(b),this.delta))&&(b=H.diff(this.delta,E));return b}}]),W}();function X(W,j){return Object.keys(j).reduce(function(b,R){return W[R]==null||(j[R]===W[R]?b[R]=j[R]:Array.isArray(j[R])?j[R].indexOf(W[R])<0&&(b[R]=j[R].concat([W[R]])):b[R]=[j[R],W[R]]),b},{})}function Y(W){return W.reduce(function(j,b){if(b.insert===1){var R=(0,_.default)(b.attributes);return delete R.image,j.insert({image:b.attributes.image},R)}if(b.attributes!=null&&(b.attributes.list===!0||b.attributes.bullet===!0)&&(b=(0,_.default)(b),b.attributes.list?b.attributes.list="ordered":(b.attributes.list="bullet",delete b.attributes.bullet)),typeof b.insert=="string"){var E=b.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return j.insert(E,b.attributes)}return j.push(b)},new u.default)}r.default=K},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function O(I,T){var P=[],M=!0,N=!1,$=void 0;try{for(var V=I[Symbol.iterator](),K;!(M=(K=V.next()).done)&&(P.push(K.value),!(T&&P.length===T));M=!0);}catch(X){N=!0,$=X}finally{try{!M&&V.return&&V.return()}finally{if(N)throw $}}return P}return function(I,T){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return O(I,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function O(I,T){for(var P=0;P<T.length;P++){var M=T[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(I,M.key,M)}}return function(I,T,P){return T&&O(I.prototype,T),P&&O(I,P),I}}(),a=i(0),l=p(a),u=i(21),c=p(u),h=i(11),d=p(h),f=i(8),g=p(f),v=i(10),y=p(v);function p(O){return O&&O.__esModule?O:{default:O}}function m(O){if(Array.isArray(O)){for(var I=0,T=Array(O.length);I<O.length;I++)T[I]=O[I];return T}else return Array.from(O)}function w(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}var C=(0,y.default)("quill:selection"),S=function O(I){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,O),this.index=I,this.length=T},x=function(){function O(I,T){var P=this;w(this,O),this.emitter=T,this.scroll=I,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(M,N){M===g.default.events.TEXT_CHANGE&&N.length()>0&&P.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var M=P.getNativeRange();M!=null&&M.start.node!==P.cursor.textNode&&P.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(M.start.node,M.start.offset,M.end.node,M.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(M,N){if(N.range){var $=N.range,V=$.startNode,K=$.startOffset,X=$.endNode,Y=$.endOffset;P.setNativeRange(V,K,X,Y)}}),this.update(g.default.sources.SILENT)}return s(O,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var P=T.cursor.restore();if(!P)return;setTimeout(function(){T.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,P){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var M=this.getNativeRange();if(!(M==null||!M.native.collapsed||l.default.query(T,l.default.Scope.BLOCK))){if(M.start.node!==this.cursor.textNode){var N=l.default.find(M.start.node,!1);if(N==null)return;if(N instanceof l.default.Leaf){var $=N.split(M.start.offset);N.parent.insertBefore(this.cursor,$)}else N.insertBefore(this.cursor,M.start.node);this.cursor.attach()}this.cursor.format(T,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=this.scroll.length();T=Math.min(T,M-1),P=Math.min(T+P,M-1)-T;var N=void 0,$=this.scroll.leaf(T),V=o($,2),K=V[0],X=V[1];if(K==null)return null;var Y=K.position(X,!0),W=o(Y,2);N=W[0],X=W[1];var j=document.createRange();if(P>0){j.setStart(N,X);var b=this.scroll.leaf(T+P),R=o(b,2);if(K=R[0],X=R[1],K==null)return null;var E=K.position(X,!0),H=o(E,2);return N=H[0],X=H[1],j.setEnd(N,X),j.getBoundingClientRect()}else{var D="left",A=void 0;return N instanceof Text?(X<N.data.length?(j.setStart(N,X),j.setEnd(N,X+1)):(j.setStart(N,X-1),j.setEnd(N,X),D="right"),A=j.getBoundingClientRect()):(A=K.domNode.getBoundingClientRect(),X>0&&(D="right")),{bottom:A.top+A.height,height:A.height,left:A[D],right:A[D],top:A.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var P=T.getRangeAt(0);if(P==null)return null;var M=this.normalizeNative(P);return C.info("getNativeRange",M),M}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var P=this.normalizedToRange(T);return[P,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var P=this,M=[[T.start.node,T.start.offset]];T.native.collapsed||M.push([T.end.node,T.end.offset]);var N=M.map(function(K){var X=o(K,2),Y=X[0],W=X[1],j=l.default.find(Y,!0),b=j.offset(P.scroll);return W===0?b:j instanceof l.default.Container?b+j.length():b+j.index(Y,W)}),$=Math.min(Math.max.apply(Math,m(N)),this.scroll.length()-1),V=Math.min.apply(Math,[$].concat(m(N)));return new S(V,$-V)}},{key:"normalizeNative",value:function(T){if(!_(this.root,T.startContainer)||!T.collapsed&&!_(this.root,T.endContainer))return null;var P={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[P.start,P.end].forEach(function(M){for(var N=M.node,$=M.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>$)N=N.childNodes[$],$=0;else if(N.childNodes.length===$)N=N.lastChild,$=N instanceof Text?N.data.length:N.childNodes.length+1;else break;M.node=N,M.offset=$}),P}},{key:"rangeToNative",value:function(T){var P=this,M=T.collapsed?[T.index]:[T.index,T.index+T.length],N=[],$=this.scroll.length();return M.forEach(function(V,K){V=Math.min($-1,V);var X=void 0,Y=P.scroll.leaf(V),W=o(Y,2),j=W[0],b=W[1],R=j.position(b,K!==0),E=o(R,2);X=E[0],b=E[1],N.push(X,b)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(T){var P=this.lastRange;if(P!=null){var M=this.getBounds(P.index,P.length);if(M!=null){var N=this.scroll.length()-1,$=this.scroll.line(Math.min(P.index,N)),V=o($,1),K=V[0],X=K;if(P.length>0){var Y=this.scroll.line(Math.min(P.index+P.length,N)),W=o(Y,1);X=W[0]}if(!(K==null||X==null)){var j=T.getBoundingClientRect();M.top<j.top?T.scrollTop-=j.top-M.top:M.bottom>j.bottom&&(T.scrollTop+=M.bottom-j.bottom)}}}}},{key:"setNativeRange",value:function(T,P){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(C.info("setNativeRange",T,P,M,N),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||M.parentNode==null))){var V=document.getSelection();if(V!=null)if(T!=null){this.hasFocus()||this.root.focus();var K=(this.getNativeRange()||{}).native;if(K==null||$||T!==K.startContainer||P!==K.startOffset||M!==K.endContainer||N!==K.endOffset){T.tagName=="BR"&&(P=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),M.tagName=="BR"&&(N=[].indexOf.call(M.parentNode.childNodes,M),M=M.parentNode);var X=document.createRange();X.setStart(T,P),X.setEnd(M,N),V.removeAllRanges(),V.addRange(X)}}else V.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof P=="string"&&(M=P,P=!1),C.info("setRange",T),T!=null){var N=this.rangeToNative(T);this.setNativeRange.apply(this,m(N).concat([P]))}else this.setNativeRange(null);this.update(M)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,P=this.lastRange,M=this.getRange(),N=o(M,2),$=N[0],V=N[1];if(this.lastRange=$,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(P,this.lastRange)){var K;!this.composing&&V!=null&&V.native.collapsed&&V.start.node!==this.cursor.textNode&&this.cursor.restore();var X=[g.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(P),T];if((K=this.emitter).emit.apply(K,[g.default.events.EDITOR_CHANGE].concat(X)),T!==g.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,X)}}}}]),O}();function _(O,I){try{I.parentNode}catch{return!1}return I instanceof Text&&(I=I.parentNode),O.contains(I)}r.Range=S,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(v,y){for(var p=0;p<y.length;p++){var m=y[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,y,p){return y&&g(v.prototype,y),p&&g(v,p),v}}(),s=function g(v,y,p){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,y);if(m===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,y,p)}else{if("value"in m)return m.value;var C=m.get;return C===void 0?void 0:C.call(p)}},a=i(0),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function d(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){d(v,g);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(p,m){p.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,p,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(l.default.Embed);f.blotName="break",f.tagName="BR",r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var g in f)f.hasOwnProperty(g)&&(d[g]=f[g])};return function(d,f){h(d,f);function g(){this.constructor=d}d.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(h){o(d,h);function d(f){var g=h.call(this,f)||this;return g.build(),g}return d.prototype.appendChild=function(f){this.insertBefore(f)},d.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(f){f.attach()})},d.prototype.build=function(){var f=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var v=c(g);f.insertBefore(v,f.children.head||void 0)}catch(y){if(y instanceof l.ParchmentError)return;throw y}})},d.prototype.deleteAt=function(f,g){if(f===0&&g===this.length())return this.remove();this.children.forEachAt(f,g,function(v,y,p){v.deleteAt(y,p)})},d.prototype.descendant=function(f,g){var v=this.children.find(g),y=v[0],p=v[1];return f.blotName==null&&f(y)||f.blotName!=null&&y instanceof f?[y,p]:y instanceof d?y.descendant(f,p):[null,-1]},d.prototype.descendants=function(f,g,v){g===void 0&&(g=0),v===void 0&&(v=Number.MAX_VALUE);var y=[],p=v;return this.children.forEachAt(g,v,function(m,w,C){(f.blotName==null&&f(m)||f.blotName!=null&&m instanceof f)&&y.push(m),m instanceof d&&(y=y.concat(m.descendants(f,w,p))),p-=C}),y},d.prototype.detach=function(){this.children.forEach(function(f){f.detach()}),h.prototype.detach.call(this)},d.prototype.formatAt=function(f,g,v,y){this.children.forEachAt(f,g,function(p,m,w){p.formatAt(m,w,v,y)})},d.prototype.insertAt=function(f,g,v){var y=this.children.find(f),p=y[0],m=y[1];if(p)p.insertAt(m,g,v);else{var w=v==null?l.create("text",g):l.create(g,v);this.appendChild(w)}},d.prototype.insertBefore=function(f,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return f instanceof v}))throw new l.ParchmentError("Cannot insert "+f.statics.blotName+" into "+this.statics.blotName);f.insertInto(this,g)},d.prototype.length=function(){return this.children.reduce(function(f,g){return f+g.length()},0)},d.prototype.moveChildren=function(f,g){this.children.forEach(function(v){f.insertBefore(v,g)})},d.prototype.optimize=function(f){if(h.prototype.optimize.call(this,f),this.children.length===0)if(this.statics.defaultChild!=null){var g=l.create(this.statics.defaultChild);this.appendChild(g),g.optimize(f)}else this.remove()},d.prototype.path=function(f,g){g===void 0&&(g=!1);var v=this.children.find(f,g),y=v[0],p=v[1],m=[[this,f]];return y instanceof d?m.concat(y.path(p,g)):(y!=null&&m.push([y,p]),m)},d.prototype.removeChild=function(f){this.children.remove(f)},d.prototype.replace=function(f){f instanceof d&&f.moveChildren(this),h.prototype.replace.call(this,f)},d.prototype.split=function(f,g){if(g===void 0&&(g=!1),!g){if(f===0)return this;if(f===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(f,this.length(),function(y,p,m){y=y.split(p,g),v.appendChild(y)}),v},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(f,g){var v=this,y=[],p=[];f.forEach(function(m){m.target===v.domNode&&m.type==="childList"&&(y.push.apply(y,m.addedNodes),p.push.apply(p,m.removedNodes))}),p.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(m);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===v.domNode)&&w.detach()}}),y.filter(function(m){return m.parentNode==v.domNode}).sort(function(m,w){return m===w?0:m.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var w=null;m.nextSibling!=null&&(w=l.find(m.nextSibling));var C=c(m);(C.next!=w||C.next==null)&&(C.parent!=null&&C.parent.removeChild(v),v.insertBefore(C,w||void 0))})},d}(a.default);function c(h){var d=l.find(h);if(d==null)try{d=l.create(h)}catch{d=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(g){d.domNode.appendChild(g)}),h.parentNode&&h.parentNode.replaceChild(d.domNode,h),d.attach()}return d}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var g in f)f.hasOwnProperty(g)&&(d[g]=f[g])};return function(d,f){h(d,f);function g(){this.constructor=d}d.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),c=function(h){o(d,h);function d(f){var g=h.call(this,f)||this;return g.attributes=new a.default(g.domNode),g}return d.formats=function(f){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return f.tagName.toLowerCase()},d.prototype.format=function(f,g){var v=u.query(f);v instanceof s.default?this.attributes.attribute(v,g):g&&v!=null&&(f!==this.statics.blotName||this.formats()[f]!==g)&&this.replaceWith(f,g)},d.prototype.formats=function(){var f=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(f[this.statics.blotName]=g),f},d.prototype.replaceWith=function(f,g){var v=h.prototype.replaceWith.call(this,f,g);return this.attributes.copy(v),v},d.prototype.update=function(f,g){var v=this;h.prototype.update.call(this,f,g),f.some(function(y){return y.target===v.domNode&&y.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(f,g){var v=h.prototype.wrap.call(this,f,g);return v instanceof d&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},d}(l.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(h){return!0},c.prototype.index=function(h,d){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},c.prototype.position=function(h,d){var f=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(f+=1),[this.parent.domNode,f]},c.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,c,h){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=s(!0,{},c);h||(d=Object.keys(d).reduce(function(g,v){return d[v]!=null&&(g[v]=d[v]),g},{}));for(var f in u)u[f]!==void 0&&c[f]===void 0&&(d[f]=u[f]);return Object.keys(d).length>0?d:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var h=Object.keys(u).concat(Object.keys(c)).reduce(function(d,f){return o(u[f],c[f])||(d[f]=c[f]===void 0?null:c[f]),d},{});return Object.keys(h).length>0?h:void 0},transform:function(u,c,h){if(typeof u!="object")return c;if(typeof c=="object"){if(!h)return c;var d=Object.keys(c).reduce(function(f,g){return u[g]===void 0&&(f[g]=c[g]),f},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var h=this.offset,d=a.length(c);if(u>=d-h?(u=d-h,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var f={};return c.attributes&&(f.attributes=c.attributes),typeof c.retain=="number"?f.retain=u:typeof c.insert=="string"?f.insert=c.insert.substr(h,u):f.insert=c.insert,f}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,h=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=c,[h].concat(d)}else return[]},n.exports=a},function(n,r){var i=function(){function o(v,y){return y!=null&&v instanceof y}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(v,y,p,m,w){typeof y=="object"&&(p=y.depth,m=y.prototype,w=y.includeNonEnumerable,y=y.circular);var C=[],S=[],x=typeof Buffer<"u";typeof y>"u"&&(y=!0),typeof p>"u"&&(p=1/0);function _(O,I){if(O===null)return null;if(I===0)return O;var T,P;if(typeof O!="object")return O;if(o(O,s))T=new s;else if(o(O,a))T=new a;else if(o(O,l))T=new l(function(j,b){O.then(function(R){j(_(R,I-1))},function(R){b(_(R,I-1))})});else if(u.__isArray(O))T=[];else if(u.__isRegExp(O))T=new RegExp(O.source,g(O)),O.lastIndex&&(T.lastIndex=O.lastIndex);else if(u.__isDate(O))T=new Date(O.getTime());else{if(x&&Buffer.isBuffer(O))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(O.length):T=new Buffer(O.length),O.copy(T),T;o(O,Error)?T=Object.create(O):typeof m>"u"?(P=Object.getPrototypeOf(O),T=Object.create(P)):(T=Object.create(m),P=m)}if(y){var M=C.indexOf(O);if(M!=-1)return S[M];C.push(O),S.push(T)}o(O,s)&&O.forEach(function(j,b){var R=_(b,I-1),E=_(j,I-1);T.set(R,E)}),o(O,a)&&O.forEach(function(j){var b=_(j,I-1);T.add(b)});for(var N in O){var $;P&&($=Object.getOwnPropertyDescriptor(P,N)),!($&&$.set==null)&&(T[N]=_(O[N],I-1))}if(Object.getOwnPropertySymbols)for(var V=Object.getOwnPropertySymbols(O),N=0;N<V.length;N++){var K=V[N],X=Object.getOwnPropertyDescriptor(O,K);X&&!X.enumerable&&!w||(T[K]=_(O[K],I-1),X.enumerable||Object.defineProperty(T,K,{enumerable:!1}))}if(w)for(var Y=Object.getOwnPropertyNames(O),N=0;N<Y.length;N++){var W=Y[N],X=Object.getOwnPropertyDescriptor(O,W);X&&X.enumerable||(T[W]=_(O[W],I-1),Object.defineProperty(T,W,{enumerable:!1}))}return T}return _(v,p)}u.clonePrototype=function(y){if(y===null)return null;var p=function(){};return p.prototype=y,new p};function c(v){return Object.prototype.toString.call(v)}u.__objToStr=c;function h(v){return typeof v=="object"&&c(v)==="[object Date]"}u.__isDate=h;function d(v){return typeof v=="object"&&c(v)==="[object Array]"}u.__isArray=d;function f(v){return typeof v=="object"&&c(v)==="[object RegExp]"}u.__isRegExp=f;function g(v){var y="";return v.global&&(y+="g"),v.ignoreCase&&(y+="i"),v.multiline&&(y+="m"),y}return u.__getRegExpFlags=g,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(P,M){var N=[],$=!0,V=!1,K=void 0;try{for(var X=P[Symbol.iterator](),Y;!($=(Y=X.next()).done)&&(N.push(Y.value),!(M&&N.length===M));$=!0);}catch(W){V=!0,K=W}finally{try{!$&&X.return&&X.return()}finally{if(V)throw K}}return N}return function(P,M){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return T(P,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(P,M){for(var N=0;N<M.length;N++){var $=M[N];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(P,$.key,$)}}return function(P,M,N){return M&&T(P.prototype,M),N&&T(P,N),P}}(),a=function T(P,M,N){P===null&&(P=Function.prototype);var $=Object.getOwnPropertyDescriptor(P,M);if($===void 0){var V=Object.getPrototypeOf(P);return V===null?void 0:T(V,M,N)}else{if("value"in $)return $.value;var K=$.get;return K===void 0?void 0:K.call(N)}},l=i(0),u=C(l),c=i(8),h=C(c),d=i(4),f=C(d),g=i(16),v=C(g),y=i(13),p=C(y),m=i(25),w=C(m);function C(T){return T&&T.__esModule?T:{default:T}}function S(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function x(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function _(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}function O(T){return T instanceof f.default||T instanceof d.BlockEmbed}var I=function(T){_(P,T);function P(M,N){S(this,P);var $=x(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,M));return $.emitter=N.emitter,Array.isArray(N.whitelist)&&($.whitelist=N.whitelist.reduce(function(V,K){return V[K]=!0,V},{})),$.domNode.addEventListener("DOMNodeInserted",function(){}),$.optimize(),$.enable(),$}return s(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,$){var V=this.line(N),K=o(V,2),X=K[0],Y=K[1],W=this.line(N+$),j=o(W,1),b=j[0];if(a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,N,$),b!=null&&X!==b&&Y>0){if(X instanceof d.BlockEmbed||b instanceof d.BlockEmbed){this.optimize();return}if(X instanceof p.default){var R=X.newlineIndex(X.length(),!0);if(R>-1&&(X=X.split(R+1),X===b)){this.optimize();return}}else if(b instanceof p.default){var E=b.newlineIndex(0);E>-1&&b.split(E+1)}var H=b.children.head instanceof v.default?null:b.children.head;X.moveChildren(b,H),X.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,$,V,K){this.whitelist!=null&&!this.whitelist[V]||(a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,N,$,V,K),this.optimize())}},{key:"insertAt",value:function(N,$,V){if(!(V!=null&&this.whitelist!=null&&!this.whitelist[$])){if(N>=this.length())if(V==null||u.default.query($,u.default.Scope.BLOCK)==null){var K=u.default.create(this.statics.defaultChild);this.appendChild(K),V==null&&$.endsWith(`
`)&&($=$.slice(0,-1)),K.insertAt(0,$,V)}else{var X=u.default.create($,V);this.appendChild(X)}else a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,N,$,V);this.optimize()}}},{key:"insertBefore",value:function(N,$){if(N.statics.scope===u.default.Scope.INLINE_BLOT){var V=u.default.create(this.statics.defaultChild);V.appendChild(N),N=V}a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,N,$)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(O,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,V=function K(X,Y,W){var j=[],b=W;return X.children.forEachAt(Y,W,function(R,E,H){O(R)?j.push(R):R instanceof u.default.Container&&(j=j.concat(K(R,E,b))),b-=H}),j};return V(this,N,$)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,N,$),N.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,N,$))}},{key:"path",value:function(N){return a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var $=h.default.sources.USER;typeof N=="string"&&($=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,$,N),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,$,N)}}}]),P}(u.default.Scroll);I.blotName="scroll",I.className="ql-editor",I.tagName="DIV",I.defaultChild="block",I.allowedChildren=[f.default,d.BlockEmbed,w.default],r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},s=function(){function A(B,U){var q=[],ie=!0,ue=!1,ve=void 0;try{for(var Ce=B[Symbol.iterator](),re;!(ie=(re=Ce.next()).done)&&(q.push(re.value),!(U&&q.length===U));ie=!0);}catch(Oe){ue=!0,ve=Oe}finally{try{!ie&&Ce.return&&Ce.return()}finally{if(ue)throw ve}}return q}return function(B,U){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return A(B,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function A(B,U){for(var q=0;q<U.length;q++){var ie=U[q];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(B,ie.key,ie)}}return function(B,U,q){return U&&A(B.prototype,U),q&&A(B,q),B}}(),l=i(21),u=T(l),c=i(11),h=T(c),d=i(3),f=T(d),g=i(2),v=T(g),y=i(20),p=T(y),m=i(0),w=T(m),C=i(5),S=T(C),x=i(10),_=T(x),O=i(9),I=T(O);function T(A){return A&&A.__esModule?A:{default:A}}function P(A,B,U){return B in A?Object.defineProperty(A,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):A[B]=U,A}function M(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}function N(A,B){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:A}function $(A,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);A.prototype=Object.create(B&&B.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(A,B):A.__proto__=B)}var V=(0,_.default)("quill:keyboard"),K=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",X=function(A){$(B,A),a(B,null,[{key:"match",value:function(q,ie){return ie=D(ie),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ue){return!!ie[ue]!==q[ue]&&ie[ue]!==null})?!1:ie.key===(q.which||q.keyCode)}}]);function B(U,q){M(this,B);var ie=N(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,U,q));return ie.bindings={},Object.keys(ie.options.bindings).forEach(function(ue){ue==="list autofill"&&U.scroll.whitelist!=null&&!U.scroll.whitelist.list||ie.options.bindings[ue]&&ie.addBinding(ie.options.bindings[ue])}),ie.addBinding({key:B.keys.ENTER,shiftKey:null},R),ie.addBinding({key:B.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ie.addBinding({key:B.keys.BACKSPACE},{collapsed:!0},W),ie.addBinding({key:B.keys.DELETE},{collapsed:!0},j)):(ie.addBinding({key:B.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},W),ie.addBinding({key:B.keys.DELETE},{collapsed:!0,suffix:/^.?$/},j)),ie.addBinding({key:B.keys.BACKSPACE},{collapsed:!1},b),ie.addBinding({key:B.keys.DELETE},{collapsed:!1},b),ie.addBinding({key:B.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},W),ie.listen(),ie}return a(B,[{key:"addBinding",value:function(q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ve=D(q);if(ve==null||ve.key==null)return V.warn("Attempted to add invalid keyboard binding",ve);typeof ie=="function"&&(ie={handler:ie}),typeof ue=="function"&&(ue={handler:ue}),ve=(0,f.default)(ve,ie,ue),this.bindings[ve.key]=this.bindings[ve.key]||[],this.bindings[ve.key].push(ve)}},{key:"listen",value:function(){var q=this;this.quill.root.addEventListener("keydown",function(ie){if(!ie.defaultPrevented){var ue=ie.which||ie.keyCode,ve=(q.bindings[ue]||[]).filter(function(ae){return B.match(ie,ae)});if(ve.length!==0){var Ce=q.quill.getSelection();if(!(Ce==null||!q.quill.hasFocus())){var re=q.quill.getLine(Ce.index),Oe=s(re,2),$e=Oe[0],Fe=Oe[1],le=q.quill.getLeaf(Ce.index),se=s(le,2),k=se[0],L=se[1],F=Ce.length===0?[k,L]:q.quill.getLeaf(Ce.index+Ce.length),Z=s(F,2),z=Z[0],J=Z[1],ee=k instanceof w.default.Text?k.value().slice(0,L):"",Q=z instanceof w.default.Text?z.value().slice(J):"",ne={collapsed:Ce.length===0,empty:Ce.length===0&&$e.length()<=1,format:q.quill.getFormat(Ce),offset:Fe,prefix:ee,suffix:Q},oe=ve.some(function(ae){if(ae.collapsed!=null&&ae.collapsed!==ne.collapsed||ae.empty!=null&&ae.empty!==ne.empty||ae.offset!=null&&ae.offset!==ne.offset)return!1;if(Array.isArray(ae.format)){if(ae.format.every(function(me){return ne.format[me]==null}))return!1}else if(o(ae.format)==="object"&&!Object.keys(ae.format).every(function(me){return ae.format[me]===!0?ne.format[me]!=null:ae.format[me]===!1?ne.format[me]==null:(0,h.default)(ae.format[me],ne.format[me])}))return!1;return ae.prefix!=null&&!ae.prefix.test(ne.prefix)||ae.suffix!=null&&!ae.suffix.test(ne.suffix)?!1:ae.handler.call(q,Ce,ne)!==!0});oe&&ie.preventDefault()}}}})}}]),B}(I.default);X.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},X.DEFAULTS={bindings:{bold:H("bold"),italic:H("italic"),underline:H("underline"),indent:{key:X.keys.TAB,format:["blockquote","indent","list"],handler:function(B,U){if(U.collapsed&&U.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:X.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(B,U){if(U.collapsed&&U.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:X.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(B,U){U.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):U.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":E(!0),"outdent code-block":E(!1),"remove tab":{key:X.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(B){this.quill.deleteText(B.index-1,1,S.default.sources.USER)}},tab:{key:X.keys.TAB,handler:function(B){this.quill.history.cutoff();var U=new v.default().retain(B.index).delete(B.length).insert("	");this.quill.updateContents(U,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index+1,S.default.sources.SILENT)}},"list empty enter":{key:X.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(B,U){this.quill.format("list",!1,S.default.sources.USER),U.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:X.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(B){var U=this.quill.getLine(B.index),q=s(U,2),ie=q[0],ue=q[1],ve=(0,f.default)({},ie.formats(),{list:"checked"}),Ce=new v.default().retain(B.index).insert(`
`,ve).retain(ie.length()-ue-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ce,S.default.sources.USER),this.quill.setSelection(B.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:X.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(B,U){var q=this.quill.getLine(B.index),ie=s(q,2),ue=ie[0],ve=ie[1],Ce=new v.default().retain(B.index).insert(`
`,U.format).retain(ue.length()-ve-1).retain(1,{header:null});this.quill.updateContents(Ce,S.default.sources.USER),this.quill.setSelection(B.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(B,U){var q=U.prefix.length,ie=this.quill.getLine(B.index),ue=s(ie,2),ve=ue[0],Ce=ue[1];if(Ce>q)return!0;var re=void 0;switch(U.prefix.trim()){case"[]":case"[ ]":re="unchecked";break;case"[x]":re="checked";break;case"-":case"*":re="bullet";break;default:re="ordered"}this.quill.insertText(B.index," ",S.default.sources.USER),this.quill.history.cutoff();var Oe=new v.default().retain(B.index-Ce).delete(q+1).retain(ve.length()-2-Ce).retain(1,{list:re});this.quill.updateContents(Oe,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index-q,S.default.sources.SILENT)}},"code exit":{key:X.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(B){var U=this.quill.getLine(B.index),q=s(U,2),ie=q[0],ue=q[1],ve=new v.default().retain(B.index+ie.length()-ue-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ve,S.default.sources.USER)}},"embed left":Y(X.keys.LEFT,!1),"embed left shift":Y(X.keys.LEFT,!0),"embed right":Y(X.keys.RIGHT,!1),"embed right shift":Y(X.keys.RIGHT,!0)}};function Y(A,B){var U,q=A===X.keys.LEFT?"prefix":"suffix";return U={key:A,shiftKey:B,altKey:null},P(U,q,/^$/),P(U,"handler",function(ue){var ve=ue.index;A===X.keys.RIGHT&&(ve+=ue.length+1);var Ce=this.quill.getLeaf(ve),re=s(Ce,1),Oe=re[0];return Oe instanceof w.default.Embed?(A===X.keys.LEFT?B?this.quill.setSelection(ue.index-1,ue.length+1,S.default.sources.USER):this.quill.setSelection(ue.index-1,S.default.sources.USER):B?this.quill.setSelection(ue.index,ue.length+1,S.default.sources.USER):this.quill.setSelection(ue.index+ue.length+1,S.default.sources.USER),!1):!0}),U}function W(A,B){if(!(A.index===0||this.quill.getLength()<=1)){var U=this.quill.getLine(A.index),q=s(U,1),ie=q[0],ue={};if(B.offset===0){var ve=this.quill.getLine(A.index-1),Ce=s(ve,1),re=Ce[0];if(re!=null&&re.length()>1){var Oe=ie.formats(),$e=this.quill.getFormat(A.index-1,1);ue=p.default.attributes.diff(Oe,$e)||{}}}var Fe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(B.prefix)?2:1;this.quill.deleteText(A.index-Fe,Fe,S.default.sources.USER),Object.keys(ue).length>0&&this.quill.formatLine(A.index-Fe,Fe,ue,S.default.sources.USER),this.quill.focus()}}function j(A,B){var U=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(B.suffix)?2:1;if(!(A.index>=this.quill.getLength()-U)){var q={},ie=0,ue=this.quill.getLine(A.index),ve=s(ue,1),Ce=ve[0];if(B.offset>=Ce.length()-1){var re=this.quill.getLine(A.index+1),Oe=s(re,1),$e=Oe[0];if($e){var Fe=Ce.formats(),le=this.quill.getFormat(A.index,1);q=p.default.attributes.diff(Fe,le)||{},ie=$e.length()}}this.quill.deleteText(A.index,U,S.default.sources.USER),Object.keys(q).length>0&&this.quill.formatLine(A.index+ie-1,U,q,S.default.sources.USER)}}function b(A){var B=this.quill.getLines(A),U={};if(B.length>1){var q=B[0].formats(),ie=B[B.length-1].formats();U=p.default.attributes.diff(ie,q)||{}}this.quill.deleteText(A,S.default.sources.USER),Object.keys(U).length>0&&this.quill.formatLine(A.index,1,U,S.default.sources.USER),this.quill.setSelection(A.index,S.default.sources.SILENT),this.quill.focus()}function R(A,B){var U=this;A.length>0&&this.quill.scroll.deleteAt(A.index,A.length);var q=Object.keys(B.format).reduce(function(ie,ue){return w.default.query(ue,w.default.Scope.BLOCK)&&!Array.isArray(B.format[ue])&&(ie[ue]=B.format[ue]),ie},{});this.quill.insertText(A.index,`
`,q,S.default.sources.USER),this.quill.setSelection(A.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(B.format).forEach(function(ie){q[ie]==null&&(Array.isArray(B.format[ie])||ie!=="link"&&U.quill.format(ie,B.format[ie],S.default.sources.USER))})}function E(A){return{key:X.keys.TAB,shiftKey:!A,format:{"code-block":!0},handler:function(U){var q=w.default.query("code-block"),ie=U.index,ue=U.length,ve=this.quill.scroll.descendant(q,ie),Ce=s(ve,2),re=Ce[0],Oe=Ce[1];if(re!=null){var $e=this.quill.getIndex(re),Fe=re.newlineIndex(Oe,!0)+1,le=re.newlineIndex($e+Oe+ue),se=re.domNode.textContent.slice(Fe,le).split(`
`);Oe=0,se.forEach(function(k,L){A?(re.insertAt(Fe+Oe,q.TAB),Oe+=q.TAB.length,L===0?ie+=q.TAB.length:ue+=q.TAB.length):k.startsWith(q.TAB)&&(re.deleteAt(Fe+Oe,q.TAB.length),Oe-=q.TAB.length,L===0?ie-=q.TAB.length:ue-=q.TAB.length),Oe+=k.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(ie,ue,S.default.sources.SILENT)}}}}function H(A){return{key:A[0].toUpperCase(),shortKey:!0,handler:function(U,q){this.quill.format(A,!q.format[A],S.default.sources.USER)}}}function D(A){if(typeof A=="string"||typeof A=="number")return D({key:A});if((typeof A>"u"?"undefined":o(A))==="object"&&(A=(0,u.default)(A,!1)),typeof A.key=="string")if(X.keys[A.key.toUpperCase()]!=null)A.key=X.keys[A.key.toUpperCase()];else if(A.key.length===1)A.key=A.key.toUpperCase().charCodeAt(0);else return null;return A.shortKey&&(A[K]=A.shortKey,delete A.shortKey),A}r.default=X,r.SHORTKEY=K},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,w){var C=[],S=!0,x=!1,_=void 0;try{for(var O=m[Symbol.iterator](),I;!(S=(I=O.next()).done)&&(C.push(I.value),!(w&&C.length===w));S=!0);}catch(T){x=!0,_=T}finally{try{!S&&O.return&&O.return()}finally{if(x)throw _}}return C}return function(m,w){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return p(m,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function p(m,w,C){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,w);if(S===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:p(x,w,C)}else{if("value"in S)return S.value;var _=S.get;return _===void 0?void 0:_.call(C)}},a=function(){function p(m,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,w,C){return w&&p(m.prototype,w),C&&p(m,C),m}}(),l=i(0),u=d(l),c=i(7),h=d(c);function d(p){return p&&p.__esModule?p:{default:p}}function f(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function g(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function v(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var y=function(p){v(m,p),a(m,null,[{key:"value",value:function(){}}]);function m(w,C){f(this,m);var S=g(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w));return S.selection=C,S.textNode=document.createTextNode(m.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return a(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(C,S){if(this._length!==0)return s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,C,S);for(var x=this,_=0;x!=null&&x.statics.scope!==u.default.Scope.BLOCK_BLOT;)_+=x.offset(x.parent),x=x.parent;x!=null&&(this._length=m.CONTENTS.length,x.optimize(),x.formatAt(_,m.CONTENTS.length,C,S),this._length=0)}},{key:"index",value:function(C,S){return C===this.textNode?0:s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,C,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var C=this.textNode,S=this.selection.getNativeRange(),x=void 0,_=void 0,O=void 0;if(S!=null&&S.start.node===C&&S.end.node===C){var I=[C,S.start.offset,S.end.offset];x=I[0],_=I[1],O=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var T=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof h.default?(x=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=m.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),_!=null){var P=[_,O].map(function(N){return Math.max(0,Math.min(x.data.length,N-1))}),M=o(P,2);return _=M[0],O=M[1],{startNode:x,startOffset:_,endNode:x,endOffset:O}}}}},{key:"update",value:function(C,S){var x=this;if(C.some(function(O){return O.type==="characterData"&&O.target===x.textNode})){var _=this.restore();_&&(S.range=_)}}},{key:"value",value:function(){return""}}]),m}(u.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function d(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){d(v,g);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);f.allowedChildren=[l.default,a.BlockEmbed,f],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function y(p,m){for(var w=0;w<m.length;w++){var C=m[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,m,w){return m&&y(p.prototype,m),w&&y(p,w),p}}(),s=function y(p,m,w){p===null&&(p=Function.prototype);var C=Object.getOwnPropertyDescriptor(p,m);if(C===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:y(S,m,w)}else{if("value"in C)return C.value;var x=C.get;return x===void 0?void 0:x.call(w)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function h(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function d(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var f=function(y){d(p,y);function p(){return c(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(w){var C=s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,w);return C.startsWith("rgb(")?(C=C.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+C.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):C}}]),p}(l.default.Attributor.Style),g=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),v=new f("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=f,r.ColorClass=g,r.ColorStyle=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function v(y,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,p,m){return p&&v(y.prototype,p),m&&v(y,m),y}}(),s=function v(y,p,m){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,p);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:v(C,p,m)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(m)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function d(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){d(y,v);function y(){return c(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"format",value:function(m,w){if(m!==this.statics.blotName||!w)return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,m,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(m){var w=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,m);return m=this.sanitize(m),w.setAttribute("href",m),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return g(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),y}(l.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(v,y){var p=document.createElement("a");p.href=v;var m=p.href.slice(0,p.href.indexOf(":"));return y.indexOf(m)>-1}r.default=f,r.sanitize=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},s=function(){function y(p,m){for(var w=0;w<m.length;w++){var C=m[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,m,w){return m&&y(p.prototype,m),w&&y(p,w),p}}(),a=i(23),l=h(a),u=i(107),c=h(u);function h(y){return y&&y.__esModule?y:{default:y}}function d(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}var f=0;function g(y,p){y.setAttribute(p,y.getAttribute(p)!=="true")}var v=function(){function y(p){var m=this;d(this,y),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var w=this,C=document.createElement("span");return C.tabIndex="0",C.setAttribute("role","button"),C.classList.add("ql-picker-item"),m.hasAttribute("value")&&C.setAttribute("data-value",m.getAttribute("value")),m.textContent&&C.setAttribute("data-label",m.textContent),C.addEventListener("click",function(){w.selectItem(C,!0)}),C.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:w.selectItem(C,!0),S.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),S.preventDefault();break}}),C}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=c.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(C){var S=m.buildItem(C);w.appendChild(S),C.selected===!0&&m.selectItem(S)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(w){m.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C=this.container.querySelector(".ql-selected");if(m!==C&&(C!=null&&C.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var C=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",C)}}]),y}();r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=V(o),a=i(5),l=V(a),u=i(4),c=V(u),h=i(16),d=V(h),f=i(25),g=V(f),v=i(24),y=V(v),p=i(35),m=V(p),w=i(6),C=V(w),S=i(22),x=V(S),_=i(7),O=V(_),I=i(55),T=V(I),P=i(42),M=V(P),N=i(23),$=V(N);function V(K){return K&&K.__esModule?K:{default:K}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":g.default,"blots/cursor":y.default,"blots/embed":m.default,"blots/inline":C.default,"blots/scroll":x.default,"blots/text":O.default,"modules/clipboard":T.default,"modules/history":M.default,"modules/keyboard":$.default}),s.default.register(c.default,d.default,y.default,C.default,x.default,O.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},a.prototype.formatAt=function(l,u,c,h){var d=this.isolate(l,u);if(o.query(c,o.Scope.BLOT)!=null&&h)d.wrap(c,h);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var f=o.create(this.statics.scope);d.wrap(f),f.format(c,h)}},a.prototype.insertAt=function(l,u,c){var h=c==null?o.create("text",u):o.create(u,c),d=this.split(l);this.parent.insertBefore(h,d)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return c.replace(this),c},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function c(h){this.attributes={},this.domNode=h,this.build()}return c.prototype.attribute=function(h,d){d?h.add(this.domNode,d)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},c.prototype.build=function(){var h=this;this.attributes={};var d=o.default.keys(this.domNode),f=s.default.keys(this.domNode),g=a.default.keys(this.domNode);d.concat(f).concat(g).forEach(function(v){var y=l.query(v,l.Scope.ATTRIBUTE);y instanceof o.default&&(h.attributes[y.attrName]=y)})},c.prototype.copy=function(h){var d=this;Object.keys(this.attributes).forEach(function(f){var g=d.attributes[f].value(d.domNode);h.format(f,g)})},c.prototype.move=function(h){var d=this;this.copy(h),Object.keys(this.attributes).forEach(function(f){d.attributes[f].remove(d.domNode)}),this.attributes={}},c.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(d,f){return d[f]=h.attributes[f].value(h.domNode),d},{})},c}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,c){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(d){return d.indexOf(c+"-")===0})}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},c.prototype.add=function(h,d){return this.canAdd(h,d)?(this.remove(h),h.classList.add(this.keyName+"-"+d),!0):!1},c.prototype.remove=function(h){var d=a(h,this.keyName);d.forEach(function(f){h.classList.remove(f)}),h.classList.length===0&&h.removeAttribute("class")},c.prototype.value=function(h){var d=a(h,this.keyName)[0]||"",f=d.slice(this.keyName.length+1);return this.canAdd(h,f)?f:""},c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var c=u.split("-"),h=c.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return c[0]+h}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(d){var f=d.split(":");return f[0].trim()})},c.prototype.add=function(h,d){return this.canAdd(h,d)?(h.style[a(this.keyName)]=d,!0):!1},c.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},c.prototype.value=function(h){var d=h.style[a(this.keyName)];return this.canAdd(h,d)?d:""},c}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var h=0;h<c.length;h++){var d=c[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,h){return c&&l(u.prototype,c),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){s(this,l),this.quill=u,this.options=c,this.modules={}}return o(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(h){c.modules[h]==null&&c.addModule(h)})}},{key:"addModule",value:function(c){var h=this.quill.constructor.import("modules/"+c);return this.modules[c]=new h(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,w,C){return w&&p(m.prototype,w),C&&p(m,C),m}}(),s=function p(m,w,C){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,w);if(S===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:p(x,w,C)}else{if("value"in S)return S.value;var _=S.get;return _===void 0?void 0:_.call(C)}},a=i(0),l=h(a),u=i(7),c=h(u);function h(p){return p&&p.__esModule?p:{default:p}}function d(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function f(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function g(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var v="\uFEFF",y=function(p){g(m,p);function m(w){d(this,m);var C=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w));return C.contentNode=document.createElement("span"),C.contentNode.setAttribute("contenteditable",!1),[].slice.call(C.domNode.childNodes).forEach(function(S){C.contentNode.appendChild(S)}),C.leftGuard=document.createTextNode(v),C.rightGuard=document.createTextNode(v),C.domNode.appendChild(C.leftGuard),C.domNode.appendChild(C.contentNode),C.domNode.appendChild(C.rightGuard),C}return o(m,[{key:"index",value:function(C,S){return C===this.leftGuard?0:C===this.rightGuard?1:s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,C,S)}},{key:"restore",value:function(C){var S=void 0,x=void 0,_=C.data.split(v).join("");if(C===this.leftGuard)if(this.prev instanceof c.default){var O=this.prev.length();this.prev.insertAt(O,_),S={startNode:this.prev.domNode,startOffset:O+_.length}}else x=document.createTextNode(_),this.parent.insertBefore(l.default.create(x),this),S={startNode:x,startOffset:_.length};else C===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,_),S={startNode:this.next.domNode,startOffset:_.length}):(x=document.createTextNode(_),this.parent.insertBefore(l.default.create(x),this.next),S={startNode:x,startOffset:_.length}));return C.data=v,S}},{key:"update",value:function(C,S){var x=this;C.forEach(function(_){if(_.type==="characterData"&&(_.target===x.leftGuard||_.target===x.rightGuard)){var O=x.restore(_.target);O&&(S.range=O)}})}}]),m}(l.default.Embed);r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),c=new s.default.Attributor.Class("align","ql-align",l),h=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),c=new s.default.Attributor.Class("direction","ql-direction",l),h=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function p(m,w){for(var C=0;C<w.length;C++){var S=w[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,w,C){return w&&p(m.prototype,w),C&&p(m,C),m}}(),s=function p(m,w,C){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,w);if(S===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:p(x,w,C)}else{if("value"in S)return S.value;var _=S.get;return _===void 0?void 0:_.call(C)}},a=i(0),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function d(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new l.default.Attributor.Class("font","ql-font",f),v=function(p){d(m,p);function m(){return c(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(C){return s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,C).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),y=new v("font","font-family",f);r.FontStyle=y,r.FontClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function w(C,S){for(var x=0;x<S.length;x++){var _=S[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(C,_.key,_)}}return function(C,S,x){return S&&w(C.prototype,S),x&&w(C,x),C}}(),s=i(0),a=d(s),l=i(5),u=d(l),c=i(9),h=d(c);function d(w){return w&&w.__esModule?w:{default:w}}function f(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function g(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function v(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var y=function(w){v(C,w);function C(S,x){f(this,C);var _=g(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,S,x));return _.lastRecorded=0,_.ignoreChange=!1,_.clear(),_.quill.on(u.default.events.EDITOR_CHANGE,function(O,I,T,P){O!==u.default.events.TEXT_CHANGE||_.ignoreChange||(!_.options.userOnly||P===u.default.sources.USER?_.record(I,T):_.transform(I))}),_.quill.keyboard.addBinding({key:"Z",shortKey:!0},_.undo.bind(_)),_.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},_.redo.bind(_)),/Win/i.test(navigator.platform)&&_.quill.keyboard.addBinding({key:"Y",shortKey:!0},_.redo.bind(_)),_}return o(C,[{key:"change",value:function(x,_){if(this.stack[x].length!==0){var O=this.stack[x].pop();this.stack[_].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[x],u.default.sources.USER),this.ignoreChange=!1;var I=m(O[x]);this.quill.setSelection(I)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(x,_){if(x.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(_),I=Date.now();if(this.lastRecorded+this.options.delay>I&&this.stack.undo.length>0){var T=this.stack.undo.pop();O=O.compose(T.undo),x=T.redo.compose(x)}else this.lastRecorded=I;this.stack.undo.push({redo:x,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(x){this.stack.undo.forEach(function(_){_.undo=x.transform(_.undo,!0),_.redo=x.transform(_.redo,!0)}),this.stack.redo.forEach(function(_){_.undo=x.transform(_.undo,!0),_.redo=x.transform(_.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),C}(h.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(w){var C=w.ops[w.ops.length-1];return C==null?!1:C.insert!=null?typeof C.insert=="string"&&C.insert.endsWith(`
`):C.attributes!=null?Object.keys(C.attributes).some(function(S){return a.default.query(S,a.default.Scope.BLOCK)!=null}):!1}function m(w){var C=w.reduce(function(x,_){return x+=_.delete||0,x},0),S=w.length()-C;return p(w)&&(S-=1),S}r.default=y,r.getLastChangeIndex=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function R(E,H){for(var D=0;D<H.length;D++){var A=H[D];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,H,D){return H&&R(E.prototype,H),D&&R(E,D),E}}(),s=function R(E,H,D){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,H);if(A===void 0){var B=Object.getPrototypeOf(E);return B===null?void 0:R(B,H,D)}else{if("value"in A)return A.value;var U=A.get;return U===void 0?void 0:U.call(D)}},a=i(3),l=I(a),u=i(2),c=I(u),h=i(8),d=I(h),f=i(23),g=I(f),v=i(34),y=I(v),p=i(59),m=I(p),w=i(60),C=I(w),S=i(28),x=I(S),_=i(61),O=I(_);function I(R){return R&&R.__esModule?R:{default:R}}function T(R,E){if(!(R instanceof E))throw new TypeError("Cannot call a class as a function")}function P(R,E){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:R}function M(R,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);R.prototype=Object.create(E&&E.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(R,E):R.__proto__=E)}var N=[!1,"center","right","justify"],$=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],V=[!1,"serif","monospace"],K=["1","2","3",!1],X=["small",!1,"large","huge"],Y=function(R){M(E,R);function E(H,D){T(this,E);var A=P(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,H,D)),B=function U(q){if(!document.body.contains(H.root))return document.body.removeEventListener("click",U);A.tooltip!=null&&!A.tooltip.root.contains(q.target)&&document.activeElement!==A.tooltip.textbox&&!A.quill.hasFocus()&&A.tooltip.hide(),A.pickers!=null&&A.pickers.forEach(function(ie){ie.container.contains(q.target)||ie.close()})};return H.emitter.listenDOM("click",document.body,B),A}return o(E,[{key:"addModule",value:function(D){var A=s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"addModule",this).call(this,D);return D==="toolbar"&&this.extendToolbar(A),A}},{key:"buildButtons",value:function(D,A){D.forEach(function(B){var U=B.getAttribute("class")||"";U.split(/\s+/).forEach(function(q){if(q.startsWith("ql-")&&(q=q.slice(3),A[q]!=null))if(q==="direction")B.innerHTML=A[q][""]+A[q].rtl;else if(typeof A[q]=="string")B.innerHTML=A[q];else{var ie=B.value||"";ie!=null&&A[q][ie]&&(B.innerHTML=A[q][ie])}})})}},{key:"buildPickers",value:function(D,A){var B=this;this.pickers=D.map(function(q){if(q.classList.contains("ql-align"))return q.querySelector("option")==null&&b(q,N),new C.default(q,A.align);if(q.classList.contains("ql-background")||q.classList.contains("ql-color")){var ie=q.classList.contains("ql-background")?"background":"color";return q.querySelector("option")==null&&b(q,$,ie==="background"?"#ffffff":"#000000"),new m.default(q,A[ie])}else return q.querySelector("option")==null&&(q.classList.contains("ql-font")?b(q,V):q.classList.contains("ql-header")?b(q,K):q.classList.contains("ql-size")&&b(q,X)),new x.default(q)});var U=function(){B.pickers.forEach(function(ie){ie.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,U)}}]),E}(y.default);Y.DEFAULTS=(0,l.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var E=this,H=this.container.querySelector("input.ql-image[type=file]");H==null&&(H=document.createElement("input"),H.setAttribute("type","file"),H.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),H.classList.add("ql-image"),H.addEventListener("change",function(){if(H.files!=null&&H.files[0]!=null){var D=new FileReader;D.onload=function(A){var B=E.quill.getSelection(!0);E.quill.updateContents(new c.default().retain(B.index).delete(B.length).insert({image:A.target.result}),d.default.sources.USER),E.quill.setSelection(B.index+1,d.default.sources.SILENT),H.value=""},D.readAsDataURL(H.files[0])}}),this.container.appendChild(H)),H.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var W=function(R){M(E,R);function E(H,D){T(this,E);var A=P(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,H,D));return A.textbox=A.root.querySelector('input[type="text"]'),A.listen(),A}return o(E,[{key:"listen",value:function(){var D=this;this.textbox.addEventListener("keydown",function(A){g.default.match(A,"enter")?(D.save(),A.preventDefault()):g.default.match(A,"escape")&&(D.cancel(),A.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),A!=null?this.textbox.value=A:D!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+D)||""),this.root.setAttribute("data-mode",D)}},{key:"restoreFocus",value:function(){var D=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=D}},{key:"save",value:function(){var D=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var A=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",D,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",D,d.default.sources.USER)),this.quill.root.scrollTop=A;break}case"video":D=j(D);case"formula":{if(!D)break;var B=this.quill.getSelection(!0);if(B!=null){var U=B.index+B.length;this.quill.insertEmbed(U,this.root.getAttribute("data-mode"),D,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(U+1," ",d.default.sources.USER),this.quill.setSelection(U+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),E}(O.default);function j(R){var E=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return E?(E[1]||"https")+"://www.youtube.com/embed/"+E[2]+"?showinfo=0":(E=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(E[1]||"https")+"://player.vimeo.com/video/"+E[2]+"/":R}function b(R,E){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;E.forEach(function(D){var A=document.createElement("option");D===H?A.setAttribute("selected","selected"):A.setAttribute("value",D),R.appendChild(A)})}r.BaseTooltip=W,r.default=Y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var h=u.length();if(a<h||l&&a===h&&(u.next==null||u.next.length()!==0))return[u,a];a-=h}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var c=this.find(a),h=c[0],d=c[1],f,g=a-d,v=this.iterator(h);(f=v())&&g<a+l;){var y=f.length();a>g?u(f,a-g,Math.min(l,g+y-a)):u(f,0,Math.min(y,a+l-g)),g+=y}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,c=this.iterator();u=c();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var g in f)f.hasOwnProperty(g)&&(d[g]=f[g])};return function(d,f){h(d,f);function g(){this.constructor=d}d.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(h){o(d,h);function d(f){var g=h.call(this,f)||this;return g.scroll=g,g.observer=new MutationObserver(function(v){g.update(v)}),g.observer.observe(g.domNode,l),g.attach(),g}return d.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(f,g){this.update(),f===0&&g===this.length()?this.children.forEach(function(v){v.remove()}):h.prototype.deleteAt.call(this,f,g)},d.prototype.formatAt=function(f,g,v,y){this.update(),h.prototype.formatAt.call(this,f,g,v,y)},d.prototype.insertAt=function(f,g,v){this.update(),h.prototype.insertAt.call(this,f,g,v)},d.prototype.optimize=function(f,g){var v=this;f===void 0&&(f=[]),g===void 0&&(g={}),h.prototype.optimize.call(this,g);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)f.push(y.pop());for(var p=function(S,x){x===void 0&&(x=!0),!(S==null||S===v)&&S.domNode.parentNode!=null&&(S.domNode[a.DATA_KEY].mutations==null&&(S.domNode[a.DATA_KEY].mutations=[]),x&&p(S.parent))},m=function(S){S.domNode[a.DATA_KEY]==null||S.domNode[a.DATA_KEY].mutations==null||(S instanceof s.default&&S.children.forEach(m),S.optimize(g))},w=f,C=0;w.length>0;C+=1){if(C>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(S){var x=a.find(S.target,!0);x!=null&&(x.domNode===S.target&&(S.type==="childList"?(p(a.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(_){var O=a.find(_,!1);p(O,!1),O instanceof s.default&&O.children.forEach(function(I){p(I,!1)})})):S.type==="attributes"&&p(x.prev)),p(x))}),this.children.forEach(m),w=[].slice.call(this.observer.takeRecords()),y=w.slice();y.length>0;)f.push(y.pop())}},d.prototype.update=function(f,g){var v=this;g===void 0&&(g={}),f=f||this.observer.takeRecords(),f.map(function(y){var p=a.find(y.target,!0);return p==null?null:p.domNode[a.DATA_KEY].mutations==null?(p.domNode[a.DATA_KEY].mutations=[y],p):(p.domNode[a.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===v||y.domNode[a.DATA_KEY]==null||y.update(y.domNode[a.DATA_KEY].mutations||[],g)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,g),this.optimize(f,g)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){c(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(c,h){if(Object.keys(c).length!==Object.keys(h).length)return!1;for(var d in c)if(c[d]!==h[d])return!1;return!0}var u=function(c){o(h,c);function h(){return c!==null&&c.apply(this,arguments)||this}return h.formats=function(d){if(d.tagName!==h.tagName)return c.formats.call(this,d)},h.prototype.format=function(d,f){var g=this;d===this.statics.blotName&&!f?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(h.blotName,!0)),g.attributes.copy(v)}),this.unwrap()):c.prototype.format.call(this,d,f)},h.prototype.formatAt=function(d,f,g,v){if(this.formats()[g]!=null||a.query(g,a.Scope.ATTRIBUTE)){var y=this.isolate(d,f);y.format(g,v)}else c.prototype.formatAt.call(this,d,f,g,v)},h.prototype.optimize=function(d){c.prototype.optimize.call(this,d);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var g=this.next;g instanceof h&&g.prev===this&&l(f,g.formats())&&(g.moveChildren(this),g.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(h){var d=a.query(c.blotName).tagName;if(h.tagName!==d)return u.formats.call(this,h)},c.prototype.format=function(h,d){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!d?this.replaceWith(c.blotName):u.prototype.format.call(this,h,d))},c.prototype.formatAt=function(h,d,f,g){a.query(f,a.Scope.BLOCK)!=null?this.format(f,g):u.prototype.formatAt.call(this,h,d,f,g)},c.prototype.insertAt=function(h,d,f){if(f==null||a.query(d,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,d,f);else{var g=this.split(h),v=a.create(d,f);g.parent.insertBefore(v,g)}},c.prototype.update=function(h,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,d)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var h in c)c.hasOwnProperty(h)&&(u[h]=c[h])};return function(u,c){l(u,c);function h(){this.constructor=u}u.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,h){l.prototype.formatAt.call(this,0,this.length(),c,h)},u.prototype.formatAt=function(c,h,d,f){c===0&&h===this.length()?this.format(d,f):l.prototype.formatAt.call(this,c,h,d,f)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(c,u);function c(h){var d=u.call(this,h)||this;return d.text=d.statics.value(d.domNode),d}return c.create=function(h){return document.createTextNode(h)},c.value=function(h){var d=h.data;return d.normalize&&(d=d.normalize()),d},c.prototype.deleteAt=function(h,d){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+d)},c.prototype.index=function(h,d){return this.domNode===h?d:-1},c.prototype.insertAt=function(h,d,f){f==null?(this.text=this.text.slice(0,h)+d+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,d,f)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(h,d){return[this.domNode,h]},c.prototype.split=function(h,d){if(d===void 0&&(d=!1),!d){if(h===0)return this;if(h===this.length())return this.next}var f=a.create(this.domNode.splitText(h));return this.parent.insertBefore(f,this.next),this.text=this.statics.value(this.domNode),f},c.prototype.update=function(h,d){var f=this;h.some(function(g){return g.type==="characterData"&&g.target===f.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var c=u.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,h=arguments[1],d,f=0;f<c;f++)if(d=u[f],l.call(h,d,f,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(C,S,x){if(C==S)return C?[[s,C]]:[];(x<0||C.length<x)&&(x=null);var _=h(C,S),O=C.substring(0,_);C=C.substring(_),S=S.substring(_),_=d(C,S);var I=C.substring(C.length-_);C=C.substring(0,C.length-_),S=S.substring(0,S.length-_);var T=l(C,S);return O&&T.unshift([s,O]),I&&T.push([s,I]),g(T),x!=null&&(T=p(T,x)),T=m(T),T}function l(C,S){var x;if(!C)return[[o,S]];if(!S)return[[i,C]];var _=C.length>S.length?C:S,O=C.length>S.length?S:C,I=_.indexOf(O);if(I!=-1)return x=[[o,_.substring(0,I)],[s,O],[o,_.substring(I+O.length)]],C.length>S.length&&(x[0][0]=x[2][0]=i),x;if(O.length==1)return[[i,C],[o,S]];var T=f(C,S);if(T){var P=T[0],M=T[1],N=T[2],$=T[3],V=T[4],K=a(P,N),X=a(M,$);return K.concat([[s,V]],X)}return u(C,S)}function u(C,S){for(var x=C.length,_=S.length,O=Math.ceil((x+_)/2),I=O,T=2*O,P=new Array(T),M=new Array(T),N=0;N<T;N++)P[N]=-1,M[N]=-1;P[I+1]=0,M[I+1]=0;for(var $=x-_,V=$%2!=0,K=0,X=0,Y=0,W=0,j=0;j<O;j++){for(var b=-j+K;b<=j-X;b+=2){var R=I+b,E;b==-j||b!=j&&P[R-1]<P[R+1]?E=P[R+1]:E=P[R-1]+1;for(var H=E-b;E<x&&H<_&&C.charAt(E)==S.charAt(H);)E++,H++;if(P[R]=E,E>x)X+=2;else if(H>_)K+=2;else if(V){var D=I+$-b;if(D>=0&&D<T&&M[D]!=-1){var A=x-M[D];if(E>=A)return c(C,S,E,H)}}}for(var B=-j+Y;B<=j-W;B+=2){var D=I+B,A;B==-j||B!=j&&M[D-1]<M[D+1]?A=M[D+1]:A=M[D-1]+1;for(var U=A-B;A<x&&U<_&&C.charAt(x-A-1)==S.charAt(_-U-1);)A++,U++;if(M[D]=A,A>x)W+=2;else if(U>_)Y+=2;else if(!V){var R=I+$-B;if(R>=0&&R<T&&P[R]!=-1){var E=P[R],H=I+E-R;if(A=x-A,E>=A)return c(C,S,E,H)}}}}return[[i,C],[o,S]]}function c(C,S,x,_){var O=C.substring(0,x),I=S.substring(0,_),T=C.substring(x),P=S.substring(_),M=a(O,I),N=a(T,P);return M.concat(N)}function h(C,S){if(!C||!S||C.charAt(0)!=S.charAt(0))return 0;for(var x=0,_=Math.min(C.length,S.length),O=_,I=0;x<O;)C.substring(I,O)==S.substring(I,O)?(x=O,I=x):_=O,O=Math.floor((_-x)/2+x);return O}function d(C,S){if(!C||!S||C.charAt(C.length-1)!=S.charAt(S.length-1))return 0;for(var x=0,_=Math.min(C.length,S.length),O=_,I=0;x<O;)C.substring(C.length-O,C.length-I)==S.substring(S.length-O,S.length-I)?(x=O,I=x):_=O,O=Math.floor((_-x)/2+x);return O}function f(C,S){var x=C.length>S.length?C:S,_=C.length>S.length?S:C;if(x.length<4||_.length*2<x.length)return null;function O(X,Y,W){for(var j=X.substring(W,W+Math.floor(X.length/4)),b=-1,R="",E,H,D,A;(b=Y.indexOf(j,b+1))!=-1;){var B=h(X.substring(W),Y.substring(b)),U=d(X.substring(0,W),Y.substring(0,b));R.length<U+B&&(R=Y.substring(b-U,b)+Y.substring(b,b+B),E=X.substring(0,W-U),H=X.substring(W+B),D=Y.substring(0,b-U),A=Y.substring(b+B))}return R.length*2>=X.length?[E,H,D,A,R]:null}var I=O(x,_,Math.ceil(x.length/4)),T=O(x,_,Math.ceil(x.length/2)),P;if(!I&&!T)return null;T?I?P=I[4].length>T[4].length?I:T:P=T:P=I;var M,N,$,V;C.length>S.length?(M=P[0],N=P[1],$=P[2],V=P[3]):($=P[0],V=P[1],M=P[2],N=P[3]);var K=P[4];return[M,N,$,V,K]}function g(C){C.push([s,""]);for(var S=0,x=0,_=0,O="",I="",T;S<C.length;)switch(C[S][0]){case o:_++,I+=C[S][1],S++;break;case i:x++,O+=C[S][1],S++;break;case s:x+_>1?(x!==0&&_!==0&&(T=h(I,O),T!==0&&(S-x-_>0&&C[S-x-_-1][0]==s?C[S-x-_-1][1]+=I.substring(0,T):(C.splice(0,0,[s,I.substring(0,T)]),S++),I=I.substring(T),O=O.substring(T)),T=d(I,O),T!==0&&(C[S][1]=I.substring(I.length-T)+C[S][1],I=I.substring(0,I.length-T),O=O.substring(0,O.length-T))),x===0?C.splice(S-_,x+_,[o,I]):_===0?C.splice(S-x,x+_,[i,O]):C.splice(S-x-_,x+_,[i,O],[o,I]),S=S-x-_+(x?1:0)+(_?1:0)+1):S!==0&&C[S-1][0]==s?(C[S-1][1]+=C[S][1],C.splice(S,1)):S++,_=0,x=0,O="",I="";break}C[C.length-1][1]===""&&C.pop();var P=!1;for(S=1;S<C.length-1;)C[S-1][0]==s&&C[S+1][0]==s&&(C[S][1].substring(C[S][1].length-C[S-1][1].length)==C[S-1][1]?(C[S][1]=C[S-1][1]+C[S][1].substring(0,C[S][1].length-C[S-1][1].length),C[S+1][1]=C[S-1][1]+C[S+1][1],C.splice(S-1,1),P=!0):C[S][1].substring(0,C[S+1][1].length)==C[S+1][1]&&(C[S-1][1]+=C[S+1][1],C[S][1]=C[S][1].substring(C[S+1][1].length)+C[S+1][1],C.splice(S+1,1),P=!0)),S++;P&&g(C)}var v=a;v.INSERT=o,v.DELETE=i,v.EQUAL=s,n.exports=v;function y(C,S){if(S===0)return[s,C];for(var x=0,_=0;_<C.length;_++){var O=C[_];if(O[0]===i||O[0]===s){var I=x+O[1].length;if(S===I)return[_+1,C];if(S<I){C=C.slice();var T=S-x,P=[O[0],O[1].slice(0,T)],M=[O[0],O[1].slice(T)];return C.splice(_,1,P,M),[_+1,C]}else x=I}}throw new Error("cursor_pos is out of bounds!")}function p(C,S){var x=y(C,S),_=x[1],O=x[0],I=_[O],T=_[O+1];if(I==null)return C;if(I[0]!==s)return C;if(T!=null&&I[1]+T[1]===T[1]+I[1])return _.splice(O,2,T,I),w(_,O,2);if(T!=null&&T[1].indexOf(I[1])===0){_.splice(O,2,[T[0],I[1]],[0,I[1]]);var P=T[1].slice(I[1].length);return P.length>0&&_.splice(O+2,0,[T[0],P]),w(_,O,3)}else return C}function m(C){for(var S=!1,x=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},_=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},O=2;O<C.length;O+=1)C[O-2][0]===s&&_(C[O-2][1])&&C[O-1][0]===i&&x(C[O-1][1])&&C[O][0]===o&&x(C[O][1])&&(S=!0,C[O-1][1]=C[O-2][1].slice(-1)+C[O-1][1],C[O][1]=C[O-2][1].slice(-1)+C[O][1],C[O-2][1]=C[O-2][1].slice(0,-1));if(!S)return C;for(var I=[],O=0;O<C.length;O+=1)C[O][1].length>0&&I.push(C[O]);return I}function w(C,S,x){for(var _=S+x-1;_>=0&&_>=S-1;_--)if(_+1<C.length){var O=C[_],I=C[_+1];O[0]===I[1]&&C.splice(_,2,[O[0],O[1]+I[1]])}return C}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,c,h){this.fn=u,this.context=c,this.once=h||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],h,d;if(this._eventsCount===0)return c;for(d in h=this._events)i.call(h,d)&&c.push(o?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},l.prototype.listeners=function(c,h){var d=o?o+c:c,f=this._events[d];if(h)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var g=0,v=f.length,y=new Array(v);g<v;g++)y[g]=f[g].fn;return y},l.prototype.emit=function(c,h,d,f,g,v){var y=o?o+c:c;if(!this._events[y])return!1;var p=this._events[y],m=arguments.length,w,C;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),m){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,h),!0;case 3:return p.fn.call(p.context,h,d),!0;case 4:return p.fn.call(p.context,h,d,f),!0;case 5:return p.fn.call(p.context,h,d,f,g),!0;case 6:return p.fn.call(p.context,h,d,f,g,v),!0}for(C=1,w=new Array(m-1);C<m;C++)w[C-1]=arguments[C];p.fn.apply(p.context,w)}else{var S=p.length,x;for(C=0;C<S;C++)switch(p[C].once&&this.removeListener(c,p[C].fn,void 0,!0),m){case 1:p[C].fn.call(p[C].context);break;case 2:p[C].fn.call(p[C].context,h);break;case 3:p[C].fn.call(p[C].context,h,d);break;case 4:p[C].fn.call(p[C].context,h,d,f);break;default:if(!w)for(x=1,w=new Array(m-1);x<m;x++)w[x-1]=arguments[x];p[C].fn.apply(p[C].context,w)}}return!0},l.prototype.on=function(c,h,d){var f=new a(h,d||this),g=o?o+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],f]:this._events[g].push(f):(this._events[g]=f,this._eventsCount++),this},l.prototype.once=function(c,h,d){var f=new a(h,d||this,!0),g=o?o+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],f]:this._events[g].push(f):(this._events[g]=f,this._eventsCount++),this},l.prototype.removeListener=function(c,h,d,f){var g=o?o+c:c;if(!this._events[g])return this;if(!h)return--this._eventsCount===0?this._events=new s:delete this._events[g],this;var v=this._events[g];if(v.fn)v.fn===h&&(!f||v.once)&&(!d||v.context===d)&&(--this._eventsCount===0?this._events=new s:delete this._events[g]);else{for(var y=0,p=[],m=v.length;y<m;y++)(v[y].fn!==h||f&&!v[y].once||d&&v[y].context!==d)&&p.push(v[y]);p.length?this._events[g]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new s:delete this._events[g]}return this},l.prototype.removeAllListeners=function(c){var h;return c?(h=o?o+c:c,this._events[h]&&(--this._eventsCount===0?this._events=new s:delete this._events[h])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},s=function(){function le(se,k){var L=[],F=!0,Z=!1,z=void 0;try{for(var J=se[Symbol.iterator](),ee;!(F=(ee=J.next()).done)&&(L.push(ee.value),!(k&&L.length===k));F=!0);}catch(Q){Z=!0,z=Q}finally{try{!F&&J.return&&J.return()}finally{if(Z)throw z}}return L}return function(se,k){if(Array.isArray(se))return se;if(Symbol.iterator in Object(se))return le(se,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function le(se,k){for(var L=0;L<k.length;L++){var F=k[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(se,F.key,F)}}return function(se,k,L){return k&&le(se.prototype,k),L&&le(se,L),se}}(),l=i(3),u=M(l),c=i(2),h=M(c),d=i(0),f=M(d),g=i(5),v=M(g),y=i(10),p=M(y),m=i(9),w=M(m),C=i(36),S=i(37),x=i(13),_=M(x),O=i(26),I=i(38),T=i(39),P=i(40);function M(le){return le&&le.__esModule?le:{default:le}}function N(le,se,k){return se in le?Object.defineProperty(le,se,{value:k,enumerable:!0,configurable:!0,writable:!0}):le[se]=k,le}function $(le,se){if(!(le instanceof se))throw new TypeError("Cannot call a class as a function")}function V(le,se){if(!le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se&&(typeof se=="object"||typeof se=="function")?se:le}function K(le,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof se);le.prototype=Object.create(se&&se.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),se&&(Object.setPrototypeOf?Object.setPrototypeOf(le,se):le.__proto__=se)}var X=(0,p.default)("quill:clipboard"),Y="__ql-matcher",W=[[Node.TEXT_NODE,Fe],[Node.TEXT_NODE,re],["br",ue],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,Oe],[Node.ELEMENT_NODE,q],[Node.ELEMENT_NODE,$e],["li",Ce],["b",U.bind(U,"bold")],["i",U.bind(U,"italic")],["style",ve]],j=[C.AlignAttribute,I.DirectionAttribute].reduce(function(le,se){return le[se.keyName]=se,le},{}),b=[C.AlignStyle,S.BackgroundStyle,O.ColorStyle,I.DirectionStyle,T.FontStyle,P.SizeStyle].reduce(function(le,se){return le[se.keyName]=se,le},{}),R=function(le){K(se,le);function se(k,L){$(this,se);var F=V(this,(se.__proto__||Object.getPrototypeOf(se)).call(this,k,L));return F.quill.root.addEventListener("paste",F.onPaste.bind(F)),F.container=F.quill.addContainer("ql-clipboard"),F.container.setAttribute("contenteditable",!0),F.container.setAttribute("tabindex",-1),F.matchers=[],W.concat(F.options.matchers).forEach(function(Z){var z=s(Z,2),J=z[0],ee=z[1];!L.matchVisual&&ee===Oe||F.addMatcher(J,ee)}),F}return a(se,[{key:"addMatcher",value:function(L,F){this.matchers.push([L,F])}},{key:"convert",value:function(L){if(typeof L=="string")return this.container.innerHTML=L.replace(/\>\r?\n +\</g,"><"),this.convert();var F=this.quill.getFormat(this.quill.selection.savedRange.index);if(F[_.default.blotName]){var Z=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Z,N({},_.default.blotName,F[_.default.blotName]))}var z=this.prepareMatching(),J=s(z,2),ee=J[0],Q=J[1],ne=B(this.container,ee,Q);return D(ne,`
`)&&ne.ops[ne.ops.length-1].attributes==null&&(ne=ne.compose(new h.default().retain(ne.length()-1).delete(1))),X.log("convert",this.container.innerHTML,ne),this.container.innerHTML="",ne}},{key:"dangerouslyPasteHTML",value:function(L,F){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof L=="string")this.quill.setContents(this.convert(L),F),this.quill.setSelection(0,v.default.sources.SILENT);else{var z=this.convert(F);this.quill.updateContents(new h.default().retain(L).concat(z),Z),this.quill.setSelection(L+z.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(L){var F=this;if(!(L.defaultPrevented||!this.quill.isEnabled())){var Z=this.quill.getSelection(),z=new h.default().retain(Z.index),J=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){z=z.concat(F.convert()).delete(Z.length),F.quill.updateContents(z,v.default.sources.USER),F.quill.setSelection(z.length()-Z.length,v.default.sources.SILENT),F.quill.scrollingContainer.scrollTop=J,F.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var L=this,F=[],Z=[];return this.matchers.forEach(function(z){var J=s(z,2),ee=J[0],Q=J[1];switch(ee){case Node.TEXT_NODE:Z.push(Q);break;case Node.ELEMENT_NODE:F.push(Q);break;default:[].forEach.call(L.container.querySelectorAll(ee),function(ne){ne[Y]=ne[Y]||[],ne[Y].push(Q)});break}}),[F,Z]}}]),se}(w.default);R.DEFAULTS={matchers:[],matchVisual:!0};function E(le,se,k){return(typeof se>"u"?"undefined":o(se))==="object"?Object.keys(se).reduce(function(L,F){return E(L,F,se[F])},le):le.reduce(function(L,F){return F.attributes&&F.attributes[se]?L.push(F):L.insert(F.insert,(0,u.default)({},N({},se,k),F.attributes))},new h.default)}function H(le){if(le.nodeType!==Node.ELEMENT_NODE)return{};var se="__ql-computed-style";return le[se]||(le[se]=window.getComputedStyle(le))}function D(le,se){for(var k="",L=le.ops.length-1;L>=0&&k.length<se.length;--L){var F=le.ops[L];if(typeof F.insert!="string")break;k=F.insert+k}return k.slice(-1*se.length)===se}function A(le){if(le.childNodes.length===0)return!1;var se=H(le);return["block","list-item"].indexOf(se.display)>-1}function B(le,se,k){return le.nodeType===le.TEXT_NODE?k.reduce(function(L,F){return F(le,L)},new h.default):le.nodeType===le.ELEMENT_NODE?[].reduce.call(le.childNodes||[],function(L,F){var Z=B(F,se,k);return F.nodeType===le.ELEMENT_NODE&&(Z=se.reduce(function(z,J){return J(F,z)},Z),Z=(F[Y]||[]).reduce(function(z,J){return J(F,z)},Z)),L.concat(Z)},new h.default):new h.default}function U(le,se,k){return E(k,le,!0)}function q(le,se){var k=f.default.Attributor.Attribute.keys(le),L=f.default.Attributor.Class.keys(le),F=f.default.Attributor.Style.keys(le),Z={};return k.concat(L).concat(F).forEach(function(z){var J=f.default.query(z,f.default.Scope.ATTRIBUTE);J!=null&&(Z[J.attrName]=J.value(le),Z[J.attrName])||(J=j[z],J!=null&&(J.attrName===z||J.keyName===z)&&(Z[J.attrName]=J.value(le)||void 0),J=b[z],J!=null&&(J.attrName===z||J.keyName===z)&&(J=b[z],Z[J.attrName]=J.value(le)||void 0))}),Object.keys(Z).length>0&&(se=E(se,Z)),se}function ie(le,se){var k=f.default.query(le);if(k==null)return se;if(k.prototype instanceof f.default.Embed){var L={},F=k.value(le);F!=null&&(L[k.blotName]=F,se=new h.default().insert(L,k.formats(le)))}else typeof k.formats=="function"&&(se=E(se,k.blotName,k.formats(le)));return se}function ue(le,se){return D(se,`
`)||se.insert(`
`),se}function ve(){return new h.default}function Ce(le,se){var k=f.default.query(le);if(k==null||k.blotName!=="list-item"||!D(se,`
`))return se;for(var L=-1,F=le.parentNode;!F.classList.contains("ql-clipboard");)(f.default.query(F)||{}).blotName==="list"&&(L+=1),F=F.parentNode;return L<=0?se:se.compose(new h.default().retain(se.length()-1).retain(1,{indent:L}))}function re(le,se){return D(se,`
`)||(A(le)||se.length()>0&&le.nextSibling&&A(le.nextSibling))&&se.insert(`
`),se}function Oe(le,se){if(A(le)&&le.nextElementSibling!=null&&!D(se,`

`)){var k=le.offsetHeight+parseFloat(H(le).marginTop)+parseFloat(H(le).marginBottom);le.nextElementSibling.offsetTop>le.offsetTop+k*1.5&&se.insert(`
`)}return se}function $e(le,se){var k={},L=le.style||{};return L.fontStyle&&H(le).fontStyle==="italic"&&(k.italic=!0),L.fontWeight&&(H(le).fontWeight.startsWith("bold")||parseInt(H(le).fontWeight)>=700)&&(k.bold=!0),Object.keys(k).length>0&&(se=E(se,k)),parseFloat(L.textIndent||0)>0&&(se=new h.default().insert("	").concat(se)),se}function Fe(le,se){var k=le.data;if(le.parentNode.tagName==="O:P")return se.insert(k.trim());if(k.trim().length===0&&le.parentNode.classList.contains("ql-clipboard"))return se;if(!H(le.parentNode).whiteSpace.startsWith("pre")){var L=function(Z,z){return z=z.replace(/[^\u00a0]/g,""),z.length<1&&Z?" ":z};k=k.replace(/\r\n/g," ").replace(/\n/g," "),k=k.replace(/\s\s+/g,L.bind(L,!0)),(le.previousSibling==null&&A(le.parentNode)||le.previousSibling!=null&&A(le.previousSibling))&&(k=k.replace(/^\s+/,L.bind(L,!1))),(le.nextSibling==null&&A(le.parentNode)||le.nextSibling!=null&&A(le.nextSibling))&&(k=k.replace(/\s+$/,L.bind(L,!1)))}return se.insert(k)}r.default=R,r.matchAttributor=q,r.matchBlot=ie,r.matchNewline=re,r.matchSpacing=Oe,r.matchText=Fe},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(v,y){for(var p=0;p<y.length;p++){var m=y[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,y,p){return y&&g(v.prototype,y),p&&g(v,p),v}}(),s=function g(v,y,p){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,y);if(m===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,y,p)}else{if("value"in m)return m.value;var C=m.get;return C===void 0?void 0:C.call(p)}},a=i(6),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function d(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){d(v,g);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(l.default);f.blotName="bold",f.tagName=["STRONG","B"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function P(M,N){var $=[],V=!0,K=!1,X=void 0;try{for(var Y=M[Symbol.iterator](),W;!(V=(W=Y.next()).done)&&($.push(W.value),!(N&&$.length===N));V=!0);}catch(j){K=!0,X=j}finally{try{!V&&Y.return&&Y.return()}finally{if(K)throw X}}return $}return function(M,N){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return P(M,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function P(M,N){for(var $=0;$<N.length;$++){var V=N[$];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(M,V.key,V)}}return function(M,N,$){return N&&P(M.prototype,N),$&&P(M,$),M}}(),a=i(2),l=p(a),u=i(0),c=p(u),h=i(5),d=p(h),f=i(10),g=p(f),v=i(9),y=p(v);function p(P){return P&&P.__esModule?P:{default:P}}function m(P,M,N){return M in P?Object.defineProperty(P,M,{value:N,enumerable:!0,configurable:!0,writable:!0}):P[M]=N,P}function w(P,M){if(!(P instanceof M))throw new TypeError("Cannot call a class as a function")}function C(P,M){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:P}function S(P,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);P.prototype=Object.create(M&&M.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(P,M):P.__proto__=M)}var x=(0,g.default)("quill:toolbar"),_=function(P){S(M,P);function M(N,$){w(this,M);var V=C(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,N,$));if(Array.isArray(V.options.container)){var K=document.createElement("div");I(K,V.options.container),N.container.parentNode.insertBefore(K,N.container),V.container=K}else typeof V.options.container=="string"?V.container=document.querySelector(V.options.container):V.container=V.options.container;if(!(V.container instanceof HTMLElement)){var X;return X=x.error("Container required for toolbar",V.options),C(V,X)}return V.container.classList.add("ql-toolbar"),V.controls=[],V.handlers={},Object.keys(V.options.handlers).forEach(function(Y){V.addHandler(Y,V.options.handlers[Y])}),[].forEach.call(V.container.querySelectorAll("button, select"),function(Y){V.attach(Y)}),V.quill.on(d.default.events.EDITOR_CHANGE,function(Y,W){Y===d.default.events.SELECTION_CHANGE&&V.update(W)}),V.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var Y=V.quill.selection.getRange(),W=o(Y,1),j=W[0];V.update(j)}),V}return s(M,[{key:"addHandler",value:function($,V){this.handlers[$]=V}},{key:"attach",value:function($){var V=this,K=[].find.call($.classList,function(Y){return Y.indexOf("ql-")===0});if(K){if(K=K.slice(3),$.tagName==="BUTTON"&&$.setAttribute("type","button"),this.handlers[K]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[K]==null){x.warn("ignoring attaching to disabled format",K,$);return}if(c.default.query(K)==null){x.warn("ignoring attaching to nonexistent format",K,$);return}}var X=$.tagName==="SELECT"?"change":"click";$.addEventListener(X,function(Y){var W=void 0;if($.tagName==="SELECT"){if($.selectedIndex<0)return;var j=$.options[$.selectedIndex];j.hasAttribute("selected")?W=!1:W=j.value||!1}else $.classList.contains("ql-active")?W=!1:W=$.value||!$.hasAttribute("value"),Y.preventDefault();V.quill.focus();var b=V.quill.selection.getRange(),R=o(b,1),E=R[0];if(V.handlers[K]!=null)V.handlers[K].call(V,W);else if(c.default.query(K).prototype instanceof c.default.Embed){if(W=prompt("Enter "+K),!W)return;V.quill.updateContents(new l.default().retain(E.index).delete(E.length).insert(m({},K,W)),d.default.sources.USER)}else V.quill.format(K,W,d.default.sources.USER);V.update(E)}),this.controls.push([K,$])}}},{key:"update",value:function($){var V=$==null?{}:this.quill.getFormat($);this.controls.forEach(function(K){var X=o(K,2),Y=X[0],W=X[1];if(W.tagName==="SELECT"){var j=void 0;if($==null)j=null;else if(V[Y]==null)j=W.querySelector("option[selected]");else if(!Array.isArray(V[Y])){var b=V[Y];typeof b=="string"&&(b=b.replace(/\"/g,'\\"')),j=W.querySelector('option[value="'+b+'"]')}j==null?(W.value="",W.selectedIndex=-1):j.selected=!0}else if($==null)W.classList.remove("ql-active");else if(W.hasAttribute("value")){var R=V[Y]===W.getAttribute("value")||V[Y]!=null&&V[Y].toString()===W.getAttribute("value")||V[Y]==null&&!W.getAttribute("value");W.classList.toggle("ql-active",R)}else W.classList.toggle("ql-active",V[Y]!=null)})}}]),M}(y.default);_.DEFAULTS={};function O(P,M,N){var $=document.createElement("button");$.setAttribute("type","button"),$.classList.add("ql-"+M),N!=null&&($.value=N),P.appendChild($)}function I(P,M){Array.isArray(M[0])||(M=[M]),M.forEach(function(N){var $=document.createElement("span");$.classList.add("ql-formats"),N.forEach(function(V){if(typeof V=="string")O($,V);else{var K=Object.keys(V)[0],X=V[K];Array.isArray(X)?T($,K,X):O($,K,X)}}),P.appendChild($)})}function T(P,M,N){var $=document.createElement("select");$.classList.add("ql-"+M),N.forEach(function(V){var K=document.createElement("option");V!==!1?K.setAttribute("value",V):K.setAttribute("selected","selected"),$.appendChild(K)}),P.appendChild($)}_.DEFAULTS={container:null,handlers:{clean:function(){var M=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var $=this.quill.getFormat();Object.keys($).forEach(function(V){c.default.query(V,c.default.Scope.INLINE)!=null&&M.quill.format(V,!1)})}else this.quill.removeFormat(N,d.default.sources.USER)},direction:function(M){var N=this.quill.getFormat().align;M==="rtl"&&N==null?this.quill.format("align","right",d.default.sources.USER):!M&&N==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",M,d.default.sources.USER)},indent:function(M){var N=this.quill.getSelection(),$=this.quill.getFormat(N),V=parseInt($.indent||0);if(M==="+1"||M==="-1"){var K=M==="+1"?1:-1;$.direction==="rtl"&&(K*=-1),this.quill.format("indent",V+K,d.default.sources.USER)}},link:function(M){M===!0&&(M=prompt("Enter link URL:")),this.quill.format("link",M,d.default.sources.USER)},list:function(M){var N=this.quill.getSelection(),$=this.quill.getFormat(N);M==="check"?$.list==="checked"||$.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",M,d.default.sources.USER)}}},r.default=_,r.addControls=I},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(v,y){for(var p=0;p<y.length;p++){var m=y[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,y,p){return y&&g(v.prototype,y),p&&g(v,p),v}}(),s=function g(v,y,p){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,y);if(m===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,y,p)}else{if("value"in m)return m.value;var C=m.get;return C===void 0?void 0:C.call(p)}},a=i(28),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function d(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){d(v,g);function v(y,p){c(this,v);var m=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,y));return m.label.innerHTML=p,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),m}return o(v,[{key:"buildItem",value:function(p){var m=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,p);return m.style.backgroundColor=p.getAttribute("value")||"",m}},{key:"selectItem",value:function(p,m){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,p,m);var w=this.label.querySelector(".ql-color-label"),C=p&&p.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=C:w.style.fill=C)}}]),v}(l.default);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(v,y){for(var p=0;p<y.length;p++){var m=y[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,y,p){return y&&g(v.prototype,y),p&&g(v,p),v}}(),s=function g(v,y,p){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,y);if(m===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,y,p)}else{if("value"in m)return m.value;var C=m.get;return C===void 0?void 0:C.call(p)}},a=i(28),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function d(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){d(v,g);function v(y,p){c(this,v);var m=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,y));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=p[w.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return o(v,[{key:"selectItem",value:function(p,m){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,p,m),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),v}(l.default);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var h=0;h<c.length;h++){var d=c[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,h){return c&&l(u.prototype,c),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){var h=this;s(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var h=c.left+c.width/2-this.root.offsetWidth/2,d=c.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var f=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),v=0;if(g.right>f.right&&(v=f.right-g.right,this.root.style.left=h+v+"px"),g.left<f.left&&(v=f.left-g.left,this.root.style.left=h+v+"px"),g.bottom>f.bottom){var y=g.bottom-g.top,p=c.bottom-c.top+y;this.root.style.top=d-p+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(P,M){var N=[],$=!0,V=!1,K=void 0;try{for(var X=P[Symbol.iterator](),Y;!($=(Y=X.next()).done)&&(N.push(Y.value),!(M&&N.length===M));$=!0);}catch(W){V=!0,K=W}finally{try{!$&&X.return&&X.return()}finally{if(V)throw K}}return N}return function(P,M){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return T(P,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function T(P,M,N){P===null&&(P=Function.prototype);var $=Object.getOwnPropertyDescriptor(P,M);if($===void 0){var V=Object.getPrototypeOf(P);return V===null?void 0:T(V,M,N)}else{if("value"in $)return $.value;var K=$.get;return K===void 0?void 0:K.call(N)}},a=function(){function T(P,M){for(var N=0;N<M.length;N++){var $=M[N];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(P,$.key,$)}}return function(P,M,N){return M&&T(P.prototype,M),N&&T(P,N),P}}(),l=i(3),u=w(l),c=i(8),h=w(c),d=i(43),f=w(d),g=i(27),v=w(g),y=i(15),p=i(41),m=w(p);function w(T){return T&&T.__esModule?T:{default:T}}function C(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function S(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function x(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var _=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(T){x(P,T);function P(M,N){C(this,P),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=_);var $=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,M,N));return $.quill.container.classList.add("ql-snow"),$}return a(P,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),m.default),this.tooltip=new I(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function($,V){N.handlers.link.call(N,!V.format.link)})}}]),P}(f.default);O.DEFAULTS=(0,u.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var M=this.quill.getSelection();if(M==null||M.length==0)return;var N=this.quill.getText(M);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var $=this.quill.theme.tooltip;$.edit("link",N)}else this.quill.format("link",!1)}}}}});var I=function(T){x(P,T);function P(M,N){C(this,P);var $=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,M,N));return $.preview=$.root.querySelector("a.ql-preview"),$}return a(P,[{key:"listen",value:function(){var N=this;s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function($){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),$.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function($){if(N.linkRange!=null){var V=N.linkRange;N.restoreFocus(),N.quill.formatText(V,"link",!1,h.default.sources.USER),delete N.linkRange}$.preventDefault(),N.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function($,V,K){if($!=null){if($.length===0&&K===h.default.sources.USER){var X=N.quill.scroll.descendant(v.default,$.index),Y=o(X,2),W=Y[0],j=Y[1];if(W!=null){N.linkRange=new y.Range($.index-j,W.length());var b=v.default.formats(W.domNode);N.preview.textContent=b,N.preview.setAttribute("href",b),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){s(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),P}(d.BaseTooltip);I.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=F(o),a=i(36),l=i(38),u=i(64),c=i(65),h=F(c),d=i(66),f=F(d),g=i(67),v=F(g),y=i(37),p=i(26),m=i(39),w=i(40),C=i(56),S=F(C),x=i(68),_=F(x),O=i(27),I=F(O),T=i(69),P=F(T),M=i(70),N=F(M),$=i(71),V=F($),K=i(72),X=F(K),Y=i(73),W=F(Y),j=i(13),b=F(j),R=i(74),E=F(R),H=i(75),D=F(H),A=i(57),B=F(A),U=i(41),q=F(U),ie=i(28),ue=F(ie),ve=i(59),Ce=F(ve),re=i(60),Oe=F(re),$e=i(61),Fe=F($e),le=i(108),se=F(le),k=i(62),L=F(k);function F(Z){return Z&&Z.__esModule?Z:{default:Z}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":w.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":m.FontClass,"formats/size":w.SizeClass,"formats/blockquote":h.default,"formats/code-block":b.default,"formats/header":f.default,"formats/list":v.default,"formats/bold":S.default,"formats/code":j.Code,"formats/italic":_.default,"formats/link":I.default,"formats/script":P.default,"formats/strike":N.default,"formats/underline":V.default,"formats/image":X.default,"formats/video":W.default,"formats/list/item":g.ListItem,"modules/formula":E.default,"modules/syntax":D.default,"modules/toolbar":B.default,"themes/bubble":se.default,"themes/snow":L.default,"ui/icons":q.default,"ui/picker":ue.default,"ui/icon-picker":Oe.default,"ui/color-picker":Ce.default,"ui/tooltip":Fe.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function v(y,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,p,m){return p&&v(y.prototype,p),m&&v(y,m),y}}(),s=function v(y,p,m){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,p);if(w===void 0){var C=Object.getPrototypeOf(y);return C===null?void 0:v(C,p,m)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(m)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function d(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){d(y,v);function y(){return c(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"add",value:function(m,w){if(w==="+1"||w==="-1"){var C=this.value(m)||0;w=w==="+1"?C+1:C-1}return w===0?(this.remove(m),!0):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,m,w)}},{key:"canAdd",value:function(m,w){return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,m,w)||s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,m,parseInt(w))}},{key:"value",value:function(m){return parseInt(s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,m))||void 0}}]),y}(l.default.Attributor.Class),g=new f("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function f(g,v){for(var y=0;y<v.length;y++){var p=v[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,p.key,p)}}return function(g,v,y){return v&&f(g.prototype,v),y&&f(g,y),g}}(),s=i(4),a=l(s);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function c(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function h(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}var d=function(f){h(g,f);function g(){return u(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),g}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function C(S,x){for(var _=0;_<x.length;_++){var O=x[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,x,_){return x&&C(S.prototype,x),_&&C(S,_),S}}(),s=function C(S,x,_){S===null&&(S=Function.prototype);var O=Object.getOwnPropertyDescriptor(S,x);if(O===void 0){var I=Object.getPrototypeOf(S);return I===null?void 0:C(I,x,_)}else{if("value"in O)return O.value;var T=O.get;return T===void 0?void 0:T.call(_)}},a=i(0),l=f(a),u=i(4),c=f(u),h=i(25),d=f(h);function f(C){return C&&C.__esModule?C:{default:C}}function g(C,S,x){return S in C?Object.defineProperty(C,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):C[S]=x,C}function v(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function y(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function p(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}var m=function(C){p(S,C);function S(){return v(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"format",value:function(_,O){_===w.blotName&&!O?this.replaceWith(l.default.create(this.statics.scope)):s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,_,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(_,O){return this.parent.isolate(this.offset(this.parent),this.length()),_===this.parent.statics.blotName?(this.parent.replaceWith(_,O),this):(this.parent.unwrap(),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,_,O))}}],[{key:"formats",value:function(_){return _.tagName===this.tagName?void 0:s(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,_)}}]),S}(c.default);m.blotName="list-item",m.tagName="LI";var w=function(C){p(S,C),o(S,null,[{key:"create",value:function(_){var O=_==="ordered"?"OL":"UL",I=s(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,O);return(_==="checked"||_==="unchecked")&&I.setAttribute("data-checked",_==="checked"),I}},{key:"formats",value:function(_){if(_.tagName==="OL")return"ordered";if(_.tagName==="UL")return _.hasAttribute("data-checked")?_.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(x){v(this,S);var _=y(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,x)),O=function(T){if(T.target.parentNode===x){var P=_.statics.formats(x),M=l.default.find(T.target);P==="checked"?M.format("list","unchecked"):P==="unchecked"&&M.format("list","checked")}};return x.addEventListener("touchstart",O),x.addEventListener("mousedown",O),_}return o(S,[{key:"format",value:function(_,O){this.children.length>0&&this.children.tail.format(_,O)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(_,O){if(_ instanceof m)s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,_,O);else{var I=O==null?this.length():O.offset(this),T=this.split(I);T.parent.insertBefore(_,T)}}},{key:"optimize",value:function(_){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,_);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(_){if(_.statics.blotName!==this.statics.blotName){var O=l.default.create(this.statics.defaultChild);_.moveChildren(O),this.appendChild(O)}s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,_)}}]),S}(d.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[m],r.ListItem=m,r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(v,y){for(var p=0;p<y.length;p++){var m=y[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,y,p){return y&&g(v.prototype,y),p&&g(v,p),v}}(),s=function g(v,y,p){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,y);if(m===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,y,p)}else{if("value"in m)return m.value;var C=m.get;return C===void 0?void 0:C.call(p)}},a=i(6),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function h(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function d(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var f=function(g){d(v,g);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),v}(l.default);f.blotName="script",f.tagName=["SUB","SUP"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(p,m){for(var w=0;w<m.length;w++){var C=m[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,m,w){return m&&y(p.prototype,m),w&&y(p,w),p}}(),s=function y(p,m,w){p===null&&(p=Function.prototype);var C=Object.getOwnPropertyDescriptor(p,m);if(C===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:y(S,m,w)}else{if("value"in C)return C.value;var x=C.get;return x===void 0?void 0:x.call(w)}},a=i(0),l=c(a),u=i(27);function c(y){return y&&y.__esModule?y:{default:y}}function h(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function d(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function f(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var g=["alt","height","width"],v=function(y){f(p,y);function p(){return h(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(w,C){g.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,w);return typeof w=="string"&&C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return g.reduce(function(C,S){return w.hasAttribute(S)&&(C[S]=w.getAttribute(S)),C},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,u.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),p}(l.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(p,m){for(var w=0;w<m.length;w++){var C=m[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,m,w){return m&&y(p.prototype,m),w&&y(p,w),p}}(),s=function y(p,m,w){p===null&&(p=Function.prototype);var C=Object.getOwnPropertyDescriptor(p,m);if(C===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:y(S,m,w)}else{if("value"in C)return C.value;var x=C.get;return x===void 0?void 0:x.call(w)}},a=i(4),l=i(27),u=c(l);function c(y){return y&&y.__esModule?y:{default:y}}function h(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function d(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function f(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var g=["height","width"],v=function(y){f(p,y);function p(){return h(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(w,C){g.indexOf(w)>-1?C?this.domNode.setAttribute(w,C):this.domNode.removeAttribute(w):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,w,C)}}],[{key:"create",value:function(w){var C=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,w);return C.setAttribute("frameborder","0"),C.setAttribute("allowfullscreen",!0),C.setAttribute("src",this.sanitize(w)),C}},{key:"formats",value:function(w){return g.reduce(function(C,S){return w.hasAttribute(S)&&(C[S]=w.getAttribute(S)),C},{})}},{key:"sanitize",value:function(w){return u.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),p}(a.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function w(C,S){for(var x=0;x<S.length;x++){var _=S[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(C,_.key,_)}}return function(C,S,x){return S&&w(C.prototype,S),x&&w(C,x),C}}(),s=function w(C,S,x){C===null&&(C=Function.prototype);var _=Object.getOwnPropertyDescriptor(C,S);if(_===void 0){var O=Object.getPrototypeOf(C);return O===null?void 0:w(O,S,x)}else{if("value"in _)return _.value;var I=_.get;return I===void 0?void 0:I.call(x)}},a=i(35),l=f(a),u=i(5),c=f(u),h=i(9),d=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function g(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function v(w,C){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:w}function y(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)}var p=function(w){y(C,w);function C(){return g(this,C),v(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return o(C,null,[{key:"create",value:function(x){var _=s(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,x);return typeof x=="string"&&(window.katex.render(x,_,{throwOnError:!1,errorColor:"#f00"}),_.setAttribute("data-value",x)),_}},{key:"value",value:function(x){return x.getAttribute("data-value")}}]),C}(l.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var m=function(w){y(C,w),o(C,null,[{key:"register",value:function(){c.default.register(p,!0)}}]);function C(){g(this,C);var S=v(this,(C.__proto__||Object.getPrototypeOf(C)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return C}(d.default);r.FormulaBlot=p,r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function x(_,O){for(var I=0;I<O.length;I++){var T=O[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,O,I){return O&&x(_.prototype,O),I&&x(_,I),_}}(),s=function x(_,O,I){_===null&&(_=Function.prototype);var T=Object.getOwnPropertyDescriptor(_,O);if(T===void 0){var P=Object.getPrototypeOf(_);return P===null?void 0:x(P,O,I)}else{if("value"in T)return T.value;var M=T.get;return M===void 0?void 0:M.call(I)}},a=i(0),l=v(a),u=i(5),c=v(u),h=i(9),d=v(h),f=i(13),g=v(f);function v(x){return x&&x.__esModule?x:{default:x}}function y(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")}function p(x,_){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:x}function m(x,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);x.prototype=Object.create(_&&_.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(x,_):x.__proto__=_)}var w=function(x){m(_,x);function _(){return y(this,_),p(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"replaceWith",value:function(I){this.domNode.textContent=this.domNode.textContent,this.attach(),s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,I)}},{key:"highlight",value:function(I){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=I(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),_}(g.default);w.className="ql-syntax";var C=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=function(x){m(_,x),o(_,null,[{key:"register",value:function(){c.default.register(C,!0),c.default.register(w,!0)}}]);function _(O,I){y(this,_);var T=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O,I));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var P=null;return T.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(P),P=setTimeout(function(){T.highlight(),P=null},T.options.interval)}),T.highlight(),T}return o(_,[{key:"highlight",value:function(){var I=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(P){P.highlight(I.options.highlight)}),this.quill.update(c.default.sources.SILENT),T!=null&&this.quill.setSelection(T,c.default.sources.SILENT)}}}]),_}(d.default);S.DEFAULTS={highlight:function(){return window.hljs==null?null:function(x){var _=window.hljs.highlightAuto(x);return _.value}}(),interval:1e3},r.CodeBlock=w,r.CodeToken=C,r.default=S},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function _(O,I,T){O===null&&(O=Function.prototype);var P=Object.getOwnPropertyDescriptor(O,I);if(P===void 0){var M=Object.getPrototypeOf(O);return M===null?void 0:_(M,I,T)}else{if("value"in P)return P.value;var N=P.get;return N===void 0?void 0:N.call(T)}},s=function(){function _(O,I){for(var T=0;T<I.length;T++){var P=I[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(O,P.key,P)}}return function(O,I,T){return I&&_(O.prototype,I),T&&_(O,T),O}}(),a=i(3),l=y(a),u=i(8),c=y(u),h=i(43),d=y(h),f=i(15),g=i(41),v=y(g);function y(_){return _&&_.__esModule?_:{default:_}}function p(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}function m(_,O){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:_}function w(_,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);_.prototype=Object.create(O&&O.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(_,O):_.__proto__=O)}var C=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=function(_){w(O,_);function O(I,T){p(this,O),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=C);var P=m(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,T));return P.quill.container.classList.add("ql-bubble"),P}return s(O,[{key:"extendToolbar",value:function(T){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),v.default)}}]),O}(d.default);S.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=function(_){w(O,_);function O(I,T){p(this,O);var P=m(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,T));return P.quill.on(c.default.events.EDITOR_CHANGE,function(M,N,$,V){if(M===c.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&V===c.default.sources.USER){P.show(),P.root.style.left="0px",P.root.style.width="",P.root.style.width=P.root.offsetWidth+"px";var K=P.quill.getLines(N.index,N.length);if(K.length===1)P.position(P.quill.getBounds(N));else{var X=K[K.length-1],Y=P.quill.getIndex(X),W=Math.min(X.length()-1,N.index+N.length-Y),j=P.quill.getBounds(new f.Range(Y,W));P.position(j)}}else document.activeElement!==P.textbox&&P.quill.hasFocus()&&P.hide()}),P}return s(O,[{key:"listen",value:function(){var T=this;o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var P=T.quill.getSelection();P!=null&&T.position(T.quill.getBounds(P))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var P=o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,T),M=this.root.querySelector(".ql-tooltip-arrow");if(M.style.marginLeft="",P===0)return P;M.style.marginLeft=-1*P-M.offsetWidth/2+"px"}}]),O}(h.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=x,r.default=S},function(n,r,i){n.exports=i(63)}]).default})})(xB);var ZZ=xB.exports,QZ=Jn&&Jn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rC=Jn&&Jn.__assign||function(){return rC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rC.apply(this,arguments)},JZ=Jn&&Jn.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Lb=Jn&&Jn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Uo=Lb(de),eQ=Lb(mO),lf=Lb(XZ),SN=Lb(ZZ),tQ=function(t){QZ(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,c,h,d;o==="text-change"?(c=(u=r).onEditorChangeText)===null||c===void 0||c.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((d=(h=r).onEditorChangeSelection)===null||d===void 0||d.call(h,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(Uo.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Uo.default.Children.count(n.children)){var i=Uo.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),JZ(this.cleanProps,this.dirtyProps).some(function(l){return!lf.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!lf.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),RN(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new SN.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?lf.default(n.ops,r.ops):lf.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),RN(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=eQ.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return Uo.default.Children.count(i)?Uo.default.cloneElement(Uo.default.Children.only(i),a):o?Uo.default.createElement("pre",rC({},a)):Uo.default.createElement("div",rC({},a))},e.prototype.render=function(){var n;return Uo.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,c;if(this.editor){var h=this.getEditorSelection(),d=!h&&n,f=h&&!n;lf.default(n,h)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),d?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):f&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,h,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=SN.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Uo.default.Component);function RN(t){Promise.resolve().then(t)}var nQ=tQ;const rQ=Wm(nQ);class PB{constructor(e,n){kc(this,"ws",null);kc(this,"url");kc(this,"handlers",new Map);kc(this,"reconnectAttempts",0);kc(this,"maxReconnectAttempts",5);const r=window.location.protocol==="https:"?"wss":"ws";this.url=`${r}://${window.location.host}/ws/${e}/${n}/`}connect(){try{this.ws=new WebSocket(this.url),this.ws.onopen=()=>{console.log("WebSocket connected"),this.reconnectAttempts=0,this.emit("connected",{})},this.ws.onmessage=e=>{const n=JSON.parse(e.data);this.emit(n.type,n)},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.emit("error",e)},this.ws.onclose=()=>{console.log("WebSocket closed"),this.emit("disconnected",{}),this.reconnect()}}catch(e){console.error("Failed to connect:",e),this.reconnect()}}reconnect(){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,setTimeout(()=>this.connect(),5e3*this.reconnectAttempts))}send(e){var n;((n=this.ws)==null?void 0:n.readyState)===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}on(e,n){this.handlers.has(e)||this.handlers.set(e,new Set),this.handlers.get(e).add(n)}off(e,n){var r;(r=this.handlers.get(e))==null||r.delete(n)}emit(e,n){var r;(r=this.handlers.get(e))==null||r.forEach(i=>i(n))}disconnect(){var e;(e=this.ws)==null||e.close()}}function iQ(){const{id:t}=P2(),[e,n]=de.useState(""),[r,i]=de.useState(""),[o,s]=de.useState(!0),[a,l]=de.useState(!1),[u,c]=de.useState([]),h=de.useRef(null),d=de.useRef(null);de.useEffect(()=>((async()=>{try{const y=await Mg.get(Number(t));i(y.data.title),n(y.data.content)}catch(y){console.error("Failed to load document:",y)}finally{s(!1)}})(),t&&(h.current=new PB("document",Number(t)),h.current.connect(),h.current.on("content_change",y=>{n(y.content)}),h.current.on("user_joined",y=>{c(p=>[...new Set([...p,y.username])])}),h.current.on("user_left",y=>{c(p=>p.filter(m=>m!==y.username))})),()=>{var y;(y=h.current)==null||y.disconnect(),d.current&&clearTimeout(d.current)}),[t]);const f=async()=>{var v;l(!0);try{await Mg.update(Number(t),{content:e,title:r}),(v=h.current)==null||v.send({type:"content_update",content:e,title:r})}catch(y){console.error("Failed to save:",y)}finally{l(!1)}},g=v=>{n(v),d.current&&clearTimeout(d.current),d.current=setTimeout(f,1500)};return o?ce.jsx("div",{className:"text-center py-8",children:"Loading document..."}):ce.jsxs("div",{className:"h-screen flex flex-col bg-white",children:[ce.jsxs("div",{className:"border-b bg-gray-50 p-4 flex justify-between items-center",children:[ce.jsxs("div",{className:"flex-1",children:[ce.jsx("input",{type:"text",value:r,onChange:v=>i(v.target.value),className:"text-2xl font-bold outline-none",placeholder:"Document Title"}),ce.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Active: ",u.join(", ")||"You"]})]}),ce.jsxs("div",{className:"flex gap-2 items-center",children:[ce.jsxs("button",{onClick:f,disabled:a,className:"btn btn-primary flex items-center gap-2",children:[ce.jsx(fB,{size:18}),a?"Saving...":"Save"]}),ce.jsx("button",{className:"btn btn-secondary p-2",children:ce.jsx(Jw,{size:18})}),ce.jsx("button",{className:"btn btn-secondary p-2",children:ce.jsx(dB,{size:18})})]})]}),ce.jsx("div",{className:"flex-1 overflow-hidden",children:ce.jsx(rQ,{value:e,onChange:g,theme:"snow",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},style:{height:"100%"}})})]})}var uf=function(t){return t&&t.Math===Math&&t},Kn=uf(typeof globalThis=="object"&&globalThis)||uf(typeof window=="object"&&window)||uf(typeof self=="object"&&self)||uf(typeof Jn=="object"&&Jn)||uf(typeof Jn=="object"&&Jn)||function(){return this}()||Function("return this")(),xO={},nr=function(t){try{return!!t()}catch{return!0}},oQ=nr,Ho=!oQ(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),sQ=nr,$b=!sQ(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),aQ=$b,qp=Function.prototype.call,Do=aQ?qp.bind(qp):function(){return qp.apply(qp,arguments)},MB={},AB={}.propertyIsEnumerable,IB=Object.getOwnPropertyDescriptor,lQ=IB&&!AB.call({1:2},1);MB.f=lQ?function(e){var n=IB(this,e);return!!n&&n.enumerable}:AB;var Fb=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},NB=$b,kB=Function.prototype,i_=kB.call,uQ=NB&&kB.bind.bind(i_,i_),Pn=NB?uQ:function(t){return function(){return i_.apply(t,arguments)}},HB=Pn,cQ=HB({}.toString),hQ=HB("".slice),Sc=function(t){return hQ(cQ(t),8,-1)},dQ=Pn,fQ=nr,gQ=Sc,C0=Object,mQ=dQ("".split),pQ=fQ(function(){return!C0("z").propertyIsEnumerable(0)})?function(t){return gQ(t)==="String"?mQ(t,""):C0(t)}:C0,PO=function(t){return t==null},vQ=PO,yQ=TypeError,ep=function(t){if(vQ(t))throw new yQ("Can't call method on "+t);return t},wQ=pQ,CQ=ep,Bb=function(t){return wQ(CQ(t))},b0=typeof document=="object"&&document.all,yr=typeof b0>"u"&&b0!==void 0?function(t){return typeof t=="function"||t===b0}:function(t){return typeof t=="function"},bQ=yr,Lo=function(t){return typeof t=="object"?t!==null:bQ(t)},S0=Kn,SQ=yr,RQ=function(t){return SQ(t)?t:void 0},Ld=function(t,e){return arguments.length<2?RQ(S0[t]):S0[t]&&S0[t][e]},EQ=Pn,jb=EQ({}.isPrototypeOf),_Q=Kn,EN=_Q.navigator,_N=EN&&EN.userAgent,Vb=_N?String(_N):"",DB=Kn,R0=Vb,TN=DB.process,ON=DB.Deno,xN=TN&&TN.versions||ON&&ON.version,PN=xN&&xN.v8,So,iC;PN&&(So=PN.split("."),iC=So[0]>0&&So[0]<4?1:+(So[0]+So[1]));!iC&&R0&&(So=R0.match(/Edge\/(\d+)/),(!So||So[1]>=74)&&(So=R0.match(/Chrome\/(\d+)/),So&&(iC=+So[1])));var TQ=iC,MN=TQ,OQ=nr,xQ=Kn,PQ=xQ.String,MO=!!Object.getOwnPropertySymbols&&!OQ(function(){var t=Symbol("symbol detection");return!PQ(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&MN&&MN<41}),MQ=MO,LB=MQ&&!Symbol.sham&&typeof Symbol.iterator=="symbol",AQ=Ld,IQ=yr,NQ=jb,kQ=LB,HQ=Object,AO=kQ?function(t){return typeof t=="symbol"}:function(t){var e=AQ("Symbol");return IQ(e)&&NQ(e.prototype,HQ(t))},DQ=String,Wb=function(t){try{return DQ(t)}catch{return"Object"}},LQ=yr,$Q=Wb,FQ=TypeError,tp=function(t){if(LQ(t))return t;throw new FQ($Q(t)+" is not a function")},BQ=tp,jQ=PO,Ub=function(t,e){var n=t[e];return jQ(n)?void 0:BQ(n)},E0=Do,_0=yr,T0=Lo,VQ=TypeError,WQ=function(t,e){var n,r;if(e==="string"&&_0(n=t.toString)&&!T0(r=E0(n,t))||_0(n=t.valueOf)&&!T0(r=E0(n,t))||e!=="string"&&_0(n=t.toString)&&!T0(r=E0(n,t)))return r;throw new VQ("Can't convert object to primitive value")},$B={exports:{}},AN=Kn,UQ=Object.defineProperty,IO=function(t,e){try{UQ(AN,t,{value:e,configurable:!0,writable:!0})}catch{AN[t]=e}return e},zQ=Kn,YQ=IO,IN="__core-js_shared__",NN=$B.exports=zQ[IN]||YQ(IN,{});(NN.versions||(NN.versions=[])).push({version:"3.47.0",mode:"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"});var NO=$B.exports,kN=NO,FB=function(t,e){return kN[t]||(kN[t]=e||{})},GQ=ep,KQ=Object,np=function(t){return KQ(GQ(t))},qQ=Pn,XQ=np,ZQ=qQ({}.hasOwnProperty),$o=Object.hasOwn||function(e,n){return ZQ(XQ(e),n)},QQ=Pn,JQ=0,eJ=Math.random(),tJ=QQ(1.1.toString),kO=function(t){return"Symbol("+(t===void 0?"":t)+")_"+tJ(++JQ+eJ,36)},nJ=Kn,rJ=FB,HN=$o,iJ=kO,oJ=MO,sJ=LB,$h=nJ.Symbol,O0=rJ("wks"),aJ=sJ?$h.for||$h:$h&&$h.withoutSetter||iJ,Wl=function(t){return HN(O0,t)||(O0[t]=oJ&&HN($h,t)?$h[t]:aJ("Symbol."+t)),O0[t]},lJ=Do,DN=Lo,LN=AO,uJ=Ub,cJ=WQ,hJ=Wl,dJ=TypeError,fJ=hJ("toPrimitive"),gJ=function(t,e){if(!DN(t)||LN(t))return t;var n=uJ(t,fJ),r;if(n){if(e===void 0&&(e="default"),r=lJ(n,t,e),!DN(r)||LN(r))return r;throw new dJ("Can't convert object to primitive value")}return e===void 0&&(e="number"),cJ(t,e)},mJ=gJ,pJ=AO,BB=function(t){var e=mJ(t,"string");return pJ(e)?e:e+""},vJ=Kn,$N=Lo,o_=vJ.document,yJ=$N(o_)&&$N(o_.createElement),HO=function(t){return yJ?o_.createElement(t):{}},wJ=Ho,CJ=nr,bJ=HO,jB=!wJ&&!CJ(function(){return Object.defineProperty(bJ("div"),"a",{get:function(){return 7}}).a!==7}),SJ=Ho,RJ=Do,EJ=MB,_J=Fb,TJ=Bb,OJ=BB,xJ=$o,PJ=jB,FN=Object.getOwnPropertyDescriptor;xO.f=SJ?FN:function(e,n){if(e=TJ(e),n=OJ(n),PJ)try{return FN(e,n)}catch{}if(xJ(e,n))return _J(!RJ(EJ.f,e,n),e[n])};var Ul={},MJ=Ho,AJ=nr,VB=MJ&&AJ(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),IJ=Lo,NJ=String,kJ=TypeError,Pa=function(t){if(IJ(t))return t;throw new kJ(NJ(t)+" is not an object")},HJ=Ho,DJ=jB,LJ=VB,Xp=Pa,BN=BB,$J=TypeError,x0=Object.defineProperty,FJ=Object.getOwnPropertyDescriptor,P0="enumerable",M0="configurable",A0="writable";Ul.f=HJ?LJ?function(e,n,r){if(Xp(e),n=BN(n),Xp(r),typeof e=="function"&&n==="prototype"&&"value"in r&&A0 in r&&!r[A0]){var i=FJ(e,n);i&&i[A0]&&(e[n]=r.value,r={configurable:M0 in r?r[M0]:i[M0],enumerable:P0 in r?r[P0]:i[P0],writable:!1})}return x0(e,n,r)}:x0:function(e,n,r){if(Xp(e),n=BN(n),Xp(r),DJ)try{return x0(e,n,r)}catch{}if("get"in r||"set"in r)throw new $J("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var BJ=Ho,jJ=Ul,VJ=Fb,rp=BJ?function(t,e,n){return jJ.f(t,e,VJ(1,n))}:function(t,e,n){return t[e]=n,t},WB={exports:{}},s_=Ho,WJ=$o,UB=Function.prototype,UJ=s_&&Object.getOwnPropertyDescriptor,zJ=WJ(UB,"name"),YJ=zJ&&(!s_||s_&&UJ(UB,"name").configurable),GJ={CONFIGURABLE:YJ},KJ=Pn,qJ=yr,a_=NO,XJ=KJ(Function.toString);qJ(a_.inspectSource)||(a_.inspectSource=function(t){return XJ(t)});var ZJ=a_.inspectSource,QJ=Kn,JJ=yr,jN=QJ.WeakMap,eee=JJ(jN)&&/native code/.test(String(jN)),tee=FB,nee=kO,VN=tee("keys"),zB=function(t){return VN[t]||(VN[t]=nee(t))},DO={},ree=eee,YB=Kn,iee=rp,I0=$o,N0=NO,oee=zB,see=DO,WN="Object already initialized",UN=YB.TypeError,aee=YB.WeakMap,l_,oC,u_,lee=function(t){return u_(t)?oC(t):l_(t,{})};if(ree||N0.state){var zo=N0.state||(N0.state=new aee);zo.get=zo.get,zo.has=zo.has,zo.set=zo.set,l_=function(t,e){if(zo.has(t))throw new UN(WN);return e.facade=t,zo.set(t,e),e},oC=function(t){return zo.get(t)||{}},u_=function(t){return zo.has(t)}}else{var Dc=oee("state");see[Dc]=!0,l_=function(t,e){if(I0(t,Dc))throw new UN(WN);return e.facade=t,iee(t,Dc,e),e},oC=function(t){return I0(t,Dc)?t[Dc]:{}},u_=function(t){return I0(t,Dc)}}var GB={get:oC,enforce:lee},LO=Pn,uee=nr,cee=yr,Zp=$o,c_=Ho,hee=GJ.CONFIGURABLE,dee=ZJ,KB=GB,fee=KB.enforce,gee=KB.get,zN=String,ew=Object.defineProperty,mee=LO("".slice),pee=LO("".replace),vee=LO([].join),yee=c_&&!uee(function(){return ew(function(){},"length",{value:8}).length!==8}),wee=String(String).split("String"),Cee=WB.exports=function(t,e,n){mee(zN(e),0,7)==="Symbol("&&(e="["+pee(zN(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!Zp(t,"name")||hee&&t.name!==e)&&(c_?ew(t,"name",{value:e,configurable:!0}):t.name=e),yee&&n&&Zp(n,"arity")&&t.length!==n.arity&&ew(t,"length",{value:n.arity});try{n&&Zp(n,"constructor")&&n.constructor?c_&&ew(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var r=fee(t);return Zp(r,"source")||(r.source=vee(wee,typeof e=="string"?e:"")),t};Function.prototype.toString=Cee(function(){return cee(this)&&gee(this).source||dee(this)},"toString");var bee=WB.exports,See=yr,Ree=Ul,Eee=bee,_ee=IO,Tee=function(t,e,n,r){r||(r={});var i=r.enumerable,o=r.name!==void 0?r.name:e;if(See(n)&&Eee(n,o,r),r.global)i?t[e]=n:_ee(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch{}i?t[e]=n:Ree.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},qB={},Oee=Math.ceil,xee=Math.floor,Pee=Math.trunc||function(e){var n=+e;return(n>0?xee:Oee)(n)},Mee=Pee,ip=function(t){var e=+t;return e!==e||e===0?0:Mee(e)},Aee=ip,Iee=Math.max,Nee=Math.min,kee=function(t,e){var n=Aee(t);return n<0?Iee(n+e,0):Nee(n,e)},Hee=ip,Dee=Math.min,Lee=function(t){var e=Hee(t);return e>0?Dee(e,9007199254740991):0},$ee=Lee,op=function(t){return $ee(t.length)},Fee=Bb,Bee=kee,jee=op,Vee=function(t){return function(e,n,r){var i=Fee(e),o=jee(i);if(o===0)return!t&&-1;var s=Bee(r,o),a;if(t&&n!==n){for(;o>s;)if(a=i[s++],a!==a)return!0}else for(;o>s;s++)if((t||s in i)&&i[s]===n)return t||s||0;return!t&&-1}},Wee={indexOf:Vee(!1)},Uee=Pn,k0=$o,zee=Bb,Yee=Wee.indexOf,Gee=DO,YN=Uee([].push),XB=function(t,e){var n=zee(t),r=0,i=[],o;for(o in n)!k0(Gee,o)&&k0(n,o)&&YN(i,o);for(;e.length>r;)k0(n,o=e[r++])&&(~Yee(i,o)||YN(i,o));return i},$O=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Kee=XB,qee=$O,Xee=qee.concat("length","prototype");qB.f=Object.getOwnPropertyNames||function(e){return Kee(e,Xee)};var ZB={};ZB.f=Object.getOwnPropertySymbols;var Zee=Ld,Qee=Pn,Jee=qB,ete=ZB,tte=Pa,nte=Qee([].concat),rte=Zee("Reflect","ownKeys")||function(e){var n=Jee.f(tte(e)),r=ete.f;return r?nte(n,r(e)):n},GN=$o,ite=rte,ote=xO,ste=Ul,QB=function(t,e,n){for(var r=ite(e),i=ste.f,o=ote.f,s=0;s<r.length;s++){var a=r[s];!GN(t,a)&&!(n&&GN(n,a))&&i(t,a,o(e,a))}},ate=nr,lte=yr,ute=/#|\.prototype\./,sp=function(t,e){var n=hte[cte(t)];return n===fte?!0:n===dte?!1:lte(e)?ate(e):!!e},cte=sp.normalize=function(t){return String(t).replace(ute,".").toLowerCase()},hte=sp.data={},dte=sp.NATIVE="N",fte=sp.POLYFILL="P",gte=sp,Qp=Kn,mte=xO.f,pte=rp,vte=Tee,yte=IO,wte=QB,Cte=gte,rr=function(t,e){var n=t.target,r=t.global,i=t.stat,o,s,a,l,u,c;if(r?s=Qp:i?s=Qp[n]||yte(n,{}):s=Qp[n]&&Qp[n].prototype,s)for(a in e){if(u=e[a],t.dontCallGetSet?(c=mte(s,a),l=c&&c.value):l=s[a],o=Cte(r?a:n+(i?".":"#")+a,t.forced),!o&&l!==void 0){if(typeof u==typeof l)continue;wte(u,l)}(t.sham||l&&l.sham)&&pte(u,"sham",!0),vte(s,a,u,t)}},bte=$b,JB=Function.prototype,KN=JB.apply,qN=JB.call,zb=typeof Reflect=="object"&&Reflect.apply||(bte?qN.bind(KN):function(){return qN.apply(KN,arguments)}),Ste=Pn,Rte=tp,ej=function(t,e,n){try{return Ste(Rte(Object.getOwnPropertyDescriptor(t,e)[n]))}catch{}},Ete=Lo,_te=function(t){return Ete(t)||t===null},Tte=_te,Ote=String,xte=TypeError,Pte=function(t){if(Tte(t))return t;throw new xte("Can't set "+Ote(t)+" as a prototype")},Mte=ej,Ate=Lo,Ite=ep,Nte=Pte,tj=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},n;try{n=Mte(Object.prototype,"__proto__","set"),n(e,[]),t=e instanceof Array}catch{}return function(i,o){return Ite(i),Nte(o),Ate(i)&&(t?n(i,o):i.__proto__=o),i}}():void 0),kte=Ul.f,Hte=function(t,e,n){n in t||kte(t,n,{configurable:!0,get:function(){return e[n]},set:function(r){e[n]=r}})},Dte=yr,Lte=Lo,XN=tj,$te=function(t,e,n){var r,i;return XN&&Dte(r=e.constructor)&&r!==n&&Lte(i=r.prototype)&&i!==n.prototype&&XN(t,i),t},Fte=Wl,Bte=Fte("toStringTag"),nj={};nj[Bte]="z";var jte=String(nj)==="[object z]",Vte=jte,Wte=yr,tw=Sc,Ute=Wl,zte=Ute("toStringTag"),Yte=Object,Gte=tw(function(){return arguments}())==="Arguments",Kte=function(t,e){try{return t[e]}catch{}},rj=Vte?tw:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=Kte(e=Yte(t),zte))=="string"?n:Gte?tw(e):(r=tw(e))==="Object"&&Wte(e.callee)?"Arguments":r},qte=rj,Xte=String,Yb=function(t){if(qte(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Xte(t)},Zte=Yb,Qte=function(t,e){return t===void 0?arguments.length<2?"":e:Zte(t)},Jte=Lo,ene=rp,tne=function(t,e){Jte(e)&&"cause"in e&&ene(t,"cause",e.cause)},nne=Pn,ij=Error,rne=nne("".replace),ine=function(t){return String(new ij(t).stack)}("zxcasd"),oj=/\n\s*at [^:]*:[^\n]*/,one=oj.test(ine),sne=function(t,e){if(one&&typeof t=="string"&&!ij.prepareStackTrace)for(;e--;)t=rne(t,oj,"");return t},ane=nr,lne=Fb,une=!ane(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",lne(1,7)),t.stack!==7):!0}),cne=rp,hne=sne,dne=une,ZN=Error.captureStackTrace,fne=function(t,e,n,r){dne&&(ZN?ZN(t,e):cne(t,"stack",hne(n,r)))},QN=Ld,gne=$o,JN=rp,mne=jb,ek=tj,tk=QB,nk=Hte,pne=$te,vne=Qte,yne=tne,wne=fne,Cne=Ho,bne=function(t,e,n,r){var i="stackTraceLimit",o=r?2:1,s=t.split("."),a=s[s.length-1],l=QN.apply(null,s);if(l){var u=l.prototype;if(gne(u,"cause")&&delete u.cause,!n)return l;var c=QN("Error"),h=e(function(d,f){var g=vne(r?f:d,void 0),v=r?new l(d):new l;return g!==void 0&&JN(v,"message",g),wne(v,h,v.stack,2),this&&mne(u,this)&&pne(v,this,h),arguments.length>o&&yne(v,arguments[o]),v});h.prototype=u,a!=="Error"?ek?ek(h,c):tk(h,c,{name:!0}):Cne&&i in l&&(nk(h,l,i),nk(h,l,"prepareStackTrace")),tk(h,l);try{u.name!==a&&JN(u,"name",a),u.constructor=h}catch{}return h}},sj=rr,Sne=Kn,Is=zb,aj=bne,h_="WebAssembly",rk=Sne[h_],sC=new Error("e",{cause:7}).cause!==7,Rc=function(t,e){var n={};n[t]=aj(t,e,sC),sj({global:!0,constructor:!0,arity:1,forced:sC},n)},FO=function(t,e){if(rk&&rk[t]){var n={};n[t]=aj(h_+"."+t,e,sC),sj({target:h_,stat:!0,constructor:!0,arity:1,forced:sC},n)}};Rc("Error",function(t){return function(n){return Is(t,this,arguments)}});Rc("EvalError",function(t){return function(n){return Is(t,this,arguments)}});Rc("RangeError",function(t){return function(n){return Is(t,this,arguments)}});Rc("ReferenceError",function(t){return function(n){return Is(t,this,arguments)}});Rc("SyntaxError",function(t){return function(n){return Is(t,this,arguments)}});Rc("TypeError",function(t){return function(n){return Is(t,this,arguments)}});Rc("URIError",function(t){return function(n){return Is(t,this,arguments)}});FO("CompileError",function(t){return function(n){return Is(t,this,arguments)}});FO("LinkError",function(t){return function(n){return Is(t,this,arguments)}});FO("RuntimeError",function(t){return function(n){return Is(t,this,arguments)}});var Rne=Sc,lj=Array.isArray||function(e){return Rne(e)==="Array"},Ene=Ho,_ne=lj,Tne=TypeError,One=Object.getOwnPropertyDescriptor,xne=Ene&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),uj=xne?function(t,e){if(_ne(t)&&!One(t,"length").writable)throw new Tne("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Pne=TypeError,Mne=9007199254740991,cj=function(t){if(t>Mne)throw Pne("Maximum allowed index exceeded");return t},Ane=rr,Ine=np,Nne=op,kne=uj,Hne=cj,Dne=nr,Lne=Dne(function(){return[].push.call({length:4294967296},1)!==4294967297}),$ne=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},Fne=Lne||!$ne();Ane({target:"Array",proto:!0,arity:1,forced:Fne},{push:function(e){var n=Ine(this),r=Nne(n),i=arguments.length;Hne(r+i);for(var o=0;o<i;o++)n[r]=arguments[o],r++;return kne(n,r),r}});var H0=Pn,Jp=Set.prototype,Ns={Set,add:H0(Jp.add),has:H0(Jp.has),remove:H0(Jp.delete),proto:Jp},Bne=Ns.has,Ec=function(t){return Bne(t),t},jne=Do,_c=function(t,e,n){for(var r=n?t:t.iterator,i=t.next,o,s;!(o=jne(i,r)).done;)if(s=e(o.value),s!==void 0)return s},hj=Pn,Vne=_c,dj=Ns,Wne=dj.Set,fj=dj.proto,Une=hj(fj.forEach),gj=hj(fj.keys),zne=gj(new Wne).next,ap=function(t,e,n){return n?Vne({iterator:gj(t),next:zne},e):Une(t,e)},mj=Ns,Yne=ap,Gne=mj.Set,Kne=mj.add,BO=function(t){var e=new Gne;return Yne(t,function(n){Kne(e,n)}),e},qne=ej,Xne=Ns,lp=qne(Xne.proto,"size","get")||function(t){return t.size},Zne=function(t){return{iterator:t,next:t.next,done:!1}},ik=tp,pj=Pa,ok=Do,Qne=ip,Jne=Zne,sk="Invalid size",ere=RangeError,tre=TypeError,nre=Math.max,vj=function(t,e){this.set=t,this.size=nre(e,0),this.has=ik(t.has),this.keys=ik(t.keys)};vj.prototype={getIterator:function(){return Jne(pj(ok(this.keys,this.set)))},includes:function(t){return ok(this.has,this.set,t)}};var Tc=function(t){pj(t);var e=+t.size;if(e!==e)throw new tre(sk);var n=Qne(e);if(n<0)throw new ere(sk);return new vj(t,n)},rre=Ec,yj=Ns,ire=BO,ore=lp,sre=Tc,are=ap,lre=_c,ure=yj.has,ak=yj.remove,cre=function(e){var n=rre(this),r=sre(e),i=ire(n);return ore(n)<=r.size?are(n,function(o){r.includes(o)&&ak(i,o)}):lre(r.getIterator(),function(o){ure(i,o)&&ak(i,o)}),i},hre=Ld,lk=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},uk=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}},Oc=function(t,e){var n=hre("Set");try{new n()[t](lk(0));try{return new n()[t](lk(-1)),!1}catch{if(!e)return!0;try{return new n()[t](uk(-1/0)),!1}catch{var r=new n([1,2]);return e(r[t](uk(1/0)))}}}catch{return!1}},dre=rr,fre=cre,gre=nr,mre=Oc,pre=!mre("difference",function(t){return t.size===0}),vre=pre||gre(function(){var t={size:1,has:function(){return!0},keys:function(){var n=0;return{next:function(){var r=n++>1;return e.has(1)&&e.clear(),{done:r,value:2}}}}},e=new Set([1,2,3,4]);return e.difference(t).size!==3});dre({target:"Set",proto:!0,real:!0,forced:vre},{difference:fre});var yre=Ec,jO=Ns,wre=lp,Cre=Tc,bre=ap,Sre=_c,Rre=jO.Set,ck=jO.add,Ere=jO.has,_re=function(e){var n=yre(this),r=Cre(e),i=new Rre;return wre(n)>r.size?Sre(r.getIterator(),function(o){Ere(n,o)&&ck(i,o)}):bre(n,function(o){r.includes(o)&&ck(i,o)}),i},Tre=rr,Ore=nr,xre=_re,Pre=Oc,Mre=!Pre("intersection",function(t){return t.size===2&&t.has(1)&&t.has(2)})||Ore(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});Tre({target:"Set",proto:!0,real:!0,forced:Mre},{intersection:xre});var Are=Do,hk=Pa,Ire=Ub,VO=function(t,e,n){var r,i;hk(t);try{if(r=Ire(t,"return"),!r){if(e==="throw")throw n;return n}r=Are(r,t)}catch(o){i=!0,r=o}if(e==="throw")throw n;if(i)throw r;return hk(r),n},Nre=Ec,kre=Ns.has,Hre=lp,Dre=Tc,Lre=ap,$re=_c,Fre=VO,Bre=function(e){var n=Nre(this),r=Dre(e);if(Hre(n)<=r.size)return Lre(n,function(o){if(r.includes(o))return!1},!0)!==!1;var i=r.getIterator();return $re(i,function(o){if(kre(n,o))return Fre(i,"normal",!1)})!==!1},jre=rr,Vre=Bre,Wre=Oc,Ure=!Wre("isDisjointFrom",function(t){return!t});jre({target:"Set",proto:!0,real:!0,forced:Ure},{isDisjointFrom:Vre});var zre=Ec,Yre=lp,Gre=ap,Kre=Tc,qre=function(e){var n=zre(this),r=Kre(e);return Yre(n)>r.size?!1:Gre(n,function(i){if(!r.includes(i))return!1},!0)!==!1},Xre=rr,Zre=qre,Qre=Oc,Jre=!Qre("isSubsetOf",function(t){return t});Xre({target:"Set",proto:!0,real:!0,forced:Jre},{isSubsetOf:Zre});var eie=Ec,tie=Ns.has,nie=lp,rie=Tc,iie=_c,oie=VO,sie=function(e){var n=eie(this),r=rie(e);if(nie(n)<r.size)return!1;var i=r.getIterator();return iie(i,function(o){if(!tie(n,o))return oie(i,"normal",!1)})!==!1},aie=rr,lie=sie,uie=Oc,cie=!uie("isSupersetOf",function(t){return!t});aie({target:"Set",proto:!0,real:!0,forced:cie},{isSupersetOf:lie});var hie=Ec,WO=Ns,die=BO,fie=Tc,gie=_c,mie=WO.add,pie=WO.has,vie=WO.remove,yie=function(e){var n=hie(this),r=fie(e).getIterator(),i=die(n);return gie(r,function(o){pie(n,o)?vie(i,o):mie(i,o)}),i},wj=function(t){try{var e=new Set,n={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[t](n);return r.size===1&&r.values().next().value===4}catch{return!1}},wie=rr,Cie=yie,bie=wj,Sie=Oc,Rie=!Sie("symmetricDifference")||!bie("symmetricDifference");wie({target:"Set",proto:!0,real:!0,forced:Rie},{symmetricDifference:Cie});var Eie=Ec,_ie=Ns.add,Tie=BO,Oie=Tc,xie=_c,Pie=function(e){var n=Eie(this),r=Oie(e).getIterator(),i=Tie(n);return xie(r,function(o){_ie(i,o)}),i},Mie=rr,Aie=Pie,Iie=wj,Nie=Oc,kie=!Nie("union")||!Iie("union");Mie({target:"Set",proto:!0,real:!0,forced:kie},{union:Aie});var Hie=Sc,Die=Pn,Lie=function(t){if(Hie(t)==="Function")return Die(t)},dk=Lie,$ie=tp,Fie=$b,Bie=dk(dk.bind),Cj=function(t,e){return $ie(t),e===void 0?t:Fie?Bie(t,e):function(){return t.apply(e,arguments)}},jie=Ld,bj=jie("document","documentElement"),Vie=Pn,UO=Vie([].slice),Wie=TypeError,Sj=function(t,e){if(t<e)throw new Wie("Not enough arguments");return t},Uie=Vb,zie=/(?:ipad|iphone|ipod).*applewebkit/i.test(Uie),cf=Kn,Yie=Vb,Gie=Sc,ev=function(t){return Yie.slice(0,t.length)===t},Rj=function(){return ev("Bun/")?"BUN":ev("Cloudflare-Workers")?"CLOUDFLARE":ev("Deno/")?"DENO":ev("Node.js/")?"NODE":cf.Bun&&typeof Bun.version=="string"?"BUN":cf.Deno&&typeof Deno.version=="object"?"DENO":Gie(cf.process)==="process"?"NODE":cf.window&&cf.document?"BROWSER":"REST"}(),Kie=Rj,qie=Kie==="NODE",pi=Kn,Xie=zb,Zie=Cj,fk=yr,Qie=$o,Ej=nr,gk=bj,Jie=UO,mk=HO,eoe=Sj,toe=zie,noe=qie,d_=pi.setImmediate,f_=pi.clearImmediate,roe=pi.process,D0=pi.Dispatch,ioe=pi.Function,pk=pi.MessageChannel,ooe=pi.String,L0=0,Ig={},vk="onreadystatechange",bm,ql,$0,F0;Ej(function(){bm=pi.location});var zO=function(t){if(Qie(Ig,t)){var e=Ig[t];delete Ig[t],e()}},B0=function(t){return function(){zO(t)}},yk=function(t){zO(t.data)},wk=function(t){pi.postMessage(ooe(t),bm.protocol+"//"+bm.host)};(!d_||!f_)&&(d_=function(e){eoe(arguments.length,1);var n=fk(e)?e:ioe(e),r=Jie(arguments,1);return Ig[++L0]=function(){Xie(n,void 0,r)},ql(L0),L0},f_=function(e){delete Ig[e]},noe?ql=function(t){roe.nextTick(B0(t))}:D0&&D0.now?ql=function(t){D0.now(B0(t))}:pk&&!toe?($0=new pk,F0=$0.port2,$0.port1.onmessage=yk,ql=Zie(F0.postMessage,F0)):pi.addEventListener&&fk(pi.postMessage)&&!pi.importScripts&&bm&&bm.protocol!=="file:"&&!Ej(wk)?(ql=wk,pi.addEventListener("message",yk,!1)):vk in mk("script")?ql=function(t){gk.appendChild(mk("script"))[vk]=function(){gk.removeChild(this),zO(t)}}:ql=function(t){setTimeout(B0(t),0)});var _j={set:d_,clear:f_},soe=rr,aoe=Kn,Ck=_j.clear;soe({global:!0,bind:!0,enumerable:!0,forced:aoe.clearImmediate!==Ck},{clearImmediate:Ck});var Tj=Kn,loe=zb,uoe=yr,coe=Rj,hoe=Vb,doe=UO,foe=Sj,goe=Tj.Function,moe=/MSIE .\./.test(hoe)||coe==="BUN"&&function(){var t=Tj.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),poe=function(t,e){var n=e?2:1;return moe?function(r,i){var o=foe(arguments.length,1)>n,s=uoe(r)?r:goe(r),a=o?doe(arguments,n):[],l=o?function(){loe(s,this,a)}:s;return e?t(l,i):t(l)}:t},voe=rr,Oj=Kn,bk=_j.set,yoe=poe,Sk=Oj.setImmediate?yoe(bk,!1):bk;voe({global:!0,bind:!0,enumerable:!0,forced:Oj.setImmediate!==Sk},{setImmediate:Sk});/*! @license DOMPurify 2.5.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.8/LICENSE */function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function g_(t,e){return g_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},g_(t,e)}function woe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nw(t,e,n){return woe()?nw=Reflect.construct:nw=function(i,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(i,a),u=new l;return s&&g_(u,s.prototype),u},nw.apply(null,arguments)}function co(t){return Coe(t)||boe(t)||Soe(t)||Roe()}function Coe(t){if(Array.isArray(t))return m_(t)}function boe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Soe(t,e){if(t){if(typeof t=="string")return m_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m_(t,e)}}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Roe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Eoe=Object.hasOwnProperty,Rk=Object.setPrototypeOf,_oe=Object.isFrozen,Toe=Object.getPrototypeOf,Ooe=Object.getOwnPropertyDescriptor,Mr=Object.freeze,Ki=Object.seal,xoe=Object.create,xj=typeof Reflect<"u"&&Reflect,aC=xj.apply,p_=xj.construct;aC||(aC=function(e,n,r){return e.apply(n,r)});Mr||(Mr=function(e){return e});Ki||(Ki=function(e){return e});p_||(p_=function(e,n){return nw(e,co(n))});var Poe=qi(Array.prototype.forEach),Ek=qi(Array.prototype.pop),hf=qi(Array.prototype.push),rw=qi(String.prototype.toLowerCase),j0=qi(String.prototype.toString),_k=qi(String.prototype.match),eo=qi(String.prototype.replace),Moe=qi(String.prototype.indexOf),Aoe=qi(String.prototype.trim),Zn=qi(RegExp.prototype.test),V0=Ioe(TypeError);function qi(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return aC(t,e,r)}}function Ioe(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return p_(t,n)}}function et(t,e,n){var r;n=(r=n)!==null&&r!==void 0?r:rw,Rk&&Rk(t,null);for(var i=e.length;i--;){var o=e[i];if(typeof o=="string"){var s=n(o);s!==o&&(_oe(e)||(e[i]=s),o=s)}t[o]=!0}return t}function Xl(t){var e=xoe(null),n;for(n in t)aC(Eoe,t,[n])===!0&&(e[n]=t[n]);return e}function tv(t,e){for(;t!==null;){var n=Ooe(t,e);if(n){if(n.get)return qi(n.get);if(typeof n.value=="function")return qi(n.value)}t=Toe(t)}function r(i){return console.warn("fallback value for",i),null}return r}var Tk=Mr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),W0=Mr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),U0=Mr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Noe=Mr(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),z0=Mr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),koe=Mr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ok=Mr(["#text"]),xk=Mr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Y0=Mr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Pk=Mr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),nv=Mr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Hoe=Ki(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Doe=Ki(/<%[\w\W]*|[\w\W]*%>/gm),Loe=Ki(/\${[\w\W]*}/gm),$oe=Ki(/^data-[\-\w.\u00B7-\uFFFF]+$/),Foe=Ki(/^aria-[\-\w]+$/),Boe=Ki(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),joe=Ki(/^(?:\w+script|data):/i),Voe=Ki(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Woe=Ki(/^html$/i),Uoe=Ki(/^[a-z][.\w]*(-[.\w]+)+$/i),zoe=function(){return typeof window>"u"?null:window},Yoe=function(e,n){if(sl(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:function(a){return a},createScriptURL:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function Pj(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zoe(),e=function(te){return Pj(te)};if(e.version="2.5.8",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,o=t.HTMLTemplateElement,s=t.Node,a=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,c=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,h=t.HTMLFormElement,d=t.DOMParser,f=t.trustedTypes,g=a.prototype,v=tv(g,"cloneNode"),y=tv(g,"nextSibling"),p=tv(g,"childNodes"),m=tv(g,"parentNode");if(typeof o=="function"){var w=r.createElement("template");w.content&&w.content.ownerDocument&&(r=w.content.ownerDocument)}var C=Yoe(f,n),S=C?C.createHTML(""):"",x=r,_=x.implementation,O=x.createNodeIterator,I=x.createDocumentFragment,T=x.getElementsByTagName,P=n.importNode,M={};try{M=Xl(r).documentMode?r.documentMode:{}}catch{}var N={};e.isSupported=typeof m=="function"&&_&&_.createHTMLDocument!==void 0&&M!==9;var $=Hoe,V=Doe,K=Loe,X=$oe,Y=Foe,W=joe,j=Voe,b=Uoe,R=Boe,E=null,H=et({},[].concat(co(Tk),co(W0),co(U0),co(z0),co(Ok))),D=null,A=et({},[].concat(co(xk),co(Y0),co(Pk),co(nv))),B=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,q=null,ie=!0,ue=!0,ve=!1,Ce=!0,re=!1,Oe=!0,$e=!1,Fe=!1,le=!1,se=!1,k=!1,L=!1,F=!0,Z=!1,z="user-content-",J=!0,ee=!1,Q={},ne=null,oe=et({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ae=null,me=et({},["audio","video","img","source","image","track"]),_e=null,He=et({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ge="http://www.w3.org/1998/Math/MathML",at="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml",Ve=Je,ut=!1,Qt=null,Nc=et({},[Ge,at,Je],j0),Qi,qd=["application/xhtml+xml","text/html"],Ri="text/html",Kt,Mn=null,qn=r.createElement("form"),Bt=function(te){return te instanceof RegExp||te instanceof Function},DS=function(te){Mn&&Mn===te||((!te||sl(te)!=="object")&&(te={}),te=Xl(te),Qi=qd.indexOf(te.PARSER_MEDIA_TYPE)===-1?Qi=Ri:Qi=te.PARSER_MEDIA_TYPE,Kt=Qi==="application/xhtml+xml"?j0:rw,E="ALLOWED_TAGS"in te?et({},te.ALLOWED_TAGS,Kt):H,D="ALLOWED_ATTR"in te?et({},te.ALLOWED_ATTR,Kt):A,Qt="ALLOWED_NAMESPACES"in te?et({},te.ALLOWED_NAMESPACES,j0):Nc,_e="ADD_URI_SAFE_ATTR"in te?et(Xl(He),te.ADD_URI_SAFE_ATTR,Kt):He,ae="ADD_DATA_URI_TAGS"in te?et(Xl(me),te.ADD_DATA_URI_TAGS,Kt):me,ne="FORBID_CONTENTS"in te?et({},te.FORBID_CONTENTS,Kt):oe,U="FORBID_TAGS"in te?et({},te.FORBID_TAGS,Kt):{},q="FORBID_ATTR"in te?et({},te.FORBID_ATTR,Kt):{},Q="USE_PROFILES"in te?te.USE_PROFILES:!1,ie=te.ALLOW_ARIA_ATTR!==!1,ue=te.ALLOW_DATA_ATTR!==!1,ve=te.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,re=te.SAFE_FOR_TEMPLATES||!1,Oe=te.SAFE_FOR_XML!==!1,$e=te.WHOLE_DOCUMENT||!1,se=te.RETURN_DOM||!1,k=te.RETURN_DOM_FRAGMENT||!1,L=te.RETURN_TRUSTED_TYPE||!1,le=te.FORCE_BODY||!1,F=te.SANITIZE_DOM!==!1,Z=te.SANITIZE_NAMED_PROPS||!1,J=te.KEEP_CONTENT!==!1,ee=te.IN_PLACE||!1,R=te.ALLOWED_URI_REGEXP||R,Ve=te.NAMESPACE||Je,B=te.CUSTOM_ELEMENT_HANDLING||{},te.CUSTOM_ELEMENT_HANDLING&&Bt(te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(B.tagNameCheck=te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),te.CUSTOM_ELEMENT_HANDLING&&Bt(te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(B.attributeNameCheck=te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),te.CUSTOM_ELEMENT_HANDLING&&typeof te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(B.allowCustomizedBuiltInElements=te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),re&&(ue=!1),k&&(se=!0),Q&&(E=et({},co(Ok)),D=[],Q.html===!0&&(et(E,Tk),et(D,xk)),Q.svg===!0&&(et(E,W0),et(D,Y0),et(D,nv)),Q.svgFilters===!0&&(et(E,U0),et(D,Y0),et(D,nv)),Q.mathMl===!0&&(et(E,z0),et(D,Pk),et(D,nv))),te.ADD_TAGS&&(E===H&&(E=Xl(E)),et(E,te.ADD_TAGS,Kt)),te.ADD_ATTR&&(D===A&&(D=Xl(D)),et(D,te.ADD_ATTR,Kt)),te.ADD_URI_SAFE_ATTR&&et(_e,te.ADD_URI_SAFE_ATTR,Kt),te.FORBID_CONTENTS&&(ne===oe&&(ne=Xl(ne)),et(ne,te.FORBID_CONTENTS,Kt)),J&&(E["#text"]=!0),$e&&et(E,["html","head","body"]),E.table&&(et(E,["tbody"]),delete U.tbody),Mr&&Mr(te),Mn=te)},nA=et({},["mi","mo","mn","ms","mtext"]),rA=et({},["annotation-xml"]),T3=et({},["title","style","font","a","script"]),xp=et({},W0);et(xp,U0),et(xp,Noe);var LS=et({},z0);et(LS,koe);var O3=function(te){var we=m(te);(!we||!we.tagName)&&(we={namespaceURI:Ve,tagName:"template"});var Ee=rw(te.tagName),vt=rw(we.tagName);return Qt[te.namespaceURI]?te.namespaceURI===at?we.namespaceURI===Je?Ee==="svg":we.namespaceURI===Ge?Ee==="svg"&&(vt==="annotation-xml"||nA[vt]):!!xp[Ee]:te.namespaceURI===Ge?we.namespaceURI===Je?Ee==="math":we.namespaceURI===at?Ee==="math"&&rA[vt]:!!LS[Ee]:te.namespaceURI===Je?we.namespaceURI===at&&!rA[vt]||we.namespaceURI===Ge&&!nA[vt]?!1:!LS[Ee]&&(T3[Ee]||!xp[Ee]):!!(Qi==="application/xhtml+xml"&&Qt[te.namespaceURI]):!1},Ei=function(te){hf(e.removed,{element:te});try{te.parentNode.removeChild(te)}catch{try{te.outerHTML=S}catch{te.remove()}}},Pp=function(te,we){try{hf(e.removed,{attribute:we.getAttributeNode(te),from:we})}catch{hf(e.removed,{attribute:null,from:we})}if(we.removeAttribute(te),te==="is"&&!D[te])if(se||k)try{Ei(we)}catch{}else try{we.setAttribute(te,"")}catch{}},iA=function(te){var we,Ee;if(le)te="<remove></remove>"+te;else{var vt=_k(te,/^[\r\n\t ]+/);Ee=vt&&vt[0]}Qi==="application/xhtml+xml"&&Ve===Je&&(te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+te+"</body></html>");var Dr=C?C.createHTML(te):te;if(Ve===Je)try{we=new d().parseFromString(Dr,Qi)}catch{}if(!we||!we.documentElement){we=_.createDocument(Ve,"template",null);try{we.documentElement.innerHTML=ut?S:Dr}catch{}}var or=we.body||we.documentElement;return te&&Ee&&or.insertBefore(r.createTextNode(Ee),or.childNodes[0]||null),Ve===Je?T.call(we,$e?"html":"body")[0]:$e?we.documentElement:or},oA=function(te){return O.call(te.ownerDocument||te,te,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null,!1)},$S=function(te){return te instanceof h&&(typeof te.nodeName!="string"||typeof te.textContent!="string"||typeof te.removeChild!="function"||!(te.attributes instanceof c)||typeof te.removeAttribute!="function"||typeof te.setAttribute!="function"||typeof te.namespaceURI!="string"||typeof te.insertBefore!="function"||typeof te.hasChildNodes!="function")},Xd=function(te){return sl(s)==="object"?te instanceof s:te&&sl(te)==="object"&&typeof te.nodeType=="number"&&typeof te.nodeName=="string"},Ls=function(te,we,Ee){N[te]&&Poe(N[te],function(vt){vt.call(e,we,Ee,Mn)})},sA=function(te){var we;if(Ls("beforeSanitizeElements",te,null),$S(te)||Zn(/[\u0080-\uFFFF]/,te.nodeName))return Ei(te),!0;var Ee=Kt(te.nodeName);if(Ls("uponSanitizeElement",te,{tagName:Ee,allowedTags:E}),te.hasChildNodes()&&!Xd(te.firstElementChild)&&(!Xd(te.content)||!Xd(te.content.firstElementChild))&&Zn(/<[/\w]/g,te.innerHTML)&&Zn(/<[/\w]/g,te.textContent)||Ee==="select"&&Zn(/<template/i,te.innerHTML)||te.nodeType===7||Oe&&te.nodeType===8&&Zn(/<[/\w]/g,te.data))return Ei(te),!0;if(!E[Ee]||U[Ee]){if(!U[Ee]&&lA(Ee)&&(B.tagNameCheck instanceof RegExp&&Zn(B.tagNameCheck,Ee)||B.tagNameCheck instanceof Function&&B.tagNameCheck(Ee)))return!1;if(J&&!ne[Ee]){var vt=m(te)||te.parentNode,Dr=p(te)||te.childNodes;if(Dr&&vt)for(var or=Dr.length,Xn=or-1;Xn>=0;--Xn){var Kl=v(Dr[Xn],!0);Kl.__removalCount=(te.__removalCount||0)+1,vt.insertBefore(Kl,y(te))}}return Ei(te),!0}return te instanceof a&&!O3(te)||(Ee==="noscript"||Ee==="noembed"||Ee==="noframes")&&Zn(/<\/no(script|embed|frames)/i,te.innerHTML)?(Ei(te),!0):(re&&te.nodeType===3&&(we=te.textContent,we=eo(we,$," "),we=eo(we,V," "),we=eo(we,K," "),te.textContent!==we&&(hf(e.removed,{element:te.cloneNode()}),te.textContent=we)),Ls("afterSanitizeElements",te,null),!1)},aA=function(te,we,Ee){if(F&&(we==="id"||we==="name")&&(Ee in r||Ee in qn))return!1;if(!(ue&&!q[we]&&Zn(X,we))){if(!(ie&&Zn(Y,we))){if(!D[we]||q[we]){if(!(lA(te)&&(B.tagNameCheck instanceof RegExp&&Zn(B.tagNameCheck,te)||B.tagNameCheck instanceof Function&&B.tagNameCheck(te))&&(B.attributeNameCheck instanceof RegExp&&Zn(B.attributeNameCheck,we)||B.attributeNameCheck instanceof Function&&B.attributeNameCheck(we))||we==="is"&&B.allowCustomizedBuiltInElements&&(B.tagNameCheck instanceof RegExp&&Zn(B.tagNameCheck,Ee)||B.tagNameCheck instanceof Function&&B.tagNameCheck(Ee))))return!1}else if(!_e[we]){if(!Zn(R,eo(Ee,j,""))){if(!((we==="src"||we==="xlink:href"||we==="href")&&te!=="script"&&Moe(Ee,"data:")===0&&ae[te])){if(!(ve&&!Zn(W,eo(Ee,j,"")))){if(Ee)return!1}}}}}}return!0},lA=function(te){return te!=="annotation-xml"&&_k(te,b)},uA=function(te){var we,Ee,vt,Dr;Ls("beforeSanitizeAttributes",te,null);var or=te.attributes;if(!(!or||$S(te))){var Xn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:D};for(Dr=or.length;Dr--;){we=or[Dr];var Kl=we,An=Kl.name,FS=Kl.namespaceURI;if(Ee=An==="value"?we.value:Aoe(we.value),vt=Kt(An),Xn.attrName=vt,Xn.attrValue=Ee,Xn.keepAttr=!0,Xn.forceKeepAttr=void 0,Ls("uponSanitizeAttribute",te,Xn),Ee=Xn.attrValue,!Xn.forceKeepAttr&&(Pp(An,te),!!Xn.keepAttr)){if(!Ce&&Zn(/\/>/i,Ee)){Pp(An,te);continue}re&&(Ee=eo(Ee,$," "),Ee=eo(Ee,V," "),Ee=eo(Ee,K," "));var cA=Kt(te.nodeName);if(aA(cA,vt,Ee)){if(Z&&(vt==="id"||vt==="name")&&(Pp(An,te),Ee=z+Ee),Oe&&Zn(/((--!?|])>)|<\/(style|title)/i,Ee)){Pp(An,te);continue}if(C&&sl(f)==="object"&&typeof f.getAttributeType=="function"&&!FS)switch(f.getAttributeType(cA,vt)){case"TrustedHTML":{Ee=C.createHTML(Ee);break}case"TrustedScriptURL":{Ee=C.createScriptURL(Ee);break}}try{FS?te.setAttributeNS(FS,An,Ee):te.setAttribute(An,Ee),$S(te)?Ei(te):Ek(e.removed)}catch{}}}}Ls("afterSanitizeAttributes",te,null)}},x3=function De(te){var we,Ee=oA(te);for(Ls("beforeSanitizeShadowDOM",te,null);we=Ee.nextNode();)Ls("uponSanitizeShadowNode",we,null),sA(we),uA(we),we.content instanceof i&&De(we.content);Ls("afterSanitizeShadowDOM",te,null)};return e.sanitize=function(De){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we,Ee,vt,Dr,or;if(ut=!De,ut&&(De="<!-->"),typeof De!="string"&&!Xd(De))if(typeof De.toString=="function"){if(De=De.toString(),typeof De!="string")throw V0("dirty is not a string, aborting")}else throw V0("toString is not a function");if(!e.isSupported){if(sl(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof De=="string")return t.toStaticHTML(De);if(Xd(De))return t.toStaticHTML(De.outerHTML)}return De}if(Fe||DS(te),e.removed=[],typeof De=="string"&&(ee=!1),ee){if(De.nodeName){var Xn=Kt(De.nodeName);if(!E[Xn]||U[Xn])throw V0("root node is forbidden and cannot be sanitized in-place")}}else if(De instanceof s)we=iA("<!---->"),Ee=we.ownerDocument.importNode(De,!0),Ee.nodeType===1&&Ee.nodeName==="BODY"||Ee.nodeName==="HTML"?we=Ee:we.appendChild(Ee);else{if(!se&&!re&&!$e&&De.indexOf("<")===-1)return C&&L?C.createHTML(De):De;if(we=iA(De),!we)return se?null:L?S:""}we&&le&&Ei(we.firstChild);for(var Kl=oA(ee?De:we);vt=Kl.nextNode();)vt.nodeType===3&&vt===Dr||(sA(vt),uA(vt),vt.content instanceof i&&x3(vt.content),Dr=vt);if(Dr=null,ee)return De;if(se){if(k)for(or=I.call(we.ownerDocument);we.firstChild;)or.appendChild(we.firstChild);else or=we;return(D.shadowroot||D.shadowrootmod)&&(or=P.call(n,or,!0)),or}var An=$e?we.outerHTML:we.innerHTML;return $e&&E["!doctype"]&&we.ownerDocument&&we.ownerDocument.doctype&&we.ownerDocument.doctype.name&&Zn(Woe,we.ownerDocument.doctype.name)&&(An="<!DOCTYPE "+we.ownerDocument.doctype.name+`>
`+An),re&&(An=eo(An,$," "),An=eo(An,V," "),An=eo(An,K," ")),C&&L?C.createHTML(An):An},e.setConfig=function(De){DS(De),Fe=!0},e.clearConfig=function(){Mn=null,Fe=!1},e.isValidAttribute=function(De,te,we){Mn||DS({});var Ee=Kt(De),vt=Kt(te);return aA(Ee,vt,we)},e.addHook=function(De,te){typeof te=="function"&&(N[De]=N[De]||[],hf(N[De],te))},e.removeHook=function(De){if(N[De])return Ek(N[De])},e.removeHooks=function(De){N[De]&&(N[De]=[])},e.removeAllHooks=function(){N={}},e}var Goe=Pj();//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Mj;function fe(){return Mj.apply(null,arguments)}function Koe(t){Mj=t}function Mo(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function rc(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function mt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function YO(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(mt(t,e))return!1;return!0}function Ur(t){return t===void 0}function Ra(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function up(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function Aj(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function fl(t,e){for(var n in e)mt(e,n)&&(t[n]=e[n]);return mt(e,"toString")&&(t.toString=e.toString),mt(e,"valueOf")&&(t.valueOf=e.valueOf),t}function ks(t,e,n,r){return eV(t,e,n,r,!0).utc()}function qoe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function qe(t){return t._pf==null&&(t._pf=qoe()),t._pf}var v_;Array.prototype.some?v_=Array.prototype.some:v_=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function GO(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=qe(t),n=v_.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function Gb(t){var e=ks(NaN);return t!=null?fl(qe(e),t):qe(e).userInvalidated=!0,e}var Mk=fe.momentProperties=[],G0=!1;function KO(t,e){var n,r,i,o=Mk.length;if(Ur(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Ur(e._i)||(t._i=e._i),Ur(e._f)||(t._f=e._f),Ur(e._l)||(t._l=e._l),Ur(e._strict)||(t._strict=e._strict),Ur(e._tzm)||(t._tzm=e._tzm),Ur(e._isUTC)||(t._isUTC=e._isUTC),Ur(e._offset)||(t._offset=e._offset),Ur(e._pf)||(t._pf=qe(e)),Ur(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)r=Mk[n],i=e[r],Ur(i)||(t[r]=i);return t}function cp(t){KO(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),G0===!1&&(G0=!0,fe.updateOffset(this),G0=!1)}function Ao(t){return t instanceof cp||t!=null&&t._isAMomentObject!=null}function Ij(t){fe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Xi(t,e){var n=!0;return fl(function(){if(fe.deprecationHandler!=null&&fe.deprecationHandler(null,t),n){var r=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])mt(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}Ij(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var Ak={};function Nj(t,e){fe.deprecationHandler!=null&&fe.deprecationHandler(t,e),Ak[t]||(Ij(e),Ak[t]=!0)}fe.suppressDeprecationWarnings=!1;fe.deprecationHandler=null;function Hs(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Xoe(t){var e,n;for(n in t)mt(t,n)&&(e=t[n],Hs(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function y_(t,e){var n=fl({},t),r;for(r in e)mt(e,r)&&(rc(t[r])&&rc(e[r])?(n[r]={},fl(n[r],t[r]),fl(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)mt(t,r)&&!mt(e,r)&&rc(t[r])&&(n[r]=fl({},n[r]));return n}function qO(t){t!=null&&this.set(t)}var w_;Object.keys?w_=Object.keys:w_=function(t){var e,n=[];for(e in t)mt(t,e)&&n.push(e);return n};var Zoe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Qoe(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Hs(r)?r.call(e,n):r}function xs(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var XO=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,rv=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,K0={},Zh={};function Le(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(Zh[t]=i),e&&(Zh[e[0]]=function(){return xs(i.apply(this,arguments),e[1],e[2])}),n&&(Zh[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Joe(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function ese(t){var e=t.match(XO),n,r;for(n=0,r=e.length;n<r;n++)Zh[e[n]]?e[n]=Zh[e[n]]:e[n]=Joe(e[n]);return function(i){var o="",s;for(s=0;s<r;s++)o+=Hs(e[s])?e[s].call(i,t):e[s];return o}}function iw(t,e){return t.isValid()?(e=kj(e,t.localeData()),K0[e]=K0[e]||ese(e),K0[e](t)):t.localeData().invalidDate()}function kj(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(rv.lastIndex=0;n>=0&&rv.test(t);)t=t.replace(rv,r),rv.lastIndex=0,n-=1;return t}var tse={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function nse(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(XO).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var rse="Invalid date";function ise(){return this._invalidDate}var ose="%d",sse=/\d{1,2}/;function ase(t){return this._ordinal.replace("%d",t)}var lse={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function use(t,e,n,r){var i=this._relativeTime[n];return Hs(i)?i(t,e,n,r):i.replace(/%d/i,t)}function cse(t,e){var n=this._relativeTime[t>0?"future":"past"];return Hs(n)?n(e):n.replace(/%s/i,e)}var Ik={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Zi(t){return typeof t=="string"?Ik[t]||Ik[t.toLowerCase()]:void 0}function ZO(t){var e={},n,r;for(r in t)mt(t,r)&&(n=Zi(r),n&&(e[n]=t[r]));return e}var hse={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function dse(t){var e=[],n;for(n in t)mt(t,n)&&e.push({unit:n,priority:hse[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}var Hj=/\d/,Si=/\d\d/,Dj=/\d{3}/,QO=/\d{4}/,Kb=/[+-]?\d{6}/,Gt=/\d\d?/,Lj=/\d\d\d\d?/,$j=/\d\d\d\d\d\d?/,qb=/\d{1,3}/,JO=/\d{1,4}/,Xb=/[+-]?\d{1,6}/,$d=/\d+/,Zb=/[+-]?\d+/,fse=/Z|[+-]\d\d:?\d\d/gi,Qb=/Z|[+-]\d\d(?::?\d\d)?/gi,gse=/[+-]?\d+(\.\d{1,3})?/,hp=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Fd=/^[1-9]\d?/,ex=/^([1-9]\d|\d)/,lC;lC={};function Pe(t,e,n){lC[t]=Hs(e)?e:function(r,i){return r&&n?n:e}}function mse(t,e){return mt(lC,t)?lC[t](e._strict,e._locale):new RegExp(pse(t))}function pse(t){return va(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,o){return n||r||i||o}))}function va(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Bi(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function lt(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Bi(e)),n}var C_={};function It(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Ra(e)&&(r=function(o,s){s[e]=lt(o)}),i=t.length,n=0;n<i;n++)C_[t[n]]=r}function dp(t,e){It(t,function(n,r,i,o){i._w=i._w||{},e(n,i._w,i,o)})}function vse(t,e,n){e!=null&&mt(C_,t)&&C_[t](e,n._a,n,t)}function Jb(t){return t%4===0&&t%100!==0||t%400===0}var pr=0,ca=1,ws=2,$n=3,Ro=4,ha=5,Yu=6,yse=7,wse=8;Le("Y",0,0,function(){var t=this.year();return t<=9999?xs(t,4):"+"+t});Le(0,["YY",2],0,function(){return this.year()%100});Le(0,["YYYY",4],0,"year");Le(0,["YYYYY",5],0,"year");Le(0,["YYYYYY",6,!0],0,"year");Pe("Y",Zb);Pe("YY",Gt,Si);Pe("YYYY",JO,QO);Pe("YYYYY",Xb,Kb);Pe("YYYYYY",Xb,Kb);It(["YYYYY","YYYYYY"],pr);It("YYYY",function(t,e){e[pr]=t.length===2?fe.parseTwoDigitYear(t):lt(t)});It("YY",function(t,e){e[pr]=fe.parseTwoDigitYear(t)});It("Y",function(t,e){e[pr]=parseInt(t,10)});function Ng(t){return Jb(t)?366:365}fe.parseTwoDigitYear=function(t){return lt(t)+(lt(t)>68?1900:2e3)};var Fj=Bd("FullYear",!0);function Cse(){return Jb(this.year())}function Bd(t,e){return function(n){return n!=null?(Bj(this,t,n),fe.updateOffset(this,e),this):Sm(this,t)}}function Sm(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Bj(t,e,n){var r,i,o,s,a;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,s=t.month(),a=t.date(),a=a===29&&s===1&&!Jb(o)?28:a,i?r.setUTCFullYear(o,s,a):r.setFullYear(o,s,a)}}function bse(t){return t=Zi(t),Hs(this[t])?this[t]():this}function Sse(t,e){if(typeof t=="object"){t=ZO(t);var n=dse(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=Zi(t),Hs(this[t]))return this[t](e);return this}function Rse(t,e){return(t%e+e)%e}var wn;Array.prototype.indexOf?wn=Array.prototype.indexOf:wn=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function tx(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=Rse(e,12);return t+=(e-n)/12,n===1?Jb(t)?29:28:31-n%7%2}Le("M",["MM",2],"Mo",function(){return this.month()+1});Le("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Le("MMMM",0,0,function(t){return this.localeData().months(this,t)});Pe("M",Gt,Fd);Pe("MM",Gt,Si);Pe("MMM",function(t,e){return e.monthsShortRegex(t)});Pe("MMMM",function(t,e){return e.monthsRegex(t)});It(["M","MM"],function(t,e){e[ca]=lt(t)-1});It(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[ca]=i:qe(n).invalidMonth=t});var Ese="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jj="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Vj=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_se=hp,Tse=hp;function Ose(t,e){return t?Mo(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Vj).test(e)?"format":"standalone"][t.month()]:Mo(this._months)?this._months:this._months.standalone}function xse(t,e){return t?Mo(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Vj.test(e)?"format":"standalone"][t.month()]:Mo(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Pse(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=ks([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(i=wn.call(this._shortMonthsParse,s),i!==-1?i:null):(i=wn.call(this._longMonthsParse,s),i!==-1?i:null):e==="MMM"?(i=wn.call(this._shortMonthsParse,s),i!==-1?i:(i=wn.call(this._longMonthsParse,s),i!==-1?i:null)):(i=wn.call(this._longMonthsParse,s),i!==-1?i:(i=wn.call(this._shortMonthsParse,s),i!==-1?i:null))}function Mse(t,e,n){var r,i,o;if(this._monthsParseExact)return Pse.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=ks([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function Wj(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=lt(e);else if(e=t.localeData().monthsParse(e),!Ra(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,tx(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function Uj(t){return t!=null?(Wj(this,t),fe.updateOffset(this,!0),this):Sm(this,"Month")}function Ase(){return tx(this.year(),this.month())}function Ise(t){return this._monthsParseExact?(mt(this,"_monthsRegex")||zj.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(mt(this,"_monthsShortRegex")||(this._monthsShortRegex=_se),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function Nse(t){return this._monthsParseExact?(mt(this,"_monthsRegex")||zj.call(this),t?this._monthsStrictRegex:this._monthsRegex):(mt(this,"_monthsRegex")||(this._monthsRegex=Tse),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function zj(){function t(l,u){return u.length-l.length}var e=[],n=[],r=[],i,o,s,a;for(i=0;i<12;i++)o=ks([2e3,i]),s=va(this.monthsShort(o,"")),a=va(this.months(o,"")),e.push(s),n.push(a),r.push(a),r.push(s);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function kse(t,e,n,r,i,o,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,o,s),a}function Rm(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function uC(t,e,n){var r=7+e-n,i=(7+Rm(t,0,r).getUTCDay()-e)%7;return-i+r-1}function Yj(t,e,n,r,i){var o=(7+n-r)%7,s=uC(t,r,i),a=1+7*(e-1)+o+s,l,u;return a<=0?(l=t-1,u=Ng(l)+a):a>Ng(t)?(l=t+1,u=a-Ng(t)):(l=t,u=a),{year:l,dayOfYear:u}}function Em(t,e,n){var r=uC(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,o,s;return i<1?(s=t.year()-1,o=i+ya(s,e,n)):i>ya(t.year(),e,n)?(o=i-ya(t.year(),e,n),s=t.year()+1):(s=t.year(),o=i),{week:o,year:s}}function ya(t,e,n){var r=uC(t,e,n),i=uC(t+1,e,n);return(Ng(t)-r+i)/7}Le("w",["ww",2],"wo","week");Le("W",["WW",2],"Wo","isoWeek");Pe("w",Gt,Fd);Pe("ww",Gt,Si);Pe("W",Gt,Fd);Pe("WW",Gt,Si);dp(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=lt(t)});function Hse(t){return Em(t,this._week.dow,this._week.doy).week}var Dse={dow:0,doy:6};function Lse(){return this._week.dow}function $se(){return this._week.doy}function Fse(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Bse(t){var e=Em(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Le("d",0,"do","day");Le("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Le("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Le("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Le("e",0,0,"weekday");Le("E",0,0,"isoWeekday");Pe("d",Gt);Pe("e",Gt);Pe("E",Gt);Pe("dd",function(t,e){return e.weekdaysMinRegex(t)});Pe("ddd",function(t,e){return e.weekdaysShortRegex(t)});Pe("dddd",function(t,e){return e.weekdaysRegex(t)});dp(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:qe(n).invalidWeekday=t});dp(["d","e","E"],function(t,e,n,r){e[r]=lt(t)});function jse(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function Vse(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function nx(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Wse="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Gj="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Use="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),zse=hp,Yse=hp,Gse=hp;function Kse(t,e){var n=Mo(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?nx(n,this._week.dow):t?n[t.day()]:n}function qse(t){return t===!0?nx(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Xse(t){return t===!0?nx(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Zse(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=ks([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(i=wn.call(this._weekdaysParse,s),i!==-1?i:null):e==="ddd"?(i=wn.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=wn.call(this._minWeekdaysParse,s),i!==-1?i:null):e==="dddd"?(i=wn.call(this._weekdaysParse,s),i!==-1||(i=wn.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=wn.call(this._minWeekdaysParse,s),i!==-1?i:null)):e==="ddd"?(i=wn.call(this._shortWeekdaysParse,s),i!==-1||(i=wn.call(this._weekdaysParse,s),i!==-1)?i:(i=wn.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=wn.call(this._minWeekdaysParse,s),i!==-1||(i=wn.call(this._weekdaysParse,s),i!==-1)?i:(i=wn.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function Qse(t,e,n){var r,i,o;if(this._weekdaysParseExact)return Zse.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=ks([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Jse(t){if(!this.isValid())return t!=null?this:NaN;var e=Sm(this,"Day");return t!=null?(t=jse(t,this.localeData()),this.add(t-e,"d")):e}function eae(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function tae(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=Vse(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function nae(t){return this._weekdaysParseExact?(mt(this,"_weekdaysRegex")||rx.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(mt(this,"_weekdaysRegex")||(this._weekdaysRegex=zse),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function rae(t){return this._weekdaysParseExact?(mt(this,"_weekdaysRegex")||rx.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(mt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Yse),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function iae(t){return this._weekdaysParseExact?(mt(this,"_weekdaysRegex")||rx.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(mt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Gse),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function rx(){function t(c,h){return h.length-c.length}var e=[],n=[],r=[],i=[],o,s,a,l,u;for(o=0;o<7;o++)s=ks([2e3,1]).day(o),a=va(this.weekdaysMin(s,"")),l=va(this.weekdaysShort(s,"")),u=va(this.weekdays(s,"")),e.push(a),n.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function ix(){return this.hours()%12||12}function oae(){return this.hours()||24}Le("H",["HH",2],0,"hour");Le("h",["hh",2],0,ix);Le("k",["kk",2],0,oae);Le("hmm",0,0,function(){return""+ix.apply(this)+xs(this.minutes(),2)});Le("hmmss",0,0,function(){return""+ix.apply(this)+xs(this.minutes(),2)+xs(this.seconds(),2)});Le("Hmm",0,0,function(){return""+this.hours()+xs(this.minutes(),2)});Le("Hmmss",0,0,function(){return""+this.hours()+xs(this.minutes(),2)+xs(this.seconds(),2)});function Kj(t,e){Le(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}Kj("a",!0);Kj("A",!1);function qj(t,e){return e._meridiemParse}Pe("a",qj);Pe("A",qj);Pe("H",Gt,ex);Pe("h",Gt,Fd);Pe("k",Gt,Fd);Pe("HH",Gt,Si);Pe("hh",Gt,Si);Pe("kk",Gt,Si);Pe("hmm",Lj);Pe("hmmss",$j);Pe("Hmm",Lj);Pe("Hmmss",$j);It(["H","HH"],$n);It(["k","kk"],function(t,e,n){var r=lt(t);e[$n]=r===24?0:r});It(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});It(["h","hh"],function(t,e,n){e[$n]=lt(t),qe(n).bigHour=!0});It("hmm",function(t,e,n){var r=t.length-2;e[$n]=lt(t.substr(0,r)),e[Ro]=lt(t.substr(r)),qe(n).bigHour=!0});It("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[$n]=lt(t.substr(0,r)),e[Ro]=lt(t.substr(r,2)),e[ha]=lt(t.substr(i)),qe(n).bigHour=!0});It("Hmm",function(t,e,n){var r=t.length-2;e[$n]=lt(t.substr(0,r)),e[Ro]=lt(t.substr(r))});It("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[$n]=lt(t.substr(0,r)),e[Ro]=lt(t.substr(r,2)),e[ha]=lt(t.substr(i))});function sae(t){return(t+"").toLowerCase().charAt(0)==="p"}var aae=/[ap]\.?m?\.?/i,lae=Bd("Hours",!0);function uae(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var Xj={calendar:Zoe,longDateFormat:tse,invalidDate:rse,ordinal:ose,dayOfMonthOrdinalParse:sse,relativeTime:lse,months:Ese,monthsShort:jj,week:Dse,weekdays:Wse,weekdaysMin:Use,weekdaysShort:Gj,meridiemParse:aae},Xt={},df={},_m;function cae(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function Nk(t){return t&&t.toLowerCase().replace("_","-")}function hae(t){for(var e=0,n,r,i,o;e<t.length;){for(o=Nk(t[e]).split("-"),n=o.length,r=Nk(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=eS(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&cae(o,r)>=n-1)break;n--}e++}return _m}function dae(t){return!!(t&&t.match("^[^/\\\\]*$"))}function eS(t){var e=null,n;if(Xt[t]===void 0&&typeof Tw<"u"&&Tw&&Tw.exports&&dae(t))try{e=_m._abbr,n=require,n("./locale/"+t),Pl(e)}catch{Xt[t]=null}return Xt[t]}function Pl(t,e){var n;return t&&(Ur(e)?n=Ma(t):n=ox(t,e),n?_m=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),_m._abbr}function ox(t,e){if(e!==null){var n,r=Xj;if(e.abbr=t,Xt[t]!=null)Nj("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Xt[t]._config;else if(e.parentLocale!=null)if(Xt[e.parentLocale]!=null)r=Xt[e.parentLocale]._config;else if(n=eS(e.parentLocale),n!=null)r=n._config;else return df[e.parentLocale]||(df[e.parentLocale]=[]),df[e.parentLocale].push({name:t,config:e}),null;return Xt[t]=new qO(y_(r,e)),df[t]&&df[t].forEach(function(i){ox(i.name,i.config)}),Pl(t),Xt[t]}else return delete Xt[t],null}function fae(t,e){if(e!=null){var n,r,i=Xj;Xt[t]!=null&&Xt[t].parentLocale!=null?Xt[t].set(y_(Xt[t]._config,e)):(r=eS(t),r!=null&&(i=r._config),e=y_(i,e),r==null&&(e.abbr=t),n=new qO(e),n.parentLocale=Xt[t],Xt[t]=n),Pl(t)}else Xt[t]!=null&&(Xt[t].parentLocale!=null?(Xt[t]=Xt[t].parentLocale,t===Pl()&&Pl(t)):Xt[t]!=null&&delete Xt[t]);return Xt[t]}function Ma(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return _m;if(!Mo(t)){if(e=eS(t),e)return e;t=[t]}return hae(t)}function gae(){return w_(Xt)}function sx(t){var e,n=t._a;return n&&qe(t).overflow===-2&&(e=n[ca]<0||n[ca]>11?ca:n[ws]<1||n[ws]>tx(n[pr],n[ca])?ws:n[$n]<0||n[$n]>24||n[$n]===24&&(n[Ro]!==0||n[ha]!==0||n[Yu]!==0)?$n:n[Ro]<0||n[Ro]>59?Ro:n[ha]<0||n[ha]>59?ha:n[Yu]<0||n[Yu]>999?Yu:-1,qe(t)._overflowDayOfYear&&(e<pr||e>ws)&&(e=ws),qe(t)._overflowWeeks&&e===-1&&(e=yse),qe(t)._overflowWeekday&&e===-1&&(e=wse),qe(t).overflow=e),t}var mae=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pae=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vae=/Z|[+-]\d\d(?::?\d\d)?/,iv=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],q0=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yae=/^\/?Date\((-?\d+)/i,wae=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cae={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Zj(t){var e,n,r=t._i,i=mae.exec(r)||pae.exec(r),o,s,a,l,u=iv.length,c=q0.length;if(i){for(qe(t).iso=!0,e=0,n=u;e<n;e++)if(iv[e][1].exec(i[1])){s=iv[e][0],o=iv[e][2]!==!1;break}if(s==null){t._isValid=!1;return}if(i[3]){for(e=0,n=c;e<n;e++)if(q0[e][1].exec(i[3])){a=(i[2]||" ")+q0[e][0];break}if(a==null){t._isValid=!1;return}}if(!o&&a!=null){t._isValid=!1;return}if(i[4])if(vae.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=s+(a||"")+(l||""),lx(t)}else t._isValid=!1}function bae(t,e,n,r,i,o){var s=[Sae(t),jj.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function Sae(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Rae(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Eae(t,e,n){if(t){var r=Gj.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return qe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function _ae(t,e,n){if(t)return Cae[t];if(e)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function Qj(t){var e=wae.exec(Rae(t._i)),n;if(e){if(n=bae(e[4],e[3],e[2],e[5],e[6],e[7]),!Eae(e[1],n,t))return;t._a=n,t._tzm=_ae(e[8],e[9],e[10]),t._d=Rm.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),qe(t).rfc2822=!0}else t._isValid=!1}function Tae(t){var e=yae.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(Zj(t),t._isValid===!1)delete t._isValid;else return;if(Qj(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:fe.createFromInputFallback(t)}fe.createFromInputFallback=Xi("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Ch(t,e,n){return t??e??n}function Oae(t){var e=new Date(fe.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ax(t){var e,n,r=[],i,o,s;if(!t._d){for(i=Oae(t),t._w&&t._a[ws]==null&&t._a[ca]==null&&xae(t),t._dayOfYear!=null&&(s=Ch(t._a[pr],i[pr]),(t._dayOfYear>Ng(s)||t._dayOfYear===0)&&(qe(t)._overflowDayOfYear=!0),n=Rm(s,0,t._dayOfYear),t._a[ca]=n.getUTCMonth(),t._a[ws]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[$n]===24&&t._a[Ro]===0&&t._a[ha]===0&&t._a[Yu]===0&&(t._nextDay=!0,t._a[$n]=0),t._d=(t._useUTC?Rm:kse).apply(null,r),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[$n]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(qe(t).weekdayMismatch=!0)}}function xae(t){var e,n,r,i,o,s,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,s=4,n=Ch(e.GG,t._a[pr],Em(Yt(),1,4).year),r=Ch(e.W,1),i=Ch(e.E,1),(i<1||i>7)&&(l=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,u=Em(Yt(),o,s),n=Ch(e.gg,t._a[pr],u.year),r=Ch(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o),r<1||r>ya(n,o,s)?qe(t)._overflowWeeks=!0:l!=null?qe(t)._overflowWeekday=!0:(a=Yj(n,r,i,o,s),t._a[pr]=a.year,t._dayOfYear=a.dayOfYear)}fe.ISO_8601=function(){};fe.RFC_2822=function(){};function lx(t){if(t._f===fe.ISO_8601){Zj(t);return}if(t._f===fe.RFC_2822){Qj(t);return}t._a=[],qe(t).empty=!0;var e=""+t._i,n,r,i,o,s,a=e.length,l=0,u,c;for(i=kj(t._f,t._locale).match(XO)||[],c=i.length,n=0;n<c;n++)o=i[n],r=(e.match(mse(o,t))||[])[0],r&&(s=e.substr(0,e.indexOf(r)),s.length>0&&qe(t).unusedInput.push(s),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Zh[o]?(r?qe(t).empty=!1:qe(t).unusedTokens.push(o),vse(o,r,t)):t._strict&&!r&&qe(t).unusedTokens.push(o);qe(t).charsLeftOver=a-l,e.length>0&&qe(t).unusedInput.push(e),t._a[$n]<=12&&qe(t).bigHour===!0&&t._a[$n]>0&&(qe(t).bigHour=void 0),qe(t).parsedDateParts=t._a.slice(0),qe(t).meridiem=t._meridiem,t._a[$n]=Pae(t._locale,t._a[$n],t._meridiem),u=qe(t).era,u!==null&&(t._a[pr]=t._locale.erasConvertYear(u,t._a[pr])),ax(t),sx(t)}function Pae(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function Mae(t){var e,n,r,i,o,s,a=!1,l=t._f.length;if(l===0){qe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)o=0,s=!1,e=KO({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],lx(e),GO(e)&&(s=!0),o+=qe(e).charsLeftOver,o+=qe(e).unusedTokens.length*10,qe(e).score=o,a?o<r&&(r=o,n=e):(r==null||o<r||s)&&(r=o,n=e,s&&(a=!0));fl(t,n||e)}function Aae(t){if(!t._d){var e=ZO(t._i),n=e.day===void 0?e.date:e.day;t._a=Aj([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),ax(t)}}function Iae(t){var e=new cp(sx(Jj(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Jj(t){var e=t._i,n=t._f;return t._locale=t._locale||Ma(t._l),e===null||n===void 0&&e===""?Gb({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Ao(e)?new cp(sx(e)):(up(e)?t._d=e:Mo(n)?Mae(t):n?lx(t):Nae(t),GO(t)||(t._d=null),t))}function Nae(t){var e=t._i;Ur(e)?t._d=new Date(fe.now()):up(e)?t._d=new Date(e.valueOf()):typeof e=="string"?Tae(t):Mo(e)?(t._a=Aj(e.slice(0),function(n){return parseInt(n,10)}),ax(t)):rc(e)?Aae(t):Ra(e)?t._d=new Date(e):fe.createFromInputFallback(t)}function eV(t,e,n,r,i){var o={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(rc(t)&&YO(t)||Mo(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,Iae(o)}function Yt(t,e,n,r){return eV(t,e,n,r,!1)}var kae=Xi("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Yt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Gb()}),Hae=Xi("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Yt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Gb()});function tV(t,e){var n,r;if(e.length===1&&Mo(e[0])&&(e=e[0]),!e.length)return Yt();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function Dae(){var t=[].slice.call(arguments,0);return tV("isBefore",t)}function Lae(){var t=[].slice.call(arguments,0);return tV("isAfter",t)}var $ae=function(){return Date.now?Date.now():+new Date},ff=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Fae(t){var e,n=!1,r,i=ff.length;for(e in t)if(mt(t,e)&&!(wn.call(ff,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[ff[r]]){if(n)return!1;parseFloat(t[ff[r]])!==lt(t[ff[r]])&&(n=!0)}return!0}function Bae(){return this._isValid}function jae(){return Fo(NaN)}function tS(t){var e=ZO(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=Fae(e),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=Ma(),this._bubble()}function ow(t){return t instanceof tS}function b_(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Vae(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),o=0,s;for(s=0;s<r;s++)lt(t[s])!==lt(e[s])&&o++;return o+i}function nV(t,e){Le(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+xs(~~(n/60),2)+e+xs(~~n%60,2)})}nV("Z",":");nV("ZZ","");Pe("Z",Qb);Pe("ZZ",Qb);It(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=ux(Qb,t)});var Wae=/([\+\-]|\d\d)/gi;function ux(t,e){var n=(e||"").match(t),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(Wae)||["-",0,0],o=+(i[1]*60)+lt(i[2]),o===0?0:i[0]==="+"?o:-o)}function cx(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Ao(t)||up(t)?t.valueOf():Yt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),fe.updateOffset(n,!1),n):Yt(t).local()}function S_(t){return-Math.round(t._d.getTimezoneOffset())}fe.updateOffset=function(){};function Uae(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=ux(Qb,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=S_(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?oV(this,Fo(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,fe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:S_(this)}function zae(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Yae(t){return this.utcOffset(0,t)}function Gae(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(S_(this),"m")),this}function Kae(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=ux(fse,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function qae(t){return this.isValid()?(t=t?Yt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Xae(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Zae(){if(!Ur(this._isDSTShifted))return this._isDSTShifted;var t={},e;return KO(t,this),t=Jj(t),t._a?(e=t._isUTC?ks(t._a):Yt(t._a),this._isDSTShifted=this.isValid()&&Vae(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Qae(){return this.isValid()?!this._isUTC:!1}function Jae(){return this.isValid()?this._isUTC:!1}function rV(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ele=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,tle=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fo(t,e){var n=t,r=null,i,o,s;return ow(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Ra(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=ele.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:lt(r[ws])*i,h:lt(r[$n])*i,m:lt(r[Ro])*i,s:lt(r[ha])*i,ms:lt(b_(r[Yu]*1e3))*i}):(r=tle.exec(t))?(i=r[1]==="-"?-1:1,n={y:Zl(r[2],i),M:Zl(r[3],i),w:Zl(r[4],i),d:Zl(r[5],i),h:Zl(r[6],i),m:Zl(r[7],i),s:Zl(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=nle(Yt(n.from),Yt(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),o=new tS(n),ow(t)&&mt(t,"_locale")&&(o._locale=t._locale),ow(t)&&mt(t,"_isValid")&&(o._isValid=t._isValid),o}Fo.fn=tS.prototype;Fo.invalid=jae;function Zl(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function kk(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function nle(t,e){var n;return t.isValid()&&e.isValid()?(e=cx(e,t),t.isBefore(e)?n=kk(t,e):(n=kk(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function iV(t,e){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(Nj(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Fo(n,r),oV(this,i,t),this}}function oV(t,e,n,r){var i=e._milliseconds,o=b_(e._days),s=b_(e._months);t.isValid()&&(r=r??!0,s&&Wj(t,Sm(t,"Month")+s*n),o&&Bj(t,"Date",Sm(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&fe.updateOffset(t,o||s))}var rle=iV(1,"add"),ile=iV(-1,"subtract");function sV(t){return typeof t=="string"||t instanceof String}function ole(t){return Ao(t)||up(t)||sV(t)||Ra(t)||ale(t)||sle(t)||t===null||t===void 0}function sle(t){var e=rc(t)&&!YO(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=r.length;for(i=0;i<s;i+=1)o=r[i],n=n||mt(t,o);return e&&n}function ale(t){var e=Mo(t),n=!1;return e&&(n=t.filter(function(r){return!Ra(r)&&sV(t)}).length===0),e&&n}function lle(t){var e=rc(t)&&!YO(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||mt(t,o);return e&&n}function ule(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function cle(t,e){arguments.length===1&&(arguments[0]?ole(arguments[0])?(t=arguments[0],e=void 0):lle(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Yt(),r=cx(n,this).startOf("day"),i=fe.calendarFormat(this,r)||"sameElse",o=e&&(Hs(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,Yt(n)))}function hle(){return new cp(this)}function dle(t,e){var n=Ao(t)?t:Yt(t);return this.isValid()&&n.isValid()?(e=Zi(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function fle(t,e){var n=Ao(t)?t:Yt(t);return this.isValid()&&n.isValid()?(e=Zi(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function gle(t,e,n,r){var i=Ao(t)?t:Yt(t),o=Ao(e)?e:Yt(e);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function mle(t,e){var n=Ao(t)?t:Yt(t),r;return this.isValid()&&n.isValid()?(e=Zi(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function ple(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function vle(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function yle(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(r=cx(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Zi(e),e){case"year":o=sw(this,r)/12;break;case"month":o=sw(this,r);break;case"quarter":o=sw(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Bi(o)}function sw(t,e){if(t.date()<e.date())return-sw(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,o;return e-r<0?(i=t.clone().add(n-1,"months"),o=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),o=(e-r)/(i-r)),-(n+o)||0}fe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";fe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function wle(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Cle(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?iw(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Hs(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",iw(n,"Z")):iw(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ble(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+r+i+o)}function Sle(t){t||(t=this.isUtc()?fe.defaultFormatUtc:fe.defaultFormat);var e=iw(this,t);return this.localeData().postformat(e)}function Rle(t,e){return this.isValid()&&(Ao(t)&&t.isValid()||Yt(t).isValid())?Fo({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Ele(t){return this.from(Yt(),t)}function _le(t,e){return this.isValid()&&(Ao(t)&&t.isValid()||Yt(t).isValid())?Fo({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Tle(t){return this.to(Yt(),t)}function aV(t){var e;return t===void 0?this._locale._abbr:(e=Ma(t),e!=null&&(this._locale=e),this)}var lV=Xi("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function uV(){return this._locale}var cC=1e3,Qh=60*cC,hC=60*Qh,cV=(365*400+97)*24*hC;function Jh(t,e){return(t%e+e)%e}function hV(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-cV:new Date(t,e,n).valueOf()}function dV(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-cV:Date.UTC(t,e,n)}function Ole(t){var e,n;if(t=Zi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?dV:hV,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Jh(e+(this._isUTC?0:this.utcOffset()*Qh),hC);break;case"minute":e=this._d.valueOf(),e-=Jh(e,Qh);break;case"second":e=this._d.valueOf(),e-=Jh(e,cC);break}return this._d.setTime(e),fe.updateOffset(this,!0),this}function xle(t){var e,n;if(t=Zi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?dV:hV,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=hC-Jh(e+(this._isUTC?0:this.utcOffset()*Qh),hC)-1;break;case"minute":e=this._d.valueOf(),e+=Qh-Jh(e,Qh)-1;break;case"second":e=this._d.valueOf(),e+=cC-Jh(e,cC)-1;break}return this._d.setTime(e),fe.updateOffset(this,!0),this}function Ple(){return this._d.valueOf()-(this._offset||0)*6e4}function Mle(){return Math.floor(this.valueOf()/1e3)}function Ale(){return new Date(this.valueOf())}function Ile(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Nle(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function kle(){return this.isValid()?this.toISOString():null}function Hle(){return GO(this)}function Dle(){return fl({},qe(this))}function Lle(){return qe(this).overflow}function $le(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Le("N",0,0,"eraAbbr");Le("NN",0,0,"eraAbbr");Le("NNN",0,0,"eraAbbr");Le("NNNN",0,0,"eraName");Le("NNNNN",0,0,"eraNarrow");Le("y",["y",1],"yo","eraYear");Le("y",["yy",2],0,"eraYear");Le("y",["yyy",3],0,"eraYear");Le("y",["yyyy",4],0,"eraYear");Pe("N",hx);Pe("NN",hx);Pe("NNN",hx);Pe("NNNN",qle);Pe("NNNNN",Xle);It(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?qe(n).era=i:qe(n).invalidEra=t});Pe("y",$d);Pe("yy",$d);Pe("yyy",$d);Pe("yyyy",$d);Pe("yo",Zle);It(["y","yy","yyy","yyyy"],pr);It(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[pr]=n._locale.eraYearOrdinalParse(t,i):e[pr]=parseInt(t,10)});function Fle(t,e){var n,r,i,o=this._eras||Ma("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=fe(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=fe(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function Ble(t,e,n){var r,i,o=this.eras(),s,a,l;for(t=t.toUpperCase(),r=0,i=o.length;r<i;++r)if(s=o[r].name.toUpperCase(),a=o[r].abbr.toUpperCase(),l=o[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return o[r];break;case"NNNN":if(s===t)return o[r];break;case"NNNNN":if(l===t)return o[r];break}else if([s,a,l].indexOf(t)>=0)return o[r]}function jle(t,e){var n=t.since<=t.until?1:-1;return e===void 0?fe(t.since).year():fe(t.since).year()+(e-t.offset)*n}function Vle(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function Wle(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function Ule(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function zle(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-fe(i[t].since).year())*n+i[t].offset;return this.year()}function Yle(t){return mt(this,"_erasNameRegex")||dx.call(this),t?this._erasNameRegex:this._erasRegex}function Gle(t){return mt(this,"_erasAbbrRegex")||dx.call(this),t?this._erasAbbrRegex:this._erasRegex}function Kle(t){return mt(this,"_erasNarrowRegex")||dx.call(this),t?this._erasNarrowRegex:this._erasRegex}function hx(t,e){return e.erasAbbrRegex(t)}function qle(t,e){return e.erasNameRegex(t)}function Xle(t,e){return e.erasNarrowRegex(t)}function Zle(t,e){return e._eraYearOrdinalRegex||$d}function dx(){var t=[],e=[],n=[],r=[],i,o,s,a,l,u=this.eras();for(i=0,o=u.length;i<o;++i)s=va(u[i].name),a=va(u[i].abbr),l=va(u[i].narrow),e.push(s),t.push(a),n.push(l),r.push(s),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Le(0,["gg",2],0,function(){return this.weekYear()%100});Le(0,["GG",2],0,function(){return this.isoWeekYear()%100});function nS(t,e){Le(0,[t,t.length],0,e)}nS("gggg","weekYear");nS("ggggg","weekYear");nS("GGGG","isoWeekYear");nS("GGGGG","isoWeekYear");Pe("G",Zb);Pe("g",Zb);Pe("GG",Gt,Si);Pe("gg",Gt,Si);Pe("GGGG",JO,QO);Pe("gggg",JO,QO);Pe("GGGGG",Xb,Kb);Pe("ggggg",Xb,Kb);dp(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=lt(t)});dp(["gg","GG"],function(t,e,n,r){e[r]=fe.parseTwoDigitYear(t)});function Qle(t){return fV.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Jle(t){return fV.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function eue(){return ya(this.year(),1,4)}function tue(){return ya(this.isoWeekYear(),1,4)}function nue(){var t=this.localeData()._week;return ya(this.year(),t.dow,t.doy)}function rue(){var t=this.localeData()._week;return ya(this.weekYear(),t.dow,t.doy)}function fV(t,e,n,r,i){var o;return t==null?Em(this,r,i).year:(o=ya(t,r,i),e>o&&(e=o),iue.call(this,t,e,n,r,i))}function iue(t,e,n,r,i){var o=Yj(t,e,n,r,i),s=Rm(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}Le("Q",0,"Qo","quarter");Pe("Q",Hj);It("Q",function(t,e){e[ca]=(lt(t)-1)*3});function oue(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Le("D",["DD",2],"Do","date");Pe("D",Gt,Fd);Pe("DD",Gt,Si);Pe("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});It(["D","DD"],ws);It("Do",function(t,e){e[ws]=lt(t.match(Gt)[0])});var gV=Bd("Date",!0);Le("DDD",["DDDD",3],"DDDo","dayOfYear");Pe("DDD",qb);Pe("DDDD",Dj);It(["DDD","DDDD"],function(t,e,n){n._dayOfYear=lt(t)});function sue(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Le("m",["mm",2],0,"minute");Pe("m",Gt,ex);Pe("mm",Gt,Si);It(["m","mm"],Ro);var aue=Bd("Minutes",!1);Le("s",["ss",2],0,"second");Pe("s",Gt,ex);Pe("ss",Gt,Si);It(["s","ss"],ha);var lue=Bd("Seconds",!1);Le("S",0,0,function(){return~~(this.millisecond()/100)});Le(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Le(0,["SSS",3],0,"millisecond");Le(0,["SSSS",4],0,function(){return this.millisecond()*10});Le(0,["SSSSS",5],0,function(){return this.millisecond()*100});Le(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Le(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Le(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Le(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Pe("S",qb,Hj);Pe("SS",qb,Si);Pe("SSS",qb,Dj);var gl,mV;for(gl="SSSS";gl.length<=9;gl+="S")Pe(gl,$d);function uue(t,e){e[Yu]=lt(("0."+t)*1e3)}for(gl="S";gl.length<=9;gl+="S")It(gl,uue);mV=Bd("Milliseconds",!1);Le("z",0,0,"zoneAbbr");Le("zz",0,0,"zoneName");function cue(){return this._isUTC?"UTC":""}function hue(){return this._isUTC?"Coordinated Universal Time":""}var ye=cp.prototype;ye.add=rle;ye.calendar=cle;ye.clone=hle;ye.diff=yle;ye.endOf=xle;ye.format=Sle;ye.from=Rle;ye.fromNow=Ele;ye.to=_le;ye.toNow=Tle;ye.get=bse;ye.invalidAt=Lle;ye.isAfter=dle;ye.isBefore=fle;ye.isBetween=gle;ye.isSame=mle;ye.isSameOrAfter=ple;ye.isSameOrBefore=vle;ye.isValid=Hle;ye.lang=lV;ye.locale=aV;ye.localeData=uV;ye.max=Hae;ye.min=kae;ye.parsingFlags=Dle;ye.set=Sse;ye.startOf=Ole;ye.subtract=ile;ye.toArray=Ile;ye.toObject=Nle;ye.toDate=Ale;ye.toISOString=Cle;ye.inspect=ble;typeof Symbol<"u"&&Symbol.for!=null&&(ye[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ye.toJSON=kle;ye.toString=wle;ye.unix=Mle;ye.valueOf=Ple;ye.creationData=$le;ye.eraName=Vle;ye.eraNarrow=Wle;ye.eraAbbr=Ule;ye.eraYear=zle;ye.year=Fj;ye.isLeapYear=Cse;ye.weekYear=Qle;ye.isoWeekYear=Jle;ye.quarter=ye.quarters=oue;ye.month=Uj;ye.daysInMonth=Ase;ye.week=ye.weeks=Fse;ye.isoWeek=ye.isoWeeks=Bse;ye.weeksInYear=nue;ye.weeksInWeekYear=rue;ye.isoWeeksInYear=eue;ye.isoWeeksInISOWeekYear=tue;ye.date=gV;ye.day=ye.days=Jse;ye.weekday=eae;ye.isoWeekday=tae;ye.dayOfYear=sue;ye.hour=ye.hours=lae;ye.minute=ye.minutes=aue;ye.second=ye.seconds=lue;ye.millisecond=ye.milliseconds=mV;ye.utcOffset=Uae;ye.utc=Yae;ye.local=Gae;ye.parseZone=Kae;ye.hasAlignedHourOffset=qae;ye.isDST=Xae;ye.isLocal=Qae;ye.isUtcOffset=Jae;ye.isUtc=rV;ye.isUTC=rV;ye.zoneAbbr=cue;ye.zoneName=hue;ye.dates=Xi("dates accessor is deprecated. Use date instead.",gV);ye.months=Xi("months accessor is deprecated. Use month instead",Uj);ye.years=Xi("years accessor is deprecated. Use year instead",Fj);ye.zone=Xi("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",zae);ye.isDSTShifted=Xi("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Zae);function due(t){return Yt(t*1e3)}function fue(){return Yt.apply(null,arguments).parseZone()}function pV(t){return t}var pt=qO.prototype;pt.calendar=Qoe;pt.longDateFormat=nse;pt.invalidDate=ise;pt.ordinal=ase;pt.preparse=pV;pt.postformat=pV;pt.relativeTime=use;pt.pastFuture=cse;pt.set=Xoe;pt.eras=Fle;pt.erasParse=Ble;pt.erasConvertYear=jle;pt.erasAbbrRegex=Gle;pt.erasNameRegex=Yle;pt.erasNarrowRegex=Kle;pt.months=Ose;pt.monthsShort=xse;pt.monthsParse=Mse;pt.monthsRegex=Nse;pt.monthsShortRegex=Ise;pt.week=Hse;pt.firstDayOfYear=$se;pt.firstDayOfWeek=Lse;pt.weekdays=Kse;pt.weekdaysMin=Xse;pt.weekdaysShort=qse;pt.weekdaysParse=Qse;pt.weekdaysRegex=nae;pt.weekdaysShortRegex=rae;pt.weekdaysMinRegex=iae;pt.isPM=sae;pt.meridiem=uae;function dC(t,e,n,r){var i=Ma(),o=ks().set(r,e);return i[n](o,t)}function vV(t,e,n){if(Ra(t)&&(e=t,t=void 0),t=t||"",e!=null)return dC(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=dC(t,r,n,"month");return i}function fx(t,e,n,r){typeof t=="boolean"?(Ra(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Ra(e)&&(n=e,e=void 0),e=e||"");var i=Ma(),o=t?i._week.dow:0,s,a=[];if(n!=null)return dC(e,(n+o)%7,r,"day");for(s=0;s<7;s++)a[s]=dC(e,(s+o)%7,r,"day");return a}function gue(t,e){return vV(t,e,"months")}function mue(t,e){return vV(t,e,"monthsShort")}function pue(t,e,n){return fx(t,e,n,"weekdays")}function vue(t,e,n){return fx(t,e,n,"weekdaysShort")}function yue(t,e,n){return fx(t,e,n,"weekdaysMin")}Pl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=lt(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});fe.lang=Xi("moment.lang is deprecated. Use moment.locale instead.",Pl);fe.langData=Xi("moment.langData is deprecated. Use moment.localeData instead.",Ma);var $s=Math.abs;function wue(){var t=this._data;return this._milliseconds=$s(this._milliseconds),this._days=$s(this._days),this._months=$s(this._months),t.milliseconds=$s(t.milliseconds),t.seconds=$s(t.seconds),t.minutes=$s(t.minutes),t.hours=$s(t.hours),t.months=$s(t.months),t.years=$s(t.years),this}function yV(t,e,n,r){var i=Fo(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Cue(t,e){return yV(this,t,e,1)}function bue(t,e){return yV(this,t,e,-1)}function Hk(t){return t<0?Math.floor(t):Math.ceil(t)}function Sue(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,o,s,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=Hk(R_(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Bi(t/1e3),r.seconds=i%60,o=Bi(i/60),r.minutes=o%60,s=Bi(o/60),r.hours=s%24,e+=Bi(s/24),l=Bi(wV(e)),n+=l,e-=Hk(R_(l)),a=Bi(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function wV(t){return t*4800/146097}function R_(t){return t*146097/4800}function Rue(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Zi(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+wV(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(R_(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function Aa(t){return function(){return this.as(t)}}var CV=Aa("ms"),Eue=Aa("s"),_ue=Aa("m"),Tue=Aa("h"),Oue=Aa("d"),xue=Aa("w"),Pue=Aa("M"),Mue=Aa("Q"),Aue=Aa("y"),Iue=CV;function Nue(){return Fo(this)}function kue(t){return t=Zi(t),this.isValid()?this[t+"s"]():NaN}function xc(t){return function(){return this.isValid()?this._data[t]:NaN}}var Hue=xc("milliseconds"),Due=xc("seconds"),Lue=xc("minutes"),$ue=xc("hours"),Fue=xc("days"),Bue=xc("months"),jue=xc("years");function Vue(){return Bi(this.days()/7)}var ta=Math.round,Fh={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Wue(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function Uue(t,e,n,r){var i=Fo(t).abs(),o=ta(i.as("s")),s=ta(i.as("m")),a=ta(i.as("h")),l=ta(i.as("d")),u=ta(i.as("M")),c=ta(i.as("w")),h=ta(i.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),d=d||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h],d[2]=e,d[3]=+t>0,d[4]=r,Wue.apply(null,d)}function zue(t){return t===void 0?ta:typeof t=="function"?(ta=t,!0):!1}function Yue(t,e){return Fh[t]===void 0?!1:e===void 0?Fh[t]:(Fh[t]=e,t==="s"&&(Fh.ss=e-1),!0)}function Gue(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Fh,i,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Fh,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),o=Uue(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var X0=Math.abs;function Lc(t){return(t>0)-(t<0)||+t}function rS(){if(!this.isValid())return this.localeData().invalidDate();var t=X0(this._milliseconds)/1e3,e=X0(this._days),n=X0(this._months),r,i,o,s,a=this.asSeconds(),l,u,c,h;return a?(r=Bi(t/60),i=Bi(r/60),t%=60,r%=60,o=Bi(n/12),n%=12,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Lc(this._months)!==Lc(a)?"-":"",c=Lc(this._days)!==Lc(a)?"-":"",h=Lc(this._milliseconds)!==Lc(a)?"-":"",l+"P"+(o?u+o+"Y":"")+(n?u+n+"M":"")+(e?c+e+"D":"")+(i||r||t?"T":"")+(i?h+i+"H":"")+(r?h+r+"M":"")+(t?h+s+"S":"")):"P0D"}var dt=tS.prototype;dt.isValid=Bae;dt.abs=wue;dt.add=Cue;dt.subtract=bue;dt.as=Rue;dt.asMilliseconds=CV;dt.asSeconds=Eue;dt.asMinutes=_ue;dt.asHours=Tue;dt.asDays=Oue;dt.asWeeks=xue;dt.asMonths=Pue;dt.asQuarters=Mue;dt.asYears=Aue;dt.valueOf=Iue;dt._bubble=Sue;dt.clone=Nue;dt.get=kue;dt.milliseconds=Hue;dt.seconds=Due;dt.minutes=Lue;dt.hours=$ue;dt.days=Fue;dt.weeks=Vue;dt.months=Bue;dt.years=jue;dt.humanize=Gue;dt.toISOString=rS;dt.toString=rS;dt.toJSON=rS;dt.locale=aV;dt.localeData=uV;dt.toIsoString=Xi("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rS);dt.lang=lV;Le("X",0,0,"unix");Le("x",0,0,"valueOf");Pe("x",Zb);Pe("X",gse);It("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});It("x",function(t,e,n){n._d=new Date(lt(t))});//! moment.js
fe.version="2.30.1";Koe(Yt);fe.fn=ye;fe.min=Dae;fe.max=Lae;fe.now=$ae;fe.utc=ks;fe.unix=due;fe.months=gue;fe.isDate=up;fe.locale=Pl;fe.invalid=Gb;fe.duration=Fo;fe.isMoment=Ao;fe.weekdays=pue;fe.parseZone=fue;fe.localeData=Ma;fe.isDuration=ow;fe.monthsShort=mue;fe.weekdaysMin=yue;fe.defineLocale=ox;fe.updateLocale=fae;fe.locales=gae;fe.weekdaysShort=vue;fe.normalizeUnits=Zi;fe.relativeTimeRounding=zue;fe.relativeTimeThreshold=Yue;fe.calendarFormat=ule;fe.prototype=ye;fe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function Kue(t){const e=t.length;let n=0;for(;n<e;)t[n]=[t[n]],n+=1}function Dk(t,e){const n=e.length;let r=0;for(;r<n;)t.push(e[r]),r+=1}function aw(t){const e=[];if(!t||t.length===0||!t[0]||t[0].length===0)return e;const n=t.length,r=t[0].length;for(let i=0;i<n;i++)for(let o=0;o<r;o++)e[o]||(e[o]=[]),e[o][i]=t[i][o];return e}function kr(t,e,n,r){let i=-1,o=t,s=n;Array.isArray(t)||(o=Array.from(t));const a=o.length;for(i+=1;i<a;)s=e(s,o[i],i,o),i+=1;return s}function Dl(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const i=r.length,o=[];let s=-1;for(;n<i;){const a=r[n];e(a,n,r)&&(s+=1,o[s]=a),n+=1}return o}function it(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const i=r.length,o=[];let s=-1;for(;n<i;){const a=r[n];s+=1,o[s]=e(a,n,r),n+=1}return o}function G(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const i=r.length;for(;n<i&&e(r[n],n,r)!==!1;)n+=1;return t}function bV(t){const e=[];return G(t,n=>{e.indexOf(n)===-1&&e.push(n)}),e}function Lk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,...i]=[...e];let o=r;return G(i,s=>{o=o.filter(a=>!s.includes(a))}),o}function $k(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";return t.split(e)}function St(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return kr(t,(o,s,a)=>{const l=s.replace(/\r?\n\s*/g,""),u=n[a]?n[a]:"";return o+l+u},"").trim()}function bn(t){let e;switch(typeof t){case"string":case"number":e=`${t}`;break;case"object":e=t===null?"":t.toString();break;case"undefined":e="";break;default:e=t.toString();break}return e}function xe(t){return typeof t<"u"}function $t(t){return typeof t>"u"}function pn(t){return t===null||t===""||$t(t)}function que(t){return Object.prototype.toString.call(t)==="[object RegExp]"}const pg="length",kg=t=>parseInt(t,16),Fk=t=>parseInt(t,10),fC=(t,e,n)=>t.substr(e,n),Hg=t=>t.codePointAt(0)-65,E_=t=>`${t}`.replace(/\-/g,""),Xue=t=>kg(fC(E_(t),kg("12"),Hg("F")))/(kg(fC(E_(t),Hg("B"),~~![][pg]))||9),Zue=()=>typeof location<"u"&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host);let Bk=!1;const jk={invalid:()=>St`
    The license key for Handsontable is invalid.\x20
    If you need any help, contact us at support@handsontable.com.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return St`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. Renew your license key at handsontable.com or downgrade to a version released prior\x20
    to ${e}. If you need any help, contact us at sales@handsontable.com.`},missing:()=>St`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\x20
    us at support@handsontable.com.`,non_commercial:()=>""},Vk={invalid:()=>St`
    The license key for Handsontable is invalid.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\x20
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return St`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\x20
    license key or downgrade to a version released prior to ${e}. If you need any\x20
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`},missing:()=>St`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\x20
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,non_commercial:()=>""};function Que(t,e){const n=!pn(t),r=typeof t=="string"&&t.toLowerCase()==="non-commercial-and-evaluation",i="14.6.2";let o,s="invalid",a="invalid";t=E_(t||"");const l=Jue(t);if(n||r||l)if(l){const u=fe("10/02/2025","DD/MM/YYYY"),c=Math.floor(u.toDate().getTime()/864e5),h=Xue(t);o=fe((h+1)*864e5,"x").format("MMMM DD, YYYY"),c>h?(s="expired",a="expired"):(s="valid",a="valid")}else r?(s="non_commercial",a="valid"):(s="invalid",a="invalid");else s="missing",a="missing";if(Zue()&&(s="valid",a="valid"),!Bk&&s!=="valid"&&(jk[s]({keyValidityDate:o,hotVersion:i})&&console[s==="non_commercial"?"info":"warn"](jk[s]({keyValidityDate:o,hotVersion:i})),Bk=!0),a!=="valid"&&e.parentNode&&Vk[a]({keyValidityDate:o,hotVersion:i})){const c=document.createElement("div");c.className="hot-display-license-info",c.innerHTML=Vk[a]({keyValidityDate:o,hotVersion:i}),e.parentNode.insertBefore(c,e.nextSibling)}}function Jue(t){let e=[][pg],n=e;if(t[pg]!==Hg("Z"))return!1;for(let r="",i="B<H4P+".split(""),o=Hg(i.shift());o;o=Hg(i.shift()||"A"))--o<""[pg]?n=n|(Fk(`${Fk(kg(r)+(kg(fC(t,Math.abs(o),2))+[]).padStart(2,"0"))}`)%97||2)>>1:r=fC(t,o,o?i[pg]===1?9:8:6);return n===e}function Io(t){return t[0].toUpperCase()+t.substr(1)}function SV(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return t()+t()+t()+t()}function RV(t){return/^([0-9][0-9]?%$)|(^100%$)/.test(t)}function EV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return`${t}`.replace(/(?:\\)?\[([^[\]]+)]/g,(n,r)=>n.charAt(0)==="\\"?n.substr(1,n.length-1):e[r]===void 0?"":e[r])}function Wk(t){return gx(`${t}`,{ALLOWED_TAGS:[]})}function gx(t,e){return Goe.sanitize(t,e)}const jd=t=>["tabindex",t],ece=()=>["role","treegrid"],Rs=()=>["role","presentation"],tce=()=>["role","gridcell"],nce=()=>["role","rowheader"],_V=()=>["role","rowgroup"],rce=()=>["role","columnheader"],__=()=>["role","row"],ice=()=>["role","menu"],oce=()=>["role","menuitem"],sce=()=>["role","menuitemcheckbox"],ace=()=>["role","combobox"],TV=()=>["role","listbox"],lce=()=>["role","option"],uce=()=>["role","checkbox"],cce=()=>["scope","col"],hce=()=>["scope","row"],dce=()=>["type","text"],gC=t=>["aria-label",t],Pc=()=>["aria-hidden","true"],fce=()=>["aria-disabled","true"],gce=()=>["aria-multiselectable","true"],OV=t=>["aria-haspopup",t],xV=t=>["aria-rowcount",t],iS=t=>["aria-colcount",t],PV=t=>["aria-rowindex",t],mx=t=>["aria-colindex",t],zi=t=>["aria-expanded",t],mce=t=>["aria-sort",t],Uk=()=>["aria-readonly","true"],zk=()=>["aria-invalid","true"],MV=t=>["aria-checked",t],px=()=>["aria-selected","true"],pce=()=>["aria-autocomplete","list"],vce=t=>["aria-controls",t],yce=t=>["aria-activedescendant",t],wce=t=>["aria-live",t],Cce=t=>["aria-relevant",t],bce=t=>["aria-setsize",t],Sce=t=>["aria-posinset",t];function Rce(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=null,i=t;for(;i!==null;){if(n===e){r=i;break}i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:(n+=1,i=i.parentNode)}return r}function Ece(t,e){const n=t.closest(".handsontable");return!!n&&(n.parentNode===e||n===e)}function _ce(t){return Object.getPrototypeOf(t.parent)&&t.frameElement}function gd(t){return _ce(t)&&t.parent}function hc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;const{ELEMENT_NODE:r,DOCUMENT_FRAGMENT_NODE:i}=Node;let o=t;for(;o!=null&&o!==n;){const{nodeType:s,nodeName:a}=o;if(s===r&&(e.includes(a)||e.includes(o)))return o;const{host:l}=o;l&&s===i?o=l:o=o.parentNode}return null}function ov(t,e,n){const r=[];let i=t;for(;i&&(i=hc(i,e,n),!(!i||n&&!n.contains(i)));)r.push(i),i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:i=i.parentNode;const o=r.length;return o?r[o-1]:null}function ic(t,e){let n=t.parentNode,r=[];for(typeof e=="string"?t.defaultView?r=Array.prototype.slice.call(t.querySelectorAll(e),0):r=Array.prototype.slice.call(t.ownerDocument.querySelectorAll(e),0):r.push(e);n!==null;){if(r.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function Tce(t){let e=0,n=t;if(n.previousSibling)for(;n=n.previousSibling;)e+=1;return e}function Ql(t,e,n){const r=n.parentElement.querySelector(`.ht_clone_${t}`);return r?r.contains(e):null}function AV(t){return!t||!t.length?[]:t.filter(e=>!!e)}function IV(t,e){if(!t||!t.length)return{regexFree:[],regexes:[]};const n=[],r=[];return r.push(...t.filter(i=>{const o=i instanceof RegExp;return o&&e&&n.push(i),!o})),{regexFree:r,regexes:n}}function je(t,e){return t.classList===void 0||typeof e!="string"||e===""?!1:t.classList.contains(e)}function ge(t,e){typeof e=="string"&&(e=e.split(" ")),e=AV(e),e.length>0&&t.classList.add(...e)}function We(t,e){typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);let{regexFree:n,regexes:r}=IV(e,!0);n=AV(n),n.length>0&&t.classList.remove(...n),r.forEach(i=>{t.classList.forEach(o=>{i.test(o)&&t.classList.remove(o)})})}function Be(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;Array.isArray(e)||(e=[[e,n]]),e.forEach(r=>{Array.isArray(r)&&r[0]!==""&&t.setAttribute(...r)})}function Vd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);const{regexFree:n,regexes:r}=IV(e,!0);n.forEach(i=>{i!==""&&t.removeAttribute(i)}),r.forEach(i=>{t.getAttributeNames().forEach(o=>{i.test(o)&&t.removeAttribute(o)})})}function NV(t){if(t.nodeType===3)t.parentNode.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1){const e=t.childNodes;for(let n=e.length-1;n>=0;n--)NV(e[n])}}function Ps(t){let e;for(;e=t.lastChild;)t.removeChild(e)}const Oce=/(<(.*)>|&(.*);)/;function Wd(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;Oce.test(e)?t.innerHTML=n?gx(e):e:dc(t,e)}function dc(t,e){const n=t.firstChild;n&&n.nodeType===3&&n.nextSibling===null?n.textContent=e:(Ps(t),t.appendChild(t.ownerDocument.createTextNode(e)))}function md(t){const e=t.ownerDocument.documentElement;let n=t;for(;n!==e;){if(n===null)return!1;if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE)if(n.host){if(n.host.impl)return md(n.host.impl);if(n.host)return md(n.host);throw new Error("Lost in Web Components world")}else return!1;else if(Ea(n).display==="none")return!1;n=n.parentNode}return!0}function zn(t){const e=t.ownerDocument,n=e.defaultView,r=e.documentElement;let i=t,o,s,a;for(o=i.offsetLeft,s=i.offsetTop,a=i;(i=i.offsetParent)&&!(i===e.body||!("offsetLeft"in i));)o+=i.offsetLeft,s+=i.offsetTop,a=i;return a&&a.style.position==="fixed"&&(o+=n.pageXOffset||r.scrollLeft,s+=n.pageYOffset||r.scrollTop),{left:o,top:s}}function kV(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollY}function vx(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollX}function yx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?kV(e):t.scrollTop}function HV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?vx(e):t.scrollLeft}function mC(t){let e=t.ownerDocument,n=e?e.defaultView:void 0;e||(e=t.document?t.document:t,n=e.defaultView);const r=["auto","scroll"];let i=t.parentNode;for(;i&&i.style&&e.body!==i;){let{overflow:o,overflowX:s,overflowY:a}=i.style;if([o,s,a].includes("scroll"))return i;if({overflow:o,overflowX:s,overflowY:a}=n.getComputedStyle(i),r.includes(o)||r.includes(s)||r.includes(a)||i.clientHeight<=i.scrollHeight+1&&(r.includes(a)||r.includes(o))||i.clientWidth<=i.scrollWidth+1&&(r.includes(s)||r.includes(o)))return i;i=i.parentNode}return n}function xce(t){return t.scrollHeight-t.clientHeight}function Pce(t){return t.scrollWidth-t.clientWidth}function pd(t){const e=t.ownerDocument,n=e.defaultView;let r=t.parentNode;for(;r&&r.style&&e.body!==r;){if(r.style.overflow!=="visible"&&r.style.overflow!=="")return r;const i=Ea(r,n),o=["scroll","hidden","auto"],s=i.getPropertyValue("overflow"),a=i.getPropertyValue("overflow-y"),l=i.getPropertyValue("overflow-x");if(o.includes(s)||o.includes(a)||o.includes(l))return r;r=r.parentNode}return n}function Tm(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window;if(t){if(t===n)return e==="width"?`${n.innerWidth}px`:e==="height"?`${n.innerHeight}px`:void 0}else return;const r=t.style[e];if(r!==""&&r!==void 0)return r;const i=Ea(t,n);if(i[e]!==""&&i[e]!==void 0)return i[e]}function Ea(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t.currentStyle||e.getComputedStyle(t)}function Ft(t){return t.offsetWidth}function Rn(t){return t.offsetHeight}function Bh(t){return t.clientHeight||t.innerHeight}function DV(t){return t.clientWidth||t.innerWidth}function LV(t){return t.selectionStart?t.selectionStart:0}function Mce(t){return t.selectionEnd?t.selectionEnd:0}function Yk(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;t.getSelection&&(t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges())}function oS(t,e,n){if(n===void 0&&(n=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,n)}catch{const i=t.parentNode,o=i.style.display;i.style.display="block",t.setSelectionRange(e,n),i.style.display=o}}}let Z0;function Ace(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;const e=t.createElement("div");e.style.height="200px",e.style.width="100%";const n=t.createElement("div");n.style.boxSizing="content-box",n.style.height="150px",n.style.left="0px",n.style.overflow="hidden",n.style.position="absolute",n.style.top="0px",n.style.width="200px",n.style.visibility="hidden",n.appendChild(e),(t.body||t.documentElement).appendChild(n);const r=e.offsetWidth;n.style.overflow="scroll";let i=e.offsetWidth;return r===i&&(i=n.clientWidth),(t.body||t.documentElement).removeChild(n),r-i}function Gn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return Z0===void 0&&(Z0=Ace(t)),Z0}function Ice(t){return t.offsetWidth!==t.clientWidth}function Nce(t){return t.offsetHeight!==t.clientHeight}function wx(t,e,n){t.style.transform=`translate3d(${e},${n},0)`}function sS(t){t.style.transform&&t.style.transform!==""&&(t.style.transform="")}function lw(t){return t&&(["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||t.contentEditable==="true")}function $V(t){return lw(t)&&t.hasAttribute("data-hot-input")===!1}function FV(t){return!t.parentNode}function kce(t,e){new IntersectionObserver((r,i)=>{r.forEach(o=>{o.isIntersecting&&t.offsetParent!==null&&(e(),i.unobserve(t))})},{root:t.ownerDocument.body}).observe(t)}function BV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=t.ownerDocument,i=r.createRange(),o=r.defaultView.getSelection();Be(t,"contenteditable",!0),n&&Be(t,...Pc()),e&&ge(t,"invisibleSelection"),i.selectNodeContents(t),o.removeAllRanges(),o.addRange(i)}function jV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=t.ownerDocument.defaultView.getSelection();t.hasAttribute("aria-hidden")&&t.removeAttribute("aria-hidden"),n.removeAllRanges(),e&&We(t,"invisibleSelection"),t.removeAttribute("contenteditable")}function Hce(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;BV(t,n),e(),jV(t,n)}function Ht(t){return typeof t=="function"}function Cx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,n=null,r;function i(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n&&clearTimeout(n),n=setTimeout(()=>{r=t.apply(this,s)},e),r}return i}function VV(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t.apply(this,n.concat(s))}}function Dce(t){const e=t.length;function n(r){return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const l=r.concat(s);let u;return l.length>=e?u=t.apply(this,l):u=n(l),u}}return n([])}function T_(t,e,n,r,i,o,s,a){return xe(a)?t.call(e,n,r,i,o,s,a):xe(s)?t.call(e,n,r,i,o,s):xe(o)?t.call(e,n,r,i,o):xe(i)?t.call(e,n,r,i):xe(r)?t.call(e,n,r):xe(n)?t.call(e,n):t.call(e)}var Lce=Lo,$ce=GB.get,Fce=function(e){if(!Lce(e))return!1;var n=$ce(e);return!!n&&n.type==="RawJSON"},bx=Pn,Bce=$o,sv=SyntaxError,jce=parseInt,Vce=String.fromCharCode,Wce=bx("".charAt),Gk=bx("".slice),Kk=bx(/./.exec),qk={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},Uce=/^[\da-f]{4}$/i,zce=/^[\u0000-\u001F]$/,Yce=function(t,e){for(var n=!0,r="";e<t.length;){var i=Wce(t,e);if(i==="\\"){var o=Gk(t,e,e+2);if(Bce(qk,o))r+=qk[o],e+=2;else if(o==="\\u"){e+=2;var s=Gk(t,e,e+4);if(!Kk(Uce,s))throw new sv("Bad Unicode escape at: "+e);r+=Vce(jce(s,16)),e+=4}else throw new sv('Unknown escape sequence: "'+o+'"')}else if(i==='"'){n=!1,e++;break}else{if(Kk(zce,i))throw new sv("Bad control character in string literal at: "+e);r+=i,e++}}if(n)throw new sv("Unterminated string at: "+e);return{value:r,end:e}},Gce=nr,Kce=!Gce(function(){var t="9007199254740993",e=JSON.rawJSON(t);return!JSON.isRawJSON(e)||JSON.stringify(e)!==t}),qce=rr,WV=Ld,Xce=zb,UV=Do,Mc=Pn,zV=nr,Xk=lj,pC=yr,Zce=Fce,Zk=AO,Qk=Sc,Qce=Yb,Jce=UO,ehe=Yce,the=kO,nhe=MO,Q0=Kce,YV=String,Ml=WV("JSON","stringify"),av=Mc(/./.exec),O_=Mc("".charAt),rhe=Mc("".charCodeAt),ihe=Mc("".replace),J0=Mc("".slice),x_=Mc([].push),ohe=Mc(1.1.toString),she=/[\uD800-\uDFFF]/g,Jk=/^[\uD800-\uDBFF]$/,eH=/^[\uDC00-\uDFFF]$/,P_=the(),tH=P_.length,GV=!nhe||zV(function(){var t=WV("Symbol")("stringify detection");return Ml([t])!=="[null]"||Ml({a:t})!=="{}"||Ml(Object(t))!=="{}"}),nH=zV(function(){return Ml("\uDF06\uD834")!=='"\\udf06\\ud834"'||Ml("\uDEAD")!=='"\\udead"'}),ahe=GV?function(t,e){var n=Jce(arguments),r=KV(e);if(!(!pC(r)&&(t===void 0||Zk(t))))return n[1]=function(i,o){if(pC(r)&&(o=UV(r,this,YV(i),o)),!Zk(o))return o},Xce(Ml,null,n)}:Ml,lhe=function(t,e,n){var r=O_(n,e-1),i=O_(n,e+1);return av(Jk,t)&&!av(eH,i)||av(eH,t)&&!av(Jk,r)?"\\u"+ohe(rhe(t,0),16):t},KV=function(t){if(pC(t))return t;if(Xk(t)){for(var e=t.length,n=[],r=0;r<e;r++){var i=t[r];typeof i=="string"?x_(n,i):(typeof i=="number"||Qk(i)==="Number"||Qk(i)==="String")&&x_(n,Qce(i))}var o=n.length,s=!0;return function(a,l){if(s)return s=!1,l;if(Xk(this))return l;for(var u=0;u<o;u++)if(n[u]===a)return l}}};Ml&&qce({target:"JSON",stat:!0,arity:3,forced:GV||nH||!Q0},{stringify:function(e,n,r){var i=KV(n),o=[],s=ahe(e,function(f,g){var v=pC(i)?UV(i,this,YV(f),g):g;return!Q0&&Zce(v)?P_+(x_(o,v.rawJSON)-1):v},r);if(typeof s!="string"||(nH&&(s=ihe(s,she,lhe)),Q0))return s;for(var a="",l=s.length,u=0;u<l;u++){var c=O_(s,u);if(c==='"'){var h=ehe(s,++u).end-1,d=J0(s,u,h);a+=J0(d,0,tH)===P_?o[J0(d,tH)]:'"'+d+'"',u=h}else a+=c}return a}});function Om(t){let e;return Array.isArray(t)?e=t.length?new Array(t.length).fill(null):[]:(e={},Qe(t,(n,r)=>{r!=="__children"&&(n&&typeof n=="object"&&!Array.isArray(n)?e[r]=Om(n):Array.isArray(n)?n.length&&typeof n[0]=="object"&&!Array.isArray(n[0])?e[r]=[Om(n[0])]:e[r]=[]:e[r]=null)})),e}function Ds(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function xn(t,e,n){const r=Array.isArray(n);return Qe(e,(i,o)=>{(r===!1||n.includes(o))&&(t[o]=i)}),t}function aS(t,e){Qe(e,(n,r)=>{e[r]&&typeof e[r]=="object"?(t[r]||(Array.isArray(e[r])?t[r]=[]:Object.prototype.toString.call(e[r])==="[object Date]"?t[r]=e[r]:t[r]={}),aS(t[r],e[r])):t[r]=e[r]})}function Ar(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function Ms(t){const e={};return Qe(t,(n,r)=>{e[r]=n}),e}function xt(t){t.MIXINS||(t.MIXINS=[]);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return G(n,i=>{t.MIXINS.push(i.MIXIN_NAME),Qe(i,(o,s)=>{if(t.prototype[s]!==void 0)throw new Error(`Mixin conflict. Property '${s}' already exist and cannot be overwritten.`);if(typeof o=="function")t.prototype[s]=o;else{const a=function(c,h){const d=`_${c}`,f=g=>{let v=g;return(Array.isArray(v)||Ze(v))&&(v=Ar(v)),v};return function(){return this[d]===void 0&&(this[d]=f(h)),this[d]}},l=function(c){const h=`_${c}`;return function(d){this[h]=d}};Object.defineProperty(t.prototype,s,{get:a(s,o),set:l(s),configurable:!0})}})}),t}function Sx(t,e){return JSON.stringify(t)===JSON.stringify(e)}function Ze(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ia(t,e,n,r){r.value=n,r.writable=r.writable!==!1,r.enumerable=r.enumerable!==!1,r.configurable=r.configurable!==!1,Object.defineProperty(t,e,r)}function Qe(t,e){for(const n in t)if((!t.hasOwnProperty||t.hasOwnProperty&&Object.prototype.hasOwnProperty.call(t,n))&&e(t[n],n,t)===!1)break;return t}function uhe(t,e){const n=e.split(".");let r=t;return Qe(n,i=>{if(r=r[i],r===void 0)return r=void 0,!1}),r}function eR(t,e,n){const r=e.split(".");let i=t;r.forEach((o,s)=>{s!==r.length-1?(an(i,o)||(i[o]={}),i=i[o]):i[o]=n})}function Rx(t){if(!Ze(t))return 0;const e=function(n){let r=0;return Ze(n)?Qe(n,(i,o)=>{o!=="__children"&&(r+=e(i))}):r+=1,r};return e(t)}function Eo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value";const n=`_${e}`,r={_touched:!1,[n]:t,isTouched(){return this._touched}};return Object.defineProperty(r,e,{get(){return this[n]},set(i){this._touched=!0,this[n]=i},enumerable:!0,configurable:!0}),r}function an(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ex(t){return window.requestAnimationFrame(t)}function vC(t){window.cancelAnimationFrame(t)}function qV(){return"ontouchstart"in window}function che(){return typeof window<"u"}let $c;function hhe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $c||(typeof Intl=="object"?$c=new Intl.Collator(t,e).compare:typeof String.prototype.localeCompare=="function"?$c=(n,r)=>`${n}`.localeCompare(r):$c=(n,r)=>n===r?0:n>r?-1:1,$c)}const Ni=t=>{const e={value:!1};return e.test=(n,r)=>{e.value=t(n,r)},e},zl={chrome:Ni((t,e)=>/Chrome/.test(t)&&/Google/.test(e)),chromeWebKit:Ni(t=>/CriOS/.test(t)),edge:Ni(t=>/Edge/.test(t)),edgeWebKit:Ni(t=>/EdgiOS/.test(t)),firefox:Ni(t=>/Firefox/.test(t)),firefoxWebKit:Ni(t=>/FxiOS/.test(t)),mobile:Ni(t=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)),safari:Ni((t,e)=>/Safari/.test(t)&&/Apple Computer/.test(e))},fp={mac:Ni(t=>/^Mac/.test(t)),win:Ni(t=>/^Win/.test(t)),linux:Ni(t=>/^Linux/.test(t)),ios:Ni(t=>/iPhone|iPad|iPod/i.test(t))};function dhe(){let{userAgent:t=navigator.userAgent,vendor:e=navigator.vendor}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qe(zl,n=>{let{test:r}=n;return void r(t,e)})}function fhe(){let{platform:t=navigator.platform}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qe(fp,e=>{let{test:n}=e;return void n(t)})}che()&&(dhe(),fhe());function XV(){return zl.chrome.value}function ghe(){return zl.chromeWebKit.value}function tR(){return zl.firefox.value}function mhe(){return zl.firefoxWebKit.value}function ZV(){return zl.safari.value}function phe(){return zl.edge.value}function ml(){return zl.mobile.value}function QV(){return fp.ios.value}function JV(){let{maxTouchPoints:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator;return t>2&&fp.mac.value}function rH(){return fp.win.value}function M_(){return fp.mac.value}const ke={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:tR()?182:174,AUDIO_MUTE:tR()?181:173,AUDIO_UP:tR()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},vhe=[ke.ALT,ke.ARROW_DOWN,ke.ARROW_LEFT,ke.ARROW_RIGHT,ke.ARROW_UP,ke.AUDIO_DOWN,ke.AUDIO_MUTE,ke.AUDIO_UP,ke.BACKSPACE,ke.CAPS_LOCK,ke.DELETE,ke.END,ke.ENTER,ke.ESCAPE,ke.F1,ke.F2,ke.F3,ke.F4,ke.F5,ke.F6,ke.F7,ke.F8,ke.F9,ke.F10,ke.F11,ke.F12,ke.F13,ke.F14,ke.F15,ke.F16,ke.F17,ke.F18,ke.F19,ke.HOME,ke.INSERT,ke.MEDIA_NEXT,ke.MEDIA_PLAY_PAUSE,ke.MEDIA_PREV,ke.MEDIA_STOP,ke.NULL,ke.NUM_LOCK,ke.PAGE_DOWN,ke.PAGE_UP,ke.PAUSE,ke.SCROLL_LOCK,ke.SHIFT,ke.TAB];function yhe(t){return t===32||t>=48&&t<=57||t>=96&&t<=111||t>=186&&t<=192||t>=219&&t<=222||t>=226||t>=65&&t<=90}function eW(t){return vhe.includes(t)}function whe(t){return[ke.CONTROL,ke.COMMAND_LEFT,ke.COMMAND_RIGHT,ke.COMMAND_FIREFOX].includes(t)}function gp(t,e){const n=e.split("|");let r=!1;return G(n,i=>{if(t===ke[i])return r=!0,!1}),r}function Bo(t){t.isImmediatePropagationEnabled=!1,t.cancelBubble=!0}function ju(t){return t.isImmediatePropagationEnabled===!1}function fc(t){return t.button===2}function _x(t){return t.button===0}function Che(t){return t instanceof TouchEvent}function bhe(t,e){const n={x:t.offsetX,y:t.offsetY};let r=t.target;if(!(e instanceof HTMLElement)||r!==e&&r.contains(e))return n;for(;r!==e;)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;return n}var tW={},She=XB,Rhe=$O,Ehe=Object.keys||function(e){return She(e,Rhe)},_he=Ho,The=VB,Ohe=Ul,xhe=Pa,Phe=Bb,Mhe=Ehe;tW.f=_he&&!The?Object.defineProperties:function(e,n){xhe(e);for(var r=Phe(n),i=Mhe(n),o=i.length,s=0,a;o>s;)Ohe.f(e,a=i[s++],r[a]);return e};var Ahe=Pa,Ihe=tW,iH=$O,Nhe=DO,khe=bj,Hhe=HO,Dhe=zB,oH=">",sH="<",A_="prototype",I_="script",nW=Dhe("IE_PROTO"),nR=function(){},rW=function(t){return sH+I_+oH+t+sH+"/"+I_+oH},aH=function(t){t.write(rW("")),t.close();var e=t.parentWindow.Object;return t=null,e},Lhe=function(){var t=Hhe("iframe"),e="java"+I_+":",n;return t.style.display="none",khe.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(rW("document.F=Object")),n.close(),n.F},lv,uw=function(){try{lv=new ActiveXObject("htmlfile")}catch{}uw=typeof document<"u"?document.domain&&lv?aH(lv):Lhe():aH(lv);for(var t=iH.length;t--;)delete uw[A_][iH[t]];return uw()};Nhe[nW]=!0;var $he=Object.create||function(e,n){var r;return e!==null?(nR[A_]=Ahe(e),r=new nR,nR[A_]=null,r[nW]=e):r=uw(),n===void 0?r:Ihe.f(r,n)},Fhe=Wl,Bhe=$he,jhe=Ul.f,N_=Fhe("unscopables"),k_=Array.prototype;k_[N_]===void 0&&jhe(k_,N_,{configurable:!0,value:Bhe(null)});var Tx=function(t){k_[N_][t]=!0},Vhe=Tx;Vhe("flatMap");function bt(){xe(console)&&console.warn(...arguments)}function Ox(){xe(console)&&console.error(...arguments)}function Whe(t,e,n){return(e=Uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uhe(t){var e=zhe(t,"string");return typeof e=="symbol"?e:e+""}function zhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Fc=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterColumnSequenceChange","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterRowSequenceChange","beforeViewportScrollVertically","beforeViewportScrollHorizontally","beforeViewportScroll","afterScrollHorizontally","afterScrollVertically","afterScroll","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSelectionFocusSet","beforeSelectColumns","afterSelectColumns","beforeSelectRows","afterSelectRows","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeRowWrap","beforeColumnWrap","beforeSetCellMeta","beforeSelectionFocusSet","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeSelectionHighlightSet","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyFiltersMultiSelectValue","modifyFocusedElement","modifyRowHeader","modifyRowHeight","modifyRowHeightByOverlayName","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","modifyFocusOnTabNavigation","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","modifyColumnHeaderValue","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","modifyTransformFocus","modifyTransformStart","modifyTransformEnd","afterModifyTransformFocus","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","beforeBeginEditing","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],Yhe=St`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\x20
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\x20
  learn about the migration path.`,rR=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),iR=new Map([[]]),uv=new WeakMap;class Te{static getSingleton(){return Khe()}constructor(){Whe(this,"globalBucket",void 0),this.globalBucket=this.createEmptyBucket()}createEmptyBucket(){const e=Object.create(null);return G(Fc,n=>{e[n]=[],this.initOrderMap(e,n)}),e}getBucket(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e?(e.pluginHookBucket||(e.pluginHookBucket=this.createEmptyBucket()),e.pluginHookBucket):this.globalBucket}add(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;if(Array.isArray(n))G(n,o=>this.add(e,o,r));else{rR.has(e)&&bt(EV(Yhe,{hookName:e,removedInVersion:rR.get(e)})),iR.has(e)&&bt(iR.get(e));const o=this.getBucket(r);if(typeof o[e]>"u"&&(this.register(e),o[e]=[],this.initOrderMap(o,e)),n.skip=!1,o[e].indexOf(n)===-1){let s=!1;n.initialHook&&G(o[e],(a,l)=>{if(a.initialHook)return o[e][l]=n,s=!0,!1}),s||o[e].push(n)}this.setCallbackOrderIndex(o,e,n,i),this.orderBucketByOrderIndex(o,e)}return this}once(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;Array.isArray(n)?G(n,o=>this.once(e,o,r)):(n.runOnce=!0,this.add(e,n,r,i))}remove(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const i=this.getBucket(r);return typeof i[e]<"u"&&i[e].indexOf(n)>=0?(n.skip=!0,!0):!1}has(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const r=this.getBucket(n);return!!(r[e]!==void 0&&r[e].length)}run(e,n,r,i,o,s,a,l){{const u=this.globalBucket[n],c=u?u.length:0;let h=0;if(c)for(;h<c;){if(!u[h]||u[h].skip){h+=1;continue}const d=T_(u[h],e,r,i,o,s,a,l);d!==void 0&&(r=d),u[h]&&u[h].runOnce&&this.remove(n,u[h]),h+=1}}{const u=this.getBucket(e)[n],c=u?u.length:0;let h=0;if(c)for(;h<c;){if(!u[h]||u[h].skip){h+=1;continue}const d=T_(u[h],e,r,i,o,s,a,l);d!==void 0&&(r=d),u[h]&&u[h].runOnce&&this.remove(n,u[h],e),h+=1}}return r}destroy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;Qe(this.getBucket(e),(n,r,i)=>i[r].length=0)}register(e){this.isRegistered(e)||Fc.push(e)}deregister(e){this.isRegistered(e)&&Fc.splice(Fc.indexOf(e),1)}isDeprecated(e){return iR.has(e)||rR.has(e)}isRegistered(e){return Fc.indexOf(e)>=0}getRegistered(){return Fc}setCallbackOrderIndex(e,n,r,i){const o=Number.isInteger(i)?i:0,s=this.getCallbackOrderMap(e,n);s.set(o,[...s.get(o)||[],r])}orderBucketByOrderIndex(e,n){const r=this.getCallbackOrderMap(e,n);r===void 0||r.size===0||r.size===1&&r.has(0)||(e[n]=[...r].sort((i,o)=>i[0]-o[0]).flatMap(i=>{let[,o]=i;return o}))}initOrderMap(e,n){uv.has(e)||uv.set(e,[]),uv.get(e)[n]=new Map}getCallbackOrderMap(e,n){return uv.get(e)[n]}}const Ghe=new Te;function Khe(){return Ghe}const oR=new Map;function jo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"common";oR.has(t)||oR.set(t,new Map);const e=oR.get(t);function n(a,l){e.set(a,l)}function r(a){return e.get(a)}function i(a){return e.has(a)}function o(){return[...e.keys()]}function s(){return[...e.values()]}return{register:n,getItem:r,hasItem:i,getNames:o,getValues:s}}const H_=new WeakMap,{register:qhe,getItem:iW,hasItem:oW,getNames:qNe,getValues:XNe}=jo("editors");function Xhe(t){const e={},n=t;this.getConstructor=function(){return t},this.getInstance=function(r){return r.guid in e||(e[r.guid]=new n(r)),e[r.guid]},Te.getSingleton().add("afterDestroy",function(){e[this.guid]=null})}function sW(t,e){let n;if(typeof t=="function")H_.get(t)||si(null,t),n=H_.get(t);else if(typeof t=="string")n=iW(t);else throw Error('Only strings and functions can be passed as "editor" parameter');if(!n)throw Error(`No editor registered under name "${t}"`);return n.getInstance(e)}function D_(t){if(typeof t=="function")return t;if(!oW(t))throw Error(`No registered editor found under "${t}" name`);return iW(t).getConstructor()}function si(t,e){t&&typeof t!="string"&&(e=t,t=e.EDITOR_TYPE);const n=new Xhe(e);typeof t=="string"&&qhe(t,n),H_.set(e,n)}function Zhe(t,e,n){return(e=Qhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qhe(t){var e=Jhe(t,"string");return typeof e=="symbol"?e:e+""}function Jhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class No{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;Zhe(this,"context",void 0),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}addEventListener(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;function o(s){r.call(this,ede(s))}return this.context.eventListeners.push({element:e,event:n,callback:r,callbackProxy:o,options:i,eventManager:this}),e.addEventListener(n,o,i),()=>{this.removeEventListener(e,n,r)}}removeEventListener(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=this.context.eventListeners.length,s;for(;o;)if(o-=1,s=this.context.eventListeners[o],s.event===n&&s.element===e){if(r&&r!==s.callback||i&&s.eventManager!==this)continue;this.context.eventListeners.splice(o,1),s.element.removeEventListener(s.event,s.callbackProxy,s.options)}}clearEvents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.context)return;let n=this.context.eventListeners.length;for(;n;){n-=1;const r=this.context.eventListeners[n];e&&r.eventManager!==this||(this.context.eventListeners.splice(n,1),r.element.removeEventListener(r.event,r.callbackProxy,r.options))}}clear(){this.clearEvents()}destroy(){this.clearEvents(),this.context=null}destroyWithOwnEventsOnly(){this.clearEvents(!0),this.context=null}fireEvent(e,n){let r=e.document,i=e;r||(r=e.ownerDocument?e.ownerDocument:e,i=r.defaultView);const o={bubbles:!0,cancelable:n!=="mousemove",view:i,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0};let s;r.createEvent?(s=r.createEvent("MouseEvents"),s.initMouseEvent(n,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,r.body.parentNode)):s=r.createEventObject(),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(`on${n}`,s)}}function ede(t){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=function(){e.apply(this),Bo(this)},t}function tde(t,e){nde(t,e),e.add(t)}function nde(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jl(t,e,n){return(e=rde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rde(t){var e=ide(t,"string");return typeof e=="symbol"?e:e+""}function ide(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lH(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var sR=new WeakSet;class L_{constructor(e,n,r){tde(this,sR),Jl(this,"hot",void 0),Jl(this,"tableMeta",void 0),Jl(this,"selection",void 0),Jl(this,"eventManager",void 0),Jl(this,"destroyed",!1),Jl(this,"activeEditor",void 0),Jl(this,"cellProperties",void 0),this.hot=e,this.tableMeta=n,this.selection=r,this.eventManager=new No(e),this.hot.addHook("afterDocumentKeyDown",i=>lH(sR,this,ode).call(this,i)),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"compositionstart",i=>{!this.destroyed&&this.hot.isListening()&&this.openEditor("",i)}),this.hot.view._wt.update("onCellDblClick",(i,o,s)=>lH(sR,this,sde).call(this,i,o,s))}getActiveEditor(){return this.activeEditor}prepareEditor(){var e;if(this.activeEditor&&this.activeEditor.isWaiting()){this.closeEditor(!1,!1,u=>{u&&this.prepareEditor()});return}const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!n||n.isHeader())return;const{row:r,col:i}=n,o=this.hot.runHooks("modifyGetCellCoords",r,i);let s=r,a=i;if(Array.isArray(o)&&([s,a]=o),this.cellProperties=this.hot.getCellMeta(s,a),!this.isCellEditable()){this.clearActiveEditor();return}const l=this.hot.getCell(r,i,!0);if(l){const u=this.hot.getCellEditor(this.cellProperties),c=this.hot.colToProp(a),h=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s),a);this.activeEditor=sW(u,this.hot),this.activeEditor.prepare(r,i,c,l,h,this.cellProperties)}}isEditorOpened(){return this.activeEditor&&this.activeEditor.isOpened()}openEditor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this.isCellEditable()){this.clearActiveEditor();return}const i=this.hot.getSelectedRangeLast();let o=this.hot.runHooks("beforeBeginEditing",i.highlight.row,i.highlight.col,e,n,r);if(n instanceof MouseEvent&&typeof o!="boolean"&&(o=this.hot.selection.getLayerLevel()===0&&i.isSingle()),o===!1){this.clearActiveEditor();return}this.activeEditor||(this.hot.scrollToFocusedCell(),this.prepareEditor()),this.activeEditor&&(r&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(e,n))}closeEditor(e,n,r){this.activeEditor?this.activeEditor.finishEditing(e,n,r):r&&r(!1)}closeEditorAndSaveChanges(e){this.closeEditor(!1,e)}closeEditorAndRestoreOriginalValue(e){this.closeEditor(!0,e)}clearActiveEditor(){this.activeEditor=void 0}isCellEditable(){const e=this.hot.getSelectedRangeLast();if(!e)return!1;const n=this.hot.getCellEditor(this.cellProperties),{row:r,col:i}=e.highlight,{rowIndexMapper:o,columnIndexMapper:s}=this.hot,a=o.isHidden(this.hot.toPhysicalRow(r))||s.isHidden(this.hot.toPhysicalColumn(i));return!(this.cellProperties.readOnly||!n||a)}moveSelectionAfterEnter(e){const n={...typeof this.tableMeta.enterMoves=="function"?this.tableMeta.enterMoves(e):this.tableMeta.enterMoves};e.shiftKey&&(n.row=-n.row,n.col=-n.col),this.hot.selection.isMultiple()?this.selection.transformFocus(n.row,n.col):this.selection.transformStart(n.row,n.col,!0)}destroy(){this.destroyed=!0,this.eventManager.destroy()}}function ode(t){const e=this.hot.getSelectedRangeLast();if(!this.hot.isListening()||!e||e.highlight.isHeader()||ju(t))return;const{keyCode:n}=t,r=(t.ctrlKey||t.metaKey)&&!t.altKey;(!this.activeEditor||this.activeEditor&&!this.activeEditor.isWaiting())&&!eW(n)&&!whe(n)&&!r&&!this.isEditorOpened()&&this.openEditor("",t)}function sde(t,e){e.isCell()&&this.openEditor(null,t,!0)}const uH=new WeakMap;L_.getInstance=function(t,e,n){let r=uH.get(t);return r||(r=new L_(t,e,n),uH.set(t,r)),r};function ade(t,e){aW(t,e),e.add(t)}function gf(t,e,n){aW(t,e),e.set(t,n)}function aW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qt(t,e){return t.get(aa(t,e))}function mf(t,e,n){return t.set(aa(t,e),n),n}function aa(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const ed=Object.freeze({CELL:"cell",MIXED:"mixed"});var Vn=new WeakMap,cv=new WeakMap,hv=new WeakMap,dv=new WeakMap,fv=new WeakMap,Ja=new WeakSet;class lde{constructor(e){var n=this;ade(this,Ja),gf(this,Vn,void 0),gf(this,cv,void 0),gf(this,hv,1),gf(this,dv,null),gf(this,fv,new Map);const r=e.getSettings();mf(Vn,this,e),mf(cv,this,r.imeFastEdit?ed.MIXED:ed.CELL),qt(Vn,this).addHook("afterUpdateSettings",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return aa(Ja,n,cde).call(n,...o)}),qt(Vn,this).addHook("afterSelection",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return aa(Ja,n,cH).call(n,...o)}),qt(Vn,this).addHook("afterSelectionFocusSet",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return aa(Ja,n,cH).call(n,...o)}),qt(Vn,this).addHook("afterSelectionEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return aa(Ja,n,ude).call(n,...o)})}getFocusMode(){return qt(cv,this)}setFocusMode(e){Object.values(ed).includes(e)?mf(cv,this,e):bt(`"${e}" is not a valid focus mode.`)}getRefocusDelay(){return qt(hv,this)}setRefocusDelay(e){mf(hv,this,e)}setRefocusElementGetter(e){mf(dv,this,e)}getRefocusElement(){if(typeof qt(dv,this)=="function")return qt(dv,this).call(this);var e;return(e=qt(Vn,this).getActiveEditor())===null||e===void 0?void 0:e.TEXTAREA}focusOnHighlightedCell(e){const n=r=>{var i,o;const s=(i=qt(Vn,this).getSelectedRangeLast())===null||i===void 0?void 0:i.highlight;if(!s)return;let a=qt(Vn,this).runHooks("modifyFocusedElement",s.row,s.col,r);a instanceof HTMLElement||(a=r),a&&!((o=qt(Vn,this).getActiveEditor())!==null&&o!==void 0&&o.isOpened())&&a.focus({preventScroll:!0})};e?n(e):aa(Ja,this,xx).call(this,r=>n(r))}refocusToEditorTextarea(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qt(hv,this);const r=this.getRefocusElement();qt(Vn,this).getSettings().imeFastEdit&&!((e=qt(Vn,this).getActiveEditor())!==null&&e!==void 0&&e.isOpened())&&r&&(qt(fv,this).has(n)||qt(fv,this).set(n,Cx(()=>{r.select()},n)),qt(fv,this).get(n)())}}function xx(t){var e;const n=(e=qt(Vn,this).getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!n||!qt(Vn,this).selection.isCellVisible(n)){t(null);return}const r=qt(Vn,this).getCell(n.row,n.col,!0);r===null?qt(Vn,this).addHookOnce("afterScroll",()=>{t(qt(Vn,this).getCell(n.row,n.col,!0))}):t(r)}function cH(){aa(Ja,this,xx).call(this,t=>{const{activeElement:e}=qt(Vn,this).rootDocument;e&&$V(e)&&e.blur(),this.focusOnHighlightedCell(t)})}function ude(){aa(Ja,this,xx).call(this,t=>{this.getFocusMode()===ed.MIXED&&t.nodeName==="TD"&&this.refocusToEditorTextarea()})}function cde(t){typeof t.imeFastEdit=="boolean"&&this.setFocusMode(t.imeFastEdit?ed.MIXED:ed.CELL)}var hde=Lo,dde=Sc,fde=Wl,gde=fde("match"),mde=function(t){var e;return hde(t)&&((e=t[gde])!==void 0?!!e:dde(t)==="RegExp")},pde=Kn,vde=nr,hH=pde.RegExp,yde=!vde(function(){var t=!0;try{hH(".","d")}catch{t=!1}var e={},n="",r=t?"dgimsy":"gimsy",i=function(l,u){Object.defineProperty(e,l,{get:function(){return n+=u,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};t&&(o.hasIndices="d");for(var s in o)i(s,o[s]);var a=Object.getOwnPropertyDescriptor(hH.prototype,"flags").get.call(e);return a!==r||n!==r}),wde={correct:yde},Cde=Pa,bde=function(){var t=Cde(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},Sde=Do,Rde=$o,Ede=jb,dH=wde,_de=bde,Tde=RegExp.prototype,Ode=dH.correct?function(t){return t.flags}:function(t){return!dH.correct&&Ede(Tde,t)&&!Rde(t,"flags")?Sde(_de,t):t.flags},Px=Pn,xde=np,Pde=Math.floor,aR=Px("".charAt),Mde=Px("".replace),lR=Px("".slice),Ade=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Ide=/\$([$&'`]|\d{1,2})/g,Nde=function(t,e,n,r,i,o){var s=n+t.length,a=r.length,l=Ide;return i!==void 0&&(i=xde(i),l=Ade),Mde(o,l,function(u,c){var h;switch(aR(c,0)){case"$":return"$";case"&":return t;case"`":return lR(e,0,n);case"'":return lR(e,s);case"<":h=i[lR(c,1,-1)];break;default:var d=+c;if(d===0)return u;if(d>a){var f=Pde(d/10);return f===0?u:f<=a?r[f-1]===void 0?aR(c,1):r[f-1]+aR(c,1):u}h=r[d-1]}return h===void 0?"":h})},kde=rr,Hde=Do,Mx=Pn,fH=ep,Dde=yr,Lde=Lo,$de=mde,pf=Yb,Fde=Ub,Bde=Ode,jde=Nde,Vde=Wl,Wde=Vde("replace"),Ude=TypeError,uR=Mx("".indexOf);Mx("".replace);var gH=Mx("".slice),zde=Math.max;kde({target:"String",proto:!0},{replaceAll:function(e,n){var r=fH(this),i,o,s,a,l,u,c,h,d,f,g=0,v="";if(Lde(e)){if(i=$de(e),i&&(o=pf(fH(Bde(e))),!~uR(o,"g")))throw new Ude("`.replaceAll` does not allow non-global regexes");if(s=Fde(e,Wde),s)return Hde(s,e,r,n)}for(a=pf(r),l=pf(e),u=Dde(n),u||(n=pf(n)),c=l.length,h=zde(1,c),d=uR(a,l);d!==-1;)f=u?pf(n(l,d,a)):jde(l,a,d,[],void 0,n),v+=gH(a,g,d)+f,g=d+c,d=d+h>a.length?-1:uR(a,l,d+h);return g<a.length&&(v+=gH(a,g)),v}});const lW={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},Yde=new RegExp(Object.keys(lW).map(t=>`(${t})`).join("|"),"gi");function Gde(t){return(t&&t.nodeName||"")==="TABLE"}function mH(t){const e=t.hasColHeaders(),n=t.hasRowHeaders(),r=[e?-1:0,n?-1:0,t.countRows()-1,t.countCols()-1],i=t.getData(...r),o=i.length,s=o>0?i[0].length:0,a=["<table>","</table>"],l=e?["<thead>","</thead>"]:[],u=["<tbody>","</tbody>"],c=n?1:0,h=e?1:0;for(let d=0;d<o;d+=1){const f=e&&d===0,g=[];for(let y=0;y<s;y+=1){const p=!f&&n&&y===0;let m="";if(f)m=`<th>${t.getColHeader(y-c)}</th>`;else if(p)m=`<th>${t.getRowHeader(d-h)}</th>`;else{const w=i[d][y],{hidden:C,rowspan:S,colspan:x}=t.getCellMeta(d-h,y-c);if(!C){const _=[];if(S&&_.push(`rowspan="${S}"`),x&&_.push(`colspan="${x}"`),pn(w))m=`<td ${_.join(" ")}></td>`;else{const O=w.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");m=`<td ${_.join(" ")}>${O}</td>`}}}g.push(m)}const v=["<tr>",...g,"</tr>"].join("");f?l.splice(1,0,v):u.splice(-1,0,v)}return a.splice(1,0,l.join(""),u.join("")),a.join("")}function pH(t){const e=t.length,n=["<table>"];for(let r=0;r<e;r+=1){const i=t[r],o=i.length,s=[];r===0&&n.push("<tbody>");for(let a=0;a<o;a+=1){const l=i[a],u=pn(l)?"":l.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20{2,}/gi,c=>`<span style="mso-spacerun: yes">${"&nbsp;".repeat(c.length-1)} </span>`).replace(/\t/gi,"&#9;");s.push(`<td>${u}</td>`)}n.push("<tr>",...s,"</tr>"),r+1===e&&n.push("</tbody>")}return n.push("</table>"),n.join("")}function Kde(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;const n={},r=e.createDocumentFragment(),i=e.createElement("div");r.appendChild(i);let o=t;if(typeof o=="string"){const w=o.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,C=>{const S=C.match(/<td\b[^>]*?>/g)[0],x=/<p.*?>/g,_=C.substring(S.length,C.lastIndexOf("<")).trim().replaceAll(/\n\s+/g," ").replaceAll(x,`
`).replace(`
`,"").replaceAll(/<\/(.*)>\s+$/mg,"</$1>").replace(/(<(?!br)([^>]+)>)/gi,"").replaceAll(/^&nbsp;$/mg,"");return`${S}${_}</td>`});i.insertAdjacentHTML("afterbegin",`${w}`),o=i.querySelector("table")}if(!o||!Gde(o))return;const s=i.querySelector('meta[name$="enerator"]'),a=o.querySelector("tbody th")!==null,l=o.querySelector("tr"),u=l?Array.from(l.cells).reduce((w,C)=>w+C.colSpan,0)-(a?1:0):0,c=o.tFoot&&Array.from(o.tFoot.rows)||[],h=[];let d=!1,f=0,g=0;if(o.tHead){const w=Array.from(o.tHead.rows).filter(C=>{const S=C.querySelector("td")!==null;return S&&h.push(C),!S});f=w.length,d=f>0,f>1?n.nestedHeaders=Array.from(w).reduce((C,S)=>{const x=Array.from(S.cells).reduce((_,O,I)=>{if(a&&I===0)return _;const{colSpan:T,innerHTML:P}=O,M=T>1?{label:P,colspan:T}:P;return _.push(M),_},[]);return C.push(x),C},[]):d&&(n.colHeaders=Array.from(w[0].children).reduce((C,S,x)=>(a&&x===0||C.push(S.innerHTML),C),[]))}h.length&&(n.fixedRowsTop=h.length),c.length&&(n.fixedRowsBottom=c.length);const v=[...h,...Array.from(o.tBodies).reduce((w,C)=>(w.push(...Array.from(C.rows)),w),[]),...c];g=v.length;const y=new Array(g);for(let w=0;w<g;w++)y[w]=new Array(u);const p=[],m=[];for(let w=0;w<g;w++){const C=v[w],S=Array.from(C.cells),x=S.length;for(let _=0;_<x;_++){const O=S[_],{nodeName:I,innerHTML:T,rowSpan:P,colSpan:M}=O,N=y[w].findIndex($=>$===void 0);if(I==="TD"){if(P>1||M>1){for(let X=w;X<w+P;X++)if(X<g)for(let Y=N;Y<N+M;Y++)y[X][Y]=null;const V=O.getAttribute("style");V&&V.includes("mso-ignore:colspan")||p.push({col:N,row:w,rowspan:P,colspan:M})}let $="";s&&/excel/gi.test(s.content)?$=T.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,`\r
`):$=T.replace(/<br(\s*|\/)>[\r\n]?/gim,`\r
`),y[w][N]=$.replace(Yde,V=>lW[V])}else m.push(T)}}return p.length&&(n.mergeCells=p),m.length&&(n.rowHeaders=m),y.length&&(n.data=y),n}function xr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=typeof t;if(n==="number")return!isNaN(t)&&isFinite(t);if(n==="string"){if(t.length===0)return!1;if(t.length===1)return/\d/.test(t);const r=Array.from(new Set([".",...e])).map(i=>`\\${i}`).join("|");return new RegExp(`^[+-]?(((${r})?\\d+((${r})\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$`,"i").test(t.trim())}else if(n==="object")return!!t&&typeof t.valueOf()=="number"&&!(t instanceof Date);return!1}function qde(t){return xr(t,[","])}function Ie(t,e,n){let r=-1;for(typeof e=="function"?(n=e,e=t):r=t-1;++r<=e&&n(r)!==!1;);}function vH(t,e,n){let r=t+1;for(typeof e=="function"&&(n=e,e=0);--r>=e&&n(r)!==!1;);}function uW(t,e){return e=parseInt(e.toString().replace("%",""),10),e=isNaN(e)?0:e,parseInt(t*e/100,10)}function _t(t,e,n){return Math.min(t,e)===t?e:Math.max(t,n)===t?n:t}const $_="asc",Xde="desc",yH=new Map([[$_,[-1,1]],[Xde,[1,-1]]]),Zde=t=>`The priority '${t}' is already declared in a map.`,Qde=t=>`The priority '${t}' is not a number.`;function Jde(){let{errorPriorityExists:t,errorPriorityNaN:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new Map;t=Ht(t)?t:Zde,e=Ht(e)?e:Qde;function r(o,s){if(!xr(o))throw new Error(e(o));if(n.has(o))throw new Error(t(o));n.set(o,s)}function i(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$_;const[s,a]=yH.get(o)||yH.get($_);return[...n].sort((l,u)=>l[0]<u[0]?s:a).map(l=>l[1])}return{addItem:r,getItems:i}}const efe=t=>`The id '${t}' is already declared in a map.`;function lS(){let{errorIdExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Map;t=Ht(t)?t:efe;function n(u,c){if(l(u))throw new Error(t(u));e.set(u,c)}function r(u){return e.delete(u)}function i(){e.clear()}function o(u){const[c]=a().find(h=>{let[d,f]=h;return u===f?d:!1})||[null];return c}function s(u){return e.get(u)}function a(){return[...e]}function l(u){return e.has(u)}return{addItem:n,clear:i,getId:o,getItem:s,getItems:a,hasItem:l,removeItem:r}}const tfe=t=>`'${t}' value is already declared in a unique set.`;function nfe(){let{errorItemExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Set;t=Ht(t)?t:tfe;function n(o){if(e.has(o))throw new Error(t(o));e.add(o)}function r(){return[...e]}function i(){e.clear()}return{addItem:n,clear:i,getItems:r}}const Ax=t=>`There is already registered "${t}" plugin.`,rfe=t=>`There is already registered plugin on priority "${t}".`,ife=t=>`The priority "${t}" is not a number.`,cW=Jde({errorPriorityExists:rfe,errorPriorityNaN:ife}),hW=nfe({errorItemExists:Ax}),F_=lS({errorIdExists:Ax});function dW(){return[...cW.getItems(),...hW.getItems()]}function Ix(t){const e=Io(t);return F_.getItem(e)}function ofe(t){return!!Ix(t)}function ft(t,e,n){[t,e,n]=afe(t,e,n),Ix(t)===void 0&&sfe(t,e,n)}function sfe(t,e,n){const r=Io(t);if(F_.hasItem(r))throw new Error(Ax(r));n===void 0?hW.addItem(r):cW.addItem(n,r),F_.addItem(r,e)}function afe(t,e,n){return typeof t=="function"&&(e=t,t=e.PLUGIN_KEY,n=e.PLUGIN_PRIORITY),[t,e,n]}const{register:lfe,getItem:ufe,hasItem:fW,getNames:ZNe,getValues:QNe}=jo("renderers");function B_(t){if(typeof t=="function")return t;if(!fW(t))throw Error(`No registered renderer found under "${t}" name`);return ufe(t)}function Ai(t,e){typeof t!="string"&&(e=t,t=e.RENDERER_TYPE),lfe(t,e)}const{register:cfe,getItem:hfe,hasItem:gW,getNames:JNe,getValues:eke}=jo("validators");function dfe(t){if(typeof t=="function")return t;if(!gW(t))throw Error(`No registered validator found under "${t}" name`);return hfe(t)}function bh(t,e){typeof t!="string"&&(e=t,t=e.VALIDATOR_TYPE),cfe(t,e)}var ffe=rr,gfe=np,mfe=op,pfe=ip,vfe=Tx;ffe({target:"Array",proto:!0},{at:function(e){var n=gfe(this),r=mfe(n),i=pfe(e),o=i>=0?i:r+i;return o<0||o>=r?void 0:n[o]}});vfe("at");var yfe=rr,wfe=Pn,Cfe=ep,bfe=ip,Sfe=Yb,Rfe=nr,Efe=wfe("".charAt),_fe=Rfe(function(){return"".at(-2)!=="\uD842"});yfe({target:"String",proto:!0,forced:_fe},{at:function(e){var n=Sfe(Cfe(this)),r=n.length,i=bfe(e),o=i>=0?i:r+i;return o<0||o>=r?void 0:Efe(n,o)}});function vf(t,e,n){return(e=Tfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tfe(t){var e=Ofe(t,"string");return typeof e=="symbol"?e:e+""}function Ofe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xfe{constructor(){vf(this,"count",0),vf(this,"startColumn",null),vf(this,"endColumn",null),vf(this,"startPosition",null),vf(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedWidth:r,zeroBasedScrollOffset:i,viewportWidth:o,columnWidth:s}=n,a=i>0?o+1:o;r>=i&&r+s<=i+a&&((this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=e),this.endColumn=e)}finalize(e){var n;const{scrollOffset:r,viewportWidth:i,inlineStartOffset:o,zeroBasedScrollOffset:s,totalColumns:a,needReverse:l,startPositions:u,columnWidth:c}=e;if(this.endColumn===a-1&&l)for(this.startColumn=this.endColumn;this.startColumn>0;){const g=u[this.endColumn]+c-u[this.startColumn-1];if(g<=i&&(this.startColumn-=1),g>=i)break}this.startPosition=(n=u[this.startColumn])!==null&&n!==void 0?n:null;const h=s>0?i+1:i,d=r+i-h,f=this.startColumn===null?0:e.getColumnWidth(this.startColumn);d<-1*o||r>u.at(-1)||-1*r-i>-1*f?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,a<this.endColumn&&(this.endColumn=a-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}function yf(t,e,n){return(e=Pfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pfe(t){var e=Mfe(t,"string");return typeof e=="symbol"?e:e+""}function Mfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Afe{constructor(){yf(this,"count",0),yf(this,"startRow",null),yf(this,"endRow",null),yf(this,"startPosition",null),yf(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedHeight:r,zeroBasedScrollOffset:i,innerViewportHeight:o,rowHeight:s}=n;r>=i&&r+s<=o&&(this.startRow===null&&(this.startRow=e),this.endRow=e)}finalize(e){var n;const{scrollOffset:r,viewportHeight:i,horizontalScrollbarHeight:o,totalRows:s,needReverse:a,startPositions:l,rowHeight:u}=e;if(this.endRow===s-1&&a)for(this.startRow=this.endRow;this.startRow>0;){const d=l[this.endRow]+u-l[this.startRow-1];if(d<=i-o&&(this.startRow-=1),d>=i-o)break}this.startPosition=(n=l[this.startRow])!==null&&n!==void 0?n:null;const c=r+i-o,h=this.startRow===null?0:e.getRowHeight(this.startRow);c<h||r>l.at(-1)?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,s<this.endRow&&(this.endRow=s-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function wf(t,e,n){return(e=Ife(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ife(t){var e=Nfe(t,"string");return typeof e=="symbol"?e:e+""}function Nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mW{constructor(){wf(this,"count",0),wf(this,"startColumn",null),wf(this,"endColumn",null),wf(this,"startPosition",null),wf(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedWidth:r,zeroBasedScrollOffset:i,viewportWidth:o}=n;r<=i&&(this.startColumn=e);const s=i>0?o+1:o;r>=i&&r<=i+s&&(this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=e),this.endColumn=e}finalize(e){var n;const{scrollOffset:r,viewportWidth:i,inlineStartOffset:o,zeroBasedScrollOffset:s,totalColumns:a,needReverse:l,startPositions:u,columnWidth:c}=e;if(this.endColumn===a-1&&l)for(this.startColumn=this.endColumn;this.startColumn>0;){const f=u[this.endColumn]+c-u[this.startColumn-1];if(this.startColumn-=1,f>i)break}this.startPosition=(n=u[this.startColumn])!==null&&n!==void 0?n:null;const h=s>0?i+1:i;r+i-h<-1*o||r>u.at(-1)+c||-1*r-i>0?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,a<this.endColumn&&(this.endColumn=a-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}function Cf(t,e,n){return(e=kfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kfe(t){var e=Hfe(t,"string");return typeof e=="symbol"?e:e+""}function Hfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pW{constructor(){Cf(this,"count",0),Cf(this,"startRow",null),Cf(this,"endRow",null),Cf(this,"startPosition",null),Cf(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedHeight:r,zeroBasedScrollOffset:i,innerViewportHeight:o}=n;r<=i&&(this.startRow=e),r>=i&&r<=o&&this.startRow===null&&(this.startRow=e),this.endRow=e}finalize(e){var n;const{scrollOffset:r,viewportHeight:i,horizontalScrollbarHeight:o,totalRows:s,needReverse:a,startPositions:l,rowHeight:u}=e;if(this.endRow===s-1&&a)for(this.startRow=this.endRow;this.startRow>0;){const h=l[this.endRow]+u-l[this.startRow-1];if(this.startRow-=1,h>=i-o)break}this.startPosition=(n=l[this.startRow])!==null&&n!==void 0?n:null,r+i-o<0||r>l.at(-1)+u?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,s<this.endRow&&(this.endRow=s-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function bf(t,e,n){return(e=Dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dfe(t){var e=Lfe(t,"string");return typeof e=="symbol"?e:e+""}function Lfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $fe{constructor(){bf(this,"count",0),bf(this,"startColumn",0),bf(this,"endColumn",0),bf(this,"startPosition",0),bf(this,"isVisibleInTrimmingContainer",!0)}initialize(e){let{totalColumns:n}=e;this.count=n,this.endColumn=this.count-1}process(){}finalize(){}}function Sf(t,e,n){return(e=Ffe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ffe(t){var e=Bfe(t,"string");return typeof e=="symbol"?e:e+""}function Bfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jfe{constructor(){Sf(this,"count",0),Sf(this,"startRow",0),Sf(this,"endRow",0),Sf(this,"startPosition",0),Sf(this,"isVisibleInTrimmingContainer",!0)}initialize(e){let{totalRows:n}=e;this.count=n,this.endRow=this.count-1}process(){}finalize(){}}class Vfe extends mW{finalize(e){var n;super.finalize(e);const{overrideFn:r,totalColumns:i,startPositions:o}=e;this.startColumn!==null&&typeof r=="function"&&r(this),this.startColumn<0&&(this.startColumn=0),this.startPosition=(n=o[this.startColumn])!==null&&n!==void 0?n:null,i<this.endColumn&&(this.endColumn=i-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}class Wfe extends pW{finalize(e){var n;super.finalize(e);const{overrideFn:r,totalRows:i,startPositions:o}=e;this.startRow!==null&&typeof r=="function"&&r(this),this.startRow<0&&(this.startRow=0),this.startPosition=(n=o[this.startRow])!==null&&n!==void 0?n:null,i<this.endRow&&(this.endRow=i-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function wH(t,e,n){return(e=Ufe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ufe(t){var e=zfe(t,"string");return typeof e=="symbol"?e:e+""}function zfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vW{constructor(e){wH(this,"calculationTypes",[]),wH(this,"calculationResults",new Map),this.calculationTypes=e}_initialize(e){this.calculationTypes.forEach(n=>{let[r,i]=n;this.calculationResults.set(r,i),i.initialize(e)})}_process(e,n){this.calculationTypes.forEach(r=>{let[,i]=r;return i.process(e,n)})}_finalize(e){this.calculationTypes.forEach(n=>{let[,r]=n;return r.finalize(e)})}getResultsFor(e){return this.calculationResults.get(e)}}function to(t,e,n){return(e=Yfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yfe(t){var e=Gfe(t,"string");return typeof e=="symbol"?e:e+""}function Gfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const uS=50;class Kfe extends vW{constructor(e){let{calculationTypes:n,viewportWidth:r,scrollOffset:i,totalColumns:o,columnWidthFn:s,overrideFn:a,inlineStartOffset:l}=e;super(n),to(this,"viewportWidth",0),to(this,"scrollOffset",0),to(this,"zeroBasedScrollOffset",0),to(this,"totalColumns",0),to(this,"columnWidthFn",null),to(this,"columnWidth",0),to(this,"overrideFn",null),to(this,"inlineStartOffset",0),to(this,"totalCalculatedWidth",0),to(this,"startPositions",[]),to(this,"needReverse",!0),this.viewportWidth=r,this.scrollOffset=i,this.zeroBasedScrollOffset=Math.max(i,0),this.totalColumns=o,this.columnWidthFn=s,this.overrideFn=a,this.inlineStartOffset=l,this.calculate()}calculate(){this._initialize(this);for(let e=0;e<this.totalColumns;e++)if(this.columnWidth=this.getColumnWidth(e),this._process(e,this),this.startPositions.push(this.totalCalculatedWidth),this.totalCalculatedWidth+=this.columnWidth,this.totalCalculatedWidth>=this.zeroBasedScrollOffset+this.viewportWidth){this.needReverse=!1;break}this._finalize(this)}getColumnWidth(e){const n=this.columnWidthFn(e);return isNaN(n)?uS:n}}function _i(t,e,n){return(e=qfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qfe(t){var e=Xfe(t,"string");return typeof e=="symbol"?e:e+""}function Xfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const yW=23;class Zfe extends vW{constructor(e){let{calculationTypes:n,viewportHeight:r,scrollOffset:i,totalRows:o,rowHeightFn:s,overrideFn:a,horizontalScrollbarHeight:l}=e;super(n),_i(this,"viewportHeight",0),_i(this,"scrollOffset",0),_i(this,"zeroBasedScrollOffset",0),_i(this,"totalRows",0),_i(this,"rowHeightFn",null),_i(this,"rowHeight",0),_i(this,"overrideFn",null),_i(this,"horizontalScrollbarHeight",0),_i(this,"innerViewportHeight",0),_i(this,"totalCalculatedHeight",0),_i(this,"startPositions",[]),_i(this,"needReverse",!0),this.viewportHeight=r,this.scrollOffset=i,this.zeroBasedScrollOffset=Math.max(i,0),this.totalRows=o,this.rowHeightFn=s,this.overrideFn=a,this.horizontalScrollbarHeight=l??0,this.innerViewportHeight=this.zeroBasedScrollOffset+this.viewportHeight-this.horizontalScrollbarHeight,this.calculate()}calculate(){this._initialize(this);for(let e=0;e<this.totalRows;e++)if(this.rowHeight=this.getRowHeight(e),this._process(e,this),this.startPositions.push(this.totalCalculatedHeight),this.totalCalculatedHeight+=this.rowHeight,this.totalCalculatedHeight>=this.innerViewportHeight){this.needReverse=!1;break}this._finalize(this)}getRowHeight(e){const n=this.rowHeightFn(e);return isNaN(n)?yW:n}}function Qfe(t,e,n){Jfe(t,e),e.set(t,n)}function Jfe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function CH(t,e,n){return(e=ege(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ege(t){var e=tge(t,"string");return typeof e=="symbol"?e:e+""}function tge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bc(t,e){return t.get(wW(t,e))}function bH(t,e,n){return t.set(wW(t,e),n),n}function wW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Fs=new WeakMap;class gc{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;CH(this,"row",null),CH(this,"col",null),Qfe(this,Fs,!1),bH(Fs,this,r),typeof e<"u"&&typeof n<"u"&&(this.row=e,this.col=n)}isValid(e){const{countRows:n,countCols:r,countRowHeaders:i,countColHeaders:o}={countRows:0,countCols:0,countRowHeaders:0,countColHeaders:0,...e};return!(!Number.isInteger(this.row)||!Number.isInteger(this.col)||this.row<-o||this.col<-i||this.row>=n||this.col>=r)}isEqual(e){return e===this?!0:this.row===e.row&&this.col===e.col}isHeader(){return!this.isCell()}isCell(){return this.row>=0&&this.col>=0}isRtl(){return Bc(Fs,this)}isSouthEastOf(e){return this.row>=e.row&&(Bc(Fs,this)?this.col<=e.col:this.col>=e.col)}isNorthWestOf(e){return this.row<=e.row&&(Bc(Fs,this)?this.col>=e.col:this.col<=e.col)}isSouthWestOf(e){return this.row>=e.row&&(Bc(Fs,this)?this.col>=e.col:this.col<=e.col)}isNorthEastOf(e){return this.row<=e.row&&(Bc(Fs,this)?this.col<=e.col:this.col>=e.col)}normalize(){return this.row=this.row===null?this.row:Math.max(this.row,0),this.col=this.col===null?this.col:Math.max(this.col,0),this}assign(e){return Number.isInteger(e==null?void 0:e.row)&&(this.row=e.row),Number.isInteger(e==null?void 0:e.col)&&(this.col=e.col),e instanceof gc&&bH(Fs,this,e.isRtl()),this}clone(){return new gc(this.row,this.col,Bc(Fs,this))}toObject(){return{row:this.row,col:this.col}}}function nge(t,e,n){rge(t,e),e.set(t,n)}function rge(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cR(t,e,n){return(e=ige(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ige(t){var e=oge(t,"string");return typeof e=="symbol"?e:e+""}function oge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ti(t,e){return t.get(CW(t,e))}function sge(t,e,n){return t.set(CW(t,e),n),n}function CW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Lr=new WeakMap;class mp{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;cR(this,"highlight",null),cR(this,"from",null),cR(this,"to",null),nge(this,Lr,!1),this.highlight=e.clone(),this.from=n.clone(),this.to=r.clone(),sge(Lr,this,i)}setHighlight(e){return this.highlight=e.clone(),this}setFrom(e){return this.from=e.clone(),this}setTo(e){return this.to=e.clone(),this}isValid(e){return this.from.isValid(e)&&this.to.isValid(e)}isSingle(){return this.isSingleCell()||this.isSingleHeader()}isSingleCell(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}isSingleHeader(){return(this.from.row<0||this.from.col<0)&&this.from.row===this.to.row&&this.from.col===this.to.col}isHeader(){return this.from.isHeader()&&this.to.isHeader()?!0:this.from.col<0&&this.to.col<0||this.from.row<0&&this.to.row<0}containsHeaders(){return this.from.isHeader()||this.to.isHeader()}getOuterHeight(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}getOuterWidth(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}getHeight(){if(this.from.row<0&&this.to.row<0)return 0;const e=Math.max(this.from.row,0),n=Math.max(this.to.row,0);return Math.max(e,n)-Math.min(e,n)+1}getWidth(){if(this.from.col<0&&this.to.col<0)return 0;const e=Math.max(this.from.col,0),n=Math.max(this.to.col,0);return Math.max(e,n)-Math.min(e,n)+1}getCellsCount(){return this.getWidth()*this.getHeight()}includes(e){const{row:n,col:r}=e,i=this.getOuterTopStartCorner(),o=this.getOuterBottomEndCorner();return i.row<=n&&o.row>=n&&i.col<=r&&o.col>=r}includesRange(e){return this.includes(e.getOuterTopStartCorner())&&this.includes(e.getOuterBottomEndCorner())}isEqual(e){return Math.min(this.from.row,this.to.row)===Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(e.from.col,e.to.col)}overlaps(e){return e.isSouthEastOf(this.getOuterTopLeftCorner())&&e.isNorthWestOf(this.getOuterBottomRightCorner())}isSouthEastOf(e){return this.getOuterTopLeftCorner().isSouthEastOf(e)||this.getOuterBottomRightCorner().isSouthEastOf(e)}isNorthWestOf(e){return this.getOuterTopLeftCorner().isNorthWestOf(e)||this.getOuterBottomRightCorner().isNorthWestOf(e)}isOverlappingHorizontally(e){return this.getOuterTopEndCorner().col>=e.getOuterTopStartCorner().col&&this.getOuterTopEndCorner().col<=e.getOuterTopEndCorner().col||this.getOuterTopStartCorner().col<=e.getOuterTopEndCorner().col&&this.getOuterTopStartCorner().col>=e.getOuterTopStartCorner().col}isOverlappingVertically(e){return this.getOuterBottomStartCorner().row>=e.getOuterTopRightCorner().row&&this.getOuterBottomStartCorner().row<=e.getOuterBottomStartCorner().row||this.getOuterTopEndCorner().row<=e.getOuterBottomStartCorner().row&&this.getOuterTopEndCorner().row>=e.getOuterTopRightCorner().row}expand(e){const n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner();return e.row<n.row||e.col<n.col||e.row>r.row||e.col>r.col?(this.from=this._createCellCoords(Math.min(n.row,e.row),Math.min(n.col,e.col)),this.to=this._createCellCoords(Math.max(r.row,e.row),Math.max(r.col,e.col)),!0):!1}expandByRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this.includesRange(e)||!this.overlaps(e))return!1;const r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),o=this.getDirection(),s=e.getOuterTopStartCorner(),a=e.getOuterBottomEndCorner(),l=Math.min(r.row,s.row),u=Math.min(r.col,s.col),c=Math.max(i.row,a.row),h=Math.max(i.col,a.col),d=this._createCellCoords(l,u),f=this._createCellCoords(c,h);return this.from=d,this.to=f,this.setDirection(o),n&&(this.highlight.row===this.getOuterBottomRightCorner().row&&this.getVerticalDirection()==="N-S"&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&this.getHorizontalDirection()==="W-E"&&this.flipDirectionHorizontally()),!0}getDirection(){if(this.from.isNorthWestOf(this.to))return"NW-SE";if(this.from.isNorthEastOf(this.to))return"NE-SW";if(this.from.isSouthEastOf(this.to))return"SE-NW";if(this.from.isSouthWestOf(this.to))return"SW-NE"}setDirection(e){switch(e){case"NW-SE":[this.from,this.to]=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];break;case"NE-SW":[this.from,this.to]=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];break;case"SE-NW":[this.from,this.to]=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];break;case"SW-NE":[this.from,this.to]=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];break}}getVerticalDirection(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}getHorizontalDirection(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}flipDirectionVertically(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break}}flipDirectionHorizontally(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break}}getTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getTopLeftCorner(){return Ti(Lr,this)?this.getTopEndCorner():this.getTopStartCorner()}getBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getBottomRightCorner(){return Ti(Lr,this)?this.getBottomStartCorner():this.getBottomEndCorner()}getTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getTopRightCorner(){return Ti(Lr,this)?this.getTopStartCorner():this.getTopEndCorner()}getBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getBottomLeftCorner(){return Ti(Lr,this)?this.getBottomEndCorner():this.getBottomStartCorner()}getOuterTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterTopLeftCorner(){return Ti(Lr,this)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}getOuterBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterBottomRightCorner(){return Ti(Lr,this)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}getOuterTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterTopRightCorner(){return Ti(Lr,this)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}getOuterBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterBottomLeftCorner(){return Ti(Lr,this)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}isCorner(e){return e.isEqual(this.getOuterTopLeftCorner())||e.isEqual(this.getOuterTopRightCorner())||e.isEqual(this.getOuterBottomLeftCorner())||e.isEqual(this.getOuterBottomRightCorner())}getOppositeCorner(e){if(!(e instanceof gc))return!1;if(e.isEqual(this.getOuterBottomEndCorner()))return this.getOuterTopStartCorner();if(e.isEqual(this.getOuterTopStartCorner()))return this.getOuterBottomEndCorner();if(e.isEqual(this.getOuterTopEndCorner()))return this.getOuterBottomStartCorner();if(e.isEqual(this.getOuterBottomStartCorner()))return this.getOuterTopEndCorner()}getBordersSharedWith(e){if(!this.includesRange(e))return[];const n={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},r={top:Math.min(e.from.row,e.to.row),bottom:Math.max(e.from.row,e.to.row),left:Math.min(e.from.col,e.to.col),right:Math.max(e.from.col,e.to.col)},i=[];return n.top===r.top&&i.push("top"),n.right===r.right&&i.push(Ti(Lr,this)?"left":"right"),n.bottom===r.bottom&&i.push("bottom"),n.left===r.left&&i.push(Ti(Lr,this)?"right":"left"),i}getInner(){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),r=[];for(let i=e.row;i<=n.row;i++)for(let o=e.col;o<=n.col;o++)!(this.from.row===i&&this.from.col===o)&&!(this.to.row===i&&this.to.col===o)&&r.push(this._createCellCoords(i,o));return r}getAll(){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),r=[];for(let i=e.row;i<=n.row;i++)for(let o=e.col;o<=n.col;o++)e.row===i&&e.col===o?r.push(e):n.row===i&&n.col===o?r.push(n):r.push(this._createCellCoords(i,o));return r}forAll(e){const n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner();for(let i=n.row;i<=r.row;i++)for(let o=n.col;o<=r.col;o++)if(e(i,o)===!1)return}clone(){return new mp(this.highlight,this.from,this.to,Ti(Lr,this))}toObject(){return{from:this.from.toObject(),to:this.to.toObject()}}_createCellCoords(e,n){return new gc(e,n,Ti(Lr,this))}}function Yo(t,e,n){age(t,e),e.set(t,n)}function age(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ne(t,e){return t.get(bW(t,e))}function Da(t,e,n){return t.set(bW(t,e),n),n}function bW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Oi=new WeakMap,hR=new WeakMap,Fn=new WeakMap,jc=new WeakMap,gv=new WeakMap,no=new WeakMap,dR=new WeakMap,Rf=new WeakMap,eu=new WeakMap,Go=new WeakMap;let SW=class{constructor(e,n,r,i,o,s){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;Yo(this,Oi,void 0),Yo(this,hR,void 0),Yo(this,Fn,void 0),Yo(this,jc,void 0),Yo(this,gv,void 0),Yo(this,no,void 0),Yo(this,dR,void 0),Yo(this,Rf,void 0),Yo(this,eu,[null,null]),Yo(this,Go,[null,null]),Da(Oi,this,r),Da(hR,this,n),Da(Fn,this,o),Da(jc,this,s),Da(gv,this,a),Da(no,this,i),Da(dR,this,e),this.registerEvents()}registerEvents(){Ne(no,this).addEventListener(Ne(Fn,this).holder,"contextmenu",r=>this.onContextMenu(r)),Ne(no,this).addEventListener(Ne(Fn,this).TABLE,"mouseover",r=>this.onMouseOver(r)),Ne(no,this).addEventListener(Ne(Fn,this).TABLE,"mouseout",r=>this.onMouseOut(r));const e=()=>{Ne(no,this).addEventListener(Ne(Fn,this).holder,"touchstart",r=>this.onTouchStart(r)),Ne(no,this).addEventListener(Ne(Fn,this).holder,"touchend",r=>this.onTouchEnd(r)),this.momentumScrolling||(this.momentumScrolling={}),Ne(no,this).addEventListener(Ne(Fn,this).holder,"scroll",()=>{clearTimeout(this.momentumScrolling._timeout),this.momentumScrolling.ongoing||Ne(Oi,this).getSetting("onBeforeTouchScroll"),this.momentumScrolling.ongoing=!0,this.momentumScrolling._timeout=setTimeout(()=>{this.touchApplied||(this.momentumScrolling.ongoing=!1,Ne(Oi,this).getSetting("onAfterMomentumScroll"))},200)})},n=()=>{Ne(no,this).addEventListener(Ne(Fn,this).holder,"mouseup",r=>this.onMouseUp(r)),Ne(no,this).addEventListener(Ne(Fn,this).holder,"mousedown",r=>this.onMouseDown(r))};ml()?e():(qV()&&e(),n())}selectedCellWasTouched(e){const r=this.parentCell(e).coords;if(Ne(Rf,this)&&r){const[i,o]=[r.row,Ne(Rf,this).from.row],[s,a]=[r.col,Ne(Rf,this).from.col];return i===o&&s===a}return!1}parentCell(e){const n={},r=Ne(Fn,this).TABLE,i=ov(e,["TD","TH"],r);return i?(n.coords=Ne(Fn,this).getCoords(i),n.TD=i):je(e,"wtBorder")&&je(e,"current")?(n.coords=Ne(jc,this).getFocusSelection().cellRange.highlight,n.TD=Ne(Fn,this).getCell(n.coords)):je(e,"wtBorder")&&je(e,"area")&&Ne(jc,this).getAreaSelection().cellRange&&(n.coords=Ne(jc,this).getAreaSelection().cellRange.to,n.TD=Ne(Fn,this).getCell(n.coords)),n}onMouseDown(e){const n=Ne(hR,this).rootDocument.activeElement,r=VV(Rce,e.target),i=e.target;if(!["TD","TH"].includes(n.nodeName)&&(i===n||r(0)===n||r(1)===n))return;const o=this.parentCell(i);je(i,"corner")?Ne(Oi,this).getSetting("onCellCornerMouseDown",e,i):o.TD&&Ne(Oi,this).has("onCellMouseDown")&&this.callListener("onCellMouseDown",e,o.coords,o.TD),(e.button===0||this.touchApplied)&&o.TD&&(Ne(Go,this)[0]=o.TD,clearTimeout(Ne(eu,this)[0]),Ne(eu,this)[0]=setTimeout(()=>{Ne(Go,this)[0]=null},1e3))}onContextMenu(e){if(Ne(Oi,this).has("onCellContextMenu")){const n=this.parentCell(e.target);n.TD&&this.callListener("onCellContextMenu",e,n.coords,n.TD)}}onMouseOver(e){if(!Ne(Oi,this).has("onCellMouseOver"))return;const n=Ne(Fn,this).TABLE,r=ov(e.target,["TD","TH"],n),i=Ne(gv,this)||this;r&&r!==i.lastMouseOver&&ic(r,n)&&(i.lastMouseOver=r,this.callListener("onCellMouseOver",e,Ne(Fn,this).getCoords(r),r))}onMouseOut(e){if(!Ne(Oi,this).has("onCellMouseOut"))return;const n=Ne(Fn,this).TABLE,r=ov(e.target,["TD","TH"],n),i=ov(e.relatedTarget,["TD","TH"],n),o=Ne(gv,this)||this;r&&r!==i&&ic(r,n)&&(this.callListener("onCellMouseOut",e,Ne(Fn,this).getCoords(r),r),i===null&&(o.lastMouseOver=null))}onMouseUp(e){const n=this.parentCell(e.target);n.TD&&Ne(Oi,this).has("onCellMouseUp")&&this.callListener("onCellMouseUp",e,n.coords,n.TD),!(e.button!==0&&!this.touchApplied)&&(n.TD===Ne(Go,this)[0]&&n.TD===Ne(Go,this)[1]?(je(e.target,"corner")?this.callListener("onCellCornerDblClick",e,n.coords,n.TD):this.callListener("onCellDblClick",e,n.coords,n.TD),Ne(Go,this)[0]=null,Ne(Go,this)[1]=null):n.TD===Ne(Go,this)[0]&&(Ne(Go,this)[1]=n.TD,clearTimeout(Ne(eu,this)[1]),Ne(eu,this)[1]=setTimeout(()=>{Ne(Go,this)[1]=null},500)))}onTouchStart(e){Da(Rf,this,Ne(jc,this).getFocusSelection().cellRange),this.touchApplied=!0,this.onMouseDown(e)}onTouchEnd(e){var n;const r=e.target,i=(n=this.parentCell(r))===null||n===void 0?void 0:n.coords,o=xe(i)&&i.row>=0&&i.col>=0;if(e.cancelable&&o&&Ne(Oi,this).getSetting("isDataViewInstance")){const a=["A","BUTTON","INPUT"];QV()&&(ghe()||mhe())&&this.selectedCellWasTouched(r)&&!a.includes(r.tagName)?e.preventDefault():this.selectedCellWasTouched(r)||e.preventDefault()}this.onMouseUp(e),this.touchApplied=!1}callListener(e,n,r,i){const o=Ne(Oi,this).getSettingPure(e);o&&o(n,r,i,Ne(dR,this).call(this))}destroy(){clearTimeout(Ne(eu,this)[0]),clearTimeout(Ne(eu,this)[1]),Ne(no,this).destroy()}};function fR(t,e,n){return(e=lge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lge(t){var e=uge(t,"string");return typeof e=="symbol"?e:e+""}function uge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cge{constructor(e,n,r){fR(this,"offset",void 0),fR(this,"total",void 0),fR(this,"countTH",void 0),this.offset=e,this.total=n,this.countTH=r}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleRowHeadedColumnToSourceColumn(e){return this.renderedToSource(this.offsettedTH(e))}sourceColumnToVisibleRowHeadedColumn(e){return this.unOffsettedTH(this.sourceToRendered(e))}}function gR(t,e,n){return(e=hge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hge(t){var e=dge(t,"string");return typeof e=="symbol"?e:e+""}function dge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fge{constructor(e,n,r){gR(this,"offset",void 0),gR(this,"total",void 0),gR(this,"countTH",void 0),this.offset=e,this.total=n,this.countTH=r}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleColHeadedRowToSourceRow(e){return this.renderedToSource(this.offsettedTH(e))}sourceRowToVisibleColHeadedRow(e){return this.unOffsettedTH(this.sourceToRendered(e))}}const gge=0,yC=1,wC=2;function mv(t,e,n){return(e=mge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mge(t){var e=pge(t,"string");return typeof e=="symbol"?e:e+""}function pge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class SH{constructor(){mv(this,"currentSize",0),mv(this,"nextSize",0),mv(this,"currentOffset",0),mv(this,"nextOffset",0)}setSize(e){this.currentSize=this.nextSize,this.nextSize=e}setOffset(e){this.currentOffset=this.nextOffset,this.nextOffset=e}}function mR(t,e,n){return(e=vge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vge(t){var e=yge(t,"string");return typeof e=="symbol"?e:e+""}function yge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wge{constructor(){mR(this,"size",new SH),mR(this,"workingSpace",gge),mR(this,"sharedSize",null)}setSize(e){this.size.setSize(e)}setOffset(e){this.size.setOffset(e)}getViewSize(){return this.size}isShared(){return this.sharedSize instanceof SH}isPlaceOn(e){return this.workingSpace===e}append(e){this.workingSpace=yC,e.workingSpace=wC,this.sharedSize=e.getViewSize()}prepend(e){this.workingSpace=wC,e.workingSpace=yC,this.sharedSize=e.getViewSize()}}function Vc(t,e,n){return(e=Cge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cge(t){var e=bge(t,"string");return typeof e=="symbol"?e:e+""}function bge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class RW{constructor(e,n,r){Vc(this,"rootNode",void 0),Vc(this,"nodesPool",void 0),Vc(this,"sizeSet",new wge),Vc(this,"childNodeType",void 0),Vc(this,"visualIndex",0),Vc(this,"collectedNodes",[]),this.rootNode=e,this.nodesPool=n,this.childNodeType=r.toUpperCase()}setSize(e){return this.sizeSet.setSize(e),this}setOffset(e){return this.sizeSet.setOffset(e),this}isSharedViewSet(){return this.sizeSet.isShared()}getNode(e){return e<this.collectedNodes.length?this.collectedNodes[e]:null}getCurrentNode(){const e=this.collectedNodes.length;return e>0?this.collectedNodes[e-1]:null}getRenderedChildCount(){const{rootNode:e,sizeSet:n}=this;let r=0;if(this.isSharedViewSet()){let i=e.firstElementChild;for(;i;){if(i.tagName===this.childNodeType)r+=1;else if(n.isPlaceOn(yC))break;i=i.nextElementSibling}}else r=e.childElementCount;return r}start(){this.collectedNodes.length=0,this.visualIndex=0;const{rootNode:e,sizeSet:n}=this,r=this.isSharedViewSet(),{nextSize:i}=n.getViewSize();let o=this.getRenderedChildCount();for(;o<i;){const a=this.nodesPool();!r||r&&n.isPlaceOn(wC)?e.appendChild(a):e.insertBefore(a,e.firstChild),o+=1}const s=r&&n.isPlaceOn(yC);for(;o>i;)e.removeChild(s?e.firstChild:e.lastChild),o-=1}render(){const{rootNode:e,sizeSet:n}=this;let r=this.visualIndex;this.isSharedViewSet()&&n.isPlaceOn(wC)&&(r+=n.sharedSize.nextSize);let i=e.childNodes[r];if(i.tagName!==this.childNodeType){const o=this.nodesPool();e.replaceChild(o,i),i=o}this.collectedNodes.push(i),this.visualIndex+=1}end(){}}class EW extends RW{prependView(e){return this.sizeSet.prepend(e.sizeSet),e.sizeSet.append(this.sizeSet),this}appendView(e){return this.sizeSet.append(e.sizeSet),e.sizeSet.prepend(this.sizeSet),this}}function Sge(t,e,n){return(e=Rge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rge(t){var e=Ege(t,"string");return typeof e=="symbol"?e:e+""}function Ege(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _ge{constructor(e){Sge(this,"nodeType",void 0),this.nodeType=e.toUpperCase()}setRootDocument(e){this.rootDocument=e}obtain(){return this.rootDocument.createElement(this.nodeType)}}function Ef(t,e,n){return(e=Tge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tge(t){var e=Oge(t,"string");return typeof e=="symbol"?e:e+""}function Oge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pp{constructor(e,n){Ef(this,"nodesPool",null),Ef(this,"nodeType",void 0),Ef(this,"rootNode",void 0),Ef(this,"table",null),Ef(this,"renderedNodes",0),this.nodesPool=typeof e=="string"?new _ge(e):null,this.nodeType=e,this.rootNode=n}setTable(e){this.nodesPool&&this.nodesPool.setRootDocument(e.rootDocument),this.table=e}adjust(){}render(){}}function RH(t,e,n){return(e=xge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xge(t){var e=Pge(t,"string");return typeof e=="symbol"?e:e+""}function Pge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Mge extends pp{constructor(){super("TH"),RH(this,"orderViews",new WeakMap),RH(this,"sourceRowIndex",0)}obtainOrderView(e){let n;return this.orderViews.has(e)?n=this.orderViews.get(e):(n=new EW(e,r=>this.nodesPool.obtain(this.sourceRowIndex,r),this.nodeType),this.orderViews.set(e,n)),n}render(){const{rowsToRender:e,rowHeaderFunctions:n,rowHeadersCount:r,rows:i,cells:o}=this.table;for(let s=0;s<e;s++){const a=this.table.renderedRowToSource(s),l=i.getRenderedNode(s);this.sourceRowIndex=a;const u=this.obtainOrderView(l),c=o.obtainOrderView(l);u.appendView(c).setSize(r).setOffset(this.table.renderedColumnToSource(0)).start();for(let h=0;h<r;h++){u.render();const d=u.getCurrentNode();d.className="",d.removeAttribute("style"),Vd(d,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Be(d,[nce(),hce(),mx(h+1),jd(-1)]),n[h](a,d,h)}u.end()}}}class Age extends pp{constructor(e){super(null,e)}adjust(){const{columnHeadersCount:e,rowHeadersCount:n}=this.table;let r=this.rootNode.firstChild;if(e){const{columnsToRender:i}=this.table,o=i+n;for(let a=0,l=e;a<l;a++){for(r=this.rootNode.childNodes[a],r||(r=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(r)),this.renderedNodes=r.childNodes.length;this.renderedNodes<o;)r.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>o;)r.removeChild(r.lastChild),this.renderedNodes-=1}const s=this.rootNode.childNodes.length;if(s>e)for(let a=e;a<s;a++)this.rootNode.removeChild(this.rootNode.lastChild)}else r&&Ps(r)}render(){const{columnHeadersCount:e}=this.table;this.table.isAriaEnabled()&&Be(this.rootNode,[_V()]);for(let n=0;n<e;n+=1){const{columnHeaderFunctions:r,columnsToRender:i,rowHeadersCount:o}=this.table,s=this.rootNode.childNodes[n];this.table.isAriaEnabled()&&Be(s,[__(),PV(n+1)]);for(let a=-1*o;a<i;a+=1){const l=this.table.renderedColumnToSource(a),u=s.childNodes[a+o];u.className="",u.removeAttribute("style"),Vd(u,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Be(u,[mx(a+1+this.table.rowHeadersCount),jd(-1),rce(),...a>=0?[cce()]:[__()]]),r[n](l,u,n)}}}}let EH=!1;class Ige extends pp{constructor(e){super(null,e)}adjust(){const{columnsToRender:e,rowHeadersCount:n}=this.table,r=e+n;for(;this.renderedNodes<r;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>r;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}render(){this.adjust();const{columnsToRender:e,rowHeadersCount:n}=this.table;!EH&&e>1e3&&(EH=!0,bt(St`Performance tip: Handsontable rendered more than 1000 visible columns.\x20
        Consider limiting the number of rendered columns by specifying the table width and/or\x20
        turning off the "renderAllColumns" option.`));for(let i=0;i<n;i++){const o=this.table.renderedColumnToSource(i),s=this.table.columnUtils.getHeaderWidth(o);this.rootNode.childNodes[i].style.width=`${s}px`}for(let i=0;i<e;i++){const o=this.table.renderedColumnToSource(i),s=this.table.columnUtils.getStretchedColumnWidth(o);this.rootNode.childNodes[i+n].style.width=`${s}px`}const r=this.rootNode.firstChild;r&&ge(r,"rowHeader")}}function Nge(t,e,n){return(e=kge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kge(t){var e=Hge(t,"string");return typeof e=="symbol"?e:e+""}function Hge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const pv={rowEven:"ht__row_even",rowOdd:"ht__row_odd"};let _H=!1;class Dge extends pp{constructor(e){super("TR",e),Nge(this,"orderView",void 0),this.orderView=new RW(e,n=>this.nodesPool.obtain(n),this.nodeType)}getRenderedNode(e){return this.orderView.getNode(e)}render(){const{rowsToRender:e}=this.table;!_H&&e>1e3&&(_H=!0,bt(St`Performance tip: Handsontable rendered more than 1000 visible rows.\x20
        Consider limiting the number of rendered rows by specifying the table height and/or\x20
        turning off the "renderAllRows" option.`)),this.table.isAriaEnabled()&&Be(this.rootNode,[_V()]),this.orderView.setSize(e).setOffset(this.table.renderedRowToSource(0)).start();for(let i=0;i<e;i++){this.orderView.render();const o=this.orderView.getCurrentNode(),s=this.table.renderedRowToSource(i);if(this.table.isAriaEnabled()){var n,r;Be(o,[__(),PV(s+((n=(r=this.table.rowUtils)===null||r===void 0||(r=r.dataAccessObject)===null||r===void 0?void 0:r.columnHeaders.length)!==null&&n!==void 0?n:0)+1)])}We(o,[pv.rowEven,pv.rowOdd]),(s+1)%2===0?ge(o,pv.rowEven):ge(o,pv.rowOdd)}this.orderView.end()}}function TH(t,e,n){return(e=Lge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lge(t){var e=$ge(t,"string");return typeof e=="symbol"?e:e+""}function $ge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Fge extends pp{constructor(){super("TD"),TH(this,"orderViews",new WeakMap),TH(this,"sourceRowIndex",0)}obtainOrderView(e){let n;return this.orderViews.has(e)?n=this.orderViews.get(e):(n=new EW(e,r=>this.nodesPool.obtain(this.sourceRowIndex,r),this.nodeType),this.orderViews.set(e,n)),n}render(){const{rowsToRender:e,columnsToRender:n,rows:r,rowHeaders:i}=this.table;for(let a=0;a<e;a++){const l=this.table.renderedRowToSource(a),u=r.getRenderedNode(a);this.sourceRowIndex=l;const c=this.obtainOrderView(u),h=i.obtainOrderView(u);c.prependView(h).setSize(n).setOffset(this.table.renderedColumnToSource(0)).start();for(let d=0;d<n;d++){c.render();const f=c.getCurrentNode(),g=this.table.renderedColumnToSource(d);if(je(f,"hide")||(f.className=""),f.removeAttribute("style"),f.removeAttribute("dir"),Vd(f,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.cellRenderer(l,g,f),this.table.isAriaEnabled()){var o,s;Be(f,[...f.hasAttribute("role")?[]:[tce()],jd(-1),mx(g+((o=(s=this.table.rowUtils)===null||s===void 0||(s=s.dataAccessObject)===null||s===void 0?void 0:s.rowHeaders.length)!==null&&o!==void 0?o:0)+1)])}}c.end()}}}function In(t,e,n){return(e=Bge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bge(t){var e=jge(t,"string");return typeof e=="symbol"?e:e+""}function jge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vge{constructor(e){let{cellRenderer:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};In(this,"rootNode",void 0),In(this,"rootDocument",void 0),In(this,"rowHeaders",null),In(this,"columnHeaders",null),In(this,"colGroup",null),In(this,"rows",null),In(this,"cells",null),In(this,"rowFilter",null),In(this,"columnFilter",null),In(this,"rowUtils",null),In(this,"columnUtils",null),In(this,"rowsToRender",0),In(this,"columnsToRender",0),In(this,"rowHeaderFunctions",[]),In(this,"rowHeadersCount",0),In(this,"columnHeaderFunctions",[]),In(this,"columnHeadersCount",0),In(this,"cellRenderer",void 0),In(this,"activeOverlayName",void 0),this.rootNode=e,this.rootDocument=this.rootNode.ownerDocument,this.cellRenderer=n}setActiveOverlayName(e){this.activeOverlayName=e}setAxisUtils(e,n){this.rowUtils=e,this.columnUtils=n}setViewportSize(e,n){this.rowsToRender=e,this.columnsToRender=n}setFilters(e,n){this.rowFilter=e,this.columnFilter=n}setHeaderContentRenderers(e,n){this.rowHeaderFunctions=e,this.rowHeadersCount=e.length,this.columnHeaderFunctions=n,this.columnHeadersCount=n.length}setRenderers(){let{rowHeaders:e,columnHeaders:n,colGroup:r,rows:i,cells:o}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.setTable(this),n.setTable(this),r.setTable(this),i.setTable(this),o.setTable(this),this.rowHeaders=e,this.columnHeaders=n,this.colGroup=r,this.rows=i,this.cells=o}renderedRowToSource(e){return this.rowFilter.renderedToSource(e)}renderedColumnToSource(e){return this.columnFilter.renderedToSource(e)}isAriaEnabled(){return this.rowUtils.wtSettings.getSetting("ariaTags")}render(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();const{rowsToRender:e,rows:n}=this;for(let r=0;r<e;r++){const i=n.getRenderedNode(r);if(i.firstChild){const o=this.renderedRowToSource(r),s=this.rowUtils.getHeightByOverlayName(o,this.activeOverlayName);s?i.firstChild.style.height=`${s-1}px`:i.firstChild.style.height=""}}}}class Wge{constructor(){let{TABLE:e,THEAD:n,COLGROUP:r,TBODY:i,rowUtils:o,columnUtils:s,cellRenderer:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.renderer=new Vge(e,{cellRenderer:a}),this.renderer.setRenderers({rowHeaders:new Mge,columnHeaders:new Age(n),colGroup:new Ige(r),rows:new Dge(i),cells:new Fge}),this.renderer.setAxisUtils(o,s)}setActiveOverlayName(e){return this.renderer.setActiveOverlayName(e),this}setFilters(e,n){return this.renderer.setFilters(e,n),this}setViewportSize(e,n){return this.renderer.setViewportSize(e,n),this}setHeaderContentRenderers(e,n){return this.renderer.setHeaderContentRenderers(e,n),this}adjust(){this.renderer.adjust()}render(){this.renderer.render()}}function _f(t,e,n){Uge(t,e),e.set(t,n)}function Uge(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vv(t,e,n){return(e=zge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zge(t){var e=Yge(t,"string");return typeof e=="symbol"?e:e+""}function Yge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lr(t,e){return t.get(_W(t,e))}function Tf(t,e,n){return t.set(_W(t,e),n),n}function _W(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var yv=new WeakMap,Wc=new WeakMap,Of=new WeakMap,wv=new WeakMap,tu=new WeakMap;class Gge{constructor(e){let{totalColumns:n,stretchMode:r,stretchingColumnWidthFn:i,columnWidthFn:o}=e;vv(this,"stretchAllRatio",0),vv(this,"stretchLastWidth",0),vv(this,"stretchAllColumnsWidth",[]),_f(this,yv,0),vv(this,"needVerifyLastColumnWidth",!0),_f(this,Wc,()=>0),_f(this,Of,s=>s),_f(this,wv,s=>s),_f(this,tu,()=>"none"),Tf(Wc,this,n),Tf(tu,this,r),Tf(Of,this,i??lr(Of,this)),Tf(wv,this,o??lr(wv,this))}refreshStretching(e){if(lr(tu,this).call(this)==="none")return;this.stretchAllRatio=0,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0,this.stretchLastWidth=0,Tf(yv,this,e);let n=0;for(let i=0;i<lr(Wc,this).call(this);i++){const o=this._getColumnWidth(i),s=lr(Of,this).call(this,void 0,i);typeof s=="number"?e-=s:n+=o}const r=e-n;if(lr(tu,this).call(this)==="all"&&r>0)this.stretchAllRatio=e/n,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if(lr(tu,this).call(this)==="last"&&e!==1/0){const i=this._getColumnWidth(lr(Wc,this).call(this)-1),o=r+i;this.stretchLastWidth=o>=0?o:i}}getStretchedColumnWidth(e,n){let r=null;return lr(tu,this).call(this)==="all"&&this.stretchAllRatio!==0?r=this._getStretchedAllColumnWidth(e,n):lr(tu,this).call(this)==="last"&&this.stretchLastWidth!==0&&(r=this._getStretchedLastColumnWidth(e)),r}_getStretchedAllColumnWidth(e,n){let r=0;if(!this.stretchAllColumnsWidth[e]){const i=Math.round(n*this.stretchAllRatio),o=lr(Of,this).call(this,i,e);o===void 0?this.stretchAllColumnsWidth[e]=i:this.stretchAllColumnsWidth[e]=isNaN(o)?this._getColumnWidth(e):o}if(this.stretchAllColumnsWidth.length===lr(Wc,this).call(this)&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(let i=0;i<this.stretchAllColumnsWidth.length;i++)r+=this.stretchAllColumnsWidth[i];r!==lr(yv,this)&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=lr(yv,this)-r)}return this.stretchAllColumnsWidth[e]}_getStretchedLastColumnWidth(e){return e===lr(Wc,this).call(this)-1?this.stretchLastWidth:null}_getColumnWidth(e){let n=lr(wv,this).call(this,e);return isNaN(n)&&(n=uS),n}}function Cv(t,e,n){return(e=Kge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kge(t){var e=qge(t,"string");return typeof e=="symbol"?e:e+""}function qge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Xge{constructor(e,n){Cv(this,"dataAccessObject",void 0),Cv(this,"wtSettings",void 0),Cv(this,"headerWidths",new Map),Cv(this,"stretching",void 0),this.dataAccessObject=e,this.wtSettings=n,this.stretching=new Gge({totalColumns:()=>this.wtSettings.getSetting("totalColumns"),stretchMode:()=>this.wtSettings.getSetting("stretchH"),stretchingColumnWidthFn:(r,i)=>this.wtSettings.getSetting("onBeforeStretchingColumnWidth",r,i),columnWidthFn:r=>this.dataAccessObject.wtTable.getColumnWidth(r)})}getWidth(e){return this.wtSettings.getSetting("columnWidth",e)||this.wtSettings.getSetting("defaultColumnWidth")}getStretchedColumnWidth(e){let n=this.getWidth(e);const r=this.stretching.getStretchedColumnWidth(e,n);return r&&(n=r),n}getHeaderHeight(e){let n=this.wtSettings.getSetting("defaultRowHeight");const r=this.dataAccessObject.wtViewport.oversizedColumnHeaders[e];return r!==void 0&&(n=n?Math.max(n,r):r),n}getHeaderWidth(e){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(e))}refreshStretching(){const{wtTable:e,wtViewport:n,cloneSource:r}=this.dataAccessObject,i=r?r.wtTable.holder:e.holder,o=i.offsetHeight<i.scrollHeight?Gn():0;this.stretching.refreshStretching(n.getViewportWidth()-o)}calculateWidths(){const{wtSettings:e}=this;let n=e.getSetting("rowHeaderWidth");if(this.refreshStretching(),n=e.getSetting("onModifyRowHeaderWidth",n),n!=null){const r=e.getSetting("rowHeaders").length,i=e.getSetting("defaultColumnWidth");for(let o=0;o<r;o++){let s=Array.isArray(n)?n[o]:n;s=s??i,this.headerWidths.set(o,s)}}}}function OH(t,e,n){return(e=Zge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zge(t){var e=Qge(t,"string");return typeof e=="symbol"?e:e+""}function Qge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Jge{constructor(e,n){OH(this,"dataAccessObject",void 0),OH(this,"wtSettings",void 0),this.dataAccessObject=e,this.wtSettings=n}getHeight(e){let n=this.wtSettings.getSetting("rowHeight",e);const r=this.dataAccessObject.wtViewport.oversizedRows[e];return r!==void 0&&(n=n===void 0?r:Math.max(n,r)),n}getHeightByOverlayName(e,n){let r=this.wtSettings.getSetting("rowHeightByOverlayName",e,n);const i=this.dataAccessObject.wtViewport.oversizedRows[e];return i!==void 0&&(r=r===void 0?i:Math.max(r,i)),r}}function Ko(t,e,n){return(e=eme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return typeof e=="symbol"?e:e+""}function tme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ud{constructor(e,n,r,i,o){Ko(this,"wtSettings",null),Ko(this,"domBindings",void 0),Ko(this,"TBODY",null),Ko(this,"THEAD",null),Ko(this,"COLGROUP",null),Ko(this,"hasTableHeight",!0),Ko(this,"hasTableWidth",!0),Ko(this,"isTableVisible",!1),Ko(this,"tableOffset",0),Ko(this,"holderOffset",0),this.domBindings=r,this.isMaster=o==="master",this.name=o,this.dataAccessObject=e,this.facadeGetter=n,this.wtSettings=i,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=r.rootTable,NV(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;const s=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",()=>this._modifyRowHeaderWidth(s)),this.rowUtils=new Jge(this.dataAccessObject,this.wtSettings),this.columnUtils=new Xge(this.dataAccessObject,this.wtSettings),this.tableRenderer=new Wge({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}is(e){return this.name===e}fixTableDomTree(){const e=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=e.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=e.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=e.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}createSpreader(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!je(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.className="wtSpreader",n&&n.insertBefore(r,e),r.appendChild(e)),r.style.position="relative",this.wtSettings.getSetting("ariaTags")&&Be(r,[Rs()]),r}createHider(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!je(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.className="wtHider",n&&n.insertBefore(r,e),r.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&Be(r,[Rs()]),r}createHolder(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!je(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.style.position="relative",r.className="wtHolder",n&&n.insertBefore(r,e),this.isMaster&&(r.parentNode.className+="ht_master handsontable",r.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr"),this.wtSettings.getSetting("ariaTags")&&Be(r.parentNode,[Rs()])),r.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&Be(r,[Rs()]),r}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:n}=this,{wtOverlays:r,wtViewport:i}=this.dataAccessObject,o=n.getSetting("totalRows"),s=n.getSetting("totalColumns"),a=n.getSetting("rowHeaders"),l=a.length,u=n.getSetting("columnHeaders"),c=u.length;let h=e;if(this.isMaster&&(r.beforeDraw(),this.holderOffset=zn(this.holder),h=i.createCalculators(h),l&&!n.getSetting("fixedColumnsStart"))){const f=r.inlineStartOverlay.getScrollPosition(),g=this.correctHeaderWidth;this.correctHeaderWidth=f!==0,g!==this.correctHeaderWidth&&(h=!1)}if(h)this.isMaster&&r.refresh(!0);else{this.isMaster?this.tableOffset=zn(this.TABLE):this.tableOffset=this.dataAccessObject.parentTableOffset;const f=o>0?this.getFirstRenderedRow():0,g=s>0?this.getFirstRenderedColumn():0;this.rowFilter=new fge(f,o,c),this.columnFilter=new cge(g,s,l);let v=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();const y={};this.wtSettings.getSetting("beforeDraw",!0,y),v=y.skipRender!==!0}if(v){this.tableRenderer.setHeaderContentRenderers(a,u),(this.is(Cs)||this.is(Al))&&this.tableRenderer.setHeaderContentRenderers(a,[]),this.resetOversizedRows(),this.tableRenderer.setActiveOverlayName(this.name).setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render();let y;if(this.isMaster&&(y=this.dataAccessObject.workspaceWidth,i.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(Cs))&&this.markOversizedRows(),this.isMaster){this.wtSettings.getSetting("externalRowCalculator")||i.createVisibleCalculators(),r.refresh(!1),r.applyToDOM();const p=Ft(this.hider),m=Ft(this.TABLE);p!==0&&m!==p&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),y!==i.getWorkspaceWidth()&&(i.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(Cs)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}}let d=!1;return this.isMaster&&(d=r.topOverlay.resetFixedPosition(),r.bottomOverlay.clone&&(d=r.bottomOverlay.resetFixedPosition()||d),d=r.inlineStartOverlay.resetFixedPosition()||d,r.topInlineStartCornerOverlay&&r.topInlineStartCornerOverlay.resetFixedPosition(),r.bottomInlineStartCornerOverlay&&r.bottomInlineStartCornerOverlay.clone&&r.bottomInlineStartCornerOverlay.resetFixedPosition()),d?(r.refreshAll(),r.adjustElementsSize()):this.dataAccessObject.selectionManager.setActiveOverlay(this.facadeGetter()).render(h),this.isMaster&&r.afterDraw(),this.dataAccessObject.drawn=!0,this}markIfOversizedColumnHeader(e){const n=this.columnFilter.renderedToSource(e);let r=this.wtSettings.getSetting("columnHeaders").length;const i=this.wtSettings.getSetting("defaultRowHeight");let o,s,a;const l=this.wtSettings.getSetting("columnHeaderHeight")||[];for(;r;)r-=1,o=this.getColumnHeaderHeight(r),s=this.getColumnHeader(n,r),s&&(a=Bh(s),(!o&&i<a||o<a)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=a),Array.isArray(l)?l[r]!==null&&l[r]!==void 0&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=l[r]):isNaN(l)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=l),this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]<(l[r]||l)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=l[r]||l))}adjustColumnHeaderHeights(){const{wtSettings:e}=this,n=this.THEAD.childNodes,r=this.dataAccessObject.wtViewport.oversizedColumnHeaders,i=e.getSetting("columnHeaders");for(let o=0,s=i.length;o<s;o++)if(r[o]){if(!n[o]||n[o].childNodes.length===0)return;n[o].childNodes[0].style.height=`${r[o]}px`}}resetOversizedRows(){const{wtSettings:e}=this,{wtViewport:n}=this.dataAccessObject;if(!(!this.isMaster&&!this.is(Cs))&&!e.getSetting("externalRowCalculator")){const r=this.getRenderedRowsCount();for(let i=0;i<r;i++){const o=this.rowFilter.renderedToSource(i);n.oversizedRows&&n.oversizedRows[o]&&(n.oversizedRows[o]=void 0)}}}getCell(e){let n=e.row,r=e.col;const i=this.wtSettings.getSetting("onModifyGetCellCoords",n,r);if(i&&Array.isArray(i)&&([n,r]=i),this.isRowBeforeRenderedRows(n))return-1;if(this.isRowAfterRenderedRows(n))return-2;if(this.isColumnBeforeRenderedColumns(r))return-3;if(this.isColumnAfterRenderedColumns(r))return-4;const o=this.getRow(n);if(!o&&n>=0)throw new Error("TR was expected to be rendered but is not");const s=o.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(r)];if(!s&&r>=0)throw new Error("TD or TH was expected to be rendered but is not");return s}getRow(e){let n=null,r=null;if(e<0){var i;n=(i=this.rowFilter)===null||i===void 0?void 0:i.sourceRowToVisibleColHeadedRow(e),r=this.THEAD}else{var o;n=(o=this.rowFilter)===null||o===void 0?void 0:o.sourceToRendered(e),r=this.TBODY}return n!==void 0&&r!==void 0?r.childNodes.length<n+1?!1:r.childNodes[n]:!1}getColumnHeader(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.THEAD.childNodes[n];return r==null?void 0:r.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]}getColumnHeaders(e){const n=[],r=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e);return this.THEAD.childNodes.forEach(i=>{const o=i.childNodes[r];o&&n.push(o)}),n}getRowHeader(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.wtSettings.getSetting("rowHeaders").length;if(n>=r)return;const i=this.rowFilter.sourceToRendered(e),o=i<0?this.rowFilter.sourceRowToVisibleColHeadedRow(e):i,a=(i<0?this.THEAD:this.TBODY).childNodes[o];return a==null?void 0:a.childNodes[n]}getRowHeaders(e){const n=[],r=this.wtSettings.getSetting("rowHeaders").length;for(let i=0;i<r;i++){const o=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)],s=o==null?void 0:o.childNodes[i];s&&n.push(s)}return n}getCoords(e){let n=e;if(n.nodeName!=="TD"&&n.nodeName!=="TH"&&(n=hc(n,["TD","TH"])),n===null)return null;const r=n.parentNode,i=r.parentNode;let o=Tce(r),s=n.cellIndex;return Ql(vc,n,this.wtRootElement)||Ql(mc,n,this.wtRootElement)?i.nodeName==="THEAD"&&(o-=i.childNodes.length):Ql(Al,n,this.wtRootElement)||Ql(Cs,n,this.wtRootElement)?o=this.wtSettings.getSetting("totalRows")-i.childNodes.length+o:i===this.THEAD?o=this.rowFilter.visibleColHeadedRowToSourceRow(o):o=this.rowFilter.renderedToSource(o),Ql(vc,n,this.wtRootElement)||Ql(pc,n,this.wtRootElement)||Ql(Al,n,this.wtRootElement)?s=this.columnFilter.offsettedTH(s):s=this.columnFilter.visibleRowHeadedColumnToSourceColumn(s),this.wot.createCellCoords(o,s)}markOversizedRows(){if(this.wtSettings.getSetting("externalRowCalculator"))return;let e=this.TBODY.childNodes.length;const n=e*this.wtSettings.getSetting("defaultRowHeight"),r=Bh(this.TBODY)-1;let i,o,s,a,l;if(!(n===r&&!this.wtSettings.getSetting("fixedRowsBottom")))for(;e;)e-=1,s=this.rowFilter.renderedToSource(e),i=this.getRowHeight(s),a=this.getTrForRow(s),l=a.querySelector("th"),l?o=Bh(l):o=Bh(a)-1,(!i&&this.wtSettings.getSetting("defaultRowHeight")<o||i<o)&&(o+=1,this.dataAccessObject.wtViewport.oversizedRows[s]=o)}getTrForRow(e){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)]}isColumnHeaderRendered(e){if(e>=0)return!1;const r=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(e)<=r}isRowHeaderRendered(e){if(e>=0)return!1;const r=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(e)<=r}isRowBeforeRenderedRows(e){const n=this.getFirstRenderedRow();return e<0&&n<=0?!this.isRowHeaderRendered(e):e<n}isRowAfterRenderedRows(e){return e>this.getLastRenderedRow()}isColumnBeforeRenderedColumns(e){const n=this.getFirstRenderedColumn();return e<0&&n<=0?!this.isColumnHeaderRendered(e):e<n}isColumnAfterRenderedColumns(e){return this.columnFilter&&e>this.getLastRenderedColumn()}isColumnAfterViewport(e){return this.columnFilter&&e>this.getLastVisibleColumn()}isRowAfterViewport(e){return this.rowFilter&&e>this.getLastVisibleRow()}isColumnBeforeViewport(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)<0&&e>=0}isLastRowFullyVisible(){return this.getLastVisibleRow()===this.getLastRenderedRow()}isLastColumnFullyVisible(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}allRowsInViewport(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}allColumnsInViewport(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}getRowHeight(e){return this.rowUtils.getHeight(e)}getColumnHeaderHeight(e){return this.columnUtils.getHeaderHeight(e)}getColumnWidth(e){return this.columnUtils.getWidth(e)}getStretchedColumnWidth(e){return this.columnUtils.getStretchedColumnWidth(e)}hasDefinedSize(){return this.hasTableHeight&&this.hasTableWidth}getWidth(){return Ft(this.TABLE)}getHeight(){return Rn(this.TABLE)}getTotalWidth(){const e=Ft(this.hider);return e!==0?e:this.getWidth()}getTotalHeight(){const e=Rn(this.hider);return e!==0?e:this.getHeight()}isVisible(){return md(this.TABLE)}_modifyRowHeaderWidth(e){let n=Ht(e)?e():null;return Array.isArray(n)?(n=[...n],n[n.length-1]=this._correctRowHeaderWidth(n[n.length-1])):n=this._correctRowHeaderWidth(n),n}_correctRowHeaderWidth(e){let n=e;return typeof e!="number"&&(n=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(n+=1),n}}const nme="stickyRowsBottom",Nx={getFirstRenderedRow(){const t=this.wtSettings.getSetting("totalRows"),e=this.wtSettings.getSetting("fixedRowsBottom"),n=t-e;return t===0||e===0?-1:n<0?0:n},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return 0}};Ia(Nx,"MIXIN_NAME",nme,{writable:!1,enumerable:!1});const rme="stickyColumnsStart",cS={getFirstRenderedColumn(){return this.wtSettings.getSetting("totalColumns")===0?-1:0},getFirstVisibleColumn(){return this.getFirstRenderedColumn()},getFirstPartiallyVisibleColumn(){return this.getFirstRenderedColumn()},getLastRenderedColumn(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn(){return this.getLastRenderedColumn()},getLastPartiallyVisibleColumn(){return this.getLastRenderedColumn()},getRenderedColumnsCount(){const t=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),t)},getVisibleColumnsCount(){return this.getRenderedColumnsCount()},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Ia(cS,"MIXIN_NAME",rme,{writable:!1,enumerable:!1});class kx extends Ud{constructor(e,n,r,i){super(e,n,r,i,Al)}}xt(kx,Nx);xt(kx,cS);const mc="top",Cs="bottom",pc="inline_start",vc="top_inline_start_corner",Al="bottom_inline_start_corner",TW=[mc,Cs,pc,vc,Al],ime=new Map([[mc,`ht_clone_${mc}`],[Cs,`ht_clone_${Cs}`],[pc,`ht_clone_${pc} ht_clone_left`],[vc,`ht_clone_${vc} ht_clone_top_left_corner`],[Al,`ht_clone_${Al} ht_clone_bottom_left_corner`]]);function ome(t,e){sme(t,e),e.add(t)}function sme(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ame(t,e,n){return(e=lme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lme(t){var e=ume(t,"string");return typeof e=="symbol"?e:e+""}function ume(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bv(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var xf=new WeakSet;class cme{constructor(e){ome(this,xf),ame(this,"dataAccessObject",void 0),this.dataAccessObject=e}scrollViewport(e,n,r,i,o){const s=this.scrollViewportHorizontally(e.col,r,o),a=this.scrollViewportVertically(e.row,n,i);return s||a}scrollViewportHorizontally(e,n,r){const{drawn:i,totalColumns:o}=this.dataAccessObject;if(!i||!Number.isInteger(e)||e<0||e>o)return!1;const s=n===void 0&&r===void 0,{fixedColumnsStart:a,inlineStartOverlay:l}=this.dataAccessObject;if(s&&e<a||(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollHorizontally",e),!Number.isInteger(e)||e<0||e>o))return!1;const u=this.getFirstVisibleColumn(),c=this.getLastVisibleColumn();let h=!1;return(s&&(e<u||e>c)||!s)&&(h=l.scrollTo(e,s?e>=this.getLastPartiallyVisibleColumn():n)),h}scrollViewportVertically(e,n,r){const{drawn:i,totalRows:o}=this.dataAccessObject;if(!i||!Number.isInteger(e)||e<0||e>o)return!1;const s=n===void 0&&r===void 0,{fixedRowsBottom:a,fixedRowsTop:l,topOverlay:u}=this.dataAccessObject;if(s&&(e<l||e>o-a-1)||(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollVertically",e),!Number.isInteger(e)||e<0||e>o))return!1;const c=this.getFirstVisibleRow(),h=this.getLastVisibleRow();let d=!1;return(s&&(e<c||e>h)||!s)&&(d=u.scrollTo(e,s?e>=this.getLastPartiallyVisibleRow():r)),d}getFirstVisibleRow(){return this.dataAccessObject.wtTable.getFirstVisibleRow()}getLastVisibleRow(){return bv(xf,this,PH).call(this,this.dataAccessObject.wtTable.getLastVisibleRow())}getFirstPartiallyVisibleRow(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleRow()}getLastPartiallyVisibleRow(){return bv(xf,this,PH).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleRow())}getFirstVisibleColumn(){return this.dataAccessObject.wtTable.getFirstVisibleColumn()}getLastVisibleColumn(){return bv(xf,this,xH).call(this,this.dataAccessObject.wtTable.getLastVisibleColumn())}getFirstPartiallyVisibleColumn(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleColumn()}getLastPartiallyVisibleColumn(){return bv(xf,this,xH).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleColumn())}}function xH(t){const{wtSettings:e,inlineStartOverlay:n,wtTable:r,wtViewport:i,totalColumns:o,rootWindow:s}=this.dataAccessObject;if(n.mainTableScrollableElement===s){const a=e.getSetting("rtlMode");let l=null;if(a){const c=r.TABLE.getBoundingClientRect(),d=this.dataAccessObject.rootWindow.document.documentElement.offsetWidth;l=Math.abs(c.right-d)}else l=zn(r.wtRootElement).left;const u=Math.abs(HV(s,s));if(l>u){const c=DV(s);let h=i.getRowHeaderWidth();for(let d=1;d<=o;d++)if(h+=n.sumCellSizes(d-1,d),l+h-u>=c){t=d-2;break}}}return t}function PH(t){const{topOverlay:e,wtTable:n,wtViewport:r,totalRows:i,rootWindow:o}=this.dataAccessObject;if(e.mainTableScrollableElement===o){const s=zn(n.wtRootElement),a=yx(o,o);if(s.top>a){const l=Bh(o);let u=r.getColumnHeaderHeight();for(let c=1;c<=i;c++)if(u+=e.sumCellSizes(c-1,c),s.top+u-a>=l){t=c-2;break}}}return t}function ro(t,e,n){return(e=hme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hme(t){var e=dme(t,"string");return typeof e=="symbol"?e:e+""}function dme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Hx{get eventManager(){return new No(this)}constructor(e,n){ro(this,"wtTable",void 0),ro(this,"wtScroll",void 0),ro(this,"wtViewport",void 0),ro(this,"wtOverlays",void 0),ro(this,"selectionManager",void 0),ro(this,"wtEvent",void 0),ro(this,"guid",`wt_${SV()}`),ro(this,"drawInterrupted",!1),ro(this,"drawn",!1),ro(this,"domBindings",void 0),ro(this,"wtSettings",void 0),this.domBindings={rootTable:e,rootDocument:e.ownerDocument,rootWindow:e.ownerDocument.defaultView},this.wtSettings=n,this.wtScroll=new cme(this.createScrollDao())}findOriginalHeaders(){const e=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(let n=0,r=this.wtTable.THEAD.childNodes[0].childNodes.length;n<r;n++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(n,r){dc(r,e[n])}])}}createCellCoords(e,n){return new gc(e,n,this.wtSettings.getSetting("rtlMode"))}createCellRange(e,n,r){return new mp(e,n,r,this.wtSettings.getSetting("rtlMode"))}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.drawInterrupted=!1,this.wtTable.isVisible()?this.wtTable.draw(e):this.drawInterrupted=!0,this}getCell(e){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1))return this.wtTable.getCell(e);const r=this.wtSettings.getSetting("totalRows"),i=this.wtSettings.getSetting("fixedRowsTop"),o=this.wtSettings.getSetting("fixedRowsBottom"),s=this.wtSettings.getSetting("fixedColumnsStart");if(e.row<i&&e.col<s)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(e);if(e.row<i)return this.wtOverlays.topOverlay.clone.wtTable.getCell(e);if(e.col<s&&e.row>=r-o){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(e)}else{if(e.col<s)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(e);if(e.row<r&&e.row>=r-o&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(e)}return this.wtTable.getCell(e)}scrollViewport(e,n,r,i,o){return e.col<0||e.row<0?!1:this.wtScroll.scrollViewport(e,n,r,i,o)}scrollViewportHorizontally(e,n,r){return e<0?!1:this.wtScroll.scrollViewportHorizontally(e,n,r)}scrollViewportVertically(e,n,r){return e<0?!1:this.wtScroll.scrollViewportVertically(e,n,r)}getViewport(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}destroy(){this.wtOverlays.destroy(),this.wtEvent.destroy()}createScrollDao(){const e=this;return{get drawn(){return e.drawn},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get wtTable(){return e.wtTable},get wtViewport(){return e.wtViewport},get wtSettings(){return e.wtSettings},get rootWindow(){return e.domBindings.rootWindow},get totalRows(){return e.wtSettings.getSetting("totalRows")},get totalColumns(){return e.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return e.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return e.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return e.wtSettings.getSetting("fixedColumnsStart")}}}getTableDao(){const e=this;return{get wot(){return e},get parentTableOffset(){return e.cloneSource.wtTable.tableOffset},get cloneSource(){return e.cloneSource},get workspaceWidth(){return e.wtViewport.getWorkspaceWidth()},get wtViewport(){return e.wtViewport},get wtOverlays(){return e.wtOverlays},get selectionManager(){return e.selectionManager},get drawn(){return e.drawn},set drawn(n){e.drawn=n},get wtTable(){return e.wtTable},get startColumnRendered(){return e.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return e.wtViewport.columnsVisibleCalculator.startColumn},get startColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.startColumn},get endColumnRendered(){return e.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return e.wtViewport.columnsVisibleCalculator.endColumn},get endColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.endColumn},get countColumnsRendered(){return e.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return e.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return e.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return e.wtViewport.rowsVisibleCalculator.startRow},get startRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.startRow},get endRowRendered(){return e.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return e.wtViewport.rowsVisibleCalculator.endRow},get endRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.endRow},get countRowsRendered(){return e.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return e.wtViewport.rowsVisibleCalculator.count},get columnHeaders(){return e.wtSettings.getSetting("columnHeaders")},get rowHeaders(){return e.wtSettings.getSetting("rowHeaders")}}}}function MH(t,e,n){return(e=fme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fme(t){var e=gme(t,"string");return typeof e=="symbol"?e:e+""}function gme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mme extends Hx{constructor(e,n,r){super(e,n),MH(this,"cloneSource",void 0),MH(this,"cloneOverlay",void 0);const i=this.wtSettings.getSetting("facade",this);this.cloneSource=r.source,this.cloneOverlay=r.overlay,this.wtTable=this.cloneOverlay.createTable(this.getTableDao(),i,this.domBindings,this.wtSettings),this.wtViewport=r.viewport,this.selectionManager=r.selectionManager,this.wtEvent=new SW(i,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager,r.event),this.findOriginalHeaders()}}function pme(t,e,n){return(e=vme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vme(t){var e=yme(t,"string");return typeof e=="symbol"?e:e+""}function yme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vp{constructor(e,n,r,i,o){pme(this,"wtSettings",null),Ia(this,"wot",e,{writable:!1}),this.domBindings=o,this.facadeGetter=n,this.wtSettings=i;const{TABLE:s,hider:a,spreader:l,holder:u,wtRootElement:c}=this.wot.wtTable;this.instance=this.wot,this.type=r,this.mainTableScrollableElement=null,this.TABLE=s,this.hider=a,this.spreader=l,this.holder=u,this.wtRootElement=c,this.trimmingContainer=pd(this.hider.parentNode.parentNode),this.needFullRender=this.shouldBeRendered(),this.clone=this.makeClone()}hasRenderingStateChanged(){return this.needFullRender!==this.shouldBeRendered()}updateStateOfRendering(e){e==="before"&&this.shouldBeRendered()?this.needFullRender=!0:e==="after"&&!this.shouldBeRendered()&&(this.needFullRender=!1)}shouldBeRendered(){return!0}updateTrimmingContainer(){this.trimmingContainer=pd(this.hider.parentNode.parentNode)}updateMainScrollableElement(){const{wtTable:e}=this.wot,{rootWindow:n}=this.domBindings;n.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=mC(e.TABLE)}getRelativeCellPosition(e,n,r){if(this.clone.wtTable.holder.contains(e)===!1){bt(`The provided element is not a child of the ${this.type} overlay`);return}const i=this.mainTableScrollableElement===this.domBindings.rootWindow,o=r<this.wtSettings.getSetting("fixedColumnsStart"),s=n<this.wtSettings.getSetting("fixedRowsTop"),a=n>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),l=this.clone.wtTable.spreader,u={start:this.getRelativeStartPosition(l),top:l.offsetTop},c={start:this.getRelativeStartPosition(e),top:e.offsetTop};let h=null;return i?h=this.getRelativeCellPositionWithinWindow(s,o,c,u):h=this.getRelativeCellPositionWithinHolder(s,a,o,c,u),h}getRelativeStartPosition(e){return this.isRtl()?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:e.offsetLeft}getRelativeCellPositionWithinWindow(e,n,r,i){const o=this.wot.wtTable.wtRootElement.getBoundingClientRect();let s=0,a=0;if(!n)s=i.start;else{let l=o.left;this.isRtl()&&(l=this.domBindings.rootWindow.innerWidth-(o.left+o.width+Gn())),s=l<=0?-1*l:0}return e?a=this.clone.wtTable.TABLE.getBoundingClientRect().top-o.top:a=i.top,{start:r.start+s,top:r.top+a}}getRelativeCellPositionWithinHolder(e,n,r,i,o){const s={horizontal:this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),vertical:this.wot.wtOverlays.topOverlay.getScrollPosition()};let a=0,l=0;if(r||(a=s.horizontal-o.start),n){const u=this.wot.wtTable.wtRootElement.getBoundingClientRect();l=this.clone.wtTable.TABLE.getBoundingClientRect().top*-1+u.top}else e||(l=s.vertical-o.top);return{start:i.start-a,top:i.top-l}}makeClone(){if(TW.indexOf(this.type)===-1)throw new Error(`Clone type "${this.type}" is not supported.`);const{wtTable:e,wtSettings:n}=this.wot,{rootDocument:r,rootWindow:i}=this.domBindings,o=r.createElement("div"),s=r.createElement("table"),a=e.wtRootElement.parentNode;o.className=`${ime.get(this.type)} handsontable`,o.setAttribute("dir",this.isRtl()?"rtl":"ltr"),o.style.position="absolute",o.style.top=0,o.style.overflow="visible",this.isRtl()?o.style.right=0:o.style.left=0,n.getSetting("ariaTags")&&Be(o,[Rs()]),s.className=e.TABLE.className,e.TABLE.getAttribute("role")&&s.setAttribute("role",e.TABLE.getAttribute("role")),o.appendChild(s),a.appendChild(o);const u=this.wtSettings.getSetting("preventOverflow");return u===!0||u==="horizontal"&&this.type===mc||u==="vertical"&&this.type===pc?this.mainTableScrollableElement=i:i.getComputedStyle(a).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=e.holder:this.mainTableScrollableElement=mC(e.TABLE),new mme(s,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selectionManager:this.wot.selectionManager})}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.needFullRender&&this.clone.draw(e)}reset(){const e=this.clone.wtTable.holder,n=this.clone.wtTable.hider,r=e.style,i=n.style,o=e.parentNode.style;[r,i,o].forEach(s=>{s.width="",s.height=""})}isRtl(){return this.wtSettings.getSetting("rtlMode")}destroy(){this.clone.eventManager.destroy()}}class wme extends vp{constructor(e,n,r,i,o,s){super(e,n,Al,r,i),this.bottomOverlay=o,this.inlineStartOverlay=s}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new kx(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wot:e}=this;if(this.updateTrimmingContainer(),!e.wtTable.holder.parentNode)return!1;const n=this.clone.wtTable.holder.parentNode;if(n.style.top="",this.trimmingContainer===this.domBindings.rootWindow){const o=this.inlineStartOverlay.getOverlayOffset(),s=this.bottomOverlay.getOverlayOffset();n.style[this.isRtl()?"right":"left"]=`${o}px`,n.style.bottom=`${s}px`}else sS(n),this.repositionOverlay();let r=Rn(this.clone.wtTable.TABLE);const i=Ft(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(r=0),n.style.height=`${r}px`,n.style.width=`${i}px`,!1}repositionOverlay(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r}=this.domBindings,i=this.clone.wtTable.holder.parentNode;let o=0;n.hasVerticalScroll()||(o+=n.getWorkspaceHeight()-e.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(o+=Gn(r)),i.style.bottom=`${o}px`}}const Cme="calculatedColumns",hS={getFirstRenderedColumn(){const t=this.dataAccessObject.startColumnRendered;return t===null?-1:t},getFirstVisibleColumn(){const t=this.dataAccessObject.startColumnVisible;return t===null?-1:t},getFirstPartiallyVisibleColumn(){const t=this.dataAccessObject.startColumnPartiallyVisible;return t===null?-1:t},getLastRenderedColumn(){const t=this.dataAccessObject.endColumnRendered;return t===null?-1:t},getLastVisibleColumn(){const t=this.dataAccessObject.endColumnVisible;return t===null?-1:t},getLastPartiallyVisibleColumn(){const t=this.dataAccessObject.endColumnPartiallyVisible;return t===null?-1:t},getRenderedColumnsCount(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount(){return this.dataAccessObject.countColumnsVisible},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Ia(hS,"MIXIN_NAME",Cme,{writable:!1,enumerable:!1});class Dx extends Ud{constructor(e,n,r,i){super(e,n,r,i,Cs)}}xt(Dx,Nx);xt(Dx,hS);function bme(t,e,n){return(e=Sme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sme(t){var e=Rme(t,"string");return typeof e=="symbol"?e:e+""}function Rme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Eme extends vp{constructor(e,n,r,i){super(e,n,Cs,r,i),bme(this,"cachedFixedRowsBottom",-1),this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom")}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new Dx(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;const{rootWindow:e}=this.domBindings,n=this.clone.wtTable.holder.parentNode;n.style.top="";let r=0;const i=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer===e&&(!i||i!=="vertical")?(r=this.getOverlayOffset(),n.style.bottom=`${r}px`):(r=this.getScrollPosition(),this.repositionOverlay());const o=this.adjustHeaderBordersPosition(r);return this.adjustElementsSize(),o}repositionOverlay(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r}=this.domBindings,i=this.clone.wtTable.holder.parentNode;let o=0;n.hasVerticalScroll()||(o+=n.getWorkspaceHeight()-e.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(o+=Gn(r)),i.style.bottom=`${o}px`}setScrollPosition(e){const{rootWindow:n}=this.domBindings;let r=!1;return this.mainTableScrollableElement===n?(n.scrollTo(vx(n),e),r=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,r=!0),r}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,n){const{wtTable:r,wtSettings:i}=this.wot,o=i.getSetting("defaultRowHeight");let s=e,a=0;for(;s<n;){const l=r.getRowHeight(s);a+=l===void 0?o:l,s+=1}return a}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r,rootWindow:i}=this.domBindings,o=Gn(r),a=this.clone.wtTable.holder.parentNode.style,l=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||l==="horizontal"){let c=n.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(c-=o),c=Math.min(c,e.wtRootElement.scrollWidth),a.width=`${c}px`}else a.width="";this.clone.wtTable.holder.style.width=a.width;let u=Rn(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(u=0),a.height=`${u}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=e.parentNode.style.height}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:n}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?n.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:n.style[e]=""}scrollTo(e,n){let r=this.getTableParentOffset();const o=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder;let s=0;n&&o.offsetHeight!==o.clientHeight&&(s=Gn(this.domBindings.rootDocument)),n?(r+=this.sumCellSizes(0,e+1),r-=this.wot.wtViewport.getViewportHeight(),r+=1):r+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),e),r+=s,this.setScrollPosition(r)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return yx(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="vertical")){const i=this.wot.wtTable.getTotalHeight(),o=this.clone.wtTable.getTotalHeight(),s=i-o,a=this.domBindings.rootDocument.documentElement.clientHeight;r=Math.max(this.getTableParentOffset()-this.getScrollPosition()-a+i,0),r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){const n=this.wtSettings.getSetting("fixedRowsBottom"),r=this.cachedFixedRowsBottom!==n,i=this.wtSettings.getSetting("columnHeaders");let o=!1;if((r||n===0)&&i.length>0){const s=this.wot.wtTable.holder.parentNode,a=je(s,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),e||this.wtSettings.getSetting("totalRows")===0?(ge(s,"innerBorderBottom"),o=!a):(We(s,"innerBorderBottom"),o=a)}return o}}const _me="calculatedRows",Lx={getFirstRenderedRow(){const t=this.dataAccessObject.startRowRendered;return t===null?-1:t},getFirstVisibleRow(){const t=this.dataAccessObject.startRowVisible;return t===null?-1:t},getFirstPartiallyVisibleRow(){const t=this.dataAccessObject.startRowPartiallyVisible;return t===null?-1:t},getLastRenderedRow(){const t=this.dataAccessObject.endRowRendered;return t===null?-1:t},getLastVisibleRow(){const t=this.dataAccessObject.endRowVisible;return t===null?-1:t},getLastPartiallyVisibleRow(){const t=this.dataAccessObject.endRowPartiallyVisible;return t===null?-1:t},getRenderedRowsCount(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount(){return this.dataAccessObject.countRowsVisible},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Ia(Lx,"MIXIN_NAME",_me,{writable:!1,enumerable:!1});class $x extends Ud{constructor(e,n,r,i){super(e,n,r,i,pc)}}xt($x,Lx);xt($x,cS);const Tme="localHooks",ir={_localHooks:Object.create(null),addLocalHook(t,e){return this._localHooks[t]||(this._localHooks[t]=[]),this._localHooks[t].push(e),this},runLocalHooks(t,e,n,r,i,o,s){if(this._localHooks[t]){const a=this._localHooks[t].length;for(let l=0;l<a;l++)T_(this._localHooks[t][l],this,e,n,r,i,o,s)}},clearLocalHooks(){return this._localHooks={},this}};Ia(ir,"MIXIN_NAME",Tme,{writable:!1,enumerable:!1});let OW=class{constructor(e,n){this.settings=e,this.cellRange=n||null}isEmpty(){return this.cellRange===null}add(e){return this.isEmpty()?this.cellRange=this.settings.createCellRange(e):this.cellRange.expand(e),this}replace(e,n){if(!this.isEmpty()){if(this.cellRange.from.isEqual(e))return this.cellRange.from=n,!0;if(this.cellRange.to.isEqual(e))return this.cellRange.to=n,!0}return!1}clear(){return this.cellRange=null,this}getCorners(){const e=this.cellRange.getOuterTopStartCorner(),n=this.cellRange.getOuterBottomEndCorner();return[e.row,e.col,n.row,n.col]}destroy(){this.runLocalHooks("destroy")}};xt(OW,ir);const xW="active-header",Fx="header",Bx="area",jx="focus",Ome="fill",xme="row",Pme="column",Mme="custom-selection",Vx=Object.freeze({width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"});var Ame=Tx;Ame("flat");function Ime(t,e){PW(t,e),e.add(t)}function AH(t,e,n){PW(t,e),e.set(t,n)}function PW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vn(t,e){return t.get(Dg(t,e))}function IH(t,e,n){return t.set(Dg(t,e),n),n}function Dg(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var io=new WeakMap,Vr=new WeakMap,Sv=new WeakSet;class Nme{constructor(){Ime(this,Sv),AH(this,io,void 0),AH(this,Vr,void 0)}setActiveOverlay(e){return IH(Vr,this,e),this}setActiveSelection(e){return IH(io,this,e),this}scan(){const e=vn(io,this).settings.selectionType,n=new Set;return e==="active-header"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r))):e==="area"?this.scanCellsRange(r=>n.add(r)):e==="focus"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r)),this.scanCellsRange(r=>n.add(r))):e==="fill"?this.scanCellsRange(r=>n.add(r)):e==="header"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r))):e==="row"?(this.scanRowsInHeadersRange(r=>n.add(r)),this.scanRowsInCellsRange(r=>n.add(r))):e==="column"&&(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanColumnsInCellsRange(r=>n.add(r))),n}scanColumnsInHeadersRange(e){const[n,r,i,o]=vn(io,this).getCorners(),{wtTable:s}=vn(Vr,this),a=s.getRenderedColumnsCount(),l=s.getColumnHeadersCount();let u=0;for(let c=-s.getRowHeadersCount();c<a;c++){const h=s.columnFilter.renderedToSource(c);if(!(h<r||h>o)){for(let d=-l;d<0;d++){if(d<n||d>i)continue;const f=d+l;let g=s.getColumnHeader(h,f);const v=vn(Vr,this).getSetting("onBeforeHighlightingColumnHeader",h,f,{selectionType:vn(io,this).settings.selectionType,columnCursor:u,selectionWidth:o-r+1});v!==null&&(v!==h&&(g=s.getColumnHeader(v,f)),e(g))}u+=1}}}scanRowsInHeadersRange(e){const[n,r,i,o]=vn(io,this).getCorners(),{wtTable:s}=vn(Vr,this),a=s.getRenderedRowsCount(),l=s.getRowHeadersCount();let u=0;for(let c=-s.getColumnHeadersCount();c<a;c++){const h=s.rowFilter.renderedToSource(c);if(!(h<n||h>i)){for(let d=-l;d<0;d++){if(d<r||d>o)continue;const f=d+l;let g=s.getRowHeader(h,f);const v=vn(Vr,this).getSetting("onBeforeHighlightingRowHeader",h,f,{selectionType:vn(io,this).settings.selectionType,rowCursor:u,selectionHeight:i-n+1});v!==null&&(v!==h&&(g=s.getRowHeader(v,f)),e(g))}u+=1}}}scanCellsRange(e){const[n,r,i,o]=vn(io,this).getCorners(),{wtTable:s}=vn(Vr,this);Dg(Sv,this,pR).call(this,(a,l)=>{if(a>=n&&a<=i&&l>=r&&l<=o){const u=s.getCell(vn(Vr,this).createCellCoords(a,l)),c=vn(Vr,this).getSetting("onAfterDrawSelection",a,l,vn(io,this).settings.layerLevel);typeof c=="string"&&ge(u,c),e(u)}})}scanRowsInCellsRange(e){const[n,,r]=vn(io,this).getCorners(),{wtTable:i}=vn(Vr,this);Dg(Sv,this,pR).call(this,(o,s)=>{if(o>=n&&o<=r){const a=i.getCell(vn(Vr,this).createCellCoords(o,s));e(a)}})}scanColumnsInCellsRange(e){const[,n,,r]=vn(io,this).getCorners(),{wtTable:i}=vn(Vr,this);Dg(Sv,this,pR).call(this,(o,s)=>{if(s>=n&&s<=r){const a=i.getCell(vn(Vr,this).createCellCoords(o,s));e(a)}})}}function pR(t){const{wtTable:e}=vn(Vr,this),n=e.getRenderedRowsCount(),r=e.getRenderedColumnsCount();for(let i=0;i<n;i+=1){const o=e.rowFilter.renderedToSource(i);for(let s=0;s<r;s+=1)t(o,e.columnFilter.renderedToSource(s))}}class NH{constructor(e,n){n&&(this.eventManager=e.eventManager,this.instance=e,this.wot=e,this.settings=n,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle=Vx,this.cornerCenterPointOffset=-(parseInt(this.cornerDefaultStyle.width,10)/2),this.corner=null,this.cornerStyle=null,this.createBorders(n),this.registerListeners())}registerListeners(){const e=this.wot.rootDocument.body;this.eventManager.addEventListener(e,"mousedown",()=>this.onMouseDown()),this.eventManager.addEventListener(e,"mouseup",()=>this.onMouseUp());for(let n=0,r=this.main.childNodes.length;n<r;n++){const i=this.main.childNodes[n];this.eventManager.addEventListener(i,"mouseenter",o=>this.onMouseEnter(o,this.main.childNodes[n]))}}onMouseDown(){this.mouseDown=!0}onMouseUp(){this.mouseDown=!1}onMouseEnter(e,n){if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;e.preventDefault(),Bo(e);const r=this,i=this.wot.rootDocument.body,o=n.getBoundingClientRect();n.style.display="none";function s(l){if(l.clientY<Math.floor(o.top)||l.clientY>Math.ceil(o.top+o.height)||l.clientX<Math.floor(o.left)||l.clientX>Math.ceil(o.left+o.width))return!0}function a(l){s(l)&&(r.eventManager.removeEventListener(i,"mousemove",a),n.style.display="block")}this.eventManager.addEventListener(i,"mousemove",a)}createBorders(e){const{rootDocument:n}=this.wot;this.main=n.createElement("div");const r=["top","start","bottom","end","corner"];let i=this.main.style;i.position="absolute",i.top=0,i.left=0;for(let a=0;a<5;a++){const l=r[a],u=n.createElement("div");u.className=`wtBorder ${this.settings.className||""}`,this.settings[l]&&this.settings[l].hide&&(u.className+=" hidden"),i=u.style,i.backgroundColor=this.settings[l]&&this.settings[l].color?this.settings[l].color:e.border.color,i.height=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${e.border.width}px`,i.width=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${e.border.width}px`,this.main.appendChild(u)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),ml()&&this.instance.getSetting("isDataViewInstance")&&this.createMultipleSelectorHandles(),this.disappear();const{wtTable:o}=this.wot;let s=o.bordersHolder;s||(s=n.createElement("div"),s.className="htBorders",o.bordersHolder=s,o.spreader.appendChild(s)),s.appendChild(this.main)}createMultipleSelectorHandles(){const{rootDocument:e}=this.wot;this.selectionHandles={top:e.createElement("DIV"),topHitArea:e.createElement("DIV"),bottom:e.createElement("DIV"),bottomHitArea:e.createElement("DIV")};const n=10,r=40;this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style};const i={position:"absolute",height:`${r}px`,width:`${r}px`,"border-radius":`${parseInt(r/1.5,10)}px`};Qe(i,(s,a)=>{this.selectionHandles.styles.bottomHitArea[a]=s,this.selectionHandles.styles.topHitArea[a]=s});const o={position:"absolute",height:`${n}px`,width:`${n}px`,"border-radius":`${parseInt(n/1.5,10)}px`,background:"#F5F5FF",border:"1px solid #4285c8"};Qe(o,(s,a)=>{this.selectionHandles.styles.bottom[a]=s,this.selectionHandles.styles.top[a]=s}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}isPartRange(e,n){const r=this.wot.selectionManager.getAreaSelection();return!!(r.cellRange&&(e!==r.cellRange.to.row||n!==r.cellRange.to.col))}updateMultipleSelectionHandlesPosition(e,n,r,i,o,s){const l=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",{top:u,topHitArea:c,bottom:h,bottomHitArea:d}=this.selectionHandles.styles,f=parseInt(u.borderWidth,10),g=parseInt(u.width,10),v=parseInt(c.width,10),y=this.wot.wtTable.getWidth(),p=this.wot.wtTable.getHeight();u.top=`${parseInt(r-g-1,10)}px`,u[l]=`${parseInt(i-g-1,10)}px`,c.top=`${parseInt(r-v/4*3,10)}px`,c[l]=`${parseInt(i-v/4*3,10)}px`;const m=Math.min(parseInt(i+o,10),y-g-f*2),w=Math.min(parseInt(i+o-v/4,10),y-v-f*2);h[l]=`${m}px`,d[l]=`${w}px`;const C=Math.min(parseInt(r+s,10),p-g-f*2),S=Math.min(parseInt(r+s-v/4,10),p-v-f*2);h.top=`${C}px`,d.top=`${S}px`,this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(u.display="block",c.display="block",this.isPartRange(e,n)?(h.display="none",d.display="none"):(h.display="block",d.display="block")):(u.display="none",h.display="none",c.display="none",d.display="none"),e===this.wot.wtSettings.getSetting("fixedRowsTop")||n===this.wot.wtSettings.getSetting("fixedColumnsStart")?(u.zIndex="9999",c.zIndex="9999"):(u.zIndex="",c.zIndex="")}appear(e){if(this.disabled)return;const{wtTable:n,rootDocument:r,rootWindow:i}=this.wot;let o,s,a,l,u,c;const h=n.getRenderedRowsCount();for(let Y=0;Y<h;Y+=1){const W=n.rowFilter.renderedToSource(Y);if(W>=e[0]&&W<=e[2]){o=W,u=e[0];break}}for(let Y=h-1;Y>=0;Y-=1){const W=n.rowFilter.renderedToSource(Y);if(W>=e[0]&&W<=e[2]){s=W;break}}const d=n.getRenderedColumnsCount();for(let Y=0;Y<d;Y+=1){const W=n.columnFilter.renderedToSource(Y);if(W>=e[1]&&W<=e[3]){a=W,c=e[1];break}}for(let Y=d-1;Y>=0;Y-=1){const W=n.columnFilter.renderedToSource(Y);if(W>=e[1]&&W<=e[3]){l=W;break}}if(o===void 0||a===void 0){this.disappear();return}let f=n.getCell(this.wot.createCellCoords(o,a));const g=o!==s||a!==l,v=g?n.getCell(this.wot.createCellCoords(s,l)):f,y=zn(f),p=g?zn(v):y,m=zn(n.TABLE),w=Ft(n.TABLE),C=y.top,S=y.left,x=this.wot.wtSettings.getSetting("rtlMode");let _=0,O=0;if(x){const Y=Ft(f),W=i.innerWidth-m.left-w;O=S+Y-p.left,_=i.innerWidth-S-Y-W-1}else O=p.left+Ft(v)-S,_=S-m.left-1;if(this.isEntireColumnSelected(o,s)){const Y=this.getDimensionsFromHeader("columns",a,l,u,m);let W=null;Y&&([W,_,O]=Y),W&&(f=W)}let I=C-m.top-1,T=p.top+Rn(v)-C;if(this.isEntireRowSelected(a,l)){const Y=this.getDimensionsFromHeader("rows",o,s,c,m);let W=null;Y&&([W,I,T]=Y),W&&(f=W)}const P=Ea(f,i);parseInt(P.borderTopWidth,10)>0&&(I+=1,T=T>0?T-1:0),parseInt(P[x?"borderRightWidth":"borderLeftWidth"],10)>0&&(_+=1,O=O>0?O-1:0);const M=x?"right":"left";this.topStyle.top=`${I}px`,this.topStyle[M]=`${_}px`,this.topStyle.width=`${O}px`,this.topStyle.display="block",this.startStyle.top=`${I}px`,this.startStyle[M]=`${_}px`,this.startStyle.height=`${T}px`,this.startStyle.display="block";const N=Math.floor(this.settings.border.width/2);this.bottomStyle.top=`${I+T-N}px`,this.bottomStyle[M]=`${_}px`,this.bottomStyle.width=`${O}px`,this.bottomStyle.display="block",this.endStyle.top=`${I}px`,this.endStyle[M]=`${_+O-N}px`,this.endStyle.height=`${T+1}px`,this.endStyle.display="block";let $=this.settings.border.cornerVisible;$=typeof $=="function"?$(this.settings.layerLevel):$;const V=this.wot.getSetting("onModifyGetCellCoords",s,l);let[K,X]=[s,l];if(V&&Array.isArray(V)&&([,,K,X]=V),ml()||!$||this.isPartRange(K,X))this.cornerStyle.display="none";else{this.cornerStyle.top=`${I+T+this.cornerCenterPointOffset-1}px`,this.cornerStyle[M]=`${_+O+this.cornerCenterPointOffset-1}px`,this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";let Y=pd(n.TABLE);const W=Y===i;W&&(Y=r.documentElement);const j=parseInt(this.cornerDefaultStyle.width,10)/2,b=parseInt(this.cornerDefaultStyle.height,10)/2;if(l===this.wot.getSetting("totalColumns")-1){const R=W?v.getBoundingClientRect().left:v.offsetLeft;let E=!1,H=0;x?(H=R-parseInt(this.cornerDefaultStyle.width,10)/2,E=H<0):(H=R+Ft(v)+parseInt(this.cornerDefaultStyle.width,10)/2,E=H>=DV(Y)),E&&(this.cornerStyle[M]=`${Math.floor(_+O+this.cornerCenterPointOffset-j)}px`,this.cornerStyle[x?"borderLeftWidth":"borderRightWidth"]=0)}s===this.wot.getSetting("totalRows")-1&&(W?v.getBoundingClientRect().top:v.offsetTop)+Rn(v)+parseInt(this.cornerDefaultStyle.height,10)/2>=Bh(Y)&&(this.cornerStyle.top=`${Math.floor(I+T+this.cornerCenterPointOffset-b)}px`,this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"}ml()&&this.instance.getSetting("isDataViewInstance")&&this.updateMultipleSelectionHandlesPosition(s,l,I,_,O,T)}isEntireColumnSelected(e,n){return e===this.wot.wtTable.getFirstRenderedRow()&&n===this.wot.wtTable.getLastRenderedRow()}isEntireRowSelected(e,n){return e===this.wot.wtTable.getFirstRenderedColumn()&&n===this.wot.wtTable.getLastRenderedColumn()}getDimensionsFromHeader(e,n,r,i,o){const{wtTable:s}=this.wot,a=s.wtRootElement.parentNode;let l=null,u=null,c=null,h=null,d=null,f=null,g=null,v=null;switch(e){case"rows":l=function(){return s.getRowHeader(...arguments)},u=function(){return Rn(...arguments)},c="ht__selection--rows",f="top";break;case"columns":l=function(){return s.getColumnHeader(...arguments)},u=function(){return Ft(...arguments)},c="ht__selection--columns",f="left";break}if(a.classList.contains(c)){const y=this.wot.getSetting("columnHeaders").length;if(g=l(n,y-i),v=l(r,y-i),!g||!v)return!1;const p=zn(g),m=zn(v);return g&&v&&(h=p[f]-o[f]-1,d=m[f]+u(v)-p[f]),[g,h,d]}return!1}changeBorderStyle(e,n){const r=this[e].style,i=n[e];!i||i.hide?ge(this[e],"hidden"):(je(this[e],"hidden")&&We(this[e],"hidden"),r.backgroundColor=i.color,(e==="top"||e==="bottom")&&(r.height=`${i.width}px`),(e==="start"||e==="end")&&(r.width=`${i.width}px`))}changeBorderToDefaultStyle(e){const n={width:1,color:"#000"},r=this[e].style;r.backgroundColor=n.color,r.width=`${n.width}px`,r.height=`${n.width}px`}toggleHiddenClass(e,n){this.changeBorderToDefaultStyle(e),n?ge(this[e],"hidden"):We(this[e],"hidden")}disappear(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",ml()&&this.instance.getSetting("isDataViewInstance")&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}destroy(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}function kme(t,e){MW(t,e),e.add(t)}function Uc(t,e,n){MW(t,e),e.set(t,n)}function MW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tt(t,e){return t.get(Wx(t,e))}function kH(t,e,n){return t.set(Wx(t,e),n),n}function Wx(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var dr=new WeakMap,zr=new WeakMap,vR=new WeakMap,vg=new WeakMap,yR=new WeakMap,nu=new WeakMap,HH=new WeakSet;class Hme{constructor(e){kme(this,HH),Uc(this,dr,void 0),Uc(this,zr,void 0),Uc(this,vR,new Nme),Uc(this,vg,new WeakMap),Uc(this,yR,new WeakSet),Uc(this,nu,new Map),kH(zr,this,e)}setActiveOverlay(e){return kH(dr,this,e),tt(vR,this).setActiveOverlay(tt(dr,this)),tt(vg,this).has(tt(dr,this))||tt(vg,this).set(tt(dr,this),new Set),this}getFocusSelection(){return tt(zr,this)!==null?tt(zr,this).getFocus():null}getAreaSelection(){return tt(zr,this)!==null?tt(zr,this).createLayeredArea():null}getBorderInstance(e){if(!e.settings.border)return null;if(tt(nu,this).has(e)){const r=tt(nu,this).get(e);if(r.has(tt(dr,this)))return r.get(tt(dr,this));const i=new NH(tt(dr,this),e.settings);return r.set(tt(dr,this),i),i}const n=new NH(tt(dr,this),e.settings);return tt(nu,this).set(e,new Map([[tt(dr,this),n]])),n}getBorderInstances(e){var n,r;return Array.from((n=(r=tt(nu,this).get(e))===null||r===void 0?void 0:r.values())!==null&&n!==void 0?n:[])}destroyBorders(e){tt(nu,this).get(e).forEach(n=>n.destroy()),tt(nu,this).delete(e)}render(e){if(tt(zr,this)===null)return;e&&Wx(HH,this,Dme).call(this);const n=Array.from(tt(zr,this)),r=new Map,i=new Map;for(let o=0;o<n.length;o++){const s=n[o],{className:a,headerAttributes:l,createLayers:u,selectionType:c}=s.settings;tt(yR,this).has(s)||(tt(yR,this).add(s),s.addLocalHook("destroy",()=>this.destroyBorders(s)));const h=this.getBorderInstance(s);if(s.isEmpty()){h==null||h.disappear();continue}a&&tt(vR,this).setActiveSelection(s).scan().forEach(g=>{if(r.has(g)){const v=r.get(g);v.has(a)&&u===!0?v.set(a,v.get(a)+1):v.set(a,1)}else r.set(g,new Map([[a,1]]));l&&(i.has(g)||i.set(g,[]),g.nodeName==="TH"&&i.get(g).push(...l))});const d=s.getCorners();tt(dr,this).getSetting("onBeforeDrawBorders",d,c),h==null||h.appear(d)}r.forEach((o,s)=>{var a;const l=Array.from(o).map(u=>{let[c,h]=u;return h===1?c:[c,...Array.from({length:h-1},(d,f)=>`${c}-${f+1}`)]}).flat();l.forEach(u=>tt(vg,this).get(tt(dr,this)).add(u)),ge(s,l),s.nodeName==="TD"&&Array.isArray((a=tt(zr,this).options)===null||a===void 0?void 0:a.cellAttributes)&&Be(s,tt(zr,this).options.cellAttributes)}),Array.from(i.keys()).forEach(o=>{Be(o,[...i.get(o)])})}}function Dme(){const t=tt(vg,this).get(tt(dr,this)),e=tt(dr,this).wtSettings.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(e))for(let n=0;n<e.length;n++)t.add(e[n]);t.forEach(n=>{var r,i;const o=tt(dr,this).wtTable.TABLE.querySelectorAll(`.${n}`);let s=[];Array.isArray((r=tt(zr,this).options)===null||r===void 0?void 0:r.cellAttributes)&&(s=tt(zr,this).options.cellAttributes.map(a=>a[0])),Array.isArray((i=tt(zr,this).options)===null||i===void 0?void 0:i.headerAttributes)&&(s=[...s,...tt(zr,this).options.headerAttributes.map(a=>a[0])]);for(let a=0,l=o.length;a<l;a++)We(o[a],n),Vd(o[a],s)}),t.clear()}class Lme extends vp{constructor(e,n,r,i){super(e,n,pc,r,i)}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new $x(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wtTable:e}=this.wot;if(!this.needFullRender||!this.shouldBeRendered()||!e.holder.parentNode)return!1;const{rootWindow:n}=this.domBindings,r=this.clone.wtTable.holder.parentNode,i=this.wtSettings.getSetting("preventOverflow");let o=0;this.trimmingContainer===n&&(!i||i!=="horizontal")?(o=this.getOverlayOffset()*(this.isRtl()?-1:1),wx(r,`${o}px`,"0px")):(o=this.getScrollPosition(),sS(r));const s=this.adjustHeaderBordersPosition(o);return this.adjustElementsSize(),s}setScrollPosition(e){const{rootWindow:n}=this.domBindings;let r=!1;return this.isRtl()&&(e=-e),this.mainTableScrollableElement===n&&n.scrollX!==e?(n.scrollTo(e,kV(n)),r=!0):this.mainTableScrollableElement.scrollLeft!==e&&(this.mainTableScrollableElement.scrollLeft=e,r=!0),r}onScroll(){this.wtSettings.getSetting("onScrollVertically")}sumCellSizes(e,n){const r=this.wtSettings.getSetting("defaultColumnWidth");let i=e,o=0;for(;i<n;)o+=this.wot.wtTable.getStretchedColumnWidth(i)||r,i+=1;return o}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e}=this.wot,{rootDocument:n,rootWindow:r}=this.domBindings,i=Gn(n),s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==r||a==="vertical"){let u=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(u-=i),u=Math.min(u,e.wtRootElement.scrollHeight),s.height=`${u}px`}else s.height="";this.clone.wtTable.holder.style.height=s.height;const l=Ft(this.clone.wtTable.TABLE);s.width=`${l}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,n=this.wot.selectionManager.getFocusSelection()?parseInt(Vx.width,10)/2:0;this.clone.wtTable.hider.style.height=this.hider.style.height,e.style.height=e.parentNode.style.height,e.style.width=`${parseInt(e.parentNode.style.width,10)+n}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalColumns"),n=this.isRtl()?"right":"left";if(typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number")this.spreader.style[n]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style[n]="0";else throw new Error("Incorrect value of the columnsRenderCalculator");this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`:this.clone.wtTable.spreader.style.top=""}scrollTo(e,n){const{wtSettings:r}=this,i=r.getSetting("rowHeaders"),o=r.getSetting("fixedColumnsStart"),a=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,l=o===0&&i.length>0&&!je(a.parentNode,"innerBorderInlineStart")?1:0;let u=this.getTableParentOffset(),c=0;if(n){const h=this.wot.wtTable.getColumnWidth(e),d=this.wot.wtViewport.getViewportWidth();h>d&&(n=!1)}return n&&a.offsetWidth!==a.clientWidth&&(c=Gn(this.domBindings.rootDocument)),n?(u+=this.sumCellSizes(0,e+1),u-=this.wot.wtViewport.getViewportWidth(),u+=l):u+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),e),u+=c,Pce(this.mainTableScrollableElement)===u-l&&l>0&&this.wot.wtOverlays.expandHiderHorizontallyBy(l),this.setScrollPosition(u)}getTableParentOffset(){const e=this.wtSettings.getSetting("preventOverflow");let n=0;return!e&&this.trimmingContainer===this.domBindings.rootWindow&&(n=this.wot.wtTable.holderOffset.left),n}getScrollPosition(){return Math.abs(HV(this.mainTableScrollableElement,this.domBindings.rootWindow))}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="horizontal")){this.isRtl()?r=Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):r=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0);const i=this.wot.wtTable.getTotalWidth(),o=this.clone.wtTable.getTotalWidth(),s=i-o;r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){const{wtSettings:n}=this,r=this.wot.wtTable.holder.parentNode,i=n.getSetting("rowHeaders"),o=n.getSetting("fixedColumnsStart"),s=n.getSetting("totalRows"),a=n.getSetting("preventOverflow")==="vertical";s?We(r,"emptyRows"):ge(r,"emptyRows");let l=!1;if(!a){if(o&&!i.length)ge(r,"innerBorderLeft innerBorderInlineStart");else if(!o&&i.length){const u=je(r,"innerBorderInlineStart");e?(ge(r,"innerBorderLeft innerBorderInlineStart"),l=!u):(We(r,"innerBorderLeft innerBorderInlineStart"),l=u)}}return l}}const $me="stickyRowsTop",Ux={getFirstRenderedRow(){return this.wtSettings.getSetting("totalRows")===0?-1:0},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Ia(Ux,"MIXIN_NAME",$me,{writable:!1,enumerable:!1});class zx extends Ud{constructor(e,n,r,i){super(e,n,r,i,vc)}}xt(zx,Ux);xt(zx,cS);function DH(t,e,n){return(e=Fme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fme(t){var e=Bme(t,"string");return typeof e=="symbol"?e:e+""}function Bme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jme extends vp{constructor(e,n,r,i,o,s){super(e,n,vc,r,i),DH(this,"topOverlay",void 0),DH(this,"inlineStartOverlay",void 0),this.topOverlay=o,this.inlineStartOverlay=s}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new zx(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){const i=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),o=this.topOverlay.getOverlayOffset();wx(e,`${i}px`,`${o}px`)}else sS(e);let n=Rn(this.clone.wtTable.TABLE);const r=Ft(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(n=0),e.style.height=`${n}px`,e.style.width=`${r}px`,!1}}class Yx extends Ud{constructor(e,n,r,i){super(e,n,r,i,mc)}}xt(Yx,Ux);xt(Yx,hS);function Vme(t,e,n){return(e=Wme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wme(t){var e=Ume(t,"string");return typeof e=="symbol"?e:e+""}function Ume(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zme extends vp{constructor(e,n,r,i){super(e,n,mc,r,i),Vme(this,"cachedFixedRowsTop",-1),this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop")}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new Yx(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode,{rootWindow:n}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow");let i=0,o=!1;if(this.trimmingContainer===n&&(!r||r!=="vertical")){const{wtTable:a}=this.wot,l=a.hider.getBoundingClientRect(),u=Math.ceil(l.bottom),c=e.offsetHeight;o=u===c,i=this.getOverlayOffset(),wx(e,"0px",`${i}px`)}else i=this.getScrollPosition(),sS(e);const s=this.adjustHeaderBordersPosition(i,o);return this.adjustElementsSize(),s}setScrollPosition(e){const n=this.domBindings.rootWindow;let r=!1;return this.mainTableScrollableElement===n&&n.scrollY!==e?(n.scrollTo(vx(n),e),r=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,r=!0),r}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,n){const r=this.wtSettings.getSetting("defaultRowHeight");let i=e,o=0;for(;i<n;){const s=this.wot.wtTable.getRowHeight(i);o+=s===void 0?r:s,i+=1}return o}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e}=this.wot,{rootDocument:n,rootWindow:r}=this.domBindings,i=Gn(n),s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==r||a==="horizontal"){let u=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(u-=i),u=Math.min(u,e.wtRootElement.scrollWidth),s.width=`${u}px`}else s.width="";this.clone.wtTable.holder.style.width=s.width;let l=Rn(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(l=0),s.height=`${l}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,n=this.wot.selectionManager.getFocusSelection()?parseInt(Vx.height,10)/2:0;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=`${parseInt(e.parentNode.style.height,10)+n}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:n}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?n.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:n.style[e]=""}scrollTo(e,n){const{wot:r,wtSettings:i}=this,s=(r.cloneSource?r.cloneSource:r).wtTable.holder,a=i.getSetting("columnHeaders"),u=i.getSetting("fixedRowsTop")===0&&a.length>0&&!je(s.parentNode,"innerBorderTop")?1:0;let c=this.getTableParentOffset(),h=0;if(n){const d=this.wot.wtTable.getRowHeight(e),f=this.wot.wtViewport.getViewportHeight();d>f&&(n=!1)}if(n&&s.offsetHeight!==s.clientHeight&&(h=Gn(this.domBindings.rootDocument)),n){const d=i.getSetting("fixedRowsBottom"),f=i.getSetting("totalRows");c+=this.sumCellSizes(0,e+1),c-=r.wtViewport.getViewportHeight()-this.sumCellSizes(f-d,f),c+=1,c+=u}else c+=this.sumCellSizes(i.getSetting("fixedRowsTop"),e);return c+=h,xce(this.mainTableScrollableElement)===c-u&&u>0&&this.wot.wtOverlays.expandHiderVerticallyBy(u),this.setScrollPosition(c)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return yx(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="vertical")){const i=this.wot.wtTable.getTotalHeight(),o=this.clone.wtTable.getTotalHeight(),s=i-o;r=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0),r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{wtSettings:r}=this,i=this.wot.wtTable.holder.parentNode,o=r.getSetting("totalColumns"),s=r.getSetting("preventOverflow")==="horizontal";o?We(i,"emptyColumns"):ge(i,"emptyColumns");let a=!1;if(!n&&!s){const l=r.getSetting("fixedRowsTop"),u=this.cachedFixedRowsTop!==l,c=r.getSetting("columnHeaders");if((u||l===0)&&c.length>0){const h=je(i,"innerBorderTop");this.cachedFixedRowsTop=r.getSetting("fixedRowsTop"),e||r.getSetting("totalRows")===0?(ge(i,"innerBorderTop"),a=!h):(We(i,"innerBorderTop"),a=h)}}return a}}function Rv(t,e,n){Yme(t,e),e.set(t,n)}function Yme(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Bs(t,e,n){return(e=Gme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gme(t){var e=Kme(t,"string");return typeof e=="symbol"?e:e+""}function Kme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ru(t,e,n){return t.set(AW(t,e),n),n}function js(t,e){return t.get(AW(t,e))}function AW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var zc=new WeakMap,Ev=new WeakMap,Yc=new WeakMap,_v=new WeakMap;class qme{constructor(e,n,r,i,o,s){Bs(this,"wot",null),Rv(this,zc,[]),Bs(this,"topOverlay",null),Bs(this,"bottomOverlay",null),Bs(this,"inlineStartOverlay",null),Bs(this,"topInlineStartCornerOverlay",null),Bs(this,"bottomInlineStartCornerOverlay",null),Bs(this,"browserLineHeight",void 0),Bs(this,"wtSettings",null),Rv(this,Ev,!1),Rv(this,Yc,0),Rv(this,_v,null),Bs(this,"resizeObserver",new ResizeObserver(c=>{Ex(()=>{!Array.isArray(c)||!c.length||(ru(Yc,this,js(Yc,this)+1),js(Yc,this)===100&&(bt("The ResizeObserver callback was fired too many times in direct succession.\nThis may be due to an infinite loop caused by setting a dynamic height/width (for example, with the `dvh` units) to a Handsontable container's parent. \nThe observer will be disconnected."),this.resizeObserver.disconnect()),js(_v,this)!==null&&clearTimeout(js(_v,this)),ru(_v,this,setTimeout(()=>{ru(Yc,this,0)},100)),this.wtSettings.getSetting("onContainerElementResize"))})})),this.wot=e,this.wtSettings=i,this.domBindings=r,this.facadeGetter=n,this.wtTable=s;const{rootDocument:a,rootWindow:l}=this.domBindings;this.instance=this.wot,this.eventManager=o,this.scrollbarSize=Gn(a);const u=l.getComputedStyle(s.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden";this.scrollableElement=u?s.holder:mC(s.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=l.scrollX,this.lastScrollY=l.scrollY}getOverlays(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=[...js(zc,this)];return e&&n.push(this.wtTable),n}initBrowserLineHeight(){const{rootWindow:e,rootDocument:n}=this.domBindings,r=e.getComputedStyle(n.body),i=parseInt(r.lineHeight,10),o=parseInt(r.fontSize,10)*1.2;this.browserLineHeight=i||o}initOverlays(){const e=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=new zme(...e),this.bottomOverlay=new Eme(...e),this.inlineStartOverlay=new Lme(...e),this.topInlineStartCornerOverlay=new jme(...e,this.topOverlay,this.inlineStartOverlay),this.bottomInlineStartCornerOverlay=new wme(...e,this.bottomOverlay,this.inlineStartOverlay),ru(zc,this,[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay])}beforeDraw(){ru(Ev,this,js(zc,this).reduce((e,n)=>n.hasRenderingStateChanged()||e,!1)),js(zc,this).forEach(e=>e.updateStateOfRendering("before"))}afterDraw(){this.syncScrollWithMaster(),js(zc,this).forEach(e=>{const n=e.hasRenderingStateChanged();e.updateStateOfRendering("after"),n&&!e.needFullRender&&e.reset()})}refreshAll(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode){this.destroy();return}this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}registerListeners(){const{rootDocument:e,rootWindow:n}=this.domBindings,{mainTableScrollableElement:r}=this.topOverlay,{mainTableScrollableElement:i}=this.inlineStartOverlay;this.eventManager.addEventListener(e.documentElement,"keydown",h=>this.onKeyDown(h)),this.eventManager.addEventListener(e.documentElement,"keyup",()=>this.onKeyUp()),this.eventManager.addEventListener(e,"visibilitychange",()=>this.onKeyUp()),this.eventManager.addEventListener(r,"scroll",h=>this.onTableScroll(h),{passive:!0}),r!==i&&this.eventManager.addEventListener(i,"scroll",h=>this.onTableScroll(h),{passive:!0});const o=n.devicePixelRatio&&n.devicePixelRatio>1,s=this.scrollableElement===n,a=this.wtSettings.getSetting("preventWheel"),l={passive:s};(a||o||!XV())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",h=>this.onCloneWheel(h,a),l),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(h=>{if(h&&h.needFullRender){const{holder:d}=h.clone.wtTable;this.eventManager.addEventListener(d,"wheel",f=>this.onCloneWheel(f,a),l)}});let c;this.eventManager.addEventListener(n,"resize",()=>{clearTimeout(c),c=setTimeout(()=>{this.wtSettings.getSetting("onWindowResize"),ru(Yc,this,0)},200)}),s||this.resizeObserver.observe(this.wtTable.wtRootElement.parentElement)}deregisterListeners(){this.eventManager.clearEvents(!0)}onTableScroll(e){const n=this.domBindings.rootWindow,r=this.inlineStartOverlay.mainTableScrollableElement,i=this.topOverlay.mainTableScrollableElement,o=e.target;this.keyPressed&&(i!==n&&o!==n&&!e.target.contains(i)||r!==n&&o!==n&&!e.target.contains(r))||this.syncScrollPositions(e)}onCloneWheel(e,n){const{rootWindow:r}=this.domBindings,i=this.inlineStartOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,s=e.target,a=o!==r&&s!==r&&!s.contains(o),l=i!==r&&s!==r&&!s.contains(i);if(this.keyPressed&&(a||l)||this.scrollableElement===r)return;const u=this.translateMouseWheelToScroll(e);(n||this.scrollableElement!==r&&u)&&e.preventDefault()}onKeyDown(e){this.keyPressed=gp(e.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}onKeyUp(){this.keyPressed=!1}translateMouseWheelToScroll(e){let n=isNaN(e.deltaY)?-1*e.wheelDeltaY:e.deltaY,r=isNaN(e.deltaX)?-1*e.wheelDeltaX:e.deltaX;e.deltaMode===1&&(r+=r*this.browserLineHeight,n+=n*this.browserLineHeight);const i=this.scrollVertically(n),o=this.scrollHorizontally(r);return i||o}scrollVertically(e){const n=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=e,n!==this.scrollableElement.scrollTop}scrollHorizontally(e){const n=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=e,n!==this.scrollableElement.scrollLeft}syncScrollPositions(){if(this.destroyed)return;const{rootWindow:e}=this.domBindings,n=this.topOverlay.clone.wtTable.holder,r=this.inlineStartOverlay.clone.wtTable.holder,[i,o]=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop];if(this.horizontalScrolling=n.scrollLeft!==i||this.lastScrollX!==e.scrollX,this.verticalScrolling=r.scrollTop!==o||this.lastScrollY!==e.scrollY,this.lastScrollX=e.scrollX,this.lastScrollY=e.scrollY,this.horizontalScrolling){n.scrollLeft=i;const s=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;s&&(s.scrollLeft=i)}this.verticalScrolling&&(r.scrollTop=o),this.refreshAll()}syncScrollWithMaster(){if(!js(Ev,this))return;const e=this.topOverlay.mainTableScrollableElement,{scrollLeft:n,scrollTop:r}=e;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=n),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=n),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=r),ru(Ev,this,!1)}updateMainScrollableElements(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();const{wtTable:e}=this,{rootWindow:n}=this.domBindings;n.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.scrollableElement=e.holder:this.scrollableElement=mC(e.TABLE),this.registerListeners()}destroy(){this.resizeObserver.disconnect(),this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateLastSpreaderSize()&&this.adjustElementsSize(),this.bottomOverlay.clone&&this.bottomOverlay.refresh(e),this.inlineStartOverlay.refresh(e),this.topOverlay.refresh(e),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(e),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(e)}updateLastSpreaderSize(){const e=this.wtTable.spreader,n=e.clientWidth,r=e.clientHeight,i=n!==this.spreaderLastSize.width||r!==this.spreaderLastSize.height;return i&&(this.spreaderLastSize.width=n,this.spreaderLastSize.height=r),i}adjustElementsSize(){const{wtViewport:e}=this.wot,{wtTable:n}=this,{rootWindow:r}=this.domBindings,i=this.scrollableElement===r,o=this.wtSettings.getSetting("totalColumns"),s=this.wtSettings.getSetting("totalRows"),a=e.getRowHeaderWidth(),u=e.getColumnHeaderHeight()+this.topOverlay.sumCellSizes(0,s)+1,c=a+this.inlineStartOverlay.sumCellSizes(0,o),d=n.hider.style,f=()=>i?!1:this.scrollableElement.scrollTop>Math.max(0,u-n.holder.clientHeight),g=()=>i?!1:this.scrollableElement.scrollLeft>Math.max(0,c-n.holder.clientWidth),v=f()?1:0,y=g()?1:0;if(d.width=`${c+y}px`,d.height=`${u+v}px`,this.scrollbarSize>0){const{scrollHeight:p,scrollWidth:m}=n.wtRootElement,{scrollHeight:w,scrollWidth:C}=n.holder;this.hasScrollbarRight=p<w,this.hasScrollbarBottom=m<C,this.hasScrollbarRight&&n.hider.scrollWidth+this.scrollbarSize>m?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&n.hider.scrollHeight+this.scrollbarSize>p&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(),this.inlineStartOverlay.adjustElementsSize(),this.bottomOverlay.adjustElementsSize()}expandHiderVerticallyBy(e){const{wtTable:n}=this;n.hider.style.height=`${parseInt(n.hider.style.height,10)+e}px`}expandHiderHorizontallyBy(e){const{wtTable:n}=this;n.hider.style.width=`${parseInt(n.hider.style.width,10)+e}px`}applyToDOM(){this.wtTable.isVisible()&&(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}getParentOverlay(e){if(!e)return null;const n=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];let r=null;return G(n,i=>{i&&i.clone&&i.clone.wtTable.TABLE.contains(e)&&(r=i.clone)}),r}syncOverlayTableClassNames(){const e=this.wtTable.TABLE,n=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];G(n,r=>{r&&(r.clone.wtTable.TABLE.className=e.className)})}}function LH(t,e,n){return(e=Xme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xme(t){var e=Zme(t,"string");return typeof e=="symbol"?e:e+""}function Zme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Qme{constructor(e){LH(this,"settings",{}),LH(this,"defaults",Object.freeze(this.getDefaults())),Qe(this.defaults,(n,r)=>{if(e[r]!==void 0)this.settings[r]=e[r];else{if(n===void 0)throw new Error(`A required setting "${r}" was not provided`);this.settings[r]=n}})}getDefaults(){return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:()=>this.getSetting("fixedColumnsStart")>0||this.getSetting("rowHeaders").length>0,shouldRenderTopOverlay:()=>this.getSetting("fixedRowsTop")>0||this.getSetting("columnHeaders").length>0,shouldRenderBottomOverlay:()=>this.getSetting("fixedRowsBottom")>0,minSpareRows:0,rowHeaders(){return[]},columnHeaders(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:(e,n,r)=>{const i=this.getSetting("data",e,n);dc(r,i??"")},columnWidth(){},rowHeight(){},rowHeightByOverlayName(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onBeforeViewportScrollHorizontally:e=>e,onBeforeViewportScrollVertically:e=>e,onScrollHorizontally:null,onScrollVertically:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:e=>e,onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:e=>e,onBeforeHighlightingColumnHeader:e=>e,onWindowResize:null,onContainerElementResize:null,renderAllColumns:!1,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1,ariaTags:!0}}update(e,n){return n===void 0?Qe(e,(r,i)=>{this.settings[i]=r}):this.settings[e]=n,this}getSetting(e,n,r,i,o){return typeof this.settings[e]=="function"?this.settings[e](n,r,i,o):n!==void 0&&Array.isArray(this.settings[e])?this.settings[e][n]:this.settings[e]}getSettingPure(e){return this.settings[e]}has(e){return!!this.settings[e]}}class Gx extends Ud{constructor(e,n,r,i){super(e,n,r,i,"master")}alignOverlaysWithTrimmingContainer(){const e=pd(this.wtRootElement),{rootWindow:n}=this.domBindings;if(e===n)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{const r=e.parentElement,i=Tm(e,"height",n),o=Tm(e,"overflow",n),s=this.holder.style,{scrollWidth:a,scrollHeight:l}=e;let u=e.offsetWidth,c=e.offsetHeight;if(r&&["auto","hidden","scroll"].includes(o)){const d=e.cloneNode(!1);d.style.overflow="auto",d.style.position="absolute",e.nextElementSibling?r.insertBefore(d,e.nextElementSibling):r.appendChild(d);const f=parseInt(Ea(d,n).height,10);r.removeChild(d),f===0&&(c=0)}c=Math.min(c,l),s.height=i==="auto"?"auto":`${c}px`,u=Math.min(u,a),s.width=`${u}px`,s.overflow="",this.hasTableHeight=s.height==="auto"?!0:c>0,this.hasTableWidth=u>0}this.isTableVisible=md(this.TABLE)}markOversizedColumnHeaders(){const{wtSettings:e}=this,{wtViewport:n}=this.dataAccessObject,r="master",o=e.getSetting("columnHeaders").length;if(o&&!n.hasOversizedColumnHeadersMarked[r]){const a=e.getSetting("rowHeaders").length,l=this.getRenderedColumnsCount();for(let u=0;u<o;u++)for(let c=-1*a;c<l;c++)this.markIfOversizedColumnHeader(c);n.hasOversizedColumnHeadersMarked[r]=!0}}}xt(Gx,Lx);xt(Gx,hS);class Jme{constructor(e,n,r,i,o){this.dataAccessObject=e,this.wot=e.wot,this.instance=this.wot,this.domBindings=n,this.wtSettings=r,this.wtTable=o,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.rowsCalculatorTypes=new Map([["rendered",()=>this.wtSettings.getSetting("renderAllRows")?new jfe:new Wfe],["fullyVisible",()=>new Afe],["partiallyVisible",()=>new pW]]),this.columnsCalculatorTypes=new Map([["rendered",()=>this.wtSettings.getSetting("renderAllColumns")?new $fe:new Vfe],["fullyVisible",()=>new xfe],["partiallyVisible",()=>new mW]]),this.eventManager=i,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",()=>{this.clientHeight=this.getWorkspaceHeight()})}getWorkspaceHeight(){const e=this.domBindings.rootDocument,n=this.dataAccessObject.topOverlayTrimmingContainer;let r=0;return n===this.domBindings.rootWindow?r=e.documentElement.clientHeight:r=Rn(n)>0&&n.clientHeight>0?n.clientHeight:1/0,r}getWorkspaceWidth(){const{wtSettings:e}=this,{rootDocument:n,rootWindow:r}=this.domBindings,i=this.dataAccessObject.inlineStartOverlayTrimmingContainer,o=n.documentElement.offsetWidth,s=e.getSetting("totalColumns"),a=e.getSetting("preventOverflow"),l=e.getSetting("rtlMode"),u=this.wtTable.TABLE.getBoundingClientRect(),c=l?u.right-o:u.left,h=o-c;let d,f;if(a)return Ft(this.wtTable.wtRootElement);if(e.getSetting("freezeOverlays")?d=Math.min(h,o):d=Math.min(this.getContainerFillWidth(),h,o),i===r&&s>0&&this.sumColumnWidths(0,s-1)>d)return n.documentElement.clientWidth;if(i!==r&&(f=Tm(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",r),f==="scroll"||f==="hidden"||f==="auto"))return Math.max(d,i.clientWidth);const g=e.getSetting("stretchH");return g==="none"||!g?Math.max(d,Ft(this.wtTable.TABLE)):d}hasVerticalScroll(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}hasHorizontalScroll(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}sumColumnWidths(e,n){let r=0,i=e;for(;i<n;)r+=this.wtTable.getColumnWidth(i),i+=1;return r}getContainerFillWidth(){if(this.containerWidth)return this.containerWidth;const e=this.wtTable.holder,n=this.domBindings.rootDocument.createElement("div");n.style.width="100%",n.style.height="1px",e.appendChild(n);const r=n.offsetWidth;return this.containerWidth=r,e.removeChild(n),r}getWorkspaceOffset(){return zn(this.wtTable.TABLE)}getColumnHeaderHeight(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=Rn(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}getViewportHeight(){let e=this.getWorkspaceHeight();if(e===1/0)return e;const n=this.getColumnHeaderHeight();return n>0&&(e-=n),e}getRowHeaderWidth(){const e=this.wtSettings.getSetting("rowHeaderWidth"),n=this.wtSettings.getSetting("rowHeaders");if(e){this.rowHeaderWidth=0;for(let r=0,i=n.length;r<i;r++)this.rowHeaderWidth+=e[r]||e}if(isNaN(this.rowHeaderWidth))if(n.length){let r=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(let i=0,o=n.length;i<o;i++)r?(this.rowHeaderWidth+=Ft(r),r=r.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}getViewportWidth(){const e=this.getWorkspaceWidth();if(e===1/0)return e;const n=this.getRowHeaderWidth();return n>0?e-n:e}createRowsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["rendered","fullyVisible","partiallyVisible"];const{wtSettings:n,wtTable:r}=this;let i=this.getViewportHeight(),o,s;this.rowHeaderWidth=NaN;let a=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset;const l=n.getSetting("fixedRowsTop"),u=n.getSetting("fixedRowsBottom"),c=n.getSetting("totalRows");return l&&a>=0&&(s=this.dataAccessObject.topOverlay.sumCellSizes(0,l),a+=s,i-=s),u&&this.dataAccessObject.bottomOverlay.clone&&(s=this.dataAccessObject.bottomOverlay.sumCellSizes(c-u,c),i-=s),r.holder.clientHeight===r.holder.offsetHeight?o=0:o=Gn(this.domBindings.rootDocument),new Zfe({calculationTypes:e.map(h=>[h,this.rowsCalculatorTypes.get(h)()]),viewportHeight:i,scrollOffset:a,totalRows:n.getSetting("totalRows"),rowHeightFn:h=>r.getRowHeight(h),overrideFn:n.getSettingPure("viewportRowCalculatorOverride"),horizontalScrollbarHeight:o})}createColumnsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["rendered","fullyVisible","partiallyVisible"];const{wtSettings:n,wtTable:r}=this;let i=this.getViewportWidth(),o=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN;const s=n.getSetting("fixedColumnsStart");if(s&&o>=0){const a=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,s);o+=a,i-=a}return r.holder.clientWidth!==r.holder.offsetWidth&&(i-=Gn(this.domBindings.rootDocument)),new Kfe({calculationTypes:e.map(a=>[a,this.columnsCalculatorTypes.get(a)()]),viewportWidth:i,scrollOffset:o,totalColumns:n.getSetting("totalColumns"),columnWidthFn:a=>r.getColumnWidth(a),overrideFn:n.getSettingPure("viewportColumnCalculatorOverride"),inlineStartOffset:this.dataAccessObject.inlineStartParentOffset})}createCalculators(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:n}=this,r=this.createRowsCalculator(),i=this.createColumnsCalculator();if(e&&!n.getSetting("renderAllRows")){const o=r.getResultsFor("fullyVisible");e=this.areAllProposedVisibleRowsAlreadyRendered(o)}if(e&&!n.getSetting("renderAllColumns")){const o=i.getResultsFor("fullyVisible");e=this.areAllProposedVisibleColumnsAlreadyRendered(o)}return e||(this.rowsRenderCalculator=r.getResultsFor("rendered"),this.columnsRenderCalculator=i.getResultsFor("rendered")),this.rowsVisibleCalculator=r.getResultsFor("fullyVisible"),this.columnsVisibleCalculator=i.getResultsFor("fullyVisible"),this.rowsPartiallyVisibleCalculator=r.getResultsFor("partiallyVisible"),this.columnsPartiallyVisibleCalculator=i.getResultsFor("partiallyVisible"),e}createVisibleCalculators(){const e=this.createRowsCalculator(["fullyVisible","partiallyVisible"]),n=this.createColumnsCalculator(["fullyVisible","partiallyVisible"]);this.rowsVisibleCalculator=e.getResultsFor("fullyVisible"),this.columnsVisibleCalculator=n.getResultsFor("fullyVisible"),this.rowsPartiallyVisibleCalculator=e.getResultsFor("partiallyVisible"),this.columnsPartiallyVisibleCalculator=n.getResultsFor("partiallyVisible")}areAllProposedVisibleRowsAlreadyRendered(e){if(!this.rowsVisibleCalculator)return!1;let{startRow:n,endRow:r}=e;if(n===null&&r===null){if(!e.isVisibleInTrimmingContainer)return!0;n=this.rowsPartiallyVisibleCalculator.startRow,r=this.rowsPartiallyVisibleCalculator.endRow}const{startRow:i,endRow:o}=this.rowsRenderCalculator;return n<i||n===i&&n>0?!1:!(r>o||r===o&&r<this.wtSettings.getSetting("totalRows")-1)}areAllProposedVisibleColumnsAlreadyRendered(e){if(!this.columnsVisibleCalculator)return!1;let{startColumn:n,endColumn:r}=e;if(n===null&&r===null){if(!e.isVisibleInTrimmingContainer)return!0;n=this.columnsPartiallyVisibleCalculator.startColumn,r=this.columnsPartiallyVisibleCalculator.endColumn}const{startColumn:i,endColumn:o}=this.columnsRenderCalculator;return n<i||n===i&&n>0?!1:!(r>o||r===o&&r<this.wtSettings.getSetting("totalColumns")-1)}resetHasOversizedColumnHeadersMarked(){Qe(this.hasOversizedColumnHeadersMarked,(e,n,r)=>{r[n]=void 0})}}class epe extends Hx{constructor(e,n){super(e,new Qme(n));const r=this.wtSettings.getSetting("facade",this);this.wtTable=new Gx(this.getTableDao(),r,this.domBindings,this.wtSettings),this.wtViewport=new Jme(this.getViewportDao(),this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.selectionManager=new Hme(this.wtSettings.getSetting("selections")),this.wtEvent=new SW(r,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager),this.wtOverlays=new qme(this,r,this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.exportSettingsAsClassNames(),this.findOriginalHeaders()}exportSettingsAsClassNames(){const e={rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},n=[],r=[];Qe(e,(i,o)=>{this.wtSettings.getSetting(o).length&&r.push(i),n.push(i)}),We(this.wtTable.wtRootElement.parentNode,n),ge(this.wtTable.wtRootElement.parentNode,r)}getOverlayByName(e){var n;if(!TW.includes(e))return null;const r=e.replace(/_([a-z])/g,i=>i[1].toUpperCase());return(n=this.wtOverlays[`${r}Overlay`])!==null&&n!==void 0?n:null}getViewportDao(){const e=this;return{get wot(){return e},get topOverlayTrimmingContainer(){return e.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return e.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return e.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return e.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return e.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return e.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get bottomOverlay(){return e.wtOverlays.bottomOverlay}}}}class Kx{constructor(e){e instanceof Hx?this._wot=e:this._initFromSettings(e)}_initFromSettings(e){e.facade=n=>{const r=new Kx(n);return()=>r},this._wot=new epe(e.table,e)}get guid(){return this._wot.guid}get rootDocument(){return this._wot.domBindings.rootDocument}get rootWindow(){return this._wot.domBindings.rootWindow}get wtSettings(){return this._wot.wtSettings}get cloneSource(){return this._wot.cloneSource}get cloneOverlay(){return this._wot.cloneOverlay}get selectionManager(){return this._wot.selectionManager}get wtViewport(){return this._wot.wtViewport}get wtOverlays(){return this._wot.wtOverlays}get wtTable(){return this._wot.wtTable}get wtEvent(){return this._wot.wtEvent}get wtScroll(){return this._wot.wtScroll}get drawn(){return this._wot.drawn}set drawn(e){this._wot.drawn=e}get drawInterrupted(){return this._wot.drawInterrupted}set drawInterrupted(e){this._wot.drawInterrupted=e}get lastMouseOver(){return this._wot.lastMouseOver}set lastMouseOver(e){this._wot.lastMouseOver=e}get momentumScrolling(){return this._wot.momentumScrolling}set momentumScrolling(e){this._wot.momentumScrolling=e}get touchApplied(){return this._wot.touchApplied}set touchApplied(e){this._wot.touchApplied=e}get domBindings(){return this._wot.domBindings}get eventListeners(){return this._wot.eventListeners}set eventListeners(e){this._wot.eventListeners=e}get eventManager(){return this._wot.eventManager}createCellCoords(e,n){return this._wot.createCellCoords(e,n)}createCellRange(e,n,r){return this._wot.createCellRange(e,n,r)}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._wot.draw(e),this}getCell(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._wot.getCell(e,n)}scrollViewport(e,n,r,i,o){return this._wot.scrollViewport(e,n,r,i,o)}scrollViewportHorizontally(e,n,r){return this._wot.scrollViewportHorizontally(e,n,r)}scrollViewportVertically(e,n,r){return this._wot.scrollViewportVertically(e,n,r)}getViewport(){return this._wot.getViewport()}getOverlayName(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}getOverlayByName(e){return this._wot.getOverlayByName(e)}exportSettingsAsClassNames(){return this._wot.exportSettingsAsClassNames()}update(e,n){return this._wot.wtSettings.update(e,n),this}getSetting(e,n,r,i,o){return this._wot.wtSettings.getSetting(e,n,r,i,o)}hasSetting(e){return this._wot.wtSettings.hasSetting(e)}destroy(){this._wot.destroy()}}function $H(t){let{isShiftKey:e,isLeftClick:n,isRightClick:r,coords:i,selection:o,controller:s,cellCoordsFactory:a}=t;const l=o.isSelected()?o.getSelectedRange().current():null,u=o.isSelectedByCorner(),c=o.isSelectedByRowHeader();if(o.markSource("mouse"),e&&l)i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(i):(u||c)&&i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(a(i.row,i.col)):u&&i.row<0&&!s.column?o.setRangeEnd(a(l.to.row,i.col)):c&&i.col<0&&!s.row?o.setRangeEnd(a(i.row,l.to.col)):(!u&&!c&&i.col<0||u&&i.col<0)&&!s.row?o.selectRows(Math.max(l.from.row,0),i.row,i.col):(!u&&!c&&i.row<0||c&&i.row<0)&&!s.column&&o.selectColumns(Math.max(l.from.col,0),i.col,i.row);else{const h=!o.inInSelection(i),d=n||r&&h;i.row<0&&i.col>=0&&!s.column?d&&o.selectColumns(i.col,i.col,i.row):i.col<0&&i.row>=0&&!s.row?d&&o.selectRows(i.row,i.row,i.col):i.col>=0&&i.row>=0&&!s.cell?d&&o.setRangeStart(i):i.col<0&&i.row<0&&o.selectAll(!0,!0,{disableHeadersHighlight:!0,focusPosition:{row:0,col:0}})}o.markEndSource()}function tpe(t){let{isLeftClick:e,coords:n,selection:r,controller:i,cellCoordsFactory:o}=t;if(!e)return;const s=r.isSelectedByRowHeader(),a=r.isSelectedByColumnHeader(),l=r.tableProps.countCols(),u=r.tableProps.countRows();r.markSource("mouse"),a&&!i.column?r.setRangeEnd(o(u-1,n.col)):s&&!i.row?r.setRangeEnd(o(n.row,l-1)):i.cell||r.setRangeEnd(n),r.markEndSource()}const npe=new Map([["mousedown",$H],["mouseover",tpe],["touchstart",$H]]);function FH(t,e){let{coords:n,selection:r,controller:i,cellCoordsFactory:o}=e;npe.get(t.type)({coords:n,selection:r,controller:i,cellCoordsFactory:o,isShiftKey:t.shiftKey,isLeftClick:_x(t)||t.type==="touchstart",isRightClick:fc(t)})}const IW=new WeakMap,qx=Symbol("rootInstance");function rpe(t){IW.set(t,!0)}function ipe(t){return t===qx}function cw(t){return IW.has(t)}function ope(t,e){NW(t,e),e.add(t)}function iu(t,e,n){NW(t,e),e.set(t,n)}function NW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function La(t,e,n){return(e=spe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function spe(t){var e=ape(t,"string");return typeof e=="symbol"?e:e+""}function ape(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bn(t,e){return t.get(xm(t,e))}function xi(t,e,n){return t.set(xm(t,e),n),n}function xm(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var wR=new WeakMap,Tv=new WeakMap,Ov=new WeakMap,Vs=new WeakMap,oo=new WeakMap,CR=new WeakMap,bR=new WeakMap,hw=new WeakSet;class lpe{constructor(e){ope(this,hw),La(this,"hot",void 0),La(this,"eventManager",void 0),La(this,"settings",void 0),La(this,"THEAD",void 0),La(this,"TBODY",void 0),La(this,"_wt",void 0),La(this,"activeWt",void 0),iu(this,wR,0),iu(this,Tv,0),La(this,"postponedAdjustElementsSize",!1),iu(this,Ov,!1),iu(this,Vs,void 0),iu(this,oo,void 0),iu(this,CR,0),iu(this,bR,0),this.hot=e,this.eventManager=new No(this.hot),this.settings=this.hot.getSettings(),this.createElements(),this.registerEvents(),this.initializeWalkontable()}render(){this.hot.isRenderSuspended()||(this.hot.runHooks("beforeRender",this.hot.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.hot.forceFullRender),this.hot.runHooks("afterRender",this.hot.forceFullRender),this.hot.forceFullRender=!1,this.hot.renderCall=!1)}adjustElementsSize(){this.hot.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize()}getCellAtCoords(e,n){const r=this._wt.getCell(e,n);return r<0?null:r}scrollViewport(e,n,r,i,o){return this._wt.scrollViewport(e,n,r,i,o)}scrollViewportHorizontally(e,n,r){return this._wt.scrollViewportHorizontally(e,n,r)}scrollViewportVertically(e,n,r){return this._wt.scrollViewportVertically(e,n,r)}createElements(){const{rootElement:e,rootDocument:n}=this.hot,r=e.getAttribute("style");r&&e.setAttribute("data-originalstyle",r),ge(e,"handsontable"),xi(oo,this,n.createElement("TABLE")),ge(Bn(oo,this),"htCore"),this.hot.getSettings().tableClassName&&ge(Bn(oo,this),this.hot.getSettings().tableClassName),this.settings.ariaTags&&(Be(Bn(oo,this),[Rs()]),Be(e,[ece(),xV(-1),iS(this.hot.countCols()),gce()])),this.THEAD=n.createElement("THEAD"),Bn(oo,this).appendChild(this.THEAD),this.TBODY=n.createElement("TBODY"),Bn(oo,this).appendChild(this.TBODY),this.hot.table=Bn(oo,this),this.hot.container.insertBefore(Bn(oo,this),this.hot.container.firstChild)}registerEvents(){const{rootElement:e,rootDocument:n,selection:r,rootWindow:i}=this.hot,o=n.documentElement;this.eventManager.addEventListener(e,"mousedown",a=>{xi(Ov,this,!0),this.isTextSelectionAllowed(a.target)||(Yk(i),a.preventDefault(),i.focus())}),this.eventManager.addEventListener(e,"mouseup",()=>{xi(Ov,this,!1)}),this.eventManager.addEventListener(e,"mousemove",a=>{Bn(Ov,this)&&!this.isTextSelectionAllowed(a.target)&&(this.settings.fragmentSelection&&Yk(i),a.preventDefault())}),this.eventManager.addEventListener(o,"keyup",a=>{r.isInProgress()&&!a.shiftKey&&r.finish()}),this.eventManager.addEventListener(o,"mouseup",a=>{r.isInProgress()&&_x(a)&&r.finish(),xi(Vs,this,!1);const l=$V(n.activeElement);lw(n.activeElement)&&!l||(l||!r.isSelected()&&!r.isSelectedByAnyHeader()&&!e.contains(a.target)&&!fc(a))&&this.hot.unlisten()}),this.eventManager.addEventListener(o,"contextmenu",a=>{r.isInProgress()&&fc(a)&&(r.finish(),xi(Vs,this,!1))}),this.eventManager.addEventListener(o,"touchend",()=>{r.isInProgress()&&r.finish(),xi(Vs,this,!1)}),this.eventManager.addEventListener(o,"mousedown",a=>{const l=a.target,u=a.x||a.clientX,c=a.y||a.clientY;let h=a.target;if(Bn(Vs,this)||!e||!this.hot.view)return;const{holder:d}=this._wt.wtTable;if(h===d){const g=Gn(n);if(n.elementFromPoint(u+g,c)!==d||n.elementFromPoint(u,c+g)!==d)return}else for(;h!==o;){if(h===null){if(a.isTargetWebComponent)break;return}if(h===e)return;h=h.parentNode}(typeof this.settings.outsideClickDeselects=="function"?this.settings.outsideClickDeselects(l):this.settings.outsideClickDeselects)?this.hot.deselectCell():this.hot.destroyEditor(!1,!1)});let s=gd(i);for(;s!==null;)this.eventManager.addEventListener(s.document.documentElement,"click",()=>{this.hot.unlisten()}),s=gd(s);this.eventManager.addEventListener(Bn(oo,this),"selectstart",a=>{this.settings.fragmentSelection||lw(a.target)||a.preventDefault()})}translateFromRenderableToVisualCoords(e){let{row:n,col:r}=e;return this.hot._createCellCoords(...this.translateFromRenderableToVisualIndex(n,r))}translateFromRenderableToVisualIndex(e,n){let r=e>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(e):e,i=n>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(n):n;return r===null&&(r=e),i===null&&(i=n),[r,i]}countRenderableIndexes(e,n){const r=Math.min(e.getNotTrimmedIndexesLength(),n),i=e.getNearestNotHiddenIndex(r-1,-1);return i===null?0:e.getRenderableFromVisualIndex(i)+1}countRenderableColumns(){return this.countRenderableIndexes(this.hot.columnIndexMapper,this.settings.maxCols)}countRenderableRows(){return this.countRenderableIndexes(this.hot.rowIndexMapper,this.settings.maxRows)}countNotHiddenRowIndexes(e,n){return this.countNotHiddenIndexes(e,n,this.hot.rowIndexMapper,this.countRenderableRows())}countNotHiddenColumnIndexes(e,n){return this.countNotHiddenIndexes(e,n,this.hot.columnIndexMapper,this.countRenderableColumns())}countNotHiddenIndexes(e,n,r,i){if(isNaN(e)||e<0)return 0;const o=r.getNearestNotHiddenIndex(e,n),s=r.getRenderableFromVisualIndex(o);if(!Number.isInteger(s))return 0;let a=0;return n<0?a=s+1:n>0&&(a=i-s),a}countNotHiddenFixedColumnsStart(){const e=this.hot.countCols(),n=Math.min(parseInt(this.settings.fixedColumnsStart,10),e)-1;return this.countNotHiddenColumnIndexes(n,-1)}countNotHiddenFixedRowsTop(){const e=this.hot.countRows(),n=Math.min(parseInt(this.settings.fixedRowsTop,10),e)-1;return this.countNotHiddenRowIndexes(n,-1)}countNotHiddenFixedRowsBottom(){const e=this.hot.countRows(),n=Math.max(e-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(n,1)}countRenderableColumnsInRange(e,n){let r=0;for(let i=e;i<=n;i++)this.hot.columnIndexMapper.getRenderableFromVisualIndex(i)!==null&&(r+=1);return r}countRenderableRowsInRange(e,n){let r=0;for(let i=e;i<=n;i++)this.hot.rowIndexMapper.getRenderableFromVisualIndex(i)!==null&&(r+=1);return r}isMainTableNotFullyCoveredByOverlays(){const e=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),n=this.countNotHiddenFixedColumnsStart();return this.hot.countRenderedRows()>e&&this.hot.countRenderedCols()>n}initializeWalkontable(){const e={ariaTags:this.settings.ariaTags,rtlMode:this.hot.isRtl(),externalRowCalculator:this.hot.getPlugin("autoRowSize")&&this.hot.getPlugin("autoRowSize").isEnabled(),table:Bn(oo,this),isDataViewInstance:()=>cw(this.hot),preventOverflow:()=>this.settings.preventOverflow,preventWheel:()=>this.settings.preventWheel,stretchH:()=>this.settings.stretchH,data:(o,s)=>this.hot.getDataAtCell(...this.translateFromRenderableToVisualIndex(o,s)),totalRows:()=>this.countRenderableRows(),totalColumns:()=>this.countRenderableColumns(),fixedColumnsStart:()=>this.countNotHiddenFixedColumnsStart(),fixedRowsTop:()=>this.countNotHiddenFixedRowsTop(),fixedRowsBottom:()=>this.countNotHiddenFixedRowsBottom(),shouldRenderInlineStartOverlay:()=>this.settings.fixedColumnsStart>0||e.rowHeaders().length>0,shouldRenderTopOverlay:()=>this.settings.fixedRowsTop>0||e.columnHeaders().length>0,shouldRenderBottomOverlay:()=>this.settings.fixedRowsBottom>0,minSpareRows:()=>this.settings.minSpareRows,renderAllRows:this.settings.renderAllRows,renderAllColumns:this.settings.renderAllColumns,rowHeaders:()=>{const o=[];return this.hot.hasRowHeaders()&&o.push((s,a)=>{const l=s>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(s):s;this.appendRowHeader(l,a)}),this.hot.runHooks("afterGetRowHeaderRenderers",o),xi(Tv,this,o.length),this.hot.getSettings().ariaTags&&xm(hw,this,kW).call(this)===this.hot.countCols()&&xm(hw,this,upe).call(this,Bn(Tv,this)),o},columnHeaders:()=>{const o=[];return this.hot.hasColHeaders()&&o.push((s,a)=>{const l=s>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(s):s;this.appendColHeader(l,a)}),this.hot.runHooks("afterGetColumnHeaderRenderers",o),xi(wR,this,o.length),o},columnWidth:o=>{const s=this.hot.columnIndexMapper.getVisualFromRenderableIndex(o);return this.hot.getColWidth(s===null?o:s)},rowHeight:o=>{const s=this.hot.rowIndexMapper.getVisualFromRenderableIndex(o);return this.hot.getRowHeight(s===null?o:s)},rowHeightByOverlayName:(o,s)=>{const a=this.hot.rowIndexMapper.getVisualFromRenderableIndex(o),l=a===null?o:a;return this.hot.runHooks("modifyRowHeightByOverlayName",this.hot.getRowHeight(l),l,s)},cellRenderer:(o,s,a)=>{const[l,u]=this.translateFromRenderableToVisualIndex(o,s),c=this.hot.runHooks("modifyGetCellCoords",l,u);let h=l,d=u;Array.isArray(c)&&([h,d]=c);const f=this.hot.getCellMeta(h,d),g=this.hot.colToProp(d);let v=this.hot.getDataAtRowProp(h,g);this.hot.hasHook("beforeValueRender")&&(v=this.hot.runHooks("beforeValueRender",v,f)),this.hot.runHooks("beforeRenderer",a,l,u,g,v,f),this.hot.getCellRenderer(f)(this.hot,a,l,u,g,v,f),this.hot.runHooks("afterRenderer",a,l,u,g,v,f)},selections:this.hot.selection.highlight,hideBorderOnMouseDownOver:()=>this.settings.fragmentSelection,onWindowResize:()=>{this.hot&&!this.hot.isDestroyed&&this.hot.refreshDimensions()},onContainerElementResize:()=>{this.hot&&!this.hot.isDestroyed&&md(this.hot.rootElement)&&this.hot.refreshDimensions()},onCellMouseDown:(o,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s),c={row:!1,column:!1,cell:!1};this.hot.listen(),this.activeWt=l,xi(Vs,this,!0),this.hot.runHooks("beforeOnCellMouseDown",o,u,a,c),!ju(o)&&(FH(o,{coords:u,selection:this.hot.selection,controller:c,cellCoordsFactory:(h,d)=>this.hot._createCellCoords(h,d)}),this.hot.runHooks("afterOnCellMouseDown",o,u,a),this.activeWt=this._wt)},onCellContextMenu:(o,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,xi(Vs,this,!1),this.hot.selection.isInProgress()&&this.hot.selection.finish(),this.hot.runHooks("beforeOnCellContextMenu",o,u,a),!ju(o)&&(this.hot.runHooks("afterOnCellContextMenu",o,u,a),this.activeWt=this._wt)},onCellMouseOut:(o,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOut",o,u,a),!ju(o)&&(this.hot.runHooks("afterOnCellMouseOut",o,u,a),this.activeWt=this._wt)},onCellMouseOver:(o,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s),c={row:!1,column:!1,cell:!1};this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOver",o,u,a,c),!ju(o)&&(Bn(Vs,this)&&FH(o,{coords:u,selection:this.hot.selection,controller:c,cellCoordsFactory:(h,d)=>this.hot._createCellCoords(h,d)}),this.hot.runHooks("afterOnCellMouseOver",o,u,a),this.activeWt=this._wt)},onCellMouseUp:(o,s,a,l)=>{const u=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseUp",o,u,a),!(ju(o)||this.hot.isDestroyed)&&(this.hot.runHooks("afterOnCellMouseUp",o,u,a),this.activeWt=this._wt)},onCellCornerMouseDown:o=>{o.preventDefault(),this.hot.runHooks("afterOnCellCornerMouseDown",o)},onCellCornerDblClick:o=>{o.preventDefault(),this.hot.runHooks("afterOnCellCornerDblClick",o)},beforeDraw:(o,s)=>this.beforeRender(o,s),onDraw:o=>this.afterRender(o),onBeforeViewportScrollVertically:o=>{const s=this.hot.rowIndexMapper,a=o<0;let l=o;return!a&&(l=s.getVisualFromRenderableIndex(o),l===null)?o:(l=this.hot.runHooks("beforeViewportScrollVertically",l),this.hot.runHooks("beforeViewportScroll"),a?l:s.getRenderableFromVisualIndex(l))},onBeforeViewportScrollHorizontally:o=>{const s=this.hot.columnIndexMapper,a=o<0;let l=o;return!a&&(l=s.getVisualFromRenderableIndex(o),l===null)?o:(l=this.hot.runHooks("beforeViewportScrollHorizontally",l),this.hot.runHooks("beforeViewportScroll"),a?l:s.getRenderableFromVisualIndex(l))},onScrollVertically:()=>{this.hot.runHooks("afterScrollVertically"),this.hot.runHooks("afterScroll")},onScrollHorizontally:()=>{this.hot.runHooks("afterScrollHorizontally"),this.hot.runHooks("afterScroll")},onBeforeRemoveCellClassNames:()=>this.hot.runHooks("beforeRemoveCellClassNames"),onBeforeHighlightingRowHeader:(o,s,a)=>{const l=this.hot.rowIndexMapper,u=o<0;let c=o;u||(c=l.getVisualFromRenderableIndex(o));const h=this.hot.runHooks("beforeHighlightingRowHeader",c,s,a);return u?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onBeforeHighlightingColumnHeader:(o,s,a)=>{const l=this.hot.columnIndexMapper,u=o<0;let c=o;u||(c=l.getVisualFromRenderableIndex(o));const h=this.hot.runHooks("beforeHighlightingColumnHeader",c,s,a);return u?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onAfterDrawSelection:(o,s,a)=>{let l;const[u,c]=this.translateFromRenderableToVisualIndex(o,s),h=this.hot.selection.getSelectedRange();if(h.size()>0){const f=h.peekByIndex(a??0);l=[f.from.row,f.from.col,f.to.row,f.to.col]}return this.hot.runHooks("afterDrawSelection",u,c,l,a)},onBeforeDrawBorders:(o,s)=>{const[a,l,u,c]=o,h=[this.hot.rowIndexMapper.getVisualFromRenderableIndex(a),this.hot.columnIndexMapper.getVisualFromRenderableIndex(l),this.hot.rowIndexMapper.getVisualFromRenderableIndex(u),this.hot.columnIndexMapper.getVisualFromRenderableIndex(c)];return this.hot.runHooks("beforeDrawBorders",h,s)},onBeforeTouchScroll:()=>this.hot.runHooks("beforeTouchScroll"),onAfterMomentumScroll:()=>this.hot.runHooks("afterMomentumScroll"),onBeforeStretchingColumnWidth:(o,s)=>{const a=this.hot.columnIndexMapper.getVisualFromRenderableIndex(s);return this.hot.runHooks("beforeStretchingColumnWidth",o,a)},onModifyRowHeaderWidth:o=>this.hot.runHooks("modifyRowHeaderWidth",o),onModifyGetCellCoords:(o,s,a)=>{const l=this.hot.rowIndexMapper,u=this.hot.columnIndexMapper,c=s>=0?u.getVisualFromRenderableIndex(s):s,h=o>=0?l.getVisualFromRenderableIndex(o):o,d=this.hot.runHooks("modifyGetCellCoords",h,c,a);if(Array.isArray(d)){const[f,g,v,y]=d;return[f>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(f,1)):f,g>=0?u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(g,1)):g,v>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(v,-1)):v,y>=0?u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(y,-1)):y]}},viewportRowCalculatorOverride:o=>{let s=this.settings.viewportRowRenderingOffset;if(s==="auto"&&this.settings.fixedRowsTop&&(s=10),s>0||s==="auto"){const a=this.countRenderableRows(),l=o.startRow,u=o.endRow;if(typeof s=="number")o.startRow=Math.max(l-s,0),o.endRow=Math.min(u+s,a-1);else if(s==="auto"){const c=Math.ceil(u/a*12);o.startRow=Math.max(l-c,0),o.endRow=Math.min(u+c,a-1)}}this.hot.runHooks("afterViewportRowCalculatorOverride",o)},viewportColumnCalculatorOverride:o=>{let s=this.settings.viewportColumnRenderingOffset;if(s==="auto"&&this.settings.fixedColumnsStart&&(s=10),s>0||s==="auto"){const a=this.countRenderableColumns(),l=o.startColumn,u=o.endColumn;if(typeof s=="number"&&(o.startColumn=Math.max(l-s,0),o.endColumn=Math.min(u+s,a-1)),s==="auto"){const c=Math.ceil(u/a*6);o.startColumn=Math.max(l-c,0),o.endColumn=Math.min(u+c,a-1)}}this.hot.runHooks("afterViewportColumnCalculatorOverride",o)},rowHeaderWidth:()=>this.settings.rowHeaderWidth,columnHeaderHeight:()=>{const o=this.hot.runHooks("modifyColumnHeaderHeight");return this.settings.columnHeaderHeight||o}};this.hot.runHooks("beforeInitWalkontable",e),this._wt=new Kx(e),this.activeWt=this._wt;const n=this._wt.wtTable.spreader,{width:r,height:i}=this.hot.rootElement.getBoundingClientRect();this.setLastSize(r,i),this.eventManager.addEventListener(n,"mousedown",o=>{o.target===n&&o.which===3&&o.stopPropagation()}),this.eventManager.addEventListener(n,"contextmenu",o=>{o.target===n&&o.which===3&&o.stopPropagation()}),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"click",()=>{this.settings.observeDOMVisibility&&this._wt.drawInterrupted&&(this.hot.forceFullRender=!0,this.render())})}isTextSelectionAllowed(e){if(lw(e))return!0;const n=ic(e,this._wt.wtTable.spreader);return!!(this.settings.fragmentSelection===!0&&n||this.settings.fragmentSelection==="cell"&&this.isSelectedOnlyCell()&&n||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}isMouseDown(){return Bn(Vs,this)}isSelectedOnlyCell(){var e,n;return(e=(n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingleCell())!==null&&e!==void 0?e:!1}isCellEdited(){const e=this.hot.getActiveEditor();return e&&e.isOpened()}beforeRender(e,n){e&&this.hot.runHooks("beforeViewRender",this.hot.forceFullRender,n)}afterRender(e){e&&this.hot.runHooks("afterViewRender",this.hot.forceFullRender)}appendRowHeader(e,n){if(n.firstChild){const r=n.firstChild;if(!je(r,"relative")){Ps(n),this.appendRowHeader(e,n);return}this.updateCellHeader(r.querySelector(".rowHeader"),e,this.hot.getRowHeader)}else{const{rootDocument:r,getRowHeader:i}=this.hot,o=r.createElement("div"),s=r.createElement("span");o.className="relative",s.className="rowHeader",this.updateCellHeader(s,e,i),o.appendChild(s),n.appendChild(o)}this.hot.runHooks("afterGetRowHeader",e,n)}appendColHeader(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hot.getColHeader,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const o=()=>{const s=e>=0?this.hot.getColumnMeta(e).headerClassName:null;return s?s.split(" "):[]};if(n.firstChild){const s=n.firstChild;je(s,"relative")?(this.updateCellHeader(s.querySelector(".colHeader"),e,r,i),s.className="",ge(s,["relative",...o()])):(Ps(n),this.appendColHeader(e,n,r,i))}else{const{rootDocument:s}=this.hot,a=s.createElement("div"),l=s.createElement("span"),u=o();a.classList.add("relative",...u),l.className="colHeader",this.settings.ariaTags&&(Be(a,...Rs()),Be(l,...Rs())),this.updateCellHeader(l,e,r,i),a.appendChild(l),n.appendChild(a)}this.hot.runHooks("afterGetColHeader",e,n,i)}updateCellHeader(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=n;const s=this._wt.wtOverlays.getParentOverlay(e)||this._wt;e.parentNode&&(je(e,"colHeader")?o=s.wtTable.columnFilter.sourceToRendered(n):je(e,"rowHeader")&&(o=s.wtTable.rowFilter.sourceToRendered(n))),o>-1?Wd(e,r(n,i)):(dc(e,""),ge(e,"cornerHeader"))}maximumVisibleElementWidth(e){const r=this._wt.wtViewport.getWorkspaceWidth()-e;return r>0?r:0}maximumVisibleElementHeight(e){const r=this._wt.wtViewport.getWorkspaceHeight()-e;return r>0?r:0}setLastSize(e,n){xi(CR,this,e),xi(bR,this,n)}getLastSize(){return{width:Bn(CR,this),height:Bn(bR,this)}}getFirstRenderedVisibleRow(){return this._wt.wtViewport.rowsRenderCalculator?this.hot.rowIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getFirstRenderedRow(),1):null}getLastRenderedVisibleRow(){return this._wt.wtViewport.rowsRenderCalculator?this.hot.rowIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getLastRenderedRow(),-1):null}getFirstRenderedVisibleColumn(){return this._wt.wtViewport.columnsRenderCalculator?this.hot.columnIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getFirstRenderedColumn(),1):null}getLastRenderedVisibleColumn(){return this._wt.wtViewport.columnsRenderCalculator?this.hot.columnIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getLastRenderedColumn(),-1):null}getFirstFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstVisibleRow())}getLastFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastVisibleRow())}getFirstFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstVisibleColumn())}getLastFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastVisibleColumn())}getFirstPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstPartiallyVisibleRow())}getLastPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastPartiallyVisibleRow())}getFirstPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstPartiallyVisibleColumn())}getLastPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastPartiallyVisibleColumn())}getColumnHeadersCount(){return Bn(wR,this)}getRowHeadersCount(){return Bn(Tv,this)}getViewportWidth(){return this._wt.wtViewport.getViewportWidth()}getWorkspaceWidth(){return this._wt.wtViewport.getWorkspaceWidth()}getViewportHeight(){return this._wt.wtViewport.getViewportHeight()}getWorkspaceHeight(){return this._wt.wtViewport.getWorkspaceHeight()}getElementOverlayName(e){var n;return((n=this._wt.wtOverlays.getParentOverlay(e))!==null&&n!==void 0?n:this._wt).wtTable.name}getOverlayByName(e){return this._wt.getOverlayByName(e)}isVisible(){return this._wt.wtTable.isVisible()}destroy(){this._wt.destroy(),this.eventManager.destroy()}}function kW(){return parseInt(this.hot.rootElement.getAttribute(iS()[0]),10)}function upe(t){const e=xm(hw,this,kW).call(this)+t;Be(this.hot.rootElement,...iS(e))}const cpe="ABCDEFGHIJKLMNOPQRSTUVWXYZ",BH=cpe.length;function hpe(t){let e=t+1,n="",r;for(;e>0;)r=(e-1)%BH,n=String.fromCharCode(65+r)+n,e=parseInt((e-r)/BH,10);return n}function HW(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t;const r=[];return(!Array.isArray(t)||!Array.isArray(t[0]))&&(n=[t]),n.forEach((i,o)=>{Array.isArray(i)?i.forEach((s,a)=>{r.push([o+e,a,s])}):Object.keys(i).forEach(s=>{r.push([o+e,s,i[s]])})}),r}function DW(t){let e=0;return Array.isArray(t)&&(t[0]&&Array.isArray(t[0])?e=t[0].length:t[0]&&Ze(t[0])&&(e=Rx(t[0]))),e}function dpe(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>Array.isArray(e)))}function fpe(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>typeof e=="object"&&!Array.isArray(e)&&e!==null))}function Pf(t,e,n){return(e=gpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gpe(t){var e=mpe(t,"string");return typeof e=="symbol"?e:e+""}function mpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ppe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Pf(this,"hot",void 0),Pf(this,"data",void 0),Pf(this,"dataType","array"),Pf(this,"colToProp",()=>{}),Pf(this,"propToCol",()=>{}),this.hot=e,this.data=n}modifyRowData(e){let n;return this.hot.hasHook("modifyRowData")&&(n=this.hot.runHooks("modifyRowData",e)),n!==void 0&&!Number.isInteger(n)?n:this.data[e]}getData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.data||this.data.length===0?this.data:this.getByRange(null,null,e)}setData(e){this.data=e}getAtColumn(e){const n=[];return G(this.data,(r,i)=>{const o=this.getAtCell(i,e);n.push(o)}),n}getAtRow(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const o=n===void 0&&r===void 0,{dataDotNotation:s}=this.hot.getSettings();let a=null,l=null;if(a=this.modifyRowData(e),Array.isArray(a))l=[],o?a.forEach((u,c)=>{l[c]=this.getAtPhysicalCell(e,c,a)}):Ie(n,r,u=>{l[u-n]=this.getAtPhysicalCell(e,u,a)});else if(Ze(a)||Ht(a))if(i?l=[]:l={},!o||i){const c=this.countFirstRowKeys()-1;Ie(0,c,h=>{const d=this.colToProp(h);if(h>=(n||0)&&h<=(r||c)&&!Number.isInteger(d)){const f=this.getAtPhysicalCell(e,d,a);i?l.push(f):s?eR(l,d,f):l[d]=f}})}else Qe(a,(u,c)=>{const h=this.getAtPhysicalCell(e,c,a);s?eR(l,c,h):l[c]=h});return l}setAtCell(e,n,r){if(!(e>=this.countRows()||n>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){const i=Eo(r);this.hot.runHooks("modifySourceData",e,n,i,"set"),i.isTouched()&&(r=i.value)}Number.isInteger(n)?this.data[e][n]=r:eR(this.data[e],n,r)}}getAtPhysicalCell(e,n,r){let i=null;if(r)if(typeof n=="string"){const{dataDotNotation:o}=this.hot.getSettings();i=o?uhe(r,n):r[n]}else typeof n=="function"?i=n(r):i=r[n];if(this.hot.hasHook("modifySourceData")){const o=Eo(i);this.hot.runHooks("modifySourceData",e,n,o,"get"),o.isTouched()&&(i=o.value)}return i}getAtCell(e,n){const r=this.modifyRowData(e);return this.getAtPhysicalCell(e,this.colToProp(n),r)}getByRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,o=null,s=null,a=null,l=null;e===null||n===null?(i=!0,o=0,a=this.countRows()-1):(o=Math.min(e.row,n.row),s=Math.min(e.col,n.col),a=Math.max(e.row,n.row),l=Math.max(e.col,n.col));const u=[];return Ie(o,a,c=>{u.push(i?this.getAtRow(c,void 0,void 0,r):this.getAtRow(c,s,l,r))}),u}countRows(){if(this.hot.hasHook("modifySourceLength")){const e=this.hot.runHooks("modifySourceLength");if(Number.isInteger(e))return e}return this.data.length}countFirstRowKeys(){return DW(this.data)}destroy(){this.data=null,this.hot=null}}function jH(t,e,n){return(e=vpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vpe(t){var e=ype(t,"string");return typeof e=="symbol"?e:e+""}function ype(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ac{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;jH(this,"indexedValues",[]),jH(this,"initValueOrFn",void 0),this.initValueOrFn=e}getValues(){return this.indexedValues}getValueAtIndex(e){const n=this.indexedValues;if(e<n.length)return n[e]}setValues(e){this.indexedValues=e.slice(),this.runLocalHooks("change")}setValueAtIndex(e,n){return e<this.indexedValues.length?(this.indexedValues[e]=n,this.runLocalHooks("change"),!0):!1}clear(){this.setDefaultValues()}getLength(){return this.getValues().length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,Ht(this.initValueOrFn)?Ie(e-1,n=>this.indexedValues.push(this.initValueOrFn(n))):Ie(e-1,()=>this.indexedValues.push(this.initValueOrFn)),this.runLocalHooks("change")}init(e){return this.setDefaultValues(e),this.runLocalHooks("init"),this}insert(){this.runLocalHooks("change")}remove(){this.runLocalHooks("change")}destroy(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}xt(Ac,ir);function Xx(t,e,n,r){const i=n.length?n[0]:void 0;return[...t.slice(0,i),...n.map((o,s)=>Ht(r)?r(o,s):r),...i===void 0?[]:t.slice(i)]}function Zx(t,e){return Dl(t,(n,r)=>e.includes(r)===!1)}class Yl extends Ac{insert(e,n){this.indexedValues=Xx(this.indexedValues,e,n,this.initValueOrFn),super.insert(e,n)}remove(e){this.indexedValues=Zx(this.indexedValues,e),super.remove(e)}}class dS extends Yl{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getHiddenIndexes(){return kr(this.getValues(),(e,n,r)=>(n&&e.push(r),e),[])}}function Qx(t,e,n){return[...t.slice(0,e),...n,...t.slice(e)]}function Pm(t,e){return Dl(t,n=>e.includes(n)===!1)}function Jx(t,e){return it(t,n=>n-e.filter(r=>r<n).length)}function eP(t,e){const n=e[0],r=e.length;return it(t,i=>i>=n?i+r:i)}function wpe(t,e,n){return(e=Cpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cpe(t){var e=bpe(t,"string");return typeof e=="symbol"?e:e+""}function bpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fS extends Ac{constructor(){super(...arguments),wpe(this,"orderOfIndexes",[])}getValues(){return this.orderOfIndexes.map(e=>this.indexedValues[e])}setValues(e){this.orderOfIndexes=[...Array(e.length).keys()],super.setValues(e)}setValueAtIndex(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.orderOfIndexes.length;return e<this.indexedValues.length?(this.indexedValues[e]=n,this.orderOfIndexes.includes(e)===!1&&this.orderOfIndexes.splice(r,0,e),this.runLocalHooks("change"),!0):!1}clearValue(e){this.orderOfIndexes=Pm(this.orderOfIndexes,[e]),Ht(this.initValueOrFn)?super.setValueAtIndex(e,this.initValueOrFn(e)):super.setValueAtIndex(e,this.initValueOrFn)}getLength(){return this.orderOfIndexes.length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,super.setDefaultValues(e)}insert(e,n){this.indexedValues=Xx(this.indexedValues,e,n,this.initValueOrFn),this.orderOfIndexes=eP(this.orderOfIndexes,n),super.insert(e,n)}remove(e){this.indexedValues=Zx(this.indexedValues,e),this.orderOfIndexes=Pm(this.orderOfIndexes,e),this.orderOfIndexes=Jx(this.orderOfIndexes,e),super.remove(e)}getEntries(){return this.orderOfIndexes.map(e=>[e,this.getValueAtIndex(e)])}}class yp extends Yl{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getTrimmedIndexes(){return kr(this.getValues(),(e,n,r)=>(n&&e.push(r),e),[])}}const VH=new Map([["indexesSequence",{getListWithInsertedItems:Qx,getListWithRemovedItems:Pm}],["physicallyIndexed",{getListWithInsertedItems:Xx,getListWithRemovedItems:Zx}]]),LW=t=>{if(VH.has(t)===!1)throw new Error(`Alter strategy with ID '${t}' does not exist.`);return VH.get(t)};class $W extends Ac{constructor(){super(e=>e)}insert(e,n){const r=eP(this.indexedValues,n);this.indexedValues=Qx(r,e,n),super.insert(e,n)}remove(e){const n=Pm(this.indexedValues,e);this.indexedValues=Jx(n,e),super.remove(e)}}const WH=new Map([["hiding",dS],["index",Ac],["linkedPhysicalIndexToValue",fS],["physicalIndexToValue",Yl],["trimming",yp]]);function Spe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!WH.has(t))throw new Error(`The provided map type ("${t}") does not exist.`);return new(WH.get(t))(e)}function Rpe(t,e,n){return(e=Epe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Epe(t){var e=_pe(t,"string");return typeof e=="symbol"?e:e+""}function _pe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tP{constructor(){Rpe(this,"collection",new Map)}register(e,n){this.collection.has(e)===!1&&(this.collection.set(e,n),n.addLocalHook("change",()=>this.runLocalHooks("change",n)))}unregister(e){const n=this.collection.get(e);xe(n)&&(n.destroy(),this.collection.delete(e),this.runLocalHooks("change",n))}unregisterAll(){this.collection.forEach((e,n)=>this.unregister(n)),this.collection.clear()}get(e){return $t(e)?Array.from(this.collection.values()):this.collection.get(e)}getLength(){return this.collection.size}removeFromEvery(e){this.collection.forEach(n=>{n.remove(e)})}insertToEvery(e,n){this.collection.forEach(r=>{r.insert(e,n)})}initEvery(e){this.collection.forEach(n=>{n.init(e)})}}xt(tP,ir);function SR(t,e,n){return(e=Tpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tpe(t){var e=Ope(t,"string");return typeof e=="symbol"?e:e+""}function Ope(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class UH extends tP{constructor(e,n){super(),SR(this,"mergedValuesCache",[]),SR(this,"aggregationFunction",void 0),SR(this,"fallbackValue",void 0),this.aggregationFunction=e,this.fallbackValue=n}getMergedValues(){if((arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0)return this.mergedValuesCache;if(this.getLength()===0)return[];const n=it(this.get(),o=>o.getValues()),r=[],i=xe(n[0])&&n[0].length||0;for(let o=0;o<i;o+=1){const s=[];for(let a=0;a<this.getLength();a+=1)s.push(n[a][o]);r.push(s)}return it(r,this.aggregationFunction)}getMergedValueAtIndex(e,n){const r=this.getMergedValues(n)[e];return xe(r)?r:this.fallbackValue}updateCache(){this.mergedValuesCache=this.getMergedValues(!1)}}function xpe(t,e,n){Ppe(t,e),e.set(t,n)}function Ppe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mpe(t,e,n){return t.set(FW(t,e),n),n}function Ape(t,e){return t.get(FW(t,e))}function FW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var RR=new WeakMap;class BW{constructor(){xpe(this,RR,[])}subscribe(e){return this.addLocalHook("change",e),this._write(Ape(RR,this)),this}unsubscribe(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}_write(e){return e.length>0&&this.runLocalHooks("change",e),this}_writeInitialChanges(e){Mpe(RR,this,e)}}xt(BW,ir);function zH(t,e){const n=[];let r=0,i=0;for(;r<t.length&&i<e.length;r++,i++)t[r]!==e[i]&&n.push({op:"replace",index:i,oldValue:t[r],newValue:e[i]});for(;r<e.length;r++)n.push({op:"insert",index:r,oldValue:void 0,newValue:e[r]});for(;i<t.length;i++)n.push({op:"remove",index:i,oldValue:t[i],newValue:void 0});return n}function Mf(t,e,n){Ipe(t,e),e.set(t,n)}function Ipe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Pi(t,e){return t.get(jW(t,e))}function xv(t,e,n){return t.set(jW(t,e),n),n}function jW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Pv=new WeakMap,Af=new WeakMap,Mv=new WeakMap,Av=new WeakMap,Iv=new WeakMap;class Npe{constructor(){let{initialIndexValue:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mf(this,Pv,new Set),Mf(this,Af,[]),Mf(this,Mv,[]),Mf(this,Av,!1),Mf(this,Iv,!1),xv(Iv,this,e??!1)}createObserver(){const e=new BW;return Pi(Pv,this).add(e),e.addLocalHook("unsubscribe",()=>{Pi(Pv,this).delete(e)}),e._writeInitialChanges(zH(Pi(Af,this),Pi(Mv,this))),e}emit(e){let n=Pi(Mv,this);(!Pi(Av,this)||Pi(Af,this).length!==e.length)&&(e.length===0?e=new Array(n.length).fill(Pi(Iv,this)):xv(Af,this,new Array(e.length).fill(Pi(Iv,this))),Pi(Av,this)||(xv(Av,this,!0),n=Pi(Af,this)));const r=zH(n,e);Pi(Pv,this).forEach(i=>i._write(r)),xv(Mv,this,e)}}function wr(t,e,n){return(e=kpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kpe(t){var e=Hpe(t,"string");return typeof e=="symbol"?e:e+""}function Hpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class j_{constructor(){wr(this,"indexesSequence",new $W),wr(this,"trimmingMapsCollection",new UH(e=>e.some(n=>n===!0),!1)),wr(this,"hidingMapsCollection",new UH(e=>e.some(n=>n===!0),!1)),wr(this,"variousMapsCollection",new tP),wr(this,"hidingChangesObservable",new Npe({initialIndexValue:!1})),wr(this,"notTrimmedIndexesCache",[]),wr(this,"notHiddenIndexesCache",[]),wr(this,"isBatched",!1),wr(this,"indexesSequenceChanged",!1),wr(this,"indexesChangeSource",void 0),wr(this,"trimmedIndexesChanged",!1),wr(this,"hiddenIndexesChanged",!1),wr(this,"renderablePhysicalIndexesCache",[]),wr(this,"fromPhysicalToVisualIndexesCache",new Map),wr(this,"fromVisualToRenderableIndexesCache",new Map),this.indexesSequence.addLocalHook("change",()=>{this.indexesSequenceChanged=!0,this.updateCache(),this.runLocalHooks("indexesSequenceChange",this.indexesChangeSource),this.runLocalHooks("change",this.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",e=>{this.trimmedIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",e=>{this.hiddenIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",e=>{this.runLocalHooks("change",e,this.variousMapsCollection)})}suspendOperations(){this.isBatched=!0}resumeOperations(){this.isBatched=!1,this.updateCache()}createChangesObserver(e){if(e!=="hiding")throw new Error(`Unsupported index map type "${e}".`);return this.hidingChangesObservable.createObserver()}createAndRegisterIndexMap(e,n,r){return this.registerMap(e,Spe(n,r))}registerMap(e,n){if(this.trimmingMapsCollection.get(e)||this.hidingMapsCollection.get(e)||this.variousMapsCollection.get(e))throw Error(`Map with name "${e}" has been already registered.`);n instanceof yp?this.trimmingMapsCollection.register(e,n):n instanceof dS?this.hidingMapsCollection.register(e,n):this.variousMapsCollection.register(e,n);const r=this.getNumberOfIndexes();return r>0&&n.init(r),n}unregisterMap(e){this.trimmingMapsCollection.unregister(e),this.hidingMapsCollection.unregister(e),this.variousMapsCollection.unregister(e)}unregisterAll(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}getPhysicalFromVisualIndex(e){const n=this.notTrimmedIndexesCache[e];return xe(n)?n:null}getPhysicalFromRenderableIndex(e){const n=this.renderablePhysicalIndexesCache[e];return xe(n)?n:null}getVisualFromPhysicalIndex(e){const n=this.fromPhysicalToVisualIndexesCache.get(e);return xe(n)?n:null}getVisualFromRenderableIndex(e){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(e))}getRenderableFromVisualIndex(e){const n=this.fromVisualToRenderableIndexesCache.get(e);return xe(n)?n:null}getNearestNotHiddenIndex(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.getPhysicalFromVisualIndex(e)===null)return null;if(this.fromVisualToRenderableIndexesCache.has(e))return e;const o=Array.from(this.fromVisualToRenderableIndexesCache.keys());let s=-1;return n>0?s=o.findIndex(a=>a>e):s=o.reverse().findIndex(a=>a<e),s===-1?r?this.getNearestNotHiddenIndex(e,-n,!1):null:o[s]}initToLength(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=[...new Array(e).keys()],this.notHiddenIndexesCache=[...new Array(e).keys()],this.suspendOperations(),this.indexesChangeSource="init",this.indexesSequence.init(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.initEvery(e),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(e),this.variousMapsCollection.initEvery(e),this.resumeOperations(),this.runLocalHooks("init")}fitToLength(e){const n=this.getNumberOfIndexes();if(e<n){const r=[...Array(this.getNumberOfIndexes()-e).keys()].map(i=>i+e);this.removeIndexes(r)}else this.insertIndexes(n,e-n)}getIndexesSequence(){return this.indexesSequence.getValues()}setIndexesSequence(e){this.indexesChangeSource===void 0&&(this.indexesChangeSource="update"),this.indexesSequence.setValues(e),this.indexesChangeSource==="update"&&(this.indexesChangeSource=void 0)}getNotTrimmedIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notTrimmedIndexesCache:this.getIndexesSequence().filter(r=>this.isTrimmed(r)===!1)}getNotTrimmedIndexesLength(){return this.getNotTrimmedIndexes().length}getNotHiddenIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notHiddenIndexesCache:this.getIndexesSequence().filter(r=>this.isHidden(r)===!1)}getNotHiddenIndexesLength(){return this.getNotHiddenIndexes().length}getRenderableIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.renderablePhysicalIndexesCache:this.getNotTrimmedIndexes().filter(r=>this.isHidden(r)===!1)}getRenderableIndexesLength(){return this.getRenderableIndexes().length}getNumberOfIndexes(){return this.getIndexesSequence().length}moveIndexes(e,n){typeof e=="number"&&(e=[e]);const r=it(e,u=>this.getPhysicalFromVisualIndex(u)),i=this.getNotTrimmedIndexesLength(),o=e.length,s=Pm(this.getIndexesSequence(),r),a=s.filter(u=>this.isTrimmed(u)===!1);let l=s.indexOf(a[a.length-1])+1;if(n+o<i){const u=a[n];l=s.indexOf(u)}this.indexesChangeSource="move",this.setIndexesSequence(Qx(s,l,r)),this.indexesChangeSource=void 0}isTrimmed(e){return this.trimmingMapsCollection.getMergedValueAtIndex(e)}isHidden(e){return this.hidingMapsCollection.getMergedValueAtIndex(e)}insertIndexes(e,n){const r=this.getNotTrimmedIndexes()[e],i=xe(r)?r:this.getNumberOfIndexes(),o=this.getIndexesSequence().includes(r)?this.getIndexesSequence().indexOf(r):this.getNumberOfIndexes(),s=it(new Array(n).fill(i),(a,l)=>a+l);this.suspendOperations(),this.indexesChangeSource="insert",this.indexesSequence.insert(o,s),this.indexesChangeSource=void 0,this.trimmingMapsCollection.insertToEvery(o,s),this.hidingMapsCollection.insertToEvery(o,s),this.variousMapsCollection.insertToEvery(o,s),this.resumeOperations()}removeIndexes(e){this.suspendOperations(),this.indexesChangeSource="remove",this.indexesSequence.remove(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.removeFromEvery(e),this.hidingMapsCollection.removeFromEvery(e),this.variousMapsCollection.removeFromEvery(e),this.resumeOperations()}updateCache(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(e===!0||this.isBatched===!1&&n===!0)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}cacheFromPhysicalToVisualIndexes(){const e=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(let n=0;n<e;n+=1){const r=this.getPhysicalFromVisualIndex(n);this.fromPhysicalToVisualIndexesCache.set(r,n)}}cacheFromVisualToRenderableIndexes(){const e=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(let n=0;n<e;n+=1){const r=this.getPhysicalFromRenderableIndex(n),i=this.getVisualFromPhysicalIndex(r);this.fromVisualToRenderableIndexesCache.set(i,n)}}}xt(j_,ir);function Dpe(t,e){return Qe(e,(n,r)=>{$t(t[r])&&(t[r]=n)}),t}function VW(t){const n=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(t);return n?`${n[1].toLowerCase()}-${n[2].toUpperCase()}`:t}function WW(t){xe(t)&&Ox(St`Language with code "${t}" was not found. You should register particular language\x20
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`)}function Lpe(t,e){return Array.isArray(t)&&Number.isInteger(e)?t[e]:t}const{register:$pe,getValues:Fpe}=jo("phraseFormatters");function Bpe(t,e){$pe(t,e)}function jpe(){return Fpe()}Bpe("pluralize",Lpe);const UW="ContextMenu:items",ze=UW,nP=`${ze}.noItems`,rP=`${ze}.insertRowAbove`,iP=`${ze}.insertRowBelow`,oP=`${ze}.insertColumnOnTheLeft`,sP=`${ze}.insertColumnOnTheRight`,aP=`${ze}.removeRow`,lP=`${ze}.removeColumn`,uP=`${ze}.undo`,cP=`${ze}.redo`,CC=`${ze}.readOnly`,hP=`${ze}.clearColumn`,dP=`${ze}.copy`,fP=`${ze}.copyWithHeaders`,gP=`${ze}.copyWithGroupHeaders`,mP=`${ze}.copyHeadersOnly`,pP=`${ze}.cut`,vP=`${ze}.freezeColumn`,yP=`${ze}.unfreezeColumn`,wP=`${ze}.mergeCells`,CP=`${ze}.unmergeCells`,bP=`${ze}.addComment`,SP=`${ze}.editComment`,RP=`${ze}.removeComment`,EP=`${ze}.readOnlyComment`,_P=`${ze}.align`,bC=`${ze}.align.left`,SC=`${ze}.align.center`,RC=`${ze}.align.right`,EC=`${ze}.align.justify`,_C=`${ze}.align.top`,TC=`${ze}.align.middle`,OC=`${ze}.align.bottom`,TP=`${ze}.borders`,OP=`${ze}.borders.top`,xP=`${ze}.borders.right`,PP=`${ze}.borders.bottom`,MP=`${ze}.borders.left`,AP=`${ze}.borders.remove`,IP=`${ze}.nestedHeaders.insertChildRow`,NP=`${ze}.nestedHeaders.detachFromParent`,kP=`${ze}.hideColumn`,HP=`${ze}.showColumn`,DP=`${ze}.hideRow`,LP=`${ze}.showRow`,Hr="Filters:",cn=`${Hr}conditions`,gS=`${cn}.none`,$P=`${cn}.isEmpty`,FP=`${cn}.isNotEmpty`,BP=`${cn}.isEqualTo`,jP=`${cn}.isNotEqualTo`,VP=`${cn}.beginsWith`,WP=`${cn}.endsWith`,UP=`${cn}.contains`,zP=`${cn}.doesNotContain`,Vpe=`${cn}.byValue`,YP=`${cn}.greaterThan`,GP=`${cn}.greaterThanOrEqualTo`,KP=`${cn}.lessThan`,qP=`${cn}.lessThanOrEqualTo`,XP=`${cn}.isBetween`,ZP=`${cn}.isNotBetween`,QP=`${cn}.after`,JP=`${cn}.before`,eM=`${cn}.today`,tM=`${cn}.tomorrow`,nM=`${cn}.yesterday`,rM=`${Hr}labels.filterByCondition`,iM=`${Hr}labels.filterByValue`,oM=`${Hr}labels.conjunction`,mS=`${Hr}labels.disjunction`,xC=`${Hr}values.blankCells`,sM=`${Hr}buttons.selectAll`,aM=`${Hr}buttons.clear`,lM=`${Hr}buttons.ok`,uM=`${Hr}buttons.cancel`,cM=`${Hr}buttons.placeholder.search`,hM=`${Hr}buttons.placeholder.value`,dM=`${Hr}buttons.placeholder.secondValue`,fM="CheckboxRenderer:",gM=`${fM}checked`,mM=`${fM}unchecked`,Wpe=Object.freeze(Object.defineProperty({__proto__:null,CHECKBOX_CHECKED:gM,CHECKBOX_RENDERER_NAMESPACE:fM,CHECKBOX_UNCHECKED:mM,CONTEXTMENU_ITEMS_ADD_COMMENT:bP,CONTEXTMENU_ITEMS_ALIGNMENT:_P,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:OC,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:SC,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:EC,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:bC,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:TC,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:RC,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:_C,CONTEXTMENU_ITEMS_BORDERS:TP,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:PP,CONTEXTMENU_ITEMS_BORDERS_LEFT:MP,CONTEXTMENU_ITEMS_BORDERS_RIGHT:xP,CONTEXTMENU_ITEMS_BORDERS_TOP:OP,CONTEXTMENU_ITEMS_CLEAR_COLUMN:hP,CONTEXTMENU_ITEMS_COPY:dP,CONTEXTMENU_ITEMS_COPY_COLUMN_HEADERS_ONLY:mP,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_GROUP_HEADERS:gP,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_HEADERS:fP,CONTEXTMENU_ITEMS_CUT:pP,CONTEXTMENU_ITEMS_EDIT_COMMENT:SP,CONTEXTMENU_ITEMS_FREEZE_COLUMN:vP,CONTEXTMENU_ITEMS_HIDE_COLUMN:kP,CONTEXTMENU_ITEMS_HIDE_ROW:DP,CONTEXTMENU_ITEMS_INSERT_LEFT:oP,CONTEXTMENU_ITEMS_INSERT_RIGHT:sP,CONTEXTMENU_ITEMS_MERGE_CELLS:wP,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:NP,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:IP,CONTEXTMENU_ITEMS_NO_ITEMS:nP,CONTEXTMENU_ITEMS_READ_ONLY:CC,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:EP,CONTEXTMENU_ITEMS_REDO:cP,CONTEXTMENU_ITEMS_REMOVE_BORDERS:AP,CONTEXTMENU_ITEMS_REMOVE_COLUMN:lP,CONTEXTMENU_ITEMS_REMOVE_COMMENT:RP,CONTEXTMENU_ITEMS_REMOVE_ROW:aP,CONTEXTMENU_ITEMS_ROW_ABOVE:rP,CONTEXTMENU_ITEMS_ROW_BELOW:iP,CONTEXTMENU_ITEMS_SHOW_COLUMN:HP,CONTEXTMENU_ITEMS_SHOW_ROW:LP,CONTEXTMENU_ITEMS_UNDO:uP,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:yP,CONTEXTMENU_ITEMS_UNMERGE_CELLS:CP,CONTEXT_MENU_ITEMS_NAMESPACE:UW,FILTERS_BUTTONS_CANCEL:uM,FILTERS_BUTTONS_CLEAR:aM,FILTERS_BUTTONS_OK:lM,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:cM,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:dM,FILTERS_BUTTONS_PLACEHOLDER_VALUE:hM,FILTERS_BUTTONS_SELECT_ALL:sM,FILTERS_CONDITIONS_AFTER:QP,FILTERS_CONDITIONS_BEFORE:JP,FILTERS_CONDITIONS_BEGINS_WITH:VP,FILTERS_CONDITIONS_BETWEEN:XP,FILTERS_CONDITIONS_BY_VALUE:Vpe,FILTERS_CONDITIONS_CONTAINS:UP,FILTERS_CONDITIONS_EMPTY:$P,FILTERS_CONDITIONS_ENDS_WITH:WP,FILTERS_CONDITIONS_EQUAL:BP,FILTERS_CONDITIONS_GREATER_THAN:YP,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:GP,FILTERS_CONDITIONS_LESS_THAN:KP,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:qP,FILTERS_CONDITIONS_NAMESPACE:cn,FILTERS_CONDITIONS_NONE:gS,FILTERS_CONDITIONS_NOT_BETWEEN:ZP,FILTERS_CONDITIONS_NOT_CONTAIN:zP,FILTERS_CONDITIONS_NOT_EMPTY:FP,FILTERS_CONDITIONS_NOT_EQUAL:jP,FILTERS_CONDITIONS_TODAY:eM,FILTERS_CONDITIONS_TOMORROW:tM,FILTERS_CONDITIONS_YESTERDAY:nM,FILTERS_DIVS_FILTER_BY_CONDITION:rM,FILTERS_DIVS_FILTER_BY_VALUE:iM,FILTERS_LABELS_CONJUNCTION:oM,FILTERS_LABELS_DISJUNCTION:mS,FILTERS_NAMESPACE:Hr,FILTERS_VALUES_BLANK_CELLS:xC},Symbol.toStringTag,{value:"Module"}));/**
 * @preserve
 * Authors: Handsoncode
 * Last updated: Nov 15, 2017
 *
 * Description: Definition file for English - United States language-country.
 */const zW={languageCode:"en-US",[nP]:"No available options",[rP]:"Insert row above",[iP]:"Insert row below",[oP]:"Insert column left",[sP]:"Insert column right",[aP]:["Remove row","Remove rows"],[lP]:["Remove column","Remove columns"],[uP]:"Undo",[cP]:"Redo",[CC]:"Read only",[hP]:"Clear column",[_P]:"Alignment",[bC]:"Left",[SC]:"Center",[RC]:"Right",[EC]:"Justify",[_C]:"Top",[TC]:"Middle",[OC]:"Bottom",[vP]:"Freeze column",[yP]:"Unfreeze column",[TP]:"Borders",[OP]:"Top",[xP]:"Right",[PP]:"Bottom",[MP]:"Left",[AP]:"Remove border(s)",[bP]:"Add comment",[SP]:"Edit comment",[RP]:"Delete comment",[EP]:"Read-only comment",[wP]:"Merge cells",[CP]:"Unmerge cells",[dP]:"Copy",[fP]:["Copy with header","Copy with headers"],[gP]:["Copy with group header","Copy with group headers"],[mP]:["Copy header only","Copy headers only"],[pP]:"Cut",[IP]:"Insert child row",[NP]:"Detach from parent",[kP]:["Hide column","Hide columns"],[HP]:["Show column","Show columns"],[DP]:["Hide row","Hide rows"],[LP]:["Show row","Show rows"],[gS]:"None",[$P]:"Is empty",[FP]:"Is not empty",[BP]:"Is equal to",[jP]:"Is not equal to",[VP]:"Begins with",[WP]:"Ends with",[UP]:"Contains",[zP]:"Does not contain",[YP]:"Greater than",[GP]:"Greater than or equal to",[KP]:"Less than",[qP]:"Less than or equal to",[XP]:"Is between",[ZP]:"Is not between",[QP]:"After",[JP]:"Before",[eM]:"Today",[tM]:"Tomorrow",[nM]:"Yesterday",[xC]:"Blank cells",[rM]:"Filter by condition",[iM]:"Filter by value",[oM]:"And",[mS]:"Or",[sM]:"Select all",[aM]:"Clear",[lM]:"OK",[uM]:"Cancel",[cM]:"Search",[hM]:"Value",[dM]:"Second value",[gM]:"Checked",[mM]:"Unchecked"},Upe=Wpe,V_=zW.languageCode,{register:zpe,getItem:YW,hasItem:Ype,getValues:Gpe}=jo("languagesDictionaries");GW(zW);function GW(t,e){let n=t,r=e;return Ze(t)&&(r=t,n=r.languageCode),Kpe(n,r),zpe(n,Ar(r)),Ar(r)}function Kpe(t,e){t!==V_&&Dpe(e,YW(V_))}function KW(t){return pM(t)?Ar(YW(t)):null}function pM(t){return Ype(t)}function qpe(){return Gpe()}function qW(t,e,n){const r=KW(t);if(r===null)return null;const i=r[e];if($t(i))return null;const o=Xpe(i,n);return Array.isArray(o)?o[0]:o}function Xpe(t,e){let n=t;return G(jpe(),r=>{n=r(t,e)}),n}function Zpe(t){let e=VW(t);return pM(e)||(e=V_,WW(t)),e}function Qpe(t,e,n){return(e=Jpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jpe(t){var e=eve(t,"string");return typeof e=="symbol"?e:e+""}function eve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Na extends OW{constructor(e,n){super(e,null),Qpe(this,"visualCellRange",null),this.visualCellRange=n||null,this.commit()}add(e){return this.visualCellRange===null?this.visualCellRange=this.settings.createCellRange(e):this.visualCellRange.expand(e),this}clear(){return this.visualCellRange=null,super.clear()}trimToVisibleCellsRangeOnly(e){let{from:n,to:r}=e,i=this.getNearestNotHiddenCoords(n,1),o=this.getNearestNotHiddenCoords(r,-1);return i===null||o===null?null:((i.row>o.row||i.col>o.col)&&(i=n,o=r),this.settings.createCellRange(i,i,o))}getNearestNotHiddenCoords(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n;const i=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper,e.row,n);if(i===null)return null;const o=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper,e.col,r);return o===null?null:this.settings.createCellCoords(i,o)}getNearestNotHiddenIndex(e,n,r){return n<0?n:e.getNearestNotHiddenIndex(n,r)}commit(){if(this.visualCellRange===null)return this;const e=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return e===null?this.cellRange=null:this.cellRange=this.createRenderableCellRange(e.from,e.to),this}syncWith(e){const n=e.from.clone().normalize(),r=e.getVerticalDirection()==="N-S"?1:-1,i=e.getHorizontalDirection()==="W-E"?1:-1,o=this.settings.visualToRenderableCoords(this.visualCellRange.highlight);let s=null;if((o===null||o.col===null||o.row===null)&&(s=this.getNearestNotHiddenCoords(n,r,i)),s!==null&&e.overlaps(s)){const a=e.highlight.clone();if(a.row>=0&&(a.row=s.row),a.col>=0&&(a.col=s.col),this.cellRange===null){const l=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(l)}e.setHighlight(a)}return this.settings.selectionType==="focus"&&o!==null&&s===null&&e.setHighlight(this.visualCellRange.highlight),this}getCorners(){const{from:e,to:n}=this.cellRange;return[Math.min(e.row,n.row),Math.min(e.col,n.col),Math.max(e.row,n.row),Math.max(e.col,n.col)]}getVisualCorners(){const e=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),n=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[e.row,e.col,n.row,n.col]}createRenderableCellRange(e,n){const r=this.settings.visualToRenderableCoords(e),i=this.settings.visualToRenderableCoords(n);return r.row===null||r.col===null||i.row===null||i.col===null?null:this.settings.createCellRange(r,r,i)}}function ER(t){let{activeHeaderClassName:e,...n}=t;return new Na({className:e,...n,selectionType:xW})}function tve(t){let{areaCornerVisible:e,...n}=t;return new Na({className:"area",createLayers:!0,border:{width:1,color:"#4b89ff",cornerVisible:e},...n,selectionType:Bx})}function nve(t){let{...e}=t;return new Na({className:"highlight",...e,selectionType:Bx})}function rve(t){let{columnClassName:e,...n}=t;return new Na({className:e,...n,selectionType:Pme})}function ive(t){let{cellCornerVisible:e,...n}=t;return new Na({className:"current",headerAttributes:[px()],border:{width:2,color:"#4b89ff",cornerVisible:e},...n,selectionType:jx})}function ove(t){let{border:e,visualCellRange:n,...r}=t;return new Na({...e,...r,selectionType:Mme},n)}function sve(t){let{...e}=t;return new Na({className:"fill",border:{width:1,color:"#ff0000"},...e,selectionType:Ome})}function YH(t){let{headerClassName:e,...n}=t;return new Na({className:e,...n,selectionType:Fx})}function ave(t){let{rowClassName:e,...n}=t;return new Na({className:e,...n,selectionType:xme})}function lve(t,e){uve(t,e),e.add(t)}function uve(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $r(t,e,n){return(e=cve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cve(t){var e=hve(t,"string");return typeof e=="symbol"?e:e+""}function hve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ws(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var qo=new WeakSet;class dve{constructor(e){lve(this,qo),$r(this,"options",void 0),$r(this,"layerLevel",0),$r(this,"focus",void 0),$r(this,"fill",void 0),$r(this,"layeredAreas",new Map),$r(this,"areas",new Map),$r(this,"rowHeaders",new Map),$r(this,"columnHeaders",new Map),$r(this,"activeRowHeaders",new Map),$r(this,"activeColumnHeaders",new Map),$r(this,"activeCornerHeaders",new Map),$r(this,"rowHighlights",new Map),$r(this,"columnHighlights",new Map),$r(this,"customSelections",[]),this.options=e,this.focus=ive(e),this.fill=sve(e)}isEnabledFor(e,n){let r=e;e===jx&&(r="current");let i=this.options.disabledCellSelection(n.row,n.col);return typeof i=="string"&&(i=[i]),i===!1||Array.isArray(i)&&!i.includes(r)}useLayerLevel(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.layerLevel=e,this}getFocus(){return this.focus}getFill(){return this.fill}createLayeredArea(){return Ws(qo,this,Us).call(this,this.layeredAreas,tve)}getLayeredAreas(){return[...this.layeredAreas.values()]}createArea(){return Ws(qo,this,Us).call(this,this.areas,nve)}getAreas(){return[...this.areas.values()]}createRowHeader(){return Ws(qo,this,Us).call(this,this.rowHeaders,YH)}getRowHeaders(){return[...this.rowHeaders.values()]}createColumnHeader(){return Ws(qo,this,Us).call(this,this.columnHeaders,YH)}getColumnHeaders(){return[...this.columnHeaders.values()]}createActiveRowHeader(){return Ws(qo,this,Us).call(this,this.activeRowHeaders,ER)}getActiveRowHeaders(){return[...this.activeRowHeaders.values()]}createActiveColumnHeader(){return Ws(qo,this,Us).call(this,this.activeColumnHeaders,ER)}getActiveColumnHeaders(){return[...this.activeColumnHeaders.values()]}createActiveCornerHeader(){return Ws(qo,this,Us).call(this,this.activeCornerHeaders,ER)}getActiveCornerHeaders(){return[...this.activeCornerHeaders.values()]}createRowHighlight(){return Ws(qo,this,Us).call(this,this.rowHighlights,ave)}getRowHighlights(){return[...this.rowHighlights.values()]}createColumnHighlight(){return Ws(qo,this,Us).call(this,this.columnHighlights,rve)}getColumnHighlights(){return[...this.columnHighlights.values()]}getCustomSelections(){return[...this.customSelections.values()]}addCustomSelection(e){this.customSelections.push(ove({...this.options,...e}))}clear(){this.focus.clear(),this.fill.clear(),G(this.areas.values(),e=>void e.clear()),G(this.layeredAreas.values(),e=>void e.clear()),G(this.rowHeaders.values(),e=>void e.clear()),G(this.columnHeaders.values(),e=>void e.clear()),G(this.activeRowHeaders.values(),e=>void e.clear()),G(this.activeColumnHeaders.values(),e=>void e.clear()),G(this.activeCornerHeaders.values(),e=>void e.clear()),G(this.rowHighlights.values(),e=>void e.clear()),G(this.columnHighlights.values(),e=>void e.clear())}[Symbol.iterator](){return[this.focus,this.fill,...this.areas.values(),...this.layeredAreas.values(),...this.rowHeaders.values(),...this.columnHeaders.values(),...this.activeRowHeaders.values(),...this.activeColumnHeaders.values(),...this.activeCornerHeaders.values(),...this.rowHighlights.values(),...this.columnHighlights.values(),...this.customSelections][Symbol.iterator]()}}function Us(t,e){const n=this.layerLevel;if(t.has(n))return t.get(n);const r=e({layerLevel:n,...this.options});return t.set(n,r),r}function GH(t,e,n){return(e=fve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fve(t){var e=gve(t,"string");return typeof e=="symbol"?e:e+""}function gve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mve{constructor(e){GH(this,"ranges",[]),GH(this,"createCellRange",void 0),this.createCellRange=e}isEmpty(){return this.size()===0}set(e){return this.clear(),this.ranges.push(this.createCellRange(e)),this}add(e){return this.ranges.push(this.createCellRange(e)),this}pop(){return this.ranges.pop(),this}current(){return this.peekByIndex(this.size()-1)}previous(){return this.peekByIndex(this.size()-2)}includes(e){return this.ranges.some(n=>n.includes(e))}clear(){return this.ranges.length=0,this}size(){return this.ranges.length}peekByIndex(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n;return e>=0&&e<this.size()&&(n=this.ranges[e]),n}[Symbol.iterator](){return this.ranges[Symbol.iterator]()}}function pve(t,e){XW(t,e),e.add(t)}function _R(t,e,n){XW(t,e),e.set(t,n)}function XW(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ht(t,e){return t.get(Tn(t,e))}function Nv(t,e,n){return t.set(Tn(t,e),n),n}function Tn(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var kv=new WeakMap,kt=new WeakMap,Oo=new WeakMap,kn=new WeakSet;class W_{constructor(e,n){pve(this,kn),_R(this,kv,void 0),_R(this,kt,void 0),_R(this,Oo,{x:0,y:0}),Nv(kv,this,e),Nv(kt,this,n)}transformStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=ht(kt,this).createCellCoords(e,n);let o=ht(kv,this).current().highlight;const s=ht(kt,this).visualToRenderableCoords(o);let a=0,l=0;if(this.runLocalHooks("beforeTransformStart",i),s.row!==null&&s.col!==null){const{width:u,height:c}=Tn(kn,this,ZW).call(this),{row:h,col:d}=Tn(kn,this,qH).call(this,o),f=ht(kt,this).fixedRowsBottom(),g=ht(kt,this).minSpareRows(),v=ht(kt,this).minSpareCols(),y=ht(kt,this).autoWrapRow(),p=ht(kt,this).autoWrapCol(),m=ht(kt,this).createCellCoords(h+i.row,d+i.col);if(m.row>=c){const S=Eo(r&&g>0&&f===0),x=m.col+1,_=ht(kt,this).createCellCoords(m.row-c,x>=u?x-u:x);this.runLocalHooks("beforeColumnWrap",S,Tn(kn,this,Gc).call(this,_),x>=u),S.value?this.runLocalHooks("insertRowRequire",ht(kt,this).countRenderableRows()):p&&m.assign(_)}else if(m.row<0){const S=Eo(p),x=m.col-1,_=ht(kt,this).createCellCoords(c+m.row,x<0?u+x:x);this.runLocalHooks("beforeColumnWrap",S,Tn(kn,this,Gc).call(this,_),x<0),p&&m.assign(_)}if(m.col>=u){const S=Eo(r&&v>0),x=m.row+1,_=ht(kt,this).createCellCoords(x>=c?x-c:x,m.col-u);this.runLocalHooks("beforeRowWrap",S,Tn(kn,this,Gc).call(this,_),x>=c),S.value?this.runLocalHooks("insertColRequire",ht(kt,this).countRenderableColumns()):y&&m.assign(_)}else if(m.col<0){const S=Eo(y),x=m.row-1,_=ht(kt,this).createCellCoords(x<0?c+x:x,u+m.col);this.runLocalHooks("beforeRowWrap",S,Tn(kn,this,Gc).call(this,_),x<0),y&&m.assign(_)}const{rowDir:w,colDir:C}=Tn(kn,this,KH).call(this,m);a=w,l=C,o=Tn(kn,this,Gc).call(this,m)}return this.runLocalHooks("afterTransformStart",o,a,l),o}transformEnd(e,n){const r=ht(kt,this).createCellCoords(e,n),i=ht(kv,this).current(),o=ht(kt,this).visualToRenderableCoords(i.highlight),s=Tn(kn,this,TR).call(this,i.to.row,i.from.row),a=Tn(kn,this,OR).call(this,i.to.col,i.from.col),l=i.to.clone();let u=0,c=0;if(this.runLocalHooks("beforeTransformEnd",r),o.row!==null&&o.col!==null&&s!==null&&a!==null){const{row:h,col:d}=Tn(kn,this,qH).call(this,i.highlight),f=ht(kt,this).createCellCoords(s+r.row,a+r.col),g=i.getTopStartCorner(),v=i.getTopEndCorner(),y=i.getBottomEndCorner();if(r.col<0&&a>=d&&f.col<d){const C=f.col-d;f.col=Tn(kn,this,OR).call(this,g.col,v.col)+C}else if(r.col>0&&a<=d&&f.col>d){const C=Tn(kn,this,OR).call(this,v.col,g.col),S=Math.max(f.col-C,1);f.col=C+S}if(r.row<0&&s>=h&&f.row<h){const C=f.row-h;f.row=Tn(kn,this,TR).call(this,g.row,y.row)+C}else if(r.row>0&&s<=h&&f.row>h){const C=Tn(kn,this,TR).call(this,y.row,g.row),S=Math.max(f.row-C,1);f.row=C+S}const{rowDir:p,colDir:m}=Tn(kn,this,KH).call(this,f);u=p,c=m;const w=Tn(kn,this,Gc).call(this,f);r.row===0&&r.col!==0?l.col=w.col:r.row!==0&&r.col===0?l.row=w.row:(l.row=w.row,l.col=w.col)}return this.runLocalHooks("afterTransformEnd",l,u,c),l}setOffsetSize(e){let{x:n,y:r}=e;Nv(Oo,this,{x:n,y:r})}resetOffsetSize(){Nv(Oo,this,{x:0,y:0})}}function KH(t){const{width:e,height:n}=Tn(kn,this,ZW).call(this);let r=0,i=0;return t.row<0?(r=-1,t.row=0):t.row>0&&t.row>=n&&(r=1,t.row=n-1),t.col<0?(i=-1,t.col=0):t.col>0&&t.col>=e&&(i=1,t.col=e-1),{rowDir:r,colDir:i}}function ZW(){return{width:ht(Oo,this).x+ht(kt,this).countRenderableColumns(),height:ht(Oo,this).y+ht(kt,this).countRenderableRows()}}function TR(t,e){const n=ht(kt,this).findFirstNonHiddenRenderableRow(t,e);return n===null?null:ht(Oo,this).y+n}function OR(t,e){const n=ht(kt,this).findFirstNonHiddenRenderableColumn(t,e);return n===null?null:ht(Oo,this).x+n}function qH(t){const{row:e,col:n}=ht(kt,this).visualToRenderableCoords(t);if(e===null||n===null)throw new Error("Renderable coords are not visible.");return ht(kt,this).createCellCoords(ht(Oo,this).y+e,ht(Oo,this).x+n)}function Gc(t){const e=t.clone();return e.col=t.col-ht(Oo,this).x,e.row=t.row-ht(Oo,this).y,ht(kt,this).renderableToVisualCoords(e)}xt(W_,ir);const pS=0,vS=1,QW=2,vM=3,vve=[vM,QW],yve=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],xR=Symbol("root"),XH=Symbol("child");function vd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xR;if(e!==xR&&e!==XH)throw new Error("The second argument is used internally only and cannot be overwritten.");const n=Array.isArray(t),r=e===xR;let i=pS;if(n){const o=t[0];t.length===0?i=vS:r&&o instanceof mp?i=vM:r&&Array.isArray(o)?i=vd(o,XH):t.length>=2&&t.length<=4&&!t.some((a,l)=>!yve[l].includes(typeof a))&&(i=QW)}return i}function Mm(t){let{createCellCoords:e,createCellRange:n,keepDirection:r=!1,propToCol:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!vve.includes(t))throw new Error("Unsupported selection ranges schema type was provided.");return function(o){const s=t===vM;let a=s?o.from.row:o[0],l=s?o.from.col:o[1],u=s?o.to.row:o[2],c=s?o.to.col:o[3];if(typeof i=="function"&&(typeof l=="string"&&(l=i(l)),typeof c=="string"&&(c=i(c))),$t(u)&&(u=a),$t(c)&&(c=l),!r){const f=a,g=l,v=u,y=c;a=Math.min(f,v),l=Math.min(g,y),u=Math.max(f,v),c=Math.max(g,y)}const h=e(a,l),d=e(u,c);return n(h,h,d)}}function wve(t){const e=vd(t.getSelected());if(e===pS||e===vS)return[];const n=Mm(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),r=new Set;G(t.getSelected(),s=>{const{from:a,to:l}=n(s),u=Math.max(a.col,0),c=l.col-u+1;G(Array.from(new Array(c),(h,d)=>u+d),h=>{r.has(h)||r.add(h)})});const i=Array.from(r).sort((s,a)=>s-a);return kr(i,(s,a,l,u)=>(l!==0&&a===u[l-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s),[])}function Cve(t){const e=vd(t.getSelected());if(e===pS||e===vS)return[];const n=Mm(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),r=new Set;G(t.getSelected(),s=>{const{from:a,to:l}=n(s),u=Math.max(a.row,0),c=l.row-u+1;G(Array.from(new Array(c),(h,d)=>u+d),h=>{r.has(h)||r.add(h)})});const i=Array.from(r).sort((s,a)=>s-a);return kr(i,(s,a,l,u)=>(l!==0&&a===u[l-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s),[])}function Kc(t,e,n){bve(t,e),e.set(t,n)}function bve(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ou(t,e,n){return(e=Sve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sve(t){var e=Rve(t,"string");return typeof e=="symbol"?e:e+""}function Rve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jt(t,e){return t.get(JW(t,e))}function Xo(t,e,n){return t.set(JW(t,e),n),n}function JW(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ur=new WeakMap,su=new WeakMap,Hv=new WeakMap,If=new WeakMap,Dv=new WeakMap,Nf=new WeakMap;class eU{constructor(e,n){var r=this;ou(this,"settings",void 0),ou(this,"tableProps",void 0),ou(this,"inProgress",!1),ou(this,"selectedRange",new mve((i,o,s)=>this.tableProps.createCellRange(i,o,s))),ou(this,"highlight",void 0),Kc(this,ur,void 0),Kc(this,su,void 0),ou(this,"selectedByRowHeader",new Set),ou(this,"selectedByColumnHeader",new Set),Kc(this,Hv,!1),Kc(this,If,!1),Kc(this,Dv,"unknown"),Kc(this,Nf,-1),this.settings=e,this.tableProps=n,this.highlight=new dve({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,cellAttributes:[px()],rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,disabledCellSelection:(i,o)=>this.tableProps.isDisabledCellSelection(i,o),cellCornerVisible:function(){return r.isCellCornerVisible(...arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible(...arguments)},visualToRenderableCoords:i=>this.tableProps.visualToRenderableCoords(i),renderableToVisualCoords:i=>this.tableProps.renderableToVisualCoords(i),createCellCoords:(i,o)=>this.tableProps.createCellCoords(i,o),createCellRange:(i,o,s)=>this.tableProps.createCellRange(i,o,s)}),Xo(ur,this,new W_(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>this.tableProps.countRenderableRows(),countRenderableColumns:()=>this.tableProps.countRenderableColumns(),visualToRenderableCoords:i=>this.tableProps.visualToRenderableCoords(i),renderableToVisualCoords:i=>this.tableProps.renderableToVisualCoords(i),findFirstNonHiddenRenderableRow:function(){return r.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return r.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(i,o)=>this.tableProps.createCellCoords(i,o),fixedRowsBottom:()=>e.fixedRowsBottom,minSpareRows:()=>e.minSpareRows,minSpareCols:()=>e.minSpareCols,autoWrapRow:()=>e.autoWrapRow,autoWrapCol:()=>e.autoWrapCol})),Xo(su,this,new W_(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>{const i=this.selectedRange.current();return this.tableProps.countRenderableRowsInRange(0,i.getOuterBottomEndCorner().row)},countRenderableColumns:()=>{const i=this.selectedRange.current();return this.tableProps.countRenderableColumnsInRange(0,i.getOuterBottomEndCorner().col)},visualToRenderableCoords:i=>this.tableProps.visualToRenderableCoords(i),renderableToVisualCoords:i=>this.tableProps.renderableToVisualCoords(i),findFirstNonHiddenRenderableRow:function(){return r.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return r.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(i,o)=>this.tableProps.createCellCoords(i,o),fixedRowsBottom:()=>0,minSpareRows:()=>0,minSpareCols:()=>0,autoWrapRow:()=>!0,autoWrapCol:()=>!0})),jt(ur,this).addLocalHook("beforeTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeModifyTransformStart",...o)}),jt(ur,this).addLocalHook("afterTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("afterModifyTransformStart",...o)}),jt(ur,this).addLocalHook("beforeTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeModifyTransformEnd",...o)}),jt(ur,this).addLocalHook("afterTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("afterModifyTransformEnd",...o)}),jt(ur,this).addLocalHook("insertRowRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("insertRowRequire",...o)}),jt(ur,this).addLocalHook("insertColRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("insertColRequire",...o)}),jt(ur,this).addLocalHook("beforeRowWrap",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeRowWrap",...o)}),jt(ur,this).addLocalHook("beforeColumnWrap",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeColumnWrap",...o)}),jt(su,this).addLocalHook("beforeTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeModifyTransformFocus",...o)}),jt(su,this).addLocalHook("afterTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("afterModifyTransformFocus",...o)})}getSelectedRange(){return this.selectedRange}markSource(e){Xo(Dv,this,e)}markEndSource(){Xo(Dv,this,"unknown")}getSelectionSource(){return jt(Dv,this)}setExpectedLayers(e){Xo(Nf,this,e)}begin(){this.inProgress=!0}finish(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1,Xo(Nf,this,-1)}isInProgress(){return this.inProgress}setRangeStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e;const o=this.settings.selectionMode==="multiple",s=$t(n)?this.tableProps.getShortcutManager().isCtrlPressed():n,a=e.clone();Xo(Hv,this,!1),this.runLocalHooks(`beforeSetRangeStart${r?"Only":""}`,a),(!o||o&&!s&&$t(n))&&this.selectedRange.clear(),this.selectedRange.add(a).current().setHighlight(i.clone()),this.getLayerLevel()===0&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),r||this.setRangeEnd(e)}setRangeStartOnly(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e;this.setRangeStart(e,n,!0,r)}setRangeEnd(e){if(this.selectedRange.isEmpty())return;const n=e.clone(),r=this.tableProps.countRows(),i=this.tableProps.countCols(),o=this.selectedRange.current().clone().setTo(e).isSingleHeader();if((r>0||i>0)&&(r===0&&n.col<0&&!o||i===0&&n.row<0&&!o))return;this.runLocalHooks("beforeSetRangeEnd",n),this.begin();const s=this.selectedRange.current();if(this.settings.navigableHeaders||s.highlight.normalize(),this.settings.selectionMode==="single")s.setFrom(s.highlight),s.setTo(s.highlight);else{const l=s.getHorizontalDirection(),u=s.getVerticalDirection(),c=this.isMultiple();s.setTo(n),c&&(l!==s.getHorizontalDirection()||s.getWidth()===1&&!s.includes(s.highlight))&&s.from.assign({col:s.highlight.col}),c&&(u!==s.getVerticalDirection()||s.getHeight()===1&&!s.includes(s.highlight))&&s.from.assign({row:s.highlight.row})}r>0&&i>0&&(!this.settings.navigableHeaders||this.settings.navigableHeaders&&!s.isSingleHeader())&&s.to.normalize(),this.runLocalHooks("beforeHighlightSet"),this.setRangeFocus(this.selectedRange.current().highlight),this.applyAndCommit();const a=jt(Nf,this)===-1||this.selectedRange.size()===jt(Nf,this);this.runLocalHooks("afterSetRangeEnd",e,a)}applyAndCommit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectedRange.current(),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLayerLevel();const r=this.tableProps.countRows(),i=this.tableProps.countCols();n<this.highlight.layerLevel&&(G(this.highlight.getAreas(),g=>void g.clear()),G(this.highlight.getLayeredAreas(),g=>void g.clear()),G(this.highlight.getRowHeaders(),g=>void g.clear()),G(this.highlight.getColumnHeaders(),g=>void g.clear()),G(this.highlight.getActiveRowHeaders(),g=>void g.clear()),G(this.highlight.getActiveColumnHeaders(),g=>void g.clear()),G(this.highlight.getActiveCornerHeaders(),g=>void g.clear()),G(this.highlight.getRowHighlights(),g=>void g.clear()),G(this.highlight.getColumnHighlights(),g=>void g.clear())),this.highlight.useLayerLevel(n);const o=this.highlight.createArea(),s=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),u=this.highlight.createActiveRowHeader(),c=this.highlight.createActiveColumnHeader(),h=this.highlight.createActiveCornerHeader(),d=this.highlight.createRowHighlight(),f=this.highlight.createColumnHighlight();if(o.clear(),s.clear(),a.clear(),l.clear(),u.clear(),c.clear(),h.clear(),d.clear(),f.clear(),this.highlight.isEnabledFor(Bx,e.highlight)&&(this.isMultiple()||n>=1)&&(o.add(e.from).add(e.to).commit(),s.add(e.from).add(e.to).commit(),n===1)){const g=this.selectedRange.previous();this.highlight.useLayerLevel(n-1),this.highlight.createArea().add(g.from).commit().syncWith(g),this.highlight.createLayeredArea().add(g.from).commit().syncWith(g),this.highlight.useLayerLevel(n)}if(this.highlight.isEnabledFor(Fx,e.highlight)){if(!e.isSingleHeader()){const y=this.tableProps.createCellCoords(Math.max(e.from.row,0),-1),p=this.tableProps.createCellCoords(e.to.row,-1),m=this.tableProps.createCellCoords(-1,Math.max(e.from.col,0)),w=this.tableProps.createCellCoords(-1,e.to.col);this.settings.selectionMode==="single"?(a.add(y).commit(),l.add(m).commit(),d.add(y).commit(),f.add(m).commit()):(a.add(y).add(p).commit(),l.add(m).add(w).commit(),d.add(y).add(p).commit(),f.add(m).add(w).commit())}const g=!jt(If,this)&&this.isEntireRowSelected()&&(i>0&&i===e.getWidth()||i===0&&this.isSelectedByRowHeader()),v=!jt(If,this)&&this.isEntireColumnSelected()&&(r>0&&r===e.getHeight()||r===0&&this.isSelectedByColumnHeader());g&&u.add(this.tableProps.createCellCoords(Math.max(e.from.row,0),Math.min(-this.tableProps.countRowHeaders(),-1))).add(this.tableProps.createCellCoords(Math.max(e.to.row,0),-1)).commit(),v&&c.add(this.tableProps.createCellCoords(Math.min(-this.tableProps.countColHeaders(),-1),Math.max(e.from.col,0))).add(this.tableProps.createCellCoords(-1,Math.max(e.to.col,0))).commit(),g&&v&&h.add(this.tableProps.createCellCoords(-this.tableProps.countColHeaders(),-this.tableProps.countRowHeaders())).add(this.tableProps.createCellCoords(-1,-1)).commit()}}setRangeFocus(e){if(this.selectedRange.isEmpty())return;const n=this.selectedRange.current();this.inProgress||this.runLocalHooks("beforeSetFocus",e);const r=this.highlight.getFocus();r.clear(),n.setHighlight(e),this.inProgress||this.runLocalHooks("beforeHighlightSet"),this.highlight.isEnabledFor(jx,n.highlight)&&r.add(n.highlight).commit().syncWith(n),this.inProgress||(Xo(Hv,this,!0),this.runLocalHooks("afterSetFocus",n.highlight))}transformStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.settings.navigableHeaders?jt(ur,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}):jt(ur,this).resetOffsetSize(),this.setRangeStart(jt(ur,this).transformStart(e,n,r))}transformEnd(e,n){this.settings.navigableHeaders?jt(ur,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}):jt(ur,this).resetOffsetSize(),this.setRangeEnd(jt(ur,this).transformEnd(e,n))}transformFocus(e,n){const r=this.selectedRange.current(),{row:i,col:o}=r.getOuterTopStartCorner(),s=this.tableProps.countRenderableColumnsInRange(0,o-1),a=this.tableProps.countRenderableRowsInRange(0,i-1);r.highlight.isHeader()?jt(su,this).setOffsetSize({x:o<0?Math.abs(o):-s,y:i<0?Math.abs(i):-a}):jt(su,this).setOffsetSize({x:o<0?0:-s,y:i<0?0:-a});const l=jt(su,this).transformStart(e,n);this.setRangeFocus(l.normalize())}shiftRows(e,n){if(!this.isSelected())return;const r=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByColumnHeader()||r.getOuterTopStartCorner().row>=e){const{from:i,to:o,highlight:s}=r,a=this.tableProps.countRows(),l=this.isSelectedByRowHeader(),u=this.isSelectedByColumnHeader(),c=u?-1:0,h=u?0:n;this.getSelectedRange().pop();const d=this.tableProps.createCellCoords(_t(i.row+h,c,a-1),i.col),f=this.tableProps.createCellCoords(_t(o.row+n,c,a-1),o.col);this.markSource("shift"),s.row>=e?this.setRangeStartOnly(d,!0,this.tableProps.createCellCoords(_t(s.row+n,0,a-1),s.col)):this.setRangeStartOnly(d,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),u&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(f),this.markEndSource()}}shiftColumns(e,n){if(!this.isSelected())return;const r=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByRowHeader()||r.getOuterTopStartCorner().col>=e){const{from:i,to:o,highlight:s}=r,a=this.tableProps.countCols(),l=this.isSelectedByRowHeader(),u=this.isSelectedByColumnHeader(),c=l?-1:0,h=l?0:n;this.getSelectedRange().pop();const d=this.tableProps.createCellCoords(i.row,_t(i.col+h,c,a-1)),f=this.tableProps.createCellCoords(o.row,_t(o.col+n,c,a-1));this.markSource("shift"),s.col>=e?this.setRangeStartOnly(d,!0,this.tableProps.createCellCoords(s.row,_t(s.col+n,0,a-1))):this.setRangeStartOnly(d,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),u&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(f),this.markEndSource()}}getLayerLevel(){return this.selectedRange.size()-1}isSelected(){return!this.selectedRange.isEmpty()}isMultiple(){if(!this.isSelected())return!1;const e=Eo(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",e),e.value}isFocusSelectionChanged(){return this.isSelected()&&jt(Hv,this)}isSelectedByRowHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(e)&&(e===-1?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(e))}isEntireRowSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const n=i=>{const{col:o}=i.getOuterTopStartCorner(),s=this.tableProps.countRowHeaders(),a=this.tableProps.countCols();return(s>0&&o<0||s===0)&&i.getWidth()===a};if(e===-1)return Array.from(this.selectedRange).some(i=>n(i));const r=this.selectedRange.peekByIndex(e);return r?n(r):!1}isSelectedByColumnHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&(e===-1?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(e))}isEntireColumnSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const n=i=>{const{row:o}=i.getOuterTopStartCorner(),s=this.tableProps.countColHeaders(),a=this.tableProps.countRows();return(s>0&&o<0||s===0)&&i.getHeight()===a};if(e===-1)return Array.from(this.selectedRange).some(i=>n(i));const r=this.selectedRange.peekByIndex(e);return r?n(r):!1}isSelectedByAnyHeader(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}isSelectedByCorner(){return this.selectedByColumnHeader.has(this.getLayerLevel())&&this.selectedByRowHeader.has(this.getLayerLevel())}inInSelection(e){return this.selectedRange.includes(e)}isCellCornerVisible(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}isCellVisible(e){const n=this.tableProps.visualToRenderableCoords(e);return n.row!==null&&n.col!==null}isAreaCornerVisible(e){return Number.isInteger(e)&&e!==this.getLayerLevel()?!1:this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}clear(){this.selectedRange.clear(),this.highlight.clear()}deselect(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}selectAll(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{focusPosition:!1,disableHeadersHighlight:!1};const o=this.tableProps.countRows(),s=this.tableProps.countCols(),a=this.tableProps.countRowHeaders(),l=this.tableProps.countColHeaders(),u=r?-l:0,c=n?-a:0;if(u===0&&c===0&&(o===0||s===0))return;let h=(e=this.getSelectedRange().current())===null||e===void 0?void 0:e.highlight;const{focusPosition:d,disableHeadersHighlight:f}=i;Xo(If,this,f),d&&Number.isInteger(d==null?void 0:d.row)&&Number.isInteger(d==null?void 0:d.col)&&(h=this.tableProps.createCellCoords(_t(d.row,u,o-1),_t(d.col,c,s-1)));const g=this.tableProps.createCellCoords(u,c),v=this.tableProps.createCellCoords(o-1,s-1);this.clear(),this.setRangeStartOnly(g,void 0,h),c<0&&this.selectedByRowHeader.add(this.getLayerLevel()),u<0&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(v),this.finish(),Xo(If,this,!1)}selectCells(e){var n=this;const r=vd(e);if(r===vS)return!1;if(r===pS)throw new Error(St`Unsupported format of the selection ranges was passed. To select cells pass\x20
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\x20
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`);const i=Mm(r,{createCellCoords:function(){return n.tableProps.createCellCoords(...arguments)},createCellRange:function(){return n.tableProps.createCellRange(...arguments)},propToCol:l=>this.tableProps.propToCol(l),keepDirection:!0}),o=this.settings.navigableHeaders,s={countRows:this.tableProps.countRows(),countCols:this.tableProps.countCols(),countRowHeaders:o?this.tableProps.countRowHeaders():0,countColHeaders:o?this.tableProps.countColHeaders():0},a=!e.some(l=>{const u=i(l),c=u.isValid(s);return!(c&&!u.containsHeaders()||c&&u.containsHeaders()&&u.isSingleHeader())});return a&&(this.clear(),this.setExpectedLayers(e.length),G(e,l=>{const{from:u,to:c}=i(l);this.setRangeStartOnly(u.clone(),!1),this.setRangeEnd(c.clone())}),this.finish()),a}selectColumns(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const i=typeof e=="string"?this.tableProps.propToCol(e):e,o=typeof n=="string"?this.tableProps.propToCol(n):n,s=this.tableProps.countRows(),a=this.tableProps.countCols(),l=this.tableProps.countColHeaders(),u=l===0?0:-l,c=this.tableProps.createCellCoords(u,i),h=this.tableProps.createCellCoords(s-1,o),d=this.tableProps.createCellRange(c,c,h).isValid({countRows:s,countCols:a,countRowHeaders:0,countColHeaders:l});if(d){let f=0,g=0;Number.isInteger(r==null?void 0:r.row)&&Number.isInteger(r==null?void 0:r.col)?(f=_t(r.row,u,s-1),g=_t(r.col,Math.min(i,o),Math.max(i,o))):(f=_t(r,u,s-1),g=i);const v=this.tableProps.createCellCoords(f,g),y=l===0?0:_t(v.row,u,-1),p=s-1,m=this.tableProps.createCellCoords(y,i),w=this.tableProps.createCellCoords(p,o);this.runLocalHooks("beforeSelectColumns",m,w,v),m.row=y,w.row=p,this.setRangeStartOnly(m,void 0,v),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(w),this.runLocalHooks("afterSelectColumns",m,w,v),this.finish()}return d}selectRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const i=this.tableProps.countRows(),o=this.tableProps.countCols(),s=this.tableProps.countRowHeaders(),a=s===0?0:-s,l=this.tableProps.createCellCoords(e,a),u=this.tableProps.createCellCoords(n,o-1),c=this.tableProps.createCellRange(l,l,u).isValid({countRows:i,countCols:o,countRowHeaders:s,countColHeaders:0});if(c){let h=0,d=0;Number.isInteger(r==null?void 0:r.row)&&Number.isInteger(r==null?void 0:r.col)?(h=_t(r.row,Math.min(e,n),Math.max(e,n)),d=_t(r.col,a,o-1)):(h=e,d=_t(r,a,o-1));const f=this.tableProps.createCellCoords(h,d),g=s===0?0:_t(f.col,a,-1),v=o-1,y=this.tableProps.createCellCoords(e,g),p=this.tableProps.createCellCoords(n,v);this.runLocalHooks("beforeSelectRows",y,p,f),y.col=g,p.col=v,this.setRangeStartOnly(y,void 0,f),this.selectedByRowHeader.add(this.getLayerLevel()),this.setRangeEnd(p),this.runLocalHooks("afterSelectRows",y,p,f),this.finish()}return c}refresh(){if(!this.isSelected())return;const e=this.tableProps.countRows(),n=this.tableProps.countCols();if(e===0||n===0){this.deselect();return}const r=this.selectedRange.peekByIndex(this.selectedRange.size()-1),{from:i,to:o,highlight:s}=r;this.clear(),s.assign({row:_t(s.row,-1/0,e-1),col:_t(s.col,-1/0,n-1)}),i.assign({row:_t(i.row,-1/0,e-1),col:_t(i.col,-1/0,n-1)}),o.assign({row:_t(o.row,0,e-1),col:_t(o.col,0,n-1)}),this.selectedRange.ranges.push(r),this.highlight.getFocus().add(s).commit().syncWith(r),this.applyAndCommit(r)}commit(){if(this.highlight.getCustomSelections().forEach(i=>{i.commit()}),!this.isSelected())return;const n=this.highlight.getFocus(),r=this.getLayerLevel();n.commit().syncWith(this.selectedRange.current());for(let i=0;i<this.selectedRange.size();i+=1){this.highlight.useLayerLevel(i);const o=this.highlight.createArea(),s=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),u=this.highlight.createActiveRowHeader(),c=this.highlight.createActiveColumnHeader(),h=this.highlight.createActiveCornerHeader(),d=this.highlight.createRowHighlight(),f=this.highlight.createColumnHighlight();o.commit(),s.commit(),a.commit(),l.commit(),u.commit(),c.commit(),h.commit(),d.commit(),f.commit()}this.highlight.useLayerLevel(r)}}xt(eU,ir);const ZH=/^(\r\n|\n\r|\r|\n)/,Eve=/^[^\t\r\n]+/,QH=/^\t/;function _ve(t){const e=[[""]];if(t.length===0)return e;let n=0,r=0,i;for(;t.length>0&&i!==t.length;)if(i=t.length,t.match(QH))t=t.replace(QH,""),n+=1,e[r][n]="";else if(t.match(ZH))t=t.replace(ZH,""),n=0,r+=1,e[r]=[""];else{let o="";if(t.startsWith('"')){let s=0,a=!0;for(;a;){const l=t.slice(0,1);l==='"'&&(s+=1),o+=l,t=t.slice(1),(t.length===0||t.match(/^[\t\r\n]/)&&s%2===0)&&(a=!1)}o=o.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,l=>new Array(Math.floor(l.length/2)).fill('"').join(""))}else{const s=t.match(Eve);o=s?s[0]:"",t=t.slice(o.length)}e[r][n]=o}return e}function Lg(t){let e,n,r,i,o="",s;for(e=0,n=t.length;e<n;e+=1){for(i=t[e].length,r=0;r<i;r+=1)r>0&&(o+="	"),s=t[e][r],typeof s=="string"?s.indexOf(`
`)>-1?o+=`"${s.replace(/"/g,'""')}"`:o+=s:s==null?o+="":o+=s;e!==n-1&&(o+=`
`)}return o}function au(t,e,n){return(e=Tve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tve(t){var e=Ove(t,"string");return typeof e=="symbol"?e:e+""}function Ove(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jh{static get DESTINATION_RENDERER(){return 1}static get DESTINATION_CLIPBOARD_GENERATOR(){return 2}constructor(e,n,r){au(this,"hot",void 0),au(this,"metaManager",void 0),au(this,"tableMeta",void 0),au(this,"dataSource",void 0),au(this,"duckSchema",void 0),au(this,"colToPropCache",void 0),au(this,"propToColCache",void 0),this.hot=e,this.metaManager=r,this.tableMeta=r.getTableMeta(),this.dataSource=n,this.duckSchema=this.createDuckSchema(),this.createMap()}createMap(){const e=this.getSchema();if(typeof e>"u")throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");const n=this.tableMeta.columns;let r;if(this.colToPropCache=[],this.propToColCache=new Map,n){let i=0,o=0,s=!1;if(typeof n=="function"){const a=Rx(e);i=a>0?a:this.countFirstRowKeys(),s=!0}else{const a=this.tableMeta.maxCols;i=Math.min(a,n.length)}for(r=0;r<i;r++){const a=s?n(r):n[r];if(Ze(a)){if(typeof a.data<"u"){const l=s?o:r;this.colToPropCache[l]=a.data,this.propToColCache.set(a.data,l)}o+=1}}}else this.recursiveDuckColumns(e)}countFirstRowKeys(){return DW(this.dataSource)}recursiveDuckColumns(e,n,r){let i=n,o=r,s;return typeof i>"u"&&(i=0,o=""),typeof e=="object"&&!Array.isArray(e)&&Qe(e,(a,l)=>{a===null?(s=o+l,this.colToPropCache.push(s),this.propToColCache.set(s,i),i+=1):i=this.recursiveDuckColumns(a,i,`${l}.`)}),i}colToProp(e){if(Number.isInteger(e)===!1)return e;const n=this.hot.toPhysicalColumn(e);return n===null?e:this.colToPropCache&&xe(this.colToPropCache[n])?this.colToPropCache[n]:n}propToCol(e){const n=this.propToColCache.get(e);if(xe(n))return this.hot.toVisualColumn(n);const r=this.hot.toVisualColumn(e);return r===null?e:r}getSchema(){const e=this.tableMeta.dataSchema;return e?typeof e=="function"?e():e:this.duckSchema}createDuckSchema(){return this.dataSource&&this.dataSource[0]?Om(this.dataSource[0]):{}}refreshDuckSchema(){this.duckSchema=this.createDuckSchema()}createRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:r,mode:i="above"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.hot.countSourceRows();let s=o,a=0,l=e;if((typeof l!="number"||l>=o)&&(l=o),l<this.hot.countRows()&&(s=this.hot.toPhysicalRow(l)),this.hot.runHooks("beforeCreateRow",l,n,r)===!1||s===null)return{delta:0};const c=this.tableMeta.maxRows,h=this.getSchema().length,d=[];for(;a<n&&o+a<c;){let g=null;this.hot.dataType==="array"?this.tableMeta.dataSchema?g=Ar(this.getSchema()):(g=[],Ie(h-1,()=>g.push(null))):this.hot.dataType==="function"?g=this.tableMeta.dataSchema(l+a):(g={},aS(g,this.getSchema())),d.push(g),a+=1}this.hot.rowIndexMapper.insertIndexes(l,a),i==="below"&&(s=Math.min(s+1,o)),this.spliceData(s,0,d);const f=this.hot.toVisualRow(s);return this.hot.countSourceRows()===d.length&&this.hot.columnIndexMapper.initToLength(this.hot.getInitialColumnCount()),a>0&&(e==null?this.metaManager.createRow(null,a):r!=="auto"&&this.metaManager.createRow(s,n)),this.hot.runHooks("afterCreateRow",f,a,r),this.hot.forceFullRender=!0,{delta:a,startPhysicalIndex:s}}createCol(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:r,mode:i="start"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!this.hot.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");const o=this.dataSource,s=this.tableMeta.maxCols,a=this.hot.countSourceCols();let l=e;if((typeof l!="number"||l>=a)&&(l=a),this.hot.runHooks("beforeCreateCol",l,n,r)===!1)return{delta:0};let c=a;l<this.hot.countCols()&&(c=this.hot.toPhysicalColumn(l));const h=this.hot.countSourceRows();let d=this.hot.countCols(),f=0,g=c;i==="end"&&(g=Math.min(g+1,a));const v=g;for(;f<n&&d<s;){if(typeof l!="number"||l>=d)if(h>0)for(let p=0;p<h;p+=1)typeof o[p]>"u"&&(o[p]=[]),o[p].push(null);else o.push([null]);else for(let p=0;p<h;p++)o[p].splice(g,0,null);f+=1,g+=1,d+=1}this.hot.columnIndexMapper.insertIndexes(l,f),f>0&&(e==null?this.metaManager.createColumn(null,f):r!=="auto"&&this.metaManager.createColumn(v,n));const y=this.hot.toVisualColumn(v);return this.hot.runHooks("afterCreateCol",y,f,r),this.hot.forceFullRender=!0,this.refreshDuckSchema(),{delta:f,startPhysicalIndex:v}}removeRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,i=Number.isInteger(e)?e:-n;const o=this.visualRowsToPhysical(i,n),s=this.hot.countSourceRows();if(i=(s+i)%s,this.hot.runHooks("beforeRemoveRow",i,o.length,o,r)===!1)return!1;const l=o.length;if(this.filterData(i,l,o),i<this.hot.countRows()){this.hot.rowIndexMapper.removeIndexes(o);const c=xe(this.tableMeta.columns)||xe(this.tableMeta.dataSchema);this.hot.rowIndexMapper.getNotTrimmedIndexesLength()===0&&c===!1&&this.hot.columnIndexMapper.setIndexesSequence([])}return o.slice(0).sort((c,h)=>h-c).forEach(c=>{this.metaManager.removeRow(c,1)}),this.hot.runHooks("afterRemoveRow",i,l,o,r),this.hot.forceFullRender=!0,!0}removeCol(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(this.hot.dataType==="object"||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");let i=typeof e!="number"?-n:e;i=(this.hot.countCols()+i)%this.hot.countCols();const o=this.visualColumnsToPhysical(i,n),s=o.slice(0).sort((h,d)=>d-h);if(this.hot.runHooks("beforeRemoveCol",i,n,o,r)===!1)return!1;let l=!0;const u=s.length,c=this.dataSource;for(let h=0;h<u;h++)l&&o[0]!==o[h]-h&&(l=!1);if(l)for(let h=0,d=this.hot.countSourceRows();h<d;h++)c[h].splice(o[0],n),h===0&&this.metaManager.removeColumn(o[0],n);else for(let h=0,d=this.hot.countSourceRows();h<d;h++)for(let f=0;f<u;f++)c[h].splice(s[f],1),h===0&&this.metaManager.removeColumn(s[f],1);return i<this.hot.countCols()&&(this.hot.columnIndexMapper.removeIndexes(o),this.hot.columnIndexMapper.getNotTrimmedIndexesLength()===0&&this.hot.rowIndexMapper.setIndexesSequence([])),this.hot.runHooks("afterRemoveCol",i,n,o,r),this.hot.forceFullRender=!0,this.refreshDuckSchema(),!0}spliceCol(e,n,r){const i=this.hot.getDataAtCol(e),o=i.slice(n,n+r),s=i.slice(n+r);for(var a=arguments.length,l=new Array(a>3?a-3:0),u=3;u<a;u++)l[u-3]=arguments[u];Dk(l,s);let c=0;for(;c<r;)l.push(null),c+=1;return Kue(l),this.hot.populateFromArray(n,e,l,null,null,"spliceCol"),o}spliceRow(e,n,r){const i=this.hot.getSourceDataAtRow(e),o=i.slice(n,n+r),s=i.slice(n+r);for(var a=arguments.length,l=new Array(a>3?a-3:0),u=3;u<a;u++)l[u-3]=arguments[u];Dk(l,s);let c=0;for(;c<r;)l.push(null),c+=1;return this.hot.populateFromArray(e,n,[l],null,null,"spliceRow"),o}spliceData(e,n,r){if(this.hot.runHooks("beforeDataSplice",e,n,r)!==!1){const o=[...this.dataSource.slice(0,e),...r,...this.dataSource.slice(e)];this.dataSource.length=0,o.forEach(s=>this.dataSource.push(s))}}filterData(e,n,r){let i=this.hot.runHooks("filterData",e,n,r);Array.isArray(i)===!1&&(i=this.dataSource.filter((o,s)=>r.indexOf(s)===-1)),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,i)}get(e,n){const r=this.hot.toPhysicalRow(e);let i=this.dataSource[r];const o=this.hot.runHooks("modifyRowData",r);i=isNaN(o)?o:i;const{dataDotNotation:s}=this.hot.getSettings();let a=null;if(i&&i.hasOwnProperty&&an(i,n))a=i[n];else if(s&&typeof n=="string"&&n.indexOf(".")>-1){let l=i;if(!l)return null;const u=n.split(".");for(let c=0,h=u.length;c<h;c++)if(l=l[u[c]],typeof l>"u")return null;a=l}else typeof n=="function"&&(a=n(this.dataSource.slice(r,r+1)[0]));if(this.hot.hasHook("modifyData")){const l=Eo(a);this.hot.runHooks("modifyData",r,this.propToCol(n),l,"get"),l.isTouched()&&(a=l.value)}return a}getCopyable(e,n){return this.hot.getCellMeta(e,this.propToCol(n)).copyable?this.get(e,n):""}set(e,n,r){const i=this.hot.toPhysicalRow(e);let o=r,s=this.dataSource[i];const a=this.hot.runHooks("modifyRowData",i);if(s=isNaN(a)?a:s,this.hot.hasHook("modifyData")){const u=Eo(o);this.hot.runHooks("modifyData",i,this.propToCol(n),u,"set"),u.isTouched()&&(o=u.value)}const{dataDotNotation:l}=this.hot.getSettings();if(s&&s.hasOwnProperty&&an(s,n))s[n]=o;else if(l&&typeof n=="string"&&n.indexOf(".")>-1){let u=s,c=0,h;const d=n.split(".");for(c=0,h=d.length-1;c<h;c++)typeof u[d[c]]>"u"&&(u[d[c]]={}),u=u[d[c]];u[d[c]]=o}else typeof n=="function"?n(this.dataSource.slice(i,i+1)[0],o):s[n]=o}visualRowsToPhysical(e,n){const r=this.hot.countSourceRows(),i=[];let o=(r+e)%r,s=n,a;for(;o<r&&s;)a=this.hot.toPhysicalRow(o),i.push(a),s-=1,o+=1;return i}visualColumnsToPhysical(e,n){const r=this.hot.countCols(),i=[];let o=(r+e)%r,s=n;for(;o<r&&s;){const a=this.hot.toPhysicalColumn(o);i.push(a),s-=1,o+=1}return i}clear(){for(let e=0;e<this.hot.countSourceRows();e++)for(let n=0;n<this.hot.countCols();n++)this.set(e,this.colToProp(n),"")}getLength(){const e=this.tableMeta.maxRows;let n;e<0||e===0?n=0:n=e||1/0;const r=this.hot.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(r,n)}getAll(){const e={row:0,col:0},n={row:Math.max(this.hot.countRows()-1,0),col:Math.max(this.hot.countCols()-1,0)};return e.row-n.row===0&&!this.hot.countSourceRows()?[]:this.getRange(e,n,jh.DESTINATION_RENDERER)}countCachedColumns(){return this.colToPropCache.length}getRange(e,n,r){const i=[];let o,s,a;const l=this.tableMeta.maxRows,u=this.tableMeta.maxCols;if(l===0||u===0)return[];const c=r===jh.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,h=Math.min(Math.max(l-1,0),Math.max(e.row,n.row)),d=Math.min(Math.max(u-1,0),Math.max(e.col,n.col));for(o=Math.min(e.row,n.row);o<=h;o++){a=[];const f=o>=0?this.hot.toPhysicalRow(o):o;for(s=Math.min(e.col,n.col);s<=d&&f!==null;s++)a.push(c.call(this,o,this.colToProp(s)));f!==null&&i.push(a)}return i}getText(e,n){return Lg(this.getRange(e,n,jh.DESTINATION_RENDERER))}getCopyableText(e,n){return Lg(this.getRange(e,n,jh.DESTINATION_CLIPBOARD_GENERATOR))}destroy(){this.hot=null,this.metaManager=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}const{register:xve,getItem:Pve,hasItem:tU,getNames:rke,getValues:ike}=jo("cellTypes");function Mve(t){if(!tU(t))throw Error(`You declared cell type "${t}" as a string that is not mapped to a known object.
                 Cell type must be an object or a string mapped to an object registered by
                 "Handsontable.cellTypes.registerCellType" method`);return Pve(t)}function ho(t,e){typeof t!="string"&&(e=t,t=e.CELL_TYPE);const{editor:n,renderer:r,validator:i}=e;n&&si(t,n),r&&Ai(t,r),i&&bh(t,i),xve(t,e)}function Ave(t,e){var n;return t==="CELL_TYPE"?!1:((n=e._automaticallyAssignedMetaProps)===null||n===void 0?void 0:n.has(t))||!an(e,t)}function yS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;const r=typeof e.type=="string"?Mve(e.type):e.type;if(t._automaticallyAssignedMetaProps&&Qe(e,(o,s)=>void t._automaticallyAssignedMetaProps.delete(s)),!Ze(r))return;n===t&&!t._automaticallyAssignedMetaProps&&(t._automaticallyAssignedMetaProps=new Set);const i={};Qe(r,(o,s)=>{if(Ave(s,n)){var a;i[s]=o,(a=t._automaticallyAssignedMetaProps)===null||a===void 0||a.add(s)}}),xn(t,i)}function Ive(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];function n(){}Ds(n,t);for(let r=0;r<e.length;r++)n.prototype[e[r]]=void 0;return n}function dw(t){return Number.isInteger(t)&&t>=0}function fw(t,e){if(!t())throw new Error(`Assertion failed: ${e}`)}function Lv(t){return t==null}const nU=()=>({_automaticallyAssignedMetaProps:void 0,activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,ariaTags:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataDotNotation:!0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",timeFormat:"h:mm:ss a",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,headerClassName:void 0,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",imeFastEdit:!1,isEmptyCol(t){let e,n,r;for(e=0,n=this.countRows();e<n;e++)if(r=this.getDataAtCell(e,t),pn(r)===!1)return!1;return!0},isEmptyRow(t){let e,n,r,i;for(e=0,n=this.countCols();e<n;e++)if(r=this.getDataAtCell(t,e),pn(r)===!1)return typeof r=="object"?(i=this.getCellMeta(t,e),Sx(this.getSchema()[i.prop],r)):!1;return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,navigableHeaders:!1,tabNavigation:!0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:!1,renderAllColumns:!1,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0});function JH(t,e,n){return(e=Nve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nve(t){var e=kve(t,"string");return typeof e=="symbol"?e:e+""}function kve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hve(){return class{}}class Dve{constructor(e){JH(this,"metaCtor",Hve()),JH(this,"meta",void 0),this.meta=this.metaCtor.prototype,xn(this.meta,nU()),this.meta.instance=e}getMetaConstructor(){return this.metaCtor}getMeta(){return this.meta}updateMeta(e){var n;xn(this.meta,e),yS(this.meta,{...e,type:(n=e.type)!==null&&n!==void 0?n:this.meta.type},e)}}function Lve(t,e,n){return(e=$ve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ve(t){var e=Fve(t,"string");return typeof e=="symbol"?e:e+""}function Fve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Bve{constructor(e){Lve(this,"meta",void 0);const n=e.getMetaConstructor();this.meta=new n}getMeta(){return this.meta}updateMeta(e){xn(this.meta,e),yS(this.meta,e,e)}}function $v(t,e,n){return(e=jve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jve(t){var e=Vve(t,"string");return typeof e=="symbol"?e:e+""}function Vve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class PC{constructor(e){$v(this,"valueFactory",void 0),$v(this,"data",[]),$v(this,"index",[]),$v(this,"holes",new Set),this.valueFactory=e}obtain(e){fw(()=>dw(e),"Expecting an unsigned number.");const n=this._getStorageIndexByKey(e);let r;if(n>=0)r=this.data[n],r===void 0&&(r=this.valueFactory(e),this.data[n]=r);else if(r=this.valueFactory(e),this.holes.size>0){const i=this.holes.values().next().value;this.holes.delete(i),this.data[i]=r,this.index[e]=i}else this.data.push(r),this.index[e]=this.data.length-1;return r}insert(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;fw(()=>dw(e)||Lv(e),"Expecting an unsigned number or null/undefined argument.");const r=[],i=this.data.length;for(let s=0;s<n;s++)r.push(i+s),this.data.push(void 0);const o=Lv(e)?this.index.length:e;this.index=[...this.index.slice(0,o),...r,...this.index.slice(o)]}remove(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;fw(()=>dw(e)||Lv(e),"Expecting an unsigned number or null/undefined argument.");const r=this.index.splice(Lv(e)?this.index.length-n:e,n);for(let i=0;i<r.length;i++){const o=r[i];typeof o=="number"&&this.holes.add(o)}}size(){return this.data.length-this.holes.size}values(){return Dl(this.data,(e,n)=>!this.holes.has(n))[Symbol.iterator]()}entries(){const e=[];for(let r=0;r<this.data.length;r++){const i=this._getKeyByStorageIndex(r);i!==-1&&e.push([i,this.data[r]])}let n=0;return{next:()=>{if(n<e.length){const r=e[n];return n+=1,{value:r,done:!1}}return{done:!0}}}}clear(){this.data=[],this.index=[],this.holes.clear()}_getStorageIndexByKey(e){return this.index.length>e?this.index[e]:-1}_getKeyByStorageIndex(e){return this.index.indexOf(e)}[Symbol.iterator](){return this.entries()}}function eD(t,e,n){return(e=Wve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wve(t){var e=Uve(t,"string");return typeof e=="symbol"?e:e+""}function Uve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const zve=["data","width"];class Yve{constructor(e){eD(this,"globalMeta",void 0),eD(this,"metas",new PC(()=>this._createMeta())),this.globalMeta=e,this.metas=new PC(()=>this._createMeta())}updateMeta(e,n){const r=this.getMeta(e);xn(r,n),yS(r,n)}createColumn(e,n){this.metas.insert(e,n)}removeColumn(e,n){this.metas.remove(e,n)}getMeta(e){return this.metas.obtain(e)}getMetaConstructor(e){return this.metas.obtain(e).constructor}clearCache(){this.metas.clear()}_createMeta(){return Ive(this.globalMeta.getMetaConstructor(),zve).prototype}}function tD(t,e,n){return(e=Gve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gve(t){var e=Kve(t,"string");return typeof e=="symbol"?e:e+""}function Kve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qve{constructor(e){tD(this,"columnMeta",void 0),tD(this,"metas",new PC(()=>this._createRow())),this.columnMeta=e}updateMeta(e,n,r){const i=this.getMeta(e,n);xn(i,r),yS(i,r)}createRow(e,n){this.metas.insert(e,n)}createColumn(e,n){for(let r=0;r<this.metas.size();r++)this.metas.obtain(r).insert(e,n)}removeRow(e,n){this.metas.remove(e,n)}removeColumn(e,n){for(let r=0;r<this.metas.size();r++)this.metas.obtain(r).remove(e,n)}getMeta(e,n,r){const i=this.metas.obtain(e).obtain(n);return r===void 0?i:i[r]}setMeta(e,n,r,i){var o;const s=this.metas.obtain(e).obtain(n);(o=s._automaticallyAssignedMetaProps)===null||o===void 0||o.delete(r),s[r]=i}removeMeta(e,n,r){const i=this.metas.obtain(e).obtain(n);delete i[r]}getMetas(){const e=[],n=Array.from(this.metas.values());for(let r=0;r<n.length;r++)xe(n[r])&&e.push(...n[r].values());return e}getMetasAtRow(e){fw(()=>dw(e),"Expecting an unsigned number.");const n=new Map(this.metas);return n.has(e)?Array.from(n.get(e).values()):[]}clearCache(){this.metas.clear()}_createRow(){return new PC(e=>this._createMeta(e))}_createMeta(e){const n=this.columnMeta.getMetaConstructor(e);return new n}}class rU{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];this.hot=e,this.globalMeta=new Dve(e),this.tableMeta=new Bve(this.globalMeta),this.columnMeta=new Yve(this.globalMeta),this.cellMeta=new qve(this.columnMeta),r.forEach(i=>new i(this)),this.globalMeta.updateMeta(n)}getGlobalMeta(){return this.globalMeta.getMeta()}updateGlobalMeta(e){this.globalMeta.updateMeta(e)}getTableMeta(){return this.tableMeta.getMeta()}updateTableMeta(e){this.tableMeta.updateMeta(e)}getColumnMeta(e){return this.columnMeta.getMeta(e)}updateColumnMeta(e,n){this.columnMeta.updateMeta(e,n)}getCellMeta(e,n,r){let{visualRow:i,visualColumn:o}=r;const s=this.cellMeta.getMeta(e,n);return s.visualRow=i,s.visualCol=o,s.row=e,s.col=n,this.runLocalHooks("afterGetCellMeta",s),s}getCellMetaKeyValue(e,n,r){if(typeof r!="string")throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(e,n,r)}setCellMeta(e,n,r,i){this.cellMeta.setMeta(e,n,r,i)}updateCellMeta(e,n,r){this.cellMeta.updateMeta(e,n,r)}removeCellMeta(e,n,r){this.cellMeta.removeMeta(e,n,r)}getCellsMeta(){return this.cellMeta.getMetas()}getCellsMetaAtRow(e){return this.cellMeta.getMetasAtRow(e)}createRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createRow(e,n)}removeRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeRow(e,n)}createColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createColumn(e,n),this.columnMeta.createColumn(e,n)}removeColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeColumn(e,n),this.columnMeta.removeColumn(e,n)}clearCellsCache(){this.cellMeta.clearCache()}clearCache(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}xt(rU,ir);function nD(t,e,n,r){const{hotInstance:i,dataMap:o,dataSource:s,internalSource:a,source:l,metaManager:u,firstRun:c}=r,h=Io(a),d=i.getSettings();Array.isArray(d.dataSchema)?i.dataType="array":Ht(d.dataSchema)?i.dataType="function":i.dataType="object",o&&o.destroy(),t=i.runHooks(`before${h}`,t,c,l);const f=new jh(i,t,u);if(e(f),typeof t=="object"&&t!==null)t.push&&t.splice||(t=[t]);else if(t===null){const g=f.getSchema();t=[];let v,y=0,p=0;for(y=0,p=d.startRows;y<p;y++)if((i.dataType==="object"||i.dataType==="function")&&d.dataSchema)v=Ar(g),t.push(v);else if(i.dataType==="array")v=Ar(g[0]),t.push(v);else{v=[];for(let m=0,w=d.startCols;m<w;m++)v.push(null);t.push(v)}}else throw new Error(`${a} only accepts array of objects or array of arrays (${typeof t} given)`);Array.isArray(t[0])&&(i.dataType="array"),d.data=t,f.dataSource=t,s.data=t,s.dataType=i.dataType,s.colToProp=f.colToProp.bind(f),s.propToCol=f.propToCol.bind(f),s.countCachedColumns=f.countCachedColumns.bind(f),n(f),i.runHooks(`after${h}`,t,c,l),c||(i.runHooks("afterChange",null,a),i.render()),i.getSettings().ariaTags&&Be(i.rootElement,[xV(-1),iS(i.countCols()+(i.view?i.countRowHeaders():0))])}function rD(t,e,n){return(e=Xve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xve(t){var e=Zve(t,"string");return typeof e=="symbol"?e:e+""}function Zve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Qve{constructor(e){rD(this,"metaManager",void 0),rD(this,"metaSyncMemo",new Map),this.metaManager=e,e.addLocalHook("afterGetCellMeta",n=>this.extendCellMeta(n)),Te.getSingleton().add("beforeRender",n=>{n&&this.metaSyncMemo.clear()},this.metaManager.hot)}extendCellMeta(e){var n;const{row:r,col:i}=e;if((n=this.metaSyncMemo.get(r))!==null&&n!==void 0&&n.has(i))return;const{visualRow:o,visualCol:s}=e,a=this.metaManager.hot,l=a.colToProp(s);e.prop=l,a.runHooks("beforeGetCellMeta",o,s,e);const u=an(e,"type")?e.type:null;let c=Ht(e.cells)?e.cells(r,i,l):null;if(u)if(c){var h;c.type=(h=c.type)!==null&&h!==void 0?h:u}else c={type:u};c&&this.metaManager.updateCellMeta(r,i,c),a.runHooks("afterGetCellMeta",o,s,e),this.metaSyncMemo.has(r)||this.metaSyncMemo.set(r,new Set),this.metaSyncMemo.get(r).add(i)}}function Jve(t,e,n){eye(t,e),e.set(t,n)}function eye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function PR(t,e,n){return(e=tye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tye(t){var e=nye(t,"string");return typeof e=="symbol"?e:e+""}function nye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rye(t,e){return t.get(iye(t,e))}function iye(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var iD=new WeakMap;class oye{constructor(e){PR(this,"metaManager",void 0),PR(this,"usageTracker",new Set),PR(this,"propDescriptors",new Map([["ariaTags",{initOnly:!0}],["fixedColumnsLeft",{target:"fixedColumnsStart",onChange(n){if(this.metaManager.hot.isRtl()&&n==="fixedColumnsLeft")throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{initOnly:!0}],["renderAllColumns",{initOnly:!0}],["renderAllRows",{initOnly:!0}]])),Jve(this,iD,(n,r,i)=>{if(!i)throw new Error(`The \`${n}\` option can not be updated after the Handsontable is initialized.`)}),this.metaManager=e,this.extendMetaProps()}extendMetaProps(){this.propDescriptors.forEach((e,n)=>{const{initOnly:r,target:i,onChange:o}=e,s=typeof i=="string",a=s?i:n,l=`_${a}`;this.metaManager.globalMeta.meta[l]=this.metaManager.globalMeta.meta[a],o?(this.installPropWatcher(n,l,o),s&&this.installPropWatcher(i,l,o)):r&&(this.installPropWatcher(n,l,rye(iD,this)),this.metaManager.globalMeta.meta._initOnlySettings||(this.metaManager.globalMeta.meta._initOnlySettings=[]),this.metaManager.globalMeta.meta._initOnlySettings.push(n))})}installPropWatcher(e,n,r){const i=this;Object.defineProperty(this.metaManager.globalMeta.meta,e,{get(){return this[n]},set(o){const s=!i.usageTracker.has(e);i.usageTracker.add(e),r.call(i,e,o,s),this[n]=o},enumerable:!0,configurable:!0})}}const iU="gridDefault",Gl="editorManager.handlingEditor",sye={name:"editorCloseAndSave",callback(t){t._getEditorManager().closeEditorAndSaveChanges()}},aye="hooksRefRegisterer",oU={_hooksStorage:Object.create(null),addHook(t,e){return this._hooksStorage[t]||(this._hooksStorage[t]=[]),this.hot.addHook(t,e),this._hooksStorage[t].push(e),this},removeHooksByKey(t){G(this._hooksStorage[t]||[],e=>{this.hot.removeHook(t,e)})},clearHooks(){Qe(this._hooksStorage,(t,e)=>this.removeHooksByKey(e)),this._hooksStorage={}}};Ia(oU,"MIXIN_NAME",aye,{writable:!1,enumerable:!1});function so(t,e,n){return(e=lye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lye(t){var e=uye(t,"string");return typeof e=="symbol"?e:e+""}function uye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const cye="base",dn=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"});class zd{static get EDITOR_TYPE(){return cye}constructor(e){so(this,"hot",void 0),so(this,"state",dn.VIRGIN),so(this,"_opened",!1),so(this,"_fullEditMode",!1),so(this,"_closeCallback",null),so(this,"TD",null),so(this,"row",null),so(this,"col",null),so(this,"prop",null),so(this,"originalValue",null),so(this,"cellProperties",null),this.hot=e,this.init()}_fireCallbacks(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)}init(){}getValue(){throw Error("Editor getValue() method unimplemented")}setValue(){throw Error("Editor setValue() method unimplemented")}open(){throw Error("Editor open() method unimplemented")}close(){throw Error("Editor close() method unimplemented")}prepare(e,n,r,i,o,s){this.TD=i,this.row=e,this.col=n,this.prop=r,this.originalValue=o,this.cellProperties=s,this.state=this.isOpened()?this.state:dn.VIRGIN}extend(){return class extends this.constructor{}}saveValue(e,n){let r,i,o,s;if(n){const l=this.hot.getSelectedLast();r=Math.max(Math.min(l[0],l[2]),0),i=Math.max(Math.min(l[1],l[3]),0),o=Math.max(l[0],l[2]),s=Math.max(l[1],l[3])}else[r,i,o,s]=[this.row,this.col,null,null];const a=this.hot.runHooks("modifyGetCellCoords",r,i);Array.isArray(a)&&([r,i]=a),this.hot.populateFromArray(r,i,e,o,s,"edit")}beginEditing(e,n){if(this.state!==dn.VIRGIN)return;const r=this.hot,i=r.rowIndexMapper.getRenderableFromVisualIndex(this.row),o=r.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(r.view.scrollViewport(r._createCellCoords(i,o)),this.state=dn.EDITING,this.isInFullEditMode()){const s=typeof e=="string"?e:bn(this.originalValue);this.setValue(s)}this.open(n),this._opened=!0,this.focus(),r.view.render(),r.runHooks("afterBeginEditing",this.row,this.col)}finishEditing(e,n,r){let i;if(r){const o=this._closeCallback;this._closeCallback=s=>{o&&o(s),r(s),this.hot.view.render()}}if(!this.isWaiting()){if(this.state===dn.VIRGIN){this.hot._registerTimeout(()=>{this._fireCallbacks(!0)});return}if(this.state===dn.EDITING){if(e){this.cancelChanges(),this.hot.view.render();return}const o=this.getValue();this.cellProperties.trimWhitespace?i=[[typeof o=="string"?String.prototype.trim.call(o||""):o]]:i=[[o]],this.state=dn.WAITING,this.saveValue(i,n),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",s=>{this.state=dn.FINISHED,this.discardEditor(s)}):(this.state=dn.FINISHED,this.discardEditor(!0))}}}cancelChanges(){this.state=dn.FINISHED,this.discardEditor()}discardEditor(e){this.state===dn.FINISHED&&(e===!1&&this.cellProperties.allowInvalid!==!0?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=dn.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=dn.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}enableFullEditMode(){this._fullEditMode=!0}isInFullEditMode(){return this._fullEditMode}isOpened(){return this._opened}isWaiting(){return this.state===dn.WAITING}getEditedCellRect(){var e;const n=this.getEditedCell();if(!n)return;const{wtOverlays:r,wtViewport:i}=this.hot.view._wt,o=this.hot.rootWindow,s=zn(n),a=Ft(n),l=zn(this.hot.rootElement),u=Ft(this.hot.rootElement),c=r.topOverlay.holder,h=r.inlineStartOverlay.holder,d=c!==o?c.scrollTop:0,f=h!==o?h.scrollLeft:0,g=o.innerWidth-l.left-u,{wtTable:v}=(e=r.getParentOverlay(n))!==null&&e!==void 0?e:this.hot.view._wt,y=v.name,p=["master","inline_start"].includes(y)?d:0,m=["master","top","bottom"].includes(y)?f:0,w=s.top===l.top?0:1;let C=s.top-l.top-w-p,S=0;this.hot.isRtl()?S=o.innerWidth-s.left-a-g-1+m:S=s.left-l.left-1-m,["top","top_inline_start_corner"].includes(y)&&(C+=r.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(y)&&(S+=Math.abs(r.inlineStartOverlay.getOverlayOffset()));const x=this.hot.hasColHeaders(),_=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),O=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),T=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(x&&_<=0||_===T)&&(C+=1),O<=0&&(S+=1);const P=i.rowsRenderCalculator.startPosition,M=i.columnsRenderCalculator.startPosition,N=Math.abs(r.inlineStartOverlay.getScrollPosition()),$=r.topOverlay.getScrollPosition(),V=Gn(this.hot.rootDocument);let K=n.offsetTop;if(["inline_start","master"].includes(y)&&(K+=P-$),["bottom","bottom_inline_start_corner"].includes(y)){const{wtViewport:U,wtTable:q}=r.bottomOverlay.clone;K+=U.getWorkspaceHeight()-q.getHeight()-V}let X=n.offsetLeft;this.hot.isRtl()?(X>=0?X=v.getWidth()-n.offsetLeft:X=Math.abs(X),X+=M-N-a):["top","master","bottom"].includes(y)&&(X+=M-N);const Y=Ea(this.TD,this.hot.rootWindow),W=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",j=parseInt(Y[W],10)>0?0:1,b=parseInt(Y.borderTopWidth,10)>0?0:1,R=Ft(n)+j,E=Rn(n)+b,H=Ice(c)?V:0,D=Nce(h)?V:0,A=this.hot.view.maximumVisibleElementWidth(X)-H+j,B=Math.max(this.hot.view.maximumVisibleElementHeight(K)-D+b,23);return{top:C,start:S,height:E,maxHeight:B,width:R,maxWidth:A}}getEditedCellsLayerClass(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}getEditedCell(){return this.hot.getCell(this.row,this.col,!0)}checkEditorSection(){const e=this.hot.countRows();let n="";return this.row<this.hot.getSettings().fixedRowsTop?this.col<this.hot.getSettings().fixedColumnsStart?n="top-inline-start-corner":n="top":this.hot.getSettings().fixedRowsBottom&&this.row>=e-this.hot.getSettings().fixedRowsBottom?this.col<this.hot.getSettings().fixedColumnsStart?n="bottom-inline-start-corner":n="bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(n="inline-start"),n}}xt(zd,oU);const hye={name:"editorCloseAndSaveByArrowKeys",callback(t,e,n){const r=t._getEditorManager(),i=r.getActiveEditor();i.isInFullEditMode()&&i.state===dn.EDITING||(r.closeEditorAndSaveChanges(),t.getSelected()&&(n.includes("arrowdown")?t.selection.transformStart(1,0):n.includes("arrowup")?t.selection.transformStart(-1,0):n.includes("arrowleft")?t.selection.transformStart(0,-1*t.getDirectionFactor()):n.includes("arrowright")&&t.selection.transformStart(0,t.getDirectionFactor())),e.preventDefault())}},dye={name:"editorCloseAndSaveByEnter",callback(t,e){const n=t._getEditorManager();n.closeEditorAndSaveChanges(e.ctrlKey||e.metaKey),n.moveSelectionAfterEnter(e)}},fye={name:"editorCloseWithoutSaving",callback(t){const e=t._getEditorManager();e.closeEditorAndRestoreOriginalValue(t.getShortcutManager().isCtrlPressed()),e.activeEditor.focus()}},gye={name:"editorFastOpen",callback(t,e){const{highlight:n}=t.getSelectedRangeLast();n.isHeader()||t._getEditorManager().openEditor(null,e,!0)}},mye={name:"editorOpen",callback(t,e,n){const r=t._getEditorManager(),i=t.getSelectedRangeLast(),{highlight:o}=i;if(t.selection.isMultiple()&&!i.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0){const s=t.getSettings(),a=typeof s.enterMoves=="function"?s.enterMoves(e):s.enterMoves;n.includes("shift")?t.selection.transformFocus(-a.row,-a.col):t.selection.transformFocus(a.row,a.col);return}o.isHeader()||(t.getSettings().enterBeginsEditing?r.cellProperties.readOnly?r.moveSelectionAfterEnter(e):r.openEditor(null,e,!0):r.moveSelectionAfterEnter(e),Bo(e))}};function pye(){return[sye,hye,dye,fye,gye,mye]}const vye={name:"extendCellsSelectionDown",callback(t){const{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByColumnHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())&&t.selection.transformEnd(1,0)}},yye={name:"extendCellsSelectionDownByViewportHeight",callback(t){const{to:e}=t.getSelectedRangeLast(),n=Math.min(e.row+t.countVisibleRows(),t.countRows()-1),r=t.rowIndexMapper.getNearestNotHiddenIndex(n,-1);if(r!==null){const i=t._createCellCoords(r,e.col),o=e.row-t.view.getFirstFullyVisibleRow(),s=Math.min(i.row-o,t.countRows()-1);t.selection.setRangeEnd(i),t.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}},wye={name:"extendCellsSelectionLeft",callback(t){const{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())&&t.selection.transformEnd(0,-1*t.getDirectionFactor())}},Cye={name:"extendCellsSelectionRight",callback(t){const{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())&&t.selection.transformEnd(0,t.getDirectionFactor())}},bye={name:"extendCellsSelectionToColumns",callback(t){const{highlight:e,from:n,to:r}=t.getSelectedRangeLast();t.selection.isSelectedByRowHeader()?t.selection.selectAll(!0,!0):t.selectColumns(n.col,r.col,e)}},Sye={name:"extendCellsSelectionToMostBottom",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByRowHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(t.countRows()-1,-1),l=i.clone();l.row=r.row,e.setRangeStart(l,void 0,!1,r.clone()),s&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,o.col))}}},Rye={name:"extendCellsSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast();if(!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&r.isCell()){const s=n.getNearestNotHiddenIndex(t.countCols()-1,-1),a=i.clone();a.col=r.col,e.setRangeStart(a,void 0,!1,r.clone()),e.setRangeEnd(t._createCellCoords(o.row,s))}}},Eye={name:"extendCellsSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast();if(!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&r.isCell()){const s=parseInt(t.getSettings().fixedColumnsStart,10),a=n.getNearestNotHiddenIndex(s,1),l=i.clone();l.col=r.col,e.setRangeStart(l,void 0,!1,r.clone()),e.setRangeEnd(t._createCellCoords(o.row,a))}}},_ye={name:"extendCellsSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByColumnHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]),l=i.clone();l.col=r.col,e.setRangeStart(l,void 0,!1,r.clone()),s&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(o.row,a))}}},Tye={name:"extendCellsSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByColumnHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]),l=i.clone();l.col=r.col,e.setRangeStart(l,void 0,!1,r.clone()),s&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(o.row,a))}}},Oye={name:"extendCellsSelectionToMostTop",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByRowHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(0,1),l=i.clone();l.row=r.row,e.setRangeStart(l,void 0,!1,r.clone()),s&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,o.col))}}},xye={name:"extendCellsSelectionToRows",callback(t){const{highlight:e,from:n,to:r}=t.getSelectedRangeLast();t.selection.isSelectedByColumnHeader()?t.selection.selectAll(!0,!0):t.selectRows(n.row,r.row,e)}},Pye={name:"extendCellsSelectionUp",callback(t){const{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByColumnHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())&&t.selection.transformEnd(-1,0)}},Mye={name:"extendCellsSelectionUpByViewportHeight",callback(t){const{to:e}=t.getSelectedRangeLast(),n=Math.max(e.row-t.countVisibleRows(),0),r=t.rowIndexMapper.getNearestNotHiddenIndex(n,1);if(r!==null){const i=t._createCellCoords(r,e.col),o=e.row-t.view.getFirstFullyVisibleRow(),s=Math.max(i.row-o,0);t.selection.setRangeEnd(i),t.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}};function Aye(){return[vye,yye,wye,Cye,bye,Sye,Rye,Eye,_ye,Tye,Oye,xye,Pye,Mye]}const Iye={name:"moveCellSelectionDown",callback(t){let{selection:e}=t;e.transformStart(1,0)}},Nye={name:"moveCellSelectionDownByViewportHeight",callback(t){const{navigableHeaders:e}=t.getSettings(),n=e?t.countColHeaders():0,{row:r}=t.getSelectedRangeLast().highlight;let i=t.countVisibleRows()+n;r===t.countRows()-1?i=1:r+i>t.countRows()&&(i=t.countRows()-r-1),t.selection.transformStart(i,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}},kye={name:"moveCellSelectionInlineEnd",callback(t,e){const n=t.getSettings(),r=t.getSelectedRangeLast(),i=typeof n.tabMoves=="function"?n.tabMoves(e):n.tabMoves;t.selection.isMultiple()&&!r.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?t.selection.transformFocus(-i.row,-i.col):t.selection.transformStart(-i.row,-i.col)}},Hye={name:"moveCellSelectionInlineStart",callback(t,e){const n=t.getSettings(),r=t.getSelectedRangeLast(),i=typeof n.tabMoves=="function"?n.tabMoves(e):n.tabMoves;t.selection.isMultiple()&&!r.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?t.selection.transformFocus(i.row,i.col):t.selection.transformStart(i.row,i.col)}},Dye={name:"moveCellSelectionLeft",callback(t){t.selection.transformStart(0,-1*t.getDirectionFactor())}},Lye={name:"moveCellSelectionRight",callback(t){t.selection.transformStart(0,t.getDirectionFactor())}},$ye={name:"moveCellSelectionToMostBottom",callback(t){const{col:e}=t.getSelectedRangeLast().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(t.countRows()-1,-1);n===null&&(n=-1),t.selection.setRangeStart(t._createCellCoords(n,e))}},Fye={name:"moveCellSelectionToMostBottomInlineEnd",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:r}=t,i=parseInt(t.getSettings().fixedRowsBottom,10),o=n.getNearestNotHiddenIndex(t.countRows()-i-1,-1),s=r.getNearestNotHiddenIndex(t.countCols()-1,-1);e.setRangeStart(t._createCellCoords(o,s))}},Bye={name:"moveCellSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t;e.setRangeStart(t._createCellCoords(t.getSelectedRangeLast().highlight.row,n.getNearestNotHiddenIndex(t.countCols()-1,-1)))}},jye={name:"moveCellSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,r=parseInt(t.getSettings().fixedColumnsStart,10),i=t.getSelectedRangeLast().highlight.row,o=n.getNearestNotHiddenIndex(r,1);e.setRangeStart(t._createCellCoords(i,o))}},Vye={name:"moveCellSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,r=t.getSelectedRangeLast().highlight.row;let i=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]);i===null&&(i=t.isRtl()?-1:-t.countRowHeaders()),e.setRangeStart(t._createCellCoords(r,i))}},Wye={name:"moveCellSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{row:r}=t.getSelectedRangeLast().highlight;let i=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]);i===null&&(i=t.isRtl()?-t.countRowHeaders():-1),e.setRangeStart(t._createCellCoords(r,i))}},Uye={name:"moveCellSelectionToMostTop",callback(t){const{col:e}=t.getSelectedRangeLast().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(0,1);n===null&&(n=-t.countColHeaders()),t.selection.setRangeStart(t._createCellCoords(n,e))}},zye={name:"moveCellSelectionToMostTopInlineStart",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:r}=t,i=parseInt(t.getSettings().fixedRowsTop,10),o=parseInt(t.getSettings().fixedColumnsStart,10),s=n.getNearestNotHiddenIndex(i,1),a=r.getNearestNotHiddenIndex(o,1);e.setRangeStart(t._createCellCoords(s,a))}},Yye={name:"moveCellSelectionUp",callback(t){let{selection:e}=t;e.transformStart(-1,0)}},Gye={name:"moveCellSelectionUpByViewportHight",callback(t){const{navigableHeaders:e}=t.getSettings(),n=e?t.countColHeaders():0,{row:r}=t.getSelectedRangeLast().highlight;let i=-(t.countVisibleRows()+n);r===-n?i=-1:r+i<n&&(i=-(r+n)),t.selection.transformStart(i,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}};function Kye(){return[Iye,Nye,kye,Hye,Dye,Lye,$ye,Fye,Bye,jye,Vye,Wye,Uye,zye,Yye,Gye]}const qye={name:"emptySelectedCells",callback(t){t.emptySelectedCells(),t._getEditorManager().prepareEditor()}},Xye={name:"scrollToFocusedCell",callback(t){const{highlight:e}=t.getSelectedRangeLast(),n=t.view.getFirstFullyVisibleRow()-1,r=t.view.getFirstFullyVisibleColumn()-1,i=t.view.getLastFullyVisibleRow()+1,o=t.view.getLastFullyVisibleColumn()+1,s=t._createCellCoords(n,r),a=t._createCellCoords(i,o);if(!t._createCellRange(s,s,a).includes(e)&&(e.row>=0||e.col>=0)){const u={};if(e.col>=0){const c=Math.floor(t.countVisibleCols()/2);u.col=Math.max(e.col-c,0)}if(e.row>=0){const c=Math.floor(t.countVisibleRows()/2);u.row=Math.max(e.row-c,0)}t.scrollViewportTo({...u,verticalSnap:"top",horizontalSnap:"start"})}}},Zye={name:"selectAllCells",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!0})}},Qye={name:"selectAllCellsAndHeaders",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!1})}},Jye={name:"populateSelectedCellsData",callback(t){const e=t.getSelectedRange(),{row:n,col:r}=e[e.length-1].highlight.normalize(),i=t.getDataAtCell(n,r),o=new Map;for(let s=0;s<e.length;s++)e[s].forAll((a,l)=>{if(a>=0&&l>=0&&(a!==n||l!==r)){const{readOnly:u}=t.getCellMeta(a,l);u||o.set(`${a}x${l}`,[a,l,i])}});t.setDataAtCell(Array.from(o.values()))}},ewe=[...pye(),...Aye(),...Kye(),qye,Xye,Zye,Qye,Jye];function sU(t){const e={};return ewe.forEach(n=>{let{name:r,callback:i}=n;e[r]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i(t,...s)}}),e}function twe(t){const e=t.getShortcutManager().addContext("editor"),n=sU(t),r={group:Gl};e.addShortcuts([{keys:[["Enter"],["Enter","Shift"]],callback:(i,o)=>n.editorCloseAndSaveByEnter(i,o)},{keys:[["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],captureCtrl:!0,callback:(i,o)=>n.editorCloseAndSaveByEnter(i,o)},{keys:[["Tab"],["Tab","Shift"],["PageDown"],["PageUp"]],forwardToContext:t.getShortcutManager().getContext("grid"),callback:(i,o)=>n.editorCloseAndSave(i,o)},{keys:[["ArrowDown"],["ArrowUp"],["ArrowLeft"],["ArrowRight"]],preventDefault:!1,callback:(i,o)=>n.editorCloseAndSaveByArrowKeys(i,o)},{keys:[["Escape"],["Escape","Control/Meta"]],callback:()=>n.editorCloseWithoutSaving()}],r)}function nwe(t){const e=t.getShortcutManager().addContext("grid"),n=sU(t),r={runOnlyIf:()=>{const{navigableHeaders:i}=t.getSettings();return xe(t.getSelected())&&(i||!i&&t.countRenderedRows()>0&&t.countRenderedCols()>0)},group:iU};e.addShortcuts([{keys:[["F2"]],callback:i=>n.editorFastOpen(i)},{keys:[["Enter"],["Enter","Shift"]],callback:(i,o)=>n.editorOpen(i,o)},{keys:[["Backspace"],["Delete"]],callback:()=>n.emptySelectedCells()}],{group:Gl,runOnlyIf:()=>xe(t.getSelected())}),e.addShortcuts([{keys:[["Control/Meta","A"]],callback:()=>n.selectAllCells(),runOnlyIf:()=>{var i;return!((i=t.getSelectedRangeLast())!==null&&i!==void 0&&i.highlight.isHeader())}},{keys:[["Control/Meta","A"]],callback:()=>{},runOnlyIf:()=>{var i;return(i=t.getSelectedRangeLast())===null||i===void 0?void 0:i.highlight.isHeader()},preventDefault:!0},{keys:[["Control/Meta","Shift","Space"]],callback:()=>n.selectAllCellsAndHeaders()},{keys:[["Control/Meta","Enter"]],callback:()=>n.populateSelectedCellsData(),runOnlyIf:()=>{var i,o;return!((i=t.getSelectedRangeLast())!==null&&i!==void 0&&i.highlight.isHeader())&&((o=t.getSelectedRangeLast())===null||o===void 0?void 0:o.getCellsCount())>1}},{keys:[["Control","Space"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToColumns()},{keys:[["Shift","Space"]],stopPropagation:!0,callback:()=>n.extendCellsSelectionToRows()},{keys:[["ArrowUp"]],callback:()=>n.moveCellSelectionUp()},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTop()},{keys:[["ArrowUp","Shift"]],callback:()=>n.extendCellsSelectionUp()},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostTop(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowDown"]],callback:()=>n.moveCellSelectionDown()},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottom()},{keys:[["ArrowDown","Shift"]],callback:()=>n.extendCellsSelectionDown()},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostBottom(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowLeft"]],callback:()=>n.moveCellSelectionLeft()},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostLeft()},{keys:[["ArrowLeft","Shift"]],callback:()=>n.extendCellsSelectionLeft()},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostLeft(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["ArrowRight"]],callback:()=>n.moveCellSelectionRight()},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostRight()},{keys:[["ArrowRight","Shift"]],callback:()=>n.extendCellsSelectionRight()},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostRight(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["Home"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["Home","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineStart()},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTopInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineEnd()},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottomInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["PageUp"]],callback:()=>n.moveCellSelectionUpByViewportHight()},{keys:[["PageUp","Shift"]],callback:()=>n.extendCellsSelectionUpByViewportHeight()},{keys:[["PageDown"]],callback:()=>n.moveCellSelectionDownByViewportHeight()},{keys:[["PageDown","Shift"]],callback:()=>n.extendCellsSelectionDownByViewportHeight()},{keys:[["Tab"]],preventDefault:!1,callback:i=>n.moveCellSelectionInlineStart(i)},{keys:[["Shift","Tab"]],preventDefault:!1,callback:i=>n.moveCellSelectionInlineEnd(i)},{keys:[["Control/Meta","Backspace"]],callback:()=>n.scrollToFocusedCell()}],r)}function rwe(t){[nwe,twe].forEach(e=>e(t))}function iwe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.rootElement,r=oD(t),i=oD(t);return r.addEventListener("focus",()=>e==null?void 0:e.onFocusFromTop()),i.addEventListener("focus",()=>e==null?void 0:e.onFocusFromBottom()),n.firstChild.before(r),n.lastChild.after(i),{activate(){t._registerTimeout(()=>{r.tabIndex=0,i.tabIndex=0},10)},deactivate(){t._registerTimeout(()=>{r.tabIndex=-1,i.tabIndex=-1},10)}}}function oD(t){const n=t.rootDocument.createElement("input");return n.type="text",n.classList.add("htFocusCatcher"),t.getSettings().ariaTags&&Be(n,[Rs(),Pc()]),n}function owe(t){const e=swe(t);let n;const{activate:r,deactivate:i}=iwe(t,{onFocusFromTop(){var h;const d=(h=e(n))!==null&&h!==void 0?h:U_(t);d&&(t.runHooks("modifyFocusOnTabNavigation","from_above",d),t.selectCell(d.row,d.col)),t.listen()},onFocusFromBottom(){var h;const d=(h=e(n))!==null&&h!==void 0?h:z_(t);d&&(t.runHooks("modifyFocusOnTabNavigation","from_below",d),t.selectCell(d.row,d.col)),t.listen()}}),o={wrapped:!1,flipped:!1};let s=!0,a=!1,l=!1;t.addHook("afterListen",()=>i()),t.addHook("afterUnlisten",()=>r()),t.addHook("afterSelection",(h,d,f,g,v)=>{if(a&&(o.wrapped&&o.flipped||l)&&(l=!1,v.value=!0),s){var y;n=(y=t.getSelectedRangeLast())===null||y===void 0?void 0:y.highlight}}),t.addHook("beforeRowWrap",(h,d,f)=>{o.wrapped=!0,o.flipped=f});function u(){o.wrapped=!1,o.flipped=!1,t.deselectCell(),t.unlisten()}const c={keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:iU,group:"focusCatcher"};t.getShortcutManager().getContext("grid").addShortcuts([{...c,callback:()=>{const{tabNavigation:h}=t.getSettings();a=!0,t.getSelectedRangeLast()&&!h&&(s=!1),h||(l=!0)},position:"before"},{...c,callback:h=>{const{tabNavigation:d,autoWrapRow:f}=t.getSettings();if(a=!1,s=!0,!d||!t.selection.isSelected()||f&&o.wrapped&&o.flipped||!f&&o.wrapped)return f&&o.wrapped&&o.flipped&&(n=h.shiftKey?U_(t):z_(t)),u(),!1;h.preventDefault()},position:"after"}])}function U_(t){const{rowIndexMapper:e,columnIndexMapper:n}=t,{navigableHeaders:r}=t.getSettings();let i=r&&t.countColHeaders()>0?-t.countColHeaders():0,o=r&&t.countRowHeaders()>0?-t.countRowHeaders():0;return i===0&&(i=e.getVisualFromRenderableIndex(i)),o===0&&(o=n.getVisualFromRenderableIndex(o)),i===null||o===null?null:t._createCellCoords(i,o)}function z_(t){var e,n;const{rowIndexMapper:r,columnIndexMapper:i}=t,{navigableHeaders:o}=t.getSettings();let s=r.getRenderableIndexesLength()-1,a=i.getRenderableIndexesLength()-1;if(s<0){if(!o||t.countColHeaders()===0)return null;s=-1}if(a<0){if(!o||t.countColHeaders()===0)return null;a=-1}return t._createCellCoords((e=r.getVisualFromRenderableIndex(s))!==null&&e!==void 0?e:s,(n=i.getVisualFromRenderableIndex(a))!==null&&n!==void 0?n:a)}function swe(t){return e=>{if(!e)return null;const n=U_(t),r=z_(t);return e.col<n.col&&(e.col=n.col),e.col>r.col&&(e.col=r.col),e.row<n.row&&(e.row=n.row),e.row>r.row&&(e.row=r.row),e}}function awe(t){return e=>{let{col:n}=e;t.scrollViewportTo({col:n})}}function lwe(){return()=>{}}function uwe(t){return e=>{t.scrollViewportTo(e.toObject())}}function cwe(t){return e=>{t.scrollViewportTo(e.toObject())}}function hwe(t){return e=>{t.scrollViewportTo(e.toObject())}}function dwe(t){return e=>{let{row:n}=e;t.scrollViewportTo({row:n})}}function fwe(t){return e=>{const n=t.selection.getSelectionSource(),{row:r,col:i}=e;if(r<0&&i>=0)t.scrollViewportTo({col:i});else if(i<0&&r>=0)t.scrollViewportTo({row:r});else{if(n==="mouse"&&(i===t.view.getLastPartiallyVisibleColumn()||r===t.view.getLastPartiallyVisibleRow()))return;t.scrollViewportTo({row:r,col:i})}}}function gwe(t){const{selection:e}=t;let n=!1,r=!1;return{resume(){r=!1},suspend(){r=!0},skipNextScrollCycle(){n=!0},scrollTo(i){var o;if(n||r){n=!1;return}let s;e.isFocusSelectionChanged()?s=uwe(t):e.isSelectedByCorner()?s=lwe():e.isSelectedByRowHeader()?s=dwe(t):e.isSelectedByColumnHeader()?s=awe(t):e.getSelectedRange().size()===1&&e.isMultiple()?s=cwe(t):e.getSelectedRange().size()===1&&!e.isMultiple()?s=fwe(t):e.getSelectedRange().size()>1&&(s=hwe(t)),(o=s)===null||o===void 0||o(i)}}}const sD=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),Fv=t=>t.map(e=>{const n=e.toLowerCase();return sD.has(n)?sD.get(n):n}).sort().join("+"),mwe=t=>t.split("+"),aD=new Map([[96,"numpad0"],[97,"numpad1"],[98,"numpad2"],[99,"numpad3"],[100,"numpad4"],[101,"numpad5"],[102,"numpad6"],[103,"numpad7"],[104,"numpad8"],[105,"numpad9"],[106,"multiply"],[107,"add"],[108,"decimal"],[109,"subtract"],[110,"decimal"],[111,"divide"],[112,"f1"],[113,"f2"],[114,"f3"],[115,"f4"],[116,"f5"],[117,"f6"],[118,"f7"],[119,"f8"],[120,"f9"],[121,"f10"],[122,"f11"],[123,"f12"],[186,"semicolon"],[187,"equal"],[188,"comma"],[189,"minus"],[190,"period"],[191,"slash"],[192,"backquote"],[219,"bracketleft"],[220,"backslash"],[221,"bracketright"],[222,"quote"]]),MR=t=>{let{which:e,key:n}=t;if(aD.has(e))return aD.get(e);const r=String.fromCharCode(e).toLowerCase();return/^[a-z0-9]$/.test(r)?r:n.toLowerCase()},aU=Symbol("shortcut-context");function lU(t){return Ze(t)&&t.__kindOf===aU}const pwe=t=>{const e=lS({errorIdExists:l=>`The "${l}" shortcut is already registered in the "${t}" context.`}),n=function(){let{keys:l,callback:u,group:c,runOnlyIf:h=()=>!0,captureCtrl:d=!1,preventDefault:f=!0,stopPropagation:g=!1,relativeToGroup:v,position:y,forwardToContext:p}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if($t(c))throw new Error("You need to define the shortcut's group.");if(Ht(u)===!1)throw new Error("The shortcut's callback needs to be a function.");if(Array.isArray(l)===!1)throw new Error(St`Pass the shortcut\'s keys as an array of arrays,\x20
      using the KeyboardEvent.key properties:\x20
      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values.`);const m={callback:u,group:c,runOnlyIf:h,captureCtrl:d,preventDefault:f,stopPropagation:g};xe(v)&&(m.relativeToGroup=v,m.position=y),lU(p)&&(m.forwardToContext=p),l.forEach(w=>{const C=Fv(w);if(e.hasItem(C)){const x=e.getItem(C);let _=x.findIndex(O=>O.group===v);_!==-1?y==="before"?_-=1:_+=1:_=x.length,x.splice(_,0,m)}else e.addItem(C,[m])})},r=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.forEach(c=>{Qe(u,(h,d)=>{Object.prototype.hasOwnProperty.call(c,d)===!1&&(c[d]=u[d])}),n(c)})},i=l=>{const u=Fv(l);e.removeItem(u)};return{__kindOf:aU,addShortcut:n,addShortcuts:r,getShortcuts:l=>{const u=Fv(l),c=e.getItem(u);return xe(c)?c.slice():[]},hasShortcut:l=>{const u=Fv(l);return e.hasItem(u)},removeShortcutsByKeys:i,removeShortcutsByGroup:l=>{e.getItems().forEach(c=>{let[h,d]=c;const f=d.filter(g=>g.group!==l);f.length===0?i(mwe(h)):(d.length=0,d.push(...f))})}}};function vwe(){const t=new Set;return{press(e){t.add(e)},release(e){t.delete(e)},releaseAll(){t.clear()},isPressed(e){return t.has(e)}}}const ywe=["meta","alt","shift","control"],kf=vwe(),Hf=[];let Bv=0;function wwe(t,e,n,r,i){const o=f=>ywe.includes(f),s=function(f){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const v=[];return f.altKey&&v.push("alt"),g&&(f.ctrlKey||f.metaKey)?v.push("control/meta"):(f.ctrlKey&&v.push("control"),f.metaKey&&v.push("meta")),f.shiftKey&&v.push("shift"),v},a=f=>{if(e(f)===!1)return;const g=n(f);if(f.keyCode===229||g===!1||ju(f))return;const v=MR(f);let y=[];o(v)||(y=s(f));const p=[v].concat(y);!i(f,p)&&(M_()&&y.includes("meta")||!M_()&&y.includes("control"))&&i(f,[v].concat(s(f,!0))),r(f)},l=f=>{if(f.key){const g=MR(f);o(g)&&kf.press(g)}},u=f=>{if(f.key){const g=MR(f);o(g)&&kf.release(g)}},c=()=>{kf.releaseAll()};return{mount:()=>{let f=t;for(Bv+=1;f;)Bv===1&&(f.document.documentElement.addEventListener("keydown",l),Hf.push({event:"keydown",listener:l}),f.document.documentElement.addEventListener("keyup",u),Hf.push({event:"keyup",listener:u})),f.document.documentElement.addEventListener("keydown",a),f.document.documentElement.addEventListener("blur",c),f=gd(f)},unmount:()=>{let f=t;for(Bv-=1;f;){if(Bv===0){for(let g=0;g<Hf.length;g++){const{event:v,listener:y}=Hf[g];f.document.documentElement.removeEventListener(v,y)}Hf.length=0}f.document.documentElement.removeEventListener("keydown",a),f.document.documentElement.removeEventListener("blur",c),f=gd(f)}},isPressed:f=>kf.isPressed(f),releasePressedKeys:()=>kf.releaseAll()}}const Cwe=t=>{let{ownerWindow:e,handleEvent:n,beforeKeyDown:r,afterKeyDown:i}=t;const o=lS({errorIdExists:g=>`The "${g}" context name is already registered.`});let s="grid";const a=g=>{const v=pwe(g);return o.addItem(g,v),v},l=()=>s,u=g=>o.getItem(g),c=g=>{if(!o.hasItem(g))throw new Error(St`You've tried to activate the "${g}" shortcut context\x20
        that does not exist. Before activation, register the context using the "addContext" method.`);s=g};let h=!1;const d=function(g,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l();const p=lU(y)?y:u(y);let m=!1;if(!p.hasShortcut(v))return m;const w=p.getShortcuts(v);for(let C=0;C<w.length;C++){const{callback:S,runOnlyIf:x,preventDefault:_,stopPropagation:O,captureCtrl:I,forwardToContext:T}=w[C];if(x(g)===!0){if(h=I,m=S(g,v)===!1,h=!1,_&&g.preventDefault(),O&&(Bo(g),g.stopPropagation()),m)break;T&&d(g,v,T)}}return m},f=wwe(e,n,r,i,d);return f.mount(),{addContext:a,getActiveContextName:l,getContext:u,setActiveContextName:c,isCtrlPressed:()=>!h&&(f.isPressed("control")||f.isPressed("meta")),releasePressedKeys:()=>f.releasePressedKeys(),destroy:()=>f.unmount()}};let AR=null;const IR=new Map;function uU(t,e){var n,r=this;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=this;const s=new No(o);let a,l,u,c,h,d,f=!0;ipe(i)&&rpe(this),this.rootElement=t,this.rootDocument=t.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;const g=(n=e==null?void 0:e.layoutDirection)!==null&&n!==void 0?n:"inherit",v=["rtl","ltr"].includes(g)?g:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",v),this.isRtl=function(){return v==="rtl"},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1},e.language=Zpe(e.language);const y=new rU(o,e,[Qve,oye]),p=y.getTableMeta(),m=y.getGlobalMeta(),w=lS();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,t.insertBefore(this.container,t.firstChild),cw(this)&&Que(e.licenseKey,t),this.guid=`ht_${SV()}`,IR.set(this.guid,this),this.columnIndexMapper=new j_,this.rowIndexMapper=new j_,this.columnIndexMapper.addLocalHook("indexesSequenceChange",b=>{o.runHooks("afterColumnSequenceChange",b)}),this.rowIndexMapper.addLocalHook("indexesSequenceChange",b=>{o.runHooks("afterRowSequenceChange",b)}),l=new ppe(o),(!this.rootElement.id||this.rootElement.id.substring(0,3)==="ht_")&&(this.rootElement.id=this.guid);const C=b=>{const{row:R,col:E}=b;return o._createCellCoords(R>=0?o.rowIndexMapper.getRenderableFromVisualIndex(R):R,E>=0?o.columnIndexMapper.getRenderableFromVisualIndex(E):E)},S=b=>{const{row:R,col:E}=b;return o._createCellCoords(R>=0?o.rowIndexMapper.getVisualFromRenderableIndex(R):R,E>=0?o.columnIndexMapper.getVisualFromRenderableIndex(E):E)},x=(b,R)=>{const E=R>b?1:-1,H=Math.min(b,R),D=Math.max(b,R),A=o.rowIndexMapper.getNearestNotHiddenIndex(b,E);return A===null||E===1&&A>D||E===-1&&A<H?null:A>=0?o.rowIndexMapper.getRenderableFromVisualIndex(A):A},_=(b,R)=>{const E=R>b?1:-1,H=Math.min(b,R),D=Math.max(b,R),A=o.columnIndexMapper.getNearestNotHiddenIndex(b,E);return A===null||E===1&&A>D||E===-1&&A<H?null:A>=0?o.columnIndexMapper.getRenderableFromVisualIndex(A):A};let O=new eU(p,{rowIndexMapper:o.rowIndexMapper,columnIndexMapper:o.columnIndexMapper,countCols:()=>o.countCols(),countRows:()=>o.countRows(),propToCol:b=>a.propToCol(b),isEditorOpened:()=>o.getActiveEditor()?o.getActiveEditor().isOpened():!1,countRenderableColumns:()=>this.view.countRenderableColumns(),countRenderableRows:()=>this.view.countRenderableRows(),countRowHeaders:()=>this.countRowHeaders(),countColHeaders:()=>this.countColHeaders(),countRenderableRowsInRange:function(){return r.view.countRenderableRowsInRange(...arguments)},countRenderableColumnsInRange:function(){return r.view.countRenderableColumnsInRange(...arguments)},getShortcutManager:()=>o.getShortcutManager(),createCellCoords:(b,R)=>o._createCellCoords(b,R),createCellRange:(b,R,E)=>o._createCellRange(b,R,E),visualToRenderableCoords:C,renderableToVisualCoords:S,findFirstNonHiddenRenderableRow:x,findFirstNonHiddenRenderableColumn:_,isDisabledCellSelection:(b,R)=>b<0||R<0?o.getSettings().disableVisualSelection:o.getCellMeta(b,R).disableVisualSelection});this.selection=O;const I=b=>{let{hiddenIndexesChanged:R}=b;R&&this.selection.commit()};this.columnIndexMapper.addLocalHook("cacheUpdated",I),this.rowIndexMapper.addLocalHook("cacheUpdated",I),this.selection.addLocalHook("afterSetRangeEnd",(b,R)=>{const E=Eo(!1),H=this.selection.getSelectedRange(),{from:D,to:A}=H.current(),B=H.size()-1;this.runHooks("afterSelection",D.row,D.col,A.row,A.col,E,B),this.runHooks("afterSelectionByProp",D.row,o.colToProp(D.col),A.row,o.colToProp(A.col),E,B),R&&(!E.isTouched()||E.isTouched()&&!E.value)&&d.scrollTo(b);const U=O.isSelectedByRowHeader(),q=O.isSelectedByColumnHeader();U&&q?ge(this.rootElement,["ht__selection--rows","ht__selection--columns"]):U?(We(this.rootElement,"ht__selection--columns"),ge(this.rootElement,"ht__selection--rows")):q?(We(this.rootElement,"ht__selection--rows"),ge(this.rootElement,"ht__selection--columns")):We(this.rootElement,["ht__selection--rows","ht__selection--columns"]),O.getSelectionSource()!=="shift"&&c.closeEditor(null),o.view.render(),c.prepareEditor()}),this.selection.addLocalHook("beforeSetFocus",b=>{this.runHooks("beforeSelectionFocusSet",b.row,b.col)}),this.selection.addLocalHook("afterSetFocus",b=>{const R=Eo(!1);this.runHooks("afterSelectionFocusSet",b.row,b.col,R),(!R.isTouched()||R.isTouched()&&!R.value)&&d.scrollTo(b),c.closeEditor(),o.view.render(),c.prepareEditor()}),this.selection.addLocalHook("afterSelectionFinished",b=>{const R=b.length-1,{from:E,to:H}=b[R];this.runHooks("afterSelectionEnd",E.row,E.col,H.row,H.col,R),this.runHooks("afterSelectionEndByProp",E.row,o.colToProp(E.col),H.row,o.colToProp(H.col),R)}),this.selection.addLocalHook("afterIsMultipleSelection",b=>{const R=this.runHooks("afterIsMultipleSelection",b.value);b.value&&(b.value=R)}),this.selection.addLocalHook("afterDeselect",()=>{c.closeEditor(),o.view.render(),We(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this.runHooks("afterDeselect")}),this.selection.addLocalHook("beforeHighlightSet",()=>this.runHooks("beforeSelectionHighlightSet")).addLocalHook("beforeSetRangeStart",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("beforeSetRangeStart",...R)}).addLocalHook("beforeSetRangeStartOnly",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("beforeSetRangeStartOnly",...R)}).addLocalHook("beforeSetRangeEnd",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("beforeSetRangeEnd",...R)}).addLocalHook("beforeSelectColumns",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("beforeSelectColumns",...R)}).addLocalHook("afterSelectColumns",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("afterSelectColumns",...R)}).addLocalHook("beforeSelectRows",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("beforeSelectRows",...R)}).addLocalHook("afterSelectRows",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("afterSelectRows",...R)}).addLocalHook("beforeModifyTransformStart",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("modifyTransformStart",...R)}).addLocalHook("afterModifyTransformStart",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("afterModifyTransformStart",...R)}).addLocalHook("beforeModifyTransformFocus",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("modifyTransformFocus",...R)}).addLocalHook("afterModifyTransformFocus",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("afterModifyTransformFocus",...R)}).addLocalHook("beforeModifyTransformEnd",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("modifyTransformEnd",...R)}).addLocalHook("afterModifyTransformEnd",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("afterModifyTransformEnd",...R)}).addLocalHook("beforeRowWrap",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("beforeRowWrap",...R)}).addLocalHook("beforeColumnWrap",function(){for(var b=arguments.length,R=new Array(b),E=0;E<b;E++)R[E]=arguments[E];return r.runHooks("beforeColumnWrap",...R)}).addLocalHook("insertRowRequire",b=>this.alter("insert_row_above",b,1,"auto")).addLocalHook("insertColRequire",b=>this.alter("insert_col_start",b,1,"auto")),u={alter(b,R){var E,H;let D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=arguments.length>3?arguments[3]:void 0,B=arguments.length>4?arguments[4]:void 0;const U=q=>{if(q.length===0)return[];const ie=[...q];return ie.sort((ve,Ce)=>{let[re]=ve,[Oe]=Ce;return re===Oe?0:re>Oe?1:-1}),kr(ie,(ve,Ce)=>{let[re,Oe]=Ce;const $e=ve[ve.length-1],[Fe,le]=$e,se=Fe+le;if(re<=se){const k=Math.max(Oe-(se-re),0);$e[1]+=k}else ve.push([re,Oe]);return ve},[ie[0]])};switch(b){case"insert_row_below":case"insert_row_above":const q=o.countSourceRows();if(p.maxRows===q)return;const ie=b==="insert_row_below"?"below":"above";R=(E=R)!==null&&E!==void 0?E:ie==="below"?q:0;const{delta:ue,startPhysicalIndex:ve}=a.createRow(R,D,{source:A,mode:ie});O.shiftRows(o.toVisualRow(ve),ue);break;case"insert_col_start":case"insert_col_end":const Ce=b==="insert_col_end"?"end":"start";R=(H=R)!==null&&H!==void 0?H:Ce==="end"?o.countSourceCols():0;const{delta:re,startPhysicalIndex:Oe}=a.createCol(R,D,{source:A,mode:Ce});if(re){if(Array.isArray(p.colHeaders)){const le=[o.toVisualColumn(Oe),0];le.length+=re,Array.prototype.splice.apply(p.colHeaders,le)}O.shiftColumns(o.toVisualColumn(Oe),re)}break;case"remove_row":const $e=le=>{let se=0;G(le,k=>{let[L,F]=k;const Z=pn(L)?o.countRows()-1:Math.max(L-se,0);if(Number.isInteger(L)&&(L=Math.max(L-se,0)),!a.removeRow(L,F,A))return;if(O.isSelected()){const{row:ne}=o.getSelectedRangeLast().highlight;ne>=L&&ne<=L+F-1&&c.closeEditor(!0)}const J=o.countRows();J===0?O.deselect():A==="ContextMenu.removeRow"?O.refresh():O.shiftRows(L,-F);const ee=p.fixedRowsTop;ee>=Z+1&&(p.fixedRowsTop-=Math.min(F,ee-Z));const Q=p.fixedRowsBottom;Q&&Z>=J-Q&&(p.fixedRowsBottom-=Math.min(F,Q)),se+=F})};Array.isArray(R)?$e(U(R)):$e([[R,D]]);break;case"remove_col":const Fe=le=>{let se=0;G(le,k=>{let[L,F]=k;const Z=pn(L)?o.countCols()-1:Math.max(L-se,0);let z=o.toPhysicalColumn(Z);if(Number.isInteger(L)&&(L=Math.max(L-se,0)),!a.removeCol(L,F,A))return;if(O.isSelected()){const{col:ne}=o.getSelectedRangeLast().highlight;ne>=L&&ne<=L+F-1&&c.closeEditor(!0)}o.countCols()===0?O.deselect():A==="ContextMenu.removeColumn"?O.refresh():O.shiftColumns(L,-F);const Q=p.fixedColumnsStart;Q>=Z+1&&(p.fixedColumnsStart-=Math.min(F,Q-Z)),Array.isArray(p.colHeaders)&&(typeof z>"u"&&(z=-1),p.colHeaders.splice(z,F)),se+=F})};Array.isArray(R)?Fe(U(R)):Fe([[R,D]]);break;default:throw new Error(`There is no such action "${b}"`)}o.view.render(),B||u.adjustRowsAndCols()},adjustRowsAndCols(){const b=p.minRows,R=p.minSpareRows,E=p.minCols,H=p.minSpareCols;if(b){const D=o.countRows();D<b&&a.createRow(D,b-D,{source:"auto"})}if(R){const D=o.countEmptyRows(!0);if(D<R){const A=R-D,B=Math.min(A,p.maxRows-o.countSourceRows());a.createRow(o.countRows(),B,{source:"auto"})}}{let D;(E||H)&&(D=o.countEmptyCols(!0));let A=o.countCols();if(E&&!p.columns&&A<E){const B=E-A;D+=B,a.createCol(A,B,{source:"auto"})}if(H&&!p.columns&&o.dataType==="array"&&D<H){A=o.countCols();const B=H-D,U=Math.min(B,p.maxCols-A);a.createCol(A,U,{source:"auto"})}}o.view&&o.view.adjustElementsSize()},populateFromArray(b,R,E,H,D){let A,B,U,q;const ie=[],ue={},ve=[],Ce=b.row,re=b.col;if(B=R.length,B===0)return!1;let Oe=0,$e=0;switch(Ze(E)&&(Oe=E.col-re+1,$e=E.row-Ce+1),D){case"shift_down":const Fe=aw(R),le=Fe.length,se=Math.max(le,Oe),k=o.getData().slice(Ce),L=aw(k).slice(re,re+se);for(U=0;U<se;U+=1)if(U<le){for(A=0,B=Fe[U].length;A<$e-B;A+=1)Fe[U].push(Fe[U][A%B]);U<L.length?ve.push(Fe[U].concat(L[U])):ve.push(Fe[U].concat(new Array(k.length).fill(null)))}else ve.push(Fe[U%le].concat(L[U]));o.populateFromArray(Ce,re,aw(ve));break;case"shift_right":const F=R.length,Z=Math.max(F,$e),z=o.getData().slice(Ce).map(_e=>_e.slice(re));for(A=0;A<Z;A+=1)if(A<F){for(U=0,q=R[A].length;U<Oe-q;U+=1)R[A].push(R[A][U%q]);if(A<z.length)for(let _e=0;_e<z[A].length;_e+=1)R[A].push(z[A][_e]);else R[A].push(...new Array(z[0].length).fill(null))}else R.push(R[A%B].slice(0,Z).concat(z[A]));o.populateFromArray(Ce,re,R);break;case"overwrite":default:ue.row=b.row,ue.col=b.col;let J=0,ee=0,Q=!0,ne;const oe=function(He){let Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const at=R[He%R.length];return Ge!==null?at[Ge%at.length]:at},ae=R.length,me=E?E.row-b.row+1:0;for(E?B=me:B=Math.max(ae,me),A=0;A<B&&!(E&&ue.row>E.row&&me>ae||!p.allowInsertRow&&ue.row>o.countRows()-1||ue.row>=p.maxRows);A++){const _e=A-J,He=oe(_e).length,Ge=E?E.col-b.col+1:0;if(E?q=Ge:q=Math.max(He,Ge),ue.col=b.col,ne=o.getCellMeta(ue.row,ue.col),(H==="CopyPaste.paste"||H==="Autofill.fill")&&ne.skipRowOnPaste){J+=1,ue.row+=1,B+=1;continue}for(ee=0,U=0;U<q&&!(E&&ue.col>E.col&&Ge>He||!p.allowInsertColumn&&ue.col>o.countCols()-1||ue.col>=p.maxCols);U++){if(ne=o.getCellMeta(ue.row,ue.col),(H==="CopyPaste.paste"||H==="Autofill.fill")&&ne.skipColumnOnPaste){ee+=1,ue.col+=1,q+=1;continue}if(ne.readOnly&&H!=="UndoRedo.undo"){ue.col+=1;continue}const at=U-ee;let Je=oe(_e,at),Ve=o.getDataAtCell(ue.row,ue.col);if(Je!==null&&typeof Je=="object")if(Array.isArray(Je)&&Ve===null&&(Ve=[]),Ve===null||typeof Ve!="object")Q=!1;else{const ut=Om(Array.isArray(Ve)?Ve:Ve[0]||Ve),Qt=Om(Array.isArray(Je)?Je:Je[0]||Je);Sx(ut,Qt)||Array.isArray(ut)&&Array.isArray(Qt)?Je=Ar(Je):Q=!1}else Ve!==null&&typeof Ve=="object"&&(Q=!1);Q&&ie.push([ue.row,ue.col,Je]),Q=!0,ue.col+=1}ue.row+=1}o.setDataAtCell(ie,null,null,H||"populateFromArray");break}}};function T(b){const R=VW(b);pM(R)?(o.runHooks("beforeLanguageChange",R),m.language=R,o.runHooks("afterLanguageChange",R)):WW(b)}function P(b,R){const E=b==="className"?o.rootElement:o.table;if(f)ge(E,R);else{let H=[],D=[];m[b]&&(H=Array.isArray(m[b])?m[b]:$k(m[b])),R&&(D=Array.isArray(R)?R:$k(R));const A=Lk(H,D),B=Lk(D,H);A.length&&We(E,A),B.length&&ge(E,B)}m[b]=R}this.init=function(){l.setData(p.data),o.runHooks("beforeInit"),(ml()||JV())&&ge(o.rootElement,"mobile"),this.updateSettings(p,!0),this.view=new lpe(this),c=L_.getInstance(o,p,O),d=gwe(o),h=new lde(o),cw(this)&&owe(o),o.runHooks("init"),this.forceFullRender=!0,this.view.render(),f&&o.rootElement.offsetParent===null&&kce(o.rootElement,()=>{o.view._wt.wtOverlays.updateLastSpreaderSize(),o.render(),o.view.adjustElementsSize()}),typeof f=="object"&&(o.runHooks("afterChange",f[0],f[1]),f=!1),o.runHooks("afterInit")};function M(){let b=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue(){this.validatorsInQueue+=1,b=!1},removeValidatorFormQueue(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty(){},checkIfQueueIsEmpty(){this.validatorsInQueue===0&&b===!1&&(b=!0,this.onQueueEmpty(this.valid))}}}function N(b){const R=b.replace(",",".");return isNaN(parseFloat(R))===!1?parseFloat(R):b}function $(b,R,E){if(!b.length){E();return}const H=o.getActiveEditor(),D=new M;let A=!0;D.onQueueEmpty=()=>{H&&A&&H.cancelChanges(),E()};for(let B=b.length-1;B>=0;B--){const[U,q,,ie]=b[B],ue=a.propToCol(q);let ve;Number.isInteger(ue)?ve=o.getCellMeta(U,ue):ve={...Object.getPrototypeOf(p),...p},ve.type==="numeric"&&typeof ie=="string"&&qde(ie)&&(b[B][3]=N(ie)),o.getCellValidator(ve)&&(D.addValidatorToQueue(),o.validateCell(b[B][3],ve,function(Ce,re){return function(Oe){if(typeof Oe!="boolean")throw new Error("Validation error: result is not boolean");Oe===!1&&re.allowInvalid===!1&&(A=!1,b.splice(Ce,1),re.valid=!0),D.removeValidatorFormQueue()}}(B,ve),R))}D.checkIfQueueIsEmpty()}function V(b,R){for(let H=b.length-1;H>=0;H--){let D=!1;if(b[H]===null){b.splice(H,1);continue}if(!((b[H][2]===null||b[H][2]===void 0)&&(b[H][3]===null||b[H][3]===void 0))){if(p.allowInsertRow)for(;b[H][0]>o.countRows()-1;){const{delta:A}=a.createRow(void 0,void 0,{source:R});if(A===0){D=!0;break}}if(o.dataType==="array"&&(!p.columns||p.columns.length===0)&&p.allowInsertColumn)for(;a.propToCol(b[H][1])>o.countCols()-1;){const{delta:A}=a.createCol(void 0,void 0,{source:R});if(A===0){D=!0;break}}D||a.set(b[H][0],b[H][1],b[H][3])}}const E=b.length>0;if(o.forceFullRender=!0,E){u.adjustRowsAndCols(),o.runHooks("beforeChangeRender",b,R),c.closeEditor(),o.view.render(),c.prepareEditor(),o.view.adjustElementsSize(),o.runHooks("afterChange",b,R||"edit");const H=o.getActiveEditor();H&&xe(H.refreshValue)&&H.refreshValue()}else o.view.render()}this._createCellCoords=function(b,R){return o.view._wt.createCellCoords(b,R)},this._createCellRange=function(b,R,E){return o.view._wt.createCellRange(b,R,E)},this.validateCell=function(b,R,E,H){let D=o.getCellValidator(R);function A(B){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)||R.hidden===!0){E(B);return}const q=R.visualCol,ie=R.visualRow,ue=o.getCell(ie,q,!0);if(ue&&ue.nodeName!=="TH"){const ve=o.rowIndexMapper.getRenderableFromVisualIndex(ie),Ce=o.columnIndexMapper.getRenderableFromVisualIndex(q);o.view._wt.getSetting("cellRenderer",ve,Ce,ue)}E(B)}que(D)&&(D=function(B){return function(U,q){q(B.test(U))}}(D)),Ht(D)?(b=o.runHooks("beforeValidate",b,R.visualRow,R.prop,H),o._registerImmediate(()=>{D.call(R,b,B=>{o&&(B=o.runHooks("afterValidate",B,b,R.visualRow,R.prop,H),R.valid=B,A(B),o.runHooks("postAfterValidate",B,b,R.visualRow,R.prop,H))})})):o._registerImmediate(()=>{R.valid=!0,A(R.valid,!1)})};function K(b,R,E){return Array.isArray(b)?b:[[b,R,E]]}function X(b,R){const E=o.getActiveEditor(),H=o.runHooks("beforeChange",b,R||"edit"),D=b.filter(A=>A!==null);return H===!1||D.length===0?(E&&E.cancelChanges(),[]):D}this.setDataAtCell=function(b,R,E,H){const D=K(b,R,E),A=[];let B=H,U,q,ie;for(U=0,q=D.length;U<q;U++){if(typeof D[U]!="object")throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if(typeof D[U][1]!="number")throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");D[U][1]>=this.countCols()?ie=D[U][1]:ie=a.colToProp(D[U][1]),A.push([D[U][0],ie,l.getAtCell(this.toPhysicalRow(D[U][0]),D[U][1]),D[U][2]])}!B&&typeof b=="object"&&(B=R);const ue=X(A,H);o.runHooks("afterSetDataAtCell",ue,B),$(ue,B,()=>{V(ue,B)})},this.setDataAtRowProp=function(b,R,E,H){const D=K(b,R,E),A=[];let B=H,U,q;for(U=0,q=D.length;U<q;U++)A.push([D[U][0],D[U][1],l.getAtCell(this.toPhysicalRow(D[U][0]),D[U][1]),D[U][2]]);!B&&typeof b=="object"&&(B=R);const ie=X(A,H);o.runHooks("afterSetDataAtRowProp",ie,B),$(ie,B,()=>{V(ie,B)})},this.listen=function(){o&&!o.isListening()&&(IR.forEach(b=>{o!==b&&b.unlisten()}),AR=o.guid,o.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(AR=null,o.runHooks("afterUnlisten"))},this.isListening=function(){return AR===o.guid},this.destroyEditor=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;c.closeEditor(b),o.view.render(),R&&O.isSelected()&&c.prepareEditor()},this.populateFromArray=function(b,R,E,H,D,A,B){if(!(typeof E=="object"&&typeof E[0]=="object"))throw new Error("populateFromArray parameter `input` must be an array of arrays");const U=typeof H=="number"?o._createCellCoords(H,D):null;return u.populateFromArray(o._createCellCoords(b,R),E,U,A,B)},this.spliceCol=function(b,R,E){for(var H=arguments.length,D=new Array(H>3?H-3:0),A=3;A<H;A++)D[A-3]=arguments[A];return a.spliceCol(b,R,E,...D)},this.spliceRow=function(b,R,E){for(var H=arguments.length,D=new Array(H>3?H-3:0),A=3;A<H;A++)D[A-3]=arguments[A];return a.spliceRow(b,R,E,...D)},this.getSelected=function(){if(O.isSelected())return it(O.getSelectedRange(),b=>{let{from:R,to:E}=b;return[R.row,R.col,E.row,E.col]})},this.getSelectedLast=function(){const b=this.getSelected();let R;return b&&b.length>0&&(R=b[b.length-1]),R},this.getSelectedRange=function(){if(O.isSelected())return Array.from(O.getSelectedRange())},this.getSelectedRangeLast=function(){const b=this.getSelectedRange();let R;return b&&b.length>0&&(R=b[b.length-1]),R},this.emptySelectedCells=function(b){if(!O.isSelected()||this.countRows()===0||this.countCols()===0)return;const R=[];G(O.getSelectedRange(),E=>{if(E.isSingleHeader())return;const H=E.getTopStartCorner(),D=E.getBottomEndCorner();Ie(H.row,D.row,A=>{Ie(H.col,D.col,B=>{this.getCellMeta(A,B).readOnly||R.push([A,B,null])})})}),R.length>0&&this.setDataAtCell(R,b)},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){const b=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(b,0),!this.isRenderSuspended()&&b===this.renderSuspendedCounter&&(this.renderCall?this.render():o.view.render())},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||o.view.render())},this.batchRender=function(b){this.suspendRender();const R=b();return this.resumeRender(),R},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const R=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(R,0),(!this.isExecutionSuspended()&&R===this.executionSuspendedCounter||b)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(b){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.suspendExecution();const E=b();return this.resumeExecution(R),E},this.batch=function(b){this.suspendRender(),this.suspendExecution();const R=b();return this.resumeExecution(),this.resumeRender(),R},this.refreshDimensions=function(){if(!o.view)return;const{width:b,height:R}=o.view.getLastSize(),{width:E,height:H}=o.rootElement.getBoundingClientRect(),D=E!==b||H!==R;o.runHooks("beforeRefreshDimensions",{width:b,height:R},{width:E,height:H},D)!==!1&&((D||o.view._wt.wtOverlays.scrollableElement===o.rootWindow)&&(o.view.setLastSize(E,H),o.render()),o.runHooks("afterRefreshDimensions",{width:b,height:R},{width:E,height:H},D))},this.updateData=function(b,R){nD(b,E=>{a=E},E=>{a=E,o.columnIndexMapper.fitToLength(this.getInitialColumnCount()),o.rowIndexMapper.fitToLength(this.countSourceRows()),u.adjustRowsAndCols(),O.refresh()},{hotInstance:o,dataMap:a,dataSource:l,internalSource:"updateData",source:R,metaManager:y,firstRun:f})},this.loadData=function(b,R){nD(b,E=>{a=E},()=>{y.clearCellsCache(),o.initIndexMappers(),u.adjustRowsAndCols(),O.refresh(),f&&(f=[null,"loadData"])},{hotInstance:o,dataMap:a,dataSource:l,internalSource:"loadData",source:R,metaManager:y,firstRun:f})},this.getInitialColumnCount=function(){const b=p.columns;let R=0;if(Array.isArray(b))R=b.length;else if(Ht(b))if(o.dataType==="array"){const E=this.countSourceCols();for(let H=0;H<E;H+=1)b(H)&&(R+=1)}else(o.dataType==="object"||o.dataType==="function")&&(R=a.colToPropCache.length);else if(xe(p.dataSchema)){const E=a.getSchema();R=Array.isArray(E)?E.length:Rx(E)}else R=this.countSourceCols();return R},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(b,R,E,H){return $t(b)?a.getAll():a.getRange(o._createCellCoords(b,R),o._createCellCoords(E,H),a.DESTINATION_RENDERER)},this.getCopyableText=function(b,R,E,H){return a.getCopyableText(o._createCellCoords(b,R),o._createCellCoords(E,H))},this.getCopyableData=function(b,R){return a.getCopyable(b,a.colToProp(R))},this.getSchema=function(){return a.getSchema()},this.updateSettings=function(b){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const E=(f?o.loadData:o.updateData).bind(this);let H=!1,D,A;if(xe(b.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(xe(b.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(xe(b.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(D in b)D==="data"||(D==="language"?T(b.language):D==="className"?P("className",b.className):D==="tableClassName"&&o.table?(P("tableClassName",b.tableClassName),o.view._wt.wtOverlays.syncOverlayTableClassNames()):Te.getSingleton().isRegistered(D)||Te.getSingleton().isDeprecated(D)?(Ht(b[D])||Array.isArray(b[D]))&&(b[D].initialHook=!0,o.addHook(D,b[D])):!R&&an(b,D)&&(m[D]=b[D]));b.data===void 0&&p.data===void 0?E(null,"updateSettings"):b.data!==void 0?E(b.data,"updateSettings"):b.columns!==void 0&&(a.createMap(),o.initIndexMappers());const B=o.countCols(),U=p.columns;if(U&&Ht(U)&&(H=!0),(b.cell!==void 0||b.cells!==void 0||b.columns!==void 0)&&y.clearCache(),B>0)for(D=0,A=0;D<B;D++){if(U){const ue=H?U(D):U[A];ue&&y.updateColumnMeta(A,ue)}A+=1}xe(b.cell)&&Qe(b.cell,ue=>{o.setCellMetaObject(ue.row,ue.col,ue)}),o.runHooks("afterCellMetaReset");let q=o.rootElement.style.height;q!==""&&(q=parseInt(o.rootElement.style.height,10));let ie=b.height;if(Ht(ie)&&(ie=ie()),R&&o.rootElement.getAttribute("style")&&o.rootElement.setAttribute("data-initialstyle",o.rootElement.getAttribute("style")),ie===null){const ue=o.rootElement.getAttribute("data-initialstyle");ue&&(ue.indexOf("height")>-1||ue.indexOf("overflow")>-1)?o.rootElement.setAttribute("style",ue):(o.rootElement.style.height="",o.rootElement.style.overflow="")}else ie!==void 0&&(o.rootElement.style.height=isNaN(ie)?`${ie}`:`${ie}px`,o.rootElement.style.overflow="hidden");if(typeof b.width<"u"){let ue=b.width;Ht(ue)&&(ue=ue()),o.rootElement.style.width=isNaN(ue)?`${ue}`:`${ue}px`}R||(o.view&&(o.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),o.view._wt.exportSettingsAsClassNames()),o.runHooks("afterUpdateSettings",b)),u.adjustRowsAndCols(),o.view&&!f&&(o.forceFullRender=!0,o.view.render(),o.view._wt.wtOverlays.adjustElementsSize()),!R&&o.view&&(q===""||ie===""||ie===void 0)&&q!==ie&&o.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){const b=o.getSelectedLast();if(p.getValue){if(Ht(p.getValue))return p.getValue.call(o);if(b)return o.getData()[b[0][0]][p.getValue]}else if(b)return o.getDataAtCell(b[0],b[1])},this.getSettings=function(){return p},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(b,R,E,H,D){u.alter(b,R,E,H,D)},this.getCell=function(b,R){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,H=R,D=b;if(R>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(R)))return null;H=this.columnIndexMapper.getRenderableFromVisualIndex(R)}if(b>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(b)))return null;D=this.rowIndexMapper.getRenderableFromVisualIndex(b)}return D===null||H===null||D===void 0||H===void 0?null:o.view.getCellAtCoords(o._createCellCoords(D,H),E)},this.getCoords=function(b){const R=this.view._wt.wtTable.getCoords(b);if(R===null)return null;const{row:E,col:H}=R;let D=E,A=H;return E>=0&&(D=this.rowIndexMapper.getVisualFromRenderableIndex(E)),H>=0&&(A=this.columnIndexMapper.getVisualFromRenderableIndex(H)),o._createCellCoords(D,A)},this.colToProp=function(b){return a.colToProp(b)},this.propToCol=function(b){return a.propToCol(b)},this.toVisualRow=b=>this.rowIndexMapper.getVisualFromPhysicalIndex(b),this.toVisualColumn=b=>this.columnIndexMapper.getVisualFromPhysicalIndex(b),this.toPhysicalRow=b=>this.rowIndexMapper.getPhysicalFromVisualIndex(b),this.toPhysicalColumn=b=>this.columnIndexMapper.getPhysicalFromVisualIndex(b),this.getDataAtCell=function(b,R){return a.get(b,a.colToProp(R))},this.getDataAtRowProp=function(b,R){return a.get(b,R)},this.getDataAtCol=function(b){const R=[],E=a.getRange(o._createCellCoords(0,b),o._createCellCoords(p.data.length-1,b),a.DESTINATION_RENDERER);for(let H=0;H<E.length;H+=1)for(let D=0;D<E[H].length;D+=1)R.push(E[H][D]);return R},this.getDataAtProp=function(b){const R=[],E=a.getRange(o._createCellCoords(0,a.propToCol(b)),o._createCellCoords(p.data.length-1,a.propToCol(b)),a.DESTINATION_RENDERER);for(let H=0;H<E.length;H+=1)for(let D=0;D<E[H].length;D+=1)R.push(E[H][D]);return R},this.getSourceData=function(b,R,E,H){let D;return b===void 0?D=l.getData():D=l.getByRange(o._createCellCoords(b,R),o._createCellCoords(E,H)),D},this.getSourceDataArray=function(b,R,E,H){let D;return b===void 0?D=l.getData(!0):D=l.getByRange(o._createCellCoords(b,R),o._createCellCoords(E,H),!0),D},this.getSourceDataAtCol=function(b){return l.getAtColumn(b)},this.setSourceDataAtCell=function(b,R,E,H){const D=K(b,R,E),A=this.hasHook("afterSetSourceDataAtCell"),B=[];A&&G(D,q=>{let[ie,ue,ve]=q;B.push([ie,ue,l.getAtCell(ie,ue),ve])}),G(D,q=>{let[ie,ue,ve]=q;l.setAtCell(ie,ue,ve)}),A&&this.runHooks("afterSetSourceDataAtCell",B,H),this.render();const U=o.getActiveEditor();U&&xe(U.refreshValue)&&U.refreshValue()},this.getSourceDataAtRow=function(b){return l.getAtRow(b)},this.getSourceDataAtCell=function(b,R){return l.getAtCell(b,R)},this.getDataAtRow=function(b){return a.getRange(o._createCellCoords(b,0),o._createCellCoords(b,this.countCols()-1),a.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(b,R,E,H){const D=b===void 0?[0,0,this.countRows(),this.countCols()]:[b,R,E,H],[A,B]=D;let[,,U,q]=D,ie=null,ue=null;U===void 0&&(U=A),q===void 0&&(q=B);let ve="mixed";return Ie(Math.max(Math.min(A,U),0),Math.max(A,U),Ce=>{let re=!0;return Ie(Math.max(Math.min(B,q),0),Math.max(B,q),Oe=>(ue=this.getCellMeta(Ce,Oe).type,ie?re=ie===ue:ie=ue,re)),ve=re?ue:"mixed",re}),ve},this.removeCellMeta=function(b,R,E){const[H,D]=[this.toPhysicalRow(b),this.toPhysicalColumn(R)];let A=y.getCellMetaKeyValue(H,D,E);o.runHooks("beforeRemoveCellMeta",b,R,E,A)!==!1&&(y.removeCellMeta(H,D,E),o.runHooks("afterRemoveCellMeta",b,R,E,A)),A=null},this.spliceCellsMeta=function(b){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(var E=arguments.length,H=new Array(E>2?E-2:0),D=2;D<E;D++)H[D-2]=arguments[D];if(H.length>0&&!Array.isArray(H[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");R>0&&y.removeRow(this.toPhysicalRow(b),R),H.length>0&&G(H.reverse(),A=>{y.createRow(this.toPhysicalRow(b)),G(A,(B,U)=>this.setCellMetaObject(b,U,B))}),o.render()},this.setCellMetaObject=function(b,R,E){typeof E=="object"&&Qe(E,(H,D)=>{this.setCellMeta(b,R,D,H)})},this.setCellMeta=function(b,R,E,H){if(o.runHooks("beforeSetCellMeta",b,R,E,H)===!1)return;let A=b,B=R;b<this.countRows()&&(A=this.toPhysicalRow(b)),R<this.countCols()&&(B=this.toPhysicalColumn(R)),y.setCellMeta(A,B,E,H),o.runHooks("afterSetCellMeta",b,R,E,H)},this.getCellsMeta=function(){return y.getCellsMeta()},this.getCellMeta=function(b,R){let E=this.toPhysicalRow(b),H=this.toPhysicalColumn(R);return E===null&&(E=b),H===null&&(H=R),y.getCellMeta(E,H,{visualRow:b,visualColumn:R})},this.getColumnMeta=function(b){return y.getColumnMeta(this.toPhysicalColumn(b))},this.getCellMetaAtRow=function(b){return y.getCellsMetaAtRow(b)},this.isColumnModificationAllowed=function(){return!(o.dataType==="object"||p.columns)},this.getCellRenderer=function(b,R){const E=typeof b=="number"?o.getCellMeta(b,R).renderer:b.renderer;return typeof E=="string"?B_(E):$t(E)?B_("text"):E},this.getCellEditor=function(b,R){const E=typeof b=="number"?o.getCellMeta(b,R).editor:b.editor;return typeof E=="string"?D_(E):$t(E)?D_("text"):E},this.getCellValidator=function(b,R){const E=typeof b=="number"?o.getCellMeta(b,R).validator:b.validator;return typeof E=="string"?dfe(E):E},this.validateCells=function(b){this._validateCells(b)},this.validateRows=function(b,R){if(!Array.isArray(b))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(R,b)},this.validateColumns=function(b,R){if(!Array.isArray(b))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(R,void 0,b)},this._validateCells=function(b,R,E){const H=new M;b&&(H.onQueueEmpty=b);let D=o.countRows()-1;for(;D>=0;){if(R!==void 0&&R.indexOf(D)===-1){D-=1;continue}let A=o.countCols()-1;for(;A>=0;){if(E!==void 0&&E.indexOf(A)===-1){A-=1;continue}H.addValidatorToQueue(),o.validateCell(o.getDataAtCell(D,A),o.getCellMeta(D,A),B=>{if(typeof B!="boolean")throw new Error("Validation error: result is not boolean");B===!1&&(H.valid=!1),H.removeValidatorFormQueue()},"validateCells"),A-=1}D-=1}H.checkIfQueueIsEmpty()},this.getRowHeader=function(b){let R=p.rowHeaders,E=b;return E!==void 0&&(E=o.runHooks("modifyRowHeader",E)),E===void 0?(R=[],Ie(o.countRows()-1,H=>{R.push(o.getRowHeader(H))})):Array.isArray(R)&&R[E]!==void 0?R=R[E]:Ht(R)?R=R(E):R&&typeof R!="string"&&typeof R!="number"&&(R=E+1),R},this.hasRowHeaders=function(){return!!p.rowHeaders},this.hasColHeaders=function(){if(p.colHeaders!==void 0&&p.colHeaders!==null)return!!p.colHeaders;for(let b=0,R=o.countCols();b<R;b++)if(o.getColHeader(b))return!0;return!1},this.getColHeader=function(b){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;const E=o.runHooks("modifyColHeader",b);if(E===void 0){const U=[],q=o.countCols();for(let ie=0;ie<q;ie++)U.push(o.getColHeader(ie));return U}let H=p.colHeaders;const D=function(U){const q=[],ie=o.countCols();let ue=0;for(;ue<ie;ue++)Ht(p.columns)&&p.columns(ue)&&q.push(ue);return q[U]},A=o.toPhysicalColumn(E),B=D(A);return p.colHeaders===!1?H=null:p.columns&&Ht(p.columns)&&p.columns(B)&&p.columns(B).title?H=p.columns(B).title:p.columns&&p.columns[A]&&p.columns[A].title?H=p.columns[A].title:Array.isArray(p.colHeaders)&&p.colHeaders[A]!==void 0?H=p.colHeaders[A]:Ht(p.colHeaders)?H=p.colHeaders(A):p.colHeaders&&typeof p.colHeaders!="string"&&typeof p.colHeaders!="number"&&(H=hpe(E)),H=o.runHooks("modifyColumnHeaderValue",H,b,R),H},this._getColWidthFromSettings=function(b){let R;if(b>=0&&(R=o.getCellMeta(0,b).width),(R===void 0||R===p.width)&&(R=p.colWidths),R!=null){switch(typeof R){case"object":R=R[b];break;case"function":R=R(b);break}typeof R=="string"&&(R=parseInt(R,10))}return R},this.getColWidth=function(b){let R=o._getColWidthFromSettings(b);return R=o.runHooks("modifyColWidth",R,b),R===void 0&&(R=uS),R},this._getRowHeightFromSettings=function(b){let R=p.rowHeights;if(R!=null){switch(typeof R){case"object":R=R[b];break;case"function":R=R(b);break}typeof R=="string"&&(R=parseInt(R,10))}return R},this.getRowHeight=function(b){let R=o._getRowHeightFromSettings(b);return R=o.runHooks("modifyRowHeight",R,b),R},this.countSourceRows=function(){return l.countRows()},this.countSourceCols=function(){return l.countFirstRowKeys()},this.countRows=function(){return a.getLength()},this.countCols=function(){const b=p.maxCols,R=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(b,R)},this.countRenderedRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleColumnsCount():-1},this.countRowHeaders=function(){return this.view.getRowHeadersCount()},this.countColHeaders=function(){return this.view.getColumnHeadersCount()},this.countEmptyRows=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,R=0;return vH(o.countRows()-1,E=>{if(o.isEmptyRow(E))R+=1;else if(b===!0)return!1}),R},this.countEmptyCols=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,R=0;return vH(o.countCols()-1,E=>{if(o.isEmptyCol(E))R+=1;else if(b===!0)return!1}),R},this.isEmptyRow=function(b){return p.isEmptyRow.call(o,b)},this.isEmptyCol=function(b){return p.isEmptyCol.call(o,b)},this.selectCell=function(b,R,E,H){let D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;return $t(b)||$t(R)?!1:this.selectCells([[b,R,E,H]],D,A)},this.selectCells=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[[]],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;R===!1&&d.suspend();const H=O.selectCells(b);return H&&E&&o.listen(),d.resume(),H},this.selectColumns=function(b){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:b,E=arguments.length>2?arguments[2]:void 0;return O.selectColumns(b,R,E)},this.selectRows=function(b){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:b,E=arguments.length>2?arguments[2]:void 0;return O.selectRows(b,R,E)},this.deselectCell=function(){O.deselect()},this.selectAll=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:b,E=arguments.length>2?arguments[2]:void 0;d.skipNextScrollCycle(),O.selectAll(b,R,E)};const Y=(b,R)=>b.getNearestNotHiddenIndex(R,1,!0);this.scrollViewportTo=function(b){var R;if(typeof b=="number"){var E;b={row:arguments[0],col:arguments[1],verticalSnap:arguments[2]?"bottom":"top",horizontalSnap:arguments[3]?"end":"start",considerHiddenIndexes:(E=arguments[4])!==null&&E!==void 0?E:!0}}const{row:H,col:D,verticalSnap:A,horizontalSnap:B,considerHiddenIndexes:U}=(R=b)!==null&&R!==void 0?R:{};let q,ie,ue,ve;A!==void 0&&(q=A==="top",ie=!q),B!==void 0&&(ue=B==="start",ve=!ue);let Ce=H,re=D;if(U===void 0||U){const Fe=Number.isInteger(H)&&H>=0,le=Number.isInteger(D)&&D>=0,se=Fe?Y(this.rowIndexMapper,H):void 0,k=le?Y(this.columnIndexMapper,D):void 0;if(se===null||k===null)return!1;Ce=Fe?o.rowIndexMapper.getRenderableFromVisualIndex(se):H,re=le?o.columnIndexMapper.getRenderableFromVisualIndex(k):D}const Oe=Number.isInteger(Ce),$e=Number.isInteger(re);return Oe&&Ce>=0&&$e&&re>=0?o.view.scrollViewport(o._createCellCoords(Ce,re),q,ve,ie,ue):Oe&&Ce>=0&&($e&&re<0||!$e)?o.view.scrollViewportVertically(Ce,q,ie):$e&&re>=0&&(Oe&&Ce<0||!Oe)?o.view.scrollViewportHorizontally(re,ve,ue):!1},this.scrollToFocusedCell=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};if(!this.selection.isSelected())return;this.addHookOnce("afterScroll",b);const{highlight:R}=this.getSelectedRangeLast();this.scrollViewportTo(R.toObject())?this.view.render():(this.removeHook("afterScroll",b),this._registerImmediate(()=>b()))},this.destroy=function(){if(o._clearTimeouts(),o._clearImmediates(),o.view&&o.view.destroy(),l&&l.destroy(),l=null,this.getShortcutManager().destroy(),y.clearCache(),IR.delete(this.guid),cw(o)){const b=this.rootDocument.querySelector(".hot-display-license-info");b&&b.parentNode.removeChild(b)}Ps(o.rootElement),s.destroy(),c&&c.destroy(),o.batchExecution(()=>{o.rowIndexMapper.unregisterAll(),o.columnIndexMapper.unregisterAll(),w.getItems().forEach(b=>{let[,R]=b;R.destroy()}),w.clear(),o.runHooks("afterDestroy")},!0),Te.getSingleton().destroy(o),Qe(o,(b,R,E)=>{Ht(b)?E[R]=W(R):R!=="guid"&&(E[R]=null)}),o.isDestroyed=!0,a&&a.destroy(),a=null,u=null,O=null,c=null,o=null};function W(b){return()=>{throw new Error(`The "${b}" method cannot be called because this Handsontable instance has been destroyed`)}}this.getActiveEditor=function(){return c.getActiveEditor()},this.getFirstRenderedVisibleRow=function(){return o.view.getFirstRenderedVisibleRow()},this.getLastRenderedVisibleRow=function(){return o.view.getLastRenderedVisibleRow()},this.getFirstRenderedVisibleColumn=function(){return o.view.getFirstRenderedVisibleColumn()},this.getLastRenderedVisibleColumn=function(){return o.view.getLastRenderedVisibleColumn()},this.getFirstFullyVisibleRow=function(){return o.view.getFirstFullyVisibleRow()},this.getLastFullyVisibleRow=function(){return o.view.getLastFullyVisibleRow()},this.getFirstFullyVisibleColumn=function(){return o.view.getFirstFullyVisibleColumn()},this.getLastFullyVisibleColumn=function(){return o.view.getLastFullyVisibleColumn()},this.getFirstPartiallyVisibleRow=function(){return o.view.getFirstPartiallyVisibleRow()},this.getLastPartiallyVisibleRow=function(){return o.view.getLastPartiallyVisibleRow()},this.getFirstPartiallyVisibleColumn=function(){return o.view.getFirstPartiallyVisibleColumn()},this.getLastPartiallyVisibleColumn=function(){return o.view.getLastPartiallyVisibleColumn()},this.getPlugin=function(b){const R=Io(b);return R==="UndoRedo"?this.undoRedo:w.getItem(R)},this.getPluginName=function(b){return b===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:w.getId(b)},this.getInstance=function(){return o},this.addHook=function(b,R,E){Te.getSingleton().add(b,R,o,E)},this.hasHook=function(b){return Te.getSingleton().has(b,o)||Te.getSingleton().has(b)},this.addHookOnce=function(b,R,E){Te.getSingleton().once(b,R,o,E)},this.removeHook=function(b,R){Te.getSingleton().remove(b,R,o)},this.runHooks=function(b,R,E,H,D,A,B){return Te.getSingleton().run(o,b,R,E,H,D,A,B)},this.getTranslatedPhrase=function(b,R){return qW(p.language,b,R)},this.toHTML=()=>mH(this),this.toTableElement=()=>{const b=this.rootDocument.createElement("div");return b.insertAdjacentHTML("afterbegin",mH(this)),b.firstElementChild},this.timeouts=[],this._registerTimeout=function(b){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=b;typeof E=="function"&&(E=setTimeout(E,R)),this.timeouts.push(E)},this._clearTimeouts=function(){G(this.timeouts,b=>{clearTimeout(b)})},this.immediates=[],this._registerImmediate=function(b){this.immediates.push(setImmediate(b))},this._clearImmediates=function(){G(this.immediates,b=>{clearImmediate(b)})},this._getEditorManager=function(){return c},this.isRtl=function(){return o.rootWindow.getComputedStyle(o.rootElement).direction==="rtl"},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1};const j=Cwe({handleEvent(){return o.isListening()},beforeKeyDown:b=>this.runHooks("beforeKeyDown",b),afterKeyDown:b=>{this.isDestroyed||o.runHooks("afterDocumentKeyDown",b)},ownerWindow:this.rootWindow});this.addHook("beforeOnCellMouseDown",b=>{b.ctrlKey===!1&&b.metaKey===!1&&j.releasePressedKeys()}),this.getShortcutManager=function(){return j},this.getFocusManager=function(){return h},dW().forEach(b=>{const R=Ix(b);w.addItem(b,new R(this))}),rwe(o),j.setActiveContextName("grid"),Te.getSingleton().run(o,"construct")}function lD(t,e,n){t.addEventListener(e,n,!1)}function uD(t,e,n){t.removeEventListener(e,n,!1)}function cD(t){return t.ownerDocument.defaultView.getComputedStyle(t)}function bwe(t){const e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=t.body,r=t.createTextNode(""),i=t.createElement("span");let o;function s(){r.textContent=o.value,i.style.position="absolute",i.style.fontSize=cD(o).fontSize,i.style.fontFamily=cD(o).fontFamily,i.style.whiteSpace="pre",n.appendChild(i);const c=i.clientWidth+2;n.removeChild(i);const h=o.style;h.height=`${e.minHeight}px`,e.minWidth>c?h.width=`${e.minWidth}px`:c>e.maxWidth?h.width=`${e.maxWidth}px`:h.width=`${c}px`;const d=o.scrollHeight?o.scrollHeight-1:0;e.minHeight>d?h.height=`${e.minHeight}px`:e.maxHeight<d?(h.height=`${e.maxHeight}px`,h.overflowY="visible"):h.height=`${d}px`}function a(){t.defaultView.setTimeout(s,0)}function l(c){if(c&&c.minHeight)if(c.minHeight==="inherit")e.minHeight=o.clientHeight;else{const h=parseInt(c.minHeight,10);isNaN(h)||(e.minHeight=h)}if(c&&c.maxHeight)if(c.maxHeight==="inherit")e.maxHeight=o.clientHeight;else{const h=parseInt(c.maxHeight,10);isNaN(h)||(e.maxHeight=h)}if(c&&c.minWidth)if(c.minWidth==="inherit")e.minWidth=o.clientWidth;else{const h=parseInt(c.minWidth,10);isNaN(h)||(e.minWidth=h)}if(c&&c.maxWidth)if(c.maxWidth==="inherit")e.maxWidth=o.clientWidth;else{const h=parseInt(c.maxWidth,10);isNaN(h)||(e.maxWidth=h)}i.firstChild||(i.className="autoResize",i.style.display="inline-block",i.appendChild(r))}function u(c,h){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;o=c,l(h),o.nodeName==="TEXTAREA"&&(o.style.resize="none",o.style.height=`${e.minHeight}px`,o.style.minWidth=`${e.minWidth}px`,o.style.maxWidth=`${e.maxWidth}px`,o.style.overflowY="hidden"),d&&(lD(o,"input",s),lD(o,"keydown",a)),s()}return{init:u,resize:s,unObserve(){uD(o,"input",s),uD(o,"keydown",a)}}}function hD(t,e){const n=LV(e),r=e.value.split(`
`);let i=n,o=0;for(let s=0;s<r.length;s++){const a=r[s];s!==0&&(o+=r[s-1].length+1);const l=o+a.length;if(t==="home"?i=o:t==="end"&&(i=l),n<=l)break}oS(e,i)}function lu(t,e,n){return(e=Swe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Swe(t){var e=Rwe(t,"string");return typeof e=="symbol"?e:e+""}function Rwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Ewe="ht_editor_visible",jv="ht_editor_hidden",dD="textEditor",_we="text";class Ic extends zd{static get EDITOR_TYPE(){return _we}constructor(e){super(e),lu(this,"eventManager",new No(this)),lu(this,"autoResize",bwe(this.hot.rootDocument)),lu(this,"TEXTAREA",void 0),lu(this,"textareaStyle",void 0),lu(this,"TEXTAREA_PARENT",void 0),lu(this,"textareaParentStyle",void 0),lu(this,"layerClass",void 0),this.eventManager=new No(this),this.createElements(),this.bindEvents(),this.hot.addHookOnce("afterDestroy",()=>this.destroy())}getValue(){return this.TEXTAREA.value}setValue(e){this.TEXTAREA.value=e}open(){this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this.autoResize.unObserve(),Ece(this.hot.rootDocument.activeElement,this.hot.rootElement)&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts()}prepare(e,n,r,i,o,s){const a=this.state;if(super.prepare(e,n,r,i,o,s),!s.readOnly){this.refreshDimensions(!0);const{allowInvalid:l}=s;l&&!this.isOpened()&&(this.TEXTAREA.value=""),a!==dn.FINISHED&&!this.isOpened()&&this.hideEditableElement()}}beginEditing(e,n){this.state===dn.VIRGIN&&(this.TEXTAREA.value="",super.beginEditing(e,n))}focus(){this.TEXTAREA.select(),oS(this.TEXTAREA,this.TEXTAREA.value.length)}createElements(){const{rootDocument:e}=this.hot;this.TEXTAREA=e.createElement("TEXTAREA"),Be(this.TEXTAREA,[["data-hot-input",""],jd(-1)]),ge(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=e.createElement("DIV"),ge(this.TEXTAREA_PARENT,"handsontableInputHolder"),je(this.TEXTAREA_PARENT,this.layerClass)&&We(this.TEXTAREA_PARENT,this.layerClass),ge(this.TEXTAREA_PARENT,jv),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}hideEditableElement(){phe()&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",We(this.TEXTAREA_PARENT,this.layerClass),ge(this.TEXTAREA_PARENT,jv)}showEditableElement(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="";const e=this.TEXTAREA_PARENT.childNodes;let n=!1;Ie(e.length-1,r=>{const i=e[r];if(je(i,"handsontableEditor"))return n=!0,!1}),je(this.TEXTAREA_PARENT,jv)&&We(this.TEXTAREA_PARENT,jv),n?(this.layerClass=Ewe,ge(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),ge(this.TEXTAREA_PARENT,this.layerClass))}refreshValue(){const e=this.hot.toPhysicalRow(this.row),n=this.hot.getSourceDataAtCell(e,this.col);this.originalValue=n,this.setValue(n),this.refreshDimensions()}refreshDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.state!==dn.EDITING&&!e)return;if(this.TD=this.getEditedCell(),!this.TD){e||this.close();return}const{top:n,start:r,width:i,maxWidth:o,height:s,maxHeight:a}=this.getEditedCellRect();this.textareaParentStyle.top=`${n}px`,this.textareaParentStyle[this.hot.isRtl()?"right":"left"]=`${r}px`,this.showEditableElement();const l=Ea(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=l.fontSize,this.TEXTAREA.style.fontFamily=l.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;const u=Ea(this.TEXTAREA),c=parseInt(u.paddingLeft,10)+parseInt(u.paddingRight,10),h=parseInt(u.paddingTop,10)+parseInt(u.paddingBottom,10),d=i-c,f=s-h,g=o-c,v=a-h;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(d,g),minHeight:Math.min(f,v),maxWidth:g,maxHeight:v},!0)}bindEvents(){QV()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",()=>this.finishEditing(!1)),this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>{this.refreshDimensions(),this.state===dn.EDITING&&this.focus()}),this.addHook("afterRowResize",()=>{this.refreshDimensions(),this.state===dn.EDITING&&this.focus()})}allowKeyEventPropagation(){}destroy(){this.eventManager.destroy(),this.clearHooks()}registerShortcuts(){const n=this.hot.getShortcutManager().getContext("editor"),r={runOnlyIf:()=>xe(this.hot.getSelected()),group:dD},i=()=>{this.hot.rootDocument.execCommand("insertText",!1,`
`)};n.addShortcuts([{keys:[["Control","Enter"]],callback:()=>(i(),!1),runOnlyIf:o=>!this.hot.selection.isMultiple()&&!o.altKey},{keys:[["Meta","Enter"]],callback:()=>(i(),!1),runOnlyIf:()=>!this.hot.selection.isMultiple()},{keys:[["Alt","Enter"]],callback:()=>(i(),!1)},{keys:[["Home"]],callback:(o,s)=>{let[a]=s;hD(a,this.TEXTAREA)}},{keys:[["End"]],callback:(o,s)=>{let[a]=s;hD(a,this.TEXTAREA)}}],r)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(dD)}}const Twe="base";function wp(t,e,n,r,i,o,s){const a=s.ariaTags,l=[],u=[],c=[],h=[];s.className&&ge(e,s.className),s.readOnly?(l.push(s.readOnlyCellClassName),a&&h.push(Uk())):a&&c.push(Uk()[0]),s.valid===!1&&s.invalidCellClassName?(l.push(s.invalidCellClassName),a&&h.push(zk())):(u.push(s.invalidCellClassName),a&&c.push(zk()[0])),s.wordWrap===!1&&s.noWordWrapClassName&&l.push(s.noWordWrapClassName),!o&&s.placeholder&&l.push(s.placeholderCellClassName),We(e,u),ge(e,l),Vd(e,c),Be(e,h)}wp.RENDERER_TYPE=Twe;const Owe="text";function ka(t,e,n,r,i,o,s){wp.apply(this,[t,e,n,r,i,o,s]);let a=o;if(!a&&s.placeholder&&(a=s.placeholder),a=bn(a),s.trimWhitespace&&(a=a.trim()),s.rendererTemplate){Ps(e);const l=t.rootDocument.createElement("TEMPLATE");l.setAttribute("bind","{{}}"),l.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(l),l.model=t.getSourceDataAtRow(n),e.appendChild(l)}else dc(e,a)}ka.RENDERER_TYPE=Owe;const xwe="text",cU={CELL_TYPE:xwe,editor:Ic,renderer:ka};ho(cU);rt.editors={BaseEditor:zd};function rt(t,e){const n=new uU(t,e||{},qx);return n.init(),n}rt.Core=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new uU(t,e,qx)};rt.DefaultSettings=nU();rt.hooks=Te.getSingleton();rt.CellCoords=gc;rt.CellRange=mp;rt.packageName="handsontable";rt.buildDate="07/02/2025 16:13:23";rt.version="14.6.2";rt.languages={dictionaryKeys:Upe,getLanguageDictionary:KW,getLanguagesDictionaries:qpe,registerLanguageDictionary:GW,getTranslatedPhrase:qW};function Y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Pwe(t){if(Array.isArray(t))return Y_(t)}function Mwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Am(t,e,n){return e=MC(e),Lwe(t,hU()?Reflect.construct(e,n||[],MC(t).constructor):e.apply(t,n))}function yd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dU(r.key),r)}}function wd(t,e,n){return e&&fD(t.prototype,e),n&&fD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Awe(t,e,n){return(e=dU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MC(t){return MC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},MC(t)}function Im(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G_(t,e)}function hU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hU=function(){return!!t})()}function Iwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kwe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){Awe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hwe(t,e){if(t==null)return{};var n,r,i=Dwe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Lwe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mwe(t)}function G_(t,e){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},G_(t,e)}function $we(t){return Pwe(t)||Iwe(t)||Bwe(t)||Nwe()}function Fwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dU(t){var e=Fwe(t,"string");return typeof e=="symbol"?e:e+""}function Bwe(t,e){if(t){if(typeof t=="string")return Y_(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y_(t,e):void 0}}var NR=null,jwe="Your `HotTable` configuration includes `autoRowSize`/`autoColumnSize` options, which are not compatible with  the component-based renderers`. Disable `autoRowSize` and `autoColumnSize` to prevent row and column misalignment.",Vwe="The Handsontable instance bound to this component was destroyed and cannot be used properly.",AC="global",Wwe="hot-wrapper-editor-container";function Uwe(){if(typeof console<"u"){var t;(t=console).warn.apply(t,arguments)}}function K_(t,e){var n=Dt.Children.toArray(t),r=Dt.Children.count(t),i=null;return r!==0&&(r===1&&n[0].props[e]?i=n[0]:i=n.find(function(o){return o.props[e]!==void 0})),i||null}function fU(t){return t?t.type.WrappedComponent?t.type.WrappedComponent:t.type:null}function gU(t,e){if(typeof t>"u"||e===null)return null;var n=pU(e.props,!1);return n.className="".concat(Wwe," ").concat(n.className),R2.createPortal(Dt.createElement("div",Object.assign({},n),e),t.body)}function mU(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:AC,r=K_(t,"hot-editor"),i=fU(r);return r?Dt.cloneElement(r,{emitEditorInstance:function(s,a){e.get(i)||e.set(i,new Map);var l=e.get(i);l.set(a??AC,s)},editorColumnScope:n,isEditor:!0}):null}function zwe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;n||(n=document),NR||(NR=n.createDocumentFragment());var o=i??n.createElement("DIV");NR.appendChild(o);var s=Dt.cloneElement(t,kwe({key:"".concat(e.row,"-").concat(e.col)},e));return{portal:R2.createPortal(s,o,r),portalContainer:o}}function pU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{id:t.id||(e?"hot-"+Math.random().toString(36).substring(5):void 0),className:t.className||"",style:t.style||{}}}function Ywe(){return typeof window<"u"}var vU=function(){function t(){yd(this,t)}return wd(t,null,[{key:"getSettings",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.prevProps,o=i===void 0?{}:i,s=r.isInit,a=s===void 0?!1:s,l=r.initOnlySettingKeys,u=l===void 0?[]:l,c=function(y){return!a&&u.includes(y)?o[y]===n[y]:!1},h={};if(n.settings){var d=n.settings;for(var f in d)d.hasOwnProperty(f)&&!c(f)&&(h[f]=d[f])}for(var g in n)g!=="settings"&&g!=="children"&&!c(g)&&n.hasOwnProperty(g)&&(h[g]=n[g]);return h}}])}(),Gwe=function(t){function e(){return yd(this,e),Am(this,e,arguments)}return Im(e,t),wd(e,[{key:"getSettingsProps",value:function(){var r=this;return this.internalProps=["_componentRendererColumns","_emitColumnSettings","_columnIndex","_getChildElementByType","_getRendererWrapper","_getEditorClass","_getEditorCache","_getOwnerDocument","hot-renderer","hot-editor","children"],Object.keys(this.props).filter(function(i){return!r.internalProps.includes(i)}).reduce(function(i,o){return i[o]=r.props[o],i},{})}},{key:"getLocalEditorElement",value:function(){return mU(this.props.children,this.props._getEditorCache(),this.props._columnIndex)}},{key:"createColumnSettings",value:function(){var r=this.props._getChildElementByType(this.props.children,"hot-renderer"),i=this.getLocalEditorElement();this.columnSettings=vU.getSettings(this.getSettingsProps()),r!==null&&(this.columnSettings.renderer=this.props._getRendererWrapper(r),this.props._componentRendererColumns.set(this.props._columnIndex,!0)),i!==null&&(this.columnSettings.editor=this.props._getEditorClass(i,this.props._columnIndex))}},{key:"emitColumnSettings",value:function(){this.props._emitColumnSettings(this.columnSettings,this.props._columnIndex)}},{key:"componentDidMount",value:function(){this.createColumnSettings(),this.emitColumnSettings()}},{key:"componentDidUpdate",value:function(){this.createColumnSettings(),this.emitColumnSettings()}},{key:"render",value:function(){var r=this.props._getOwnerDocument(),i=gU(r,this.getLocalEditorElement());return Dt.createElement(Dt.Fragment,null,i)}}])}(Dt.Component),Kwe=function(t){function e(){var n;return yd(this,e),n=Am(this,e,arguments),n.state={portals:[]},n}return Im(e,t),wd(e,[{key:"render",value:function(){return Dt.createElement(Dt.Fragment,null,this.state.portals)}}])}(Dt.Component),qwe="14.6.2";function Xwe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yU={exports:{}},kR,mD;function Zwe(){if(mD)return kR;mD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kR=t,kR}var HR,pD;function Qwe(){if(pD)return HR;pD=1;var t=Zwe();function e(){}function n(){}return n.resetWarningCache=e,HR=function(){function i(a,l,u,c,h,d){if(d!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}i.isRequired=i;function o(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},HR}yU.exports=Qwe()();var Jwe=yU.exports,DR=Xwe(Jwe),yM=function(t){function e(){var n;return yd(this,e),n=Am(this,e,arguments),n.id=null,n.__hotInstance=null,n.hotElementRef=null,n.columnSettings=[],n.renderersPortalManager=null,n.portalCache=new Map,n.portalContainerCache=new Map,n.renderedCellCache=new Map,n.editorCache=new Map,n.componentRendererColumns=new Map,n}return Im(e,t),wd(e,[{key:"hotInstance",get:function(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(console.warn(Vwe),null)},set:function(r){this.__hotInstance=r}},{key:"_isHotInstanceDestroyed",value:function(){return this.__hotInstance&&this.__hotInstance.isDestroyed}},{key:"getPortalContainerCache",value:function(){return this.portalContainerCache}},{key:"getRenderedCellCache",value:function(){return this.renderedCellCache}},{key:"getEditorCache",value:function(){return this.editorCache}},{key:"clearCache",value:function(){this.getRenderedCellCache().clear(),this.componentRendererColumns.clear()}},{key:"getOwnerDocument",value:function(){return Ywe()?this.hotElementRef?this.hotElementRef.ownerDocument:document:null}},{key:"setHotElementRef",value:function(r){this.hotElementRef=r}},{key:"getRendererWrapper",value:function(r){var i=this;return function(s,a,l,u,c,h,d){var f=i.getRenderedCellCache(),g=i.getPortalContainerCache(),v="".concat(l,"-").concat(u),y=s.guid,p="".concat(y,"-").concat(v),m="".concat(v,"-").concat(y);if(f.has(v)&&(a.innerHTML=f.get(v).innerHTML),a&&!a.getAttribute("ghost-table")){for(var w=i.portalCache.get(m),C=g.get(p);a.firstChild;)a.removeChild(a.firstChild);if(w&&C)a.appendChild(C);else{var S=zwe(r,{TD:a,row:l,col:u,prop:c,value:h,cellProperties:d,isRenderer:!0},a.ownerDocument,m,C),x=S.portal,_=S.portalContainer;g.set(p,_),a.appendChild(_),i.portalCache.set(m,x)}}return f.set(v,a),a}}},{key:"getEditorClass",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:AC,s=fU(r),a=(i=this.getEditorCache().get(s))===null||i===void 0?void 0:i.get(o);return this.makeEditorClass(a)}},{key:"makeEditorClass",value:function(r){var i=function(o){function s(a){var l;return yd(this,s),l=Am(this,s,[a]),r.hotCustomEditorInstance=l,l.editorComponent=r,l}return Im(s,o),wd(s,[{key:"focus",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}}])}(rt.editors.BaseEditor);return Object.getOwnPropertyNames(rt.editors.BaseEditor.prototype).forEach(function(o){o!=="constructor"&&(i.prototype[o]=function(){for(var s,a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return(s=r[o]).call.apply(s,[r].concat(l))})}),i}},{key:"getGlobalRendererElement",value:function(){return K_(this.props.children,"hot-renderer")}},{key:"getGlobalEditorElement",value:function(){return mU(this.props.children,this.getEditorCache())}},{key:"createNewGlobalSettings",value:function(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this._isHotInstanceDestroyed()?[]:((r=this.hotInstance)===null||r===void 0||(r=r.getSettings())===null||r===void 0?void 0:r._initOnlySettings)||[],a=vU.getSettings(this.props,{prevProps:o,isInit:i,initOnlySettingKeys:s}),l=this.getGlobalRendererElement(),u=this.getGlobalEditorElement();if(a.columns=this.columnSettings.length?this.columnSettings:a.columns,u)a.editor=this.getEditorClass(u,AC);else{var c;this.props.editor||(c=this.props.settings)!==null&&c!==void 0&&c.editor?a.editor=this.props.editor||this.props.settings.editor:a.editor=D_("text")}if(l)a.renderer=this.getRendererWrapper(l),this.componentRendererColumns.set("global",!0);else{var h;this.props.renderer||(h=this.props.settings)!==null&&h!==void 0&&h.renderer?a.renderer=this.props.renderer||this.props.settings.renderer:a.renderer=B_("text")}return a}},{key:"displayAutoSizeWarning",value:function(r){var i,o;this.hotInstance&&((i=this.hotInstance.getPlugin("autoRowSize"))!==null&&i!==void 0&&i.enabled||(o=this.hotInstance.getPlugin("autoColumnSize"))!==null&&o!==void 0&&o.enabled)&&this.componentRendererColumns.size>0&&Uwe(jwe)}},{key:"setHotColumnSettings",value:function(r,i){this.columnSettings[i]=r}},{key:"handsontableBeforeViewRender",value:function(){this.portalCache.clear(),this.getRenderedCellCache().clear()}},{key:"handsontableAfterViewRender",value:function(){this.renderersPortalManager.setState({portals:$we(this.portalCache.values())})}},{key:"updateHot",value:function(r){this.hotInstance&&this.hotInstance.updateSettings(r,!1)}},{key:"setRenderersPortalManagerRef",value:function(r){this.renderersPortalManager=r}},{key:"componentDidMount",value:function(){var r=this,i=this.createNewGlobalSettings(!0);this.hotInstance=new rt.Core(this.hotElementRef,i),this.hotInstance.addHook("beforeViewRender",function(){return r.handsontableBeforeViewRender()}),this.hotInstance.addHook("afterViewRender",function(){return r.handsontableAfterViewRender()}),this.hotInstance.init(),this.displayAutoSizeWarning(i)}},{key:"componentDidUpdate",value:function(r){this.clearCache();var i=this.createNewGlobalSettings(!1,r);this.updateHot(i),this.displayAutoSizeWarning(i)}},{key:"componentWillUnmount",value:function(){this.clearCache(),this.hotInstance&&this.hotInstance.destroy()}},{key:"render",value:function(){var r=this,i=function(c){return c.type===Gwe},o=Dt.Children.toArray(this.props.children),s=o.filter(function(u){return i(u)}).map(function(u,c){return Dt.cloneElement(u,{_componentRendererColumns:r.componentRendererColumns,_emitColumnSettings:r.setHotColumnSettings.bind(r),_columnIndex:c,_getChildElementByType:K_.bind(r),_getRendererWrapper:r.getRendererWrapper.bind(r),_getEditorClass:r.getEditorClass.bind(r),_getOwnerDocument:r.getOwnerDocument.bind(r),_getEditorCache:r.getEditorCache.bind(r),children:u.props.children})}),a=pU(this.props),l=gU(this.getOwnerDocument(),this.getGlobalEditorElement());return Dt.createElement(Dt.Fragment,null,Dt.createElement("div",Object.assign({ref:this.setHotElementRef.bind(this)},a),s),Dt.createElement(Kwe,{ref:this.setRenderersPortalManagerRef.bind(this)}),l)}}],[{key:"version",get:function(){return qwe}}])}(Dt.Component);yM.propTypes={style:DR.object,id:DR.string,className:DR.string};var eCe=["children"],wU=Dt.forwardRef(function(t,e){var n,r=t.children,i=Hwe(t,eCe),o=typeof Dt.useId=="function"?Dt.useId():void 0,s=(n=i.id)!==null&&n!==void 0?n:o;return Dt.createElement(yM,Object.assign({id:s},i,{ref:e}),r)});wU.version=yM.version;Dt.Component;const vD="handsontableEditor",tCe="handsontable";class wM extends Ic{static get EDITOR_TYPE(){return tCe}open(){super.open(),this.htEditor&&this.htEditor.destroy(),this.htContainer.style.display==="none"&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),oS(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}close(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),super.close()}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s);const a=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,ariaTags:!1,afterOnCellMouseDown(u,c){const h=this.getSourceData(c.row,c.col);h!==void 0&&a.setValue(h),a.hot.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&xn(l,s.handsontable),this.htOptions=l}beginEditing(e,n){const r=this.hot.getSettings().onBeginEditing;r&&r()===!1||super.beginEditing(e,n)}createElements(){super.createElements();const e=this.hot.rootDocument.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.assignHooks()}finishEditing(e,n,r){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){const i=this.htEditor.getValue();i!==void 0&&this.setValue(i)}super.finishEditing(e,n,r)}assignHooks(){this.hot.addHook("afterDestroy",()=>{this.htEditor&&this.htEditor.destroy()})}registerShortcuts(){const n=this.hot.getShortcutManager().getContext("editor");super.registerShortcuts();const r={group:vD,relativeToGroup:Gl,position:"before"},i=(o,s)=>{const a=this.htEditor;if(o!==void 0&&(o<0||a.flipped&&o>a.countRows()-1?a.deselectCell():a.selectCell(o,0),a.getData().length))return s.preventDefault(),Bo(s),this.hot.listen(),this.TEXTAREA.focus(),!1};n.addShortcuts([{keys:[["ArrowUp"]],callback:o=>{const s=this.htEditor;let a,l;return!s.getSelectedLast()&&s.flipped?a=s.countRows()-1:s.getSelectedLast()&&(s.flipped?(l=s.getSelectedLast()[0],a=Math.max(0,l-1)):(l=s.getSelectedLast()[0],a=l-1)),i(a,o)},preventDefault:!1},{keys:[["ArrowDown"]],callback:o=>{const s=this.htEditor;let a,l;if(!s.getSelectedLast()&&!s.flipped)a=0;else if(s.getSelectedLast()){if(s.flipped)a=s.getSelectedLast()[0]+1;else if(!s.flipped){const u=s.countRows()-1;l=s.getSelectedLast()[0],a=Math.min(u,l+1)}}return i(a,o)},preventDefault:!1}],r)}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(vD)}}function nCe(t,e,n){rCe(t,e),e.set(t,n)}function rCe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Vv(t,e,n){return(e=iCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iCe(t){var e=oCe(t,"string");return typeof e=="symbol"?e:e+""}function oCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yD(t,e){return t.get(sCe(t,e))}function sCe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const aCe="autocomplete";var LR=new WeakMap;class CM extends wM{constructor(){super(...arguments),Vv(this,"query",null),Vv(this,"strippedChoices",[]),Vv(this,"rawChoices",[]),nCe(this,LR,this.hot.guid.slice(0,9)),Vv(this,"sortByRelevance",function(e,n,r){const i=[],o=[],s=e.length;let a=n.length,l,u,c,h;if(s===0){for(c=0;c<a;c++)o.push(c);return o}for(c=0;c<a;c++){if(u=Wk(bn(n[c])),r)h=u.indexOf(e);else{const d=this.cellProperties.locale;h=u.toLocaleLowerCase(d).indexOf(e.toLocaleLowerCase(d))}h!==-1&&(l=u.length-h-s,i.push({baseIndex:c,index:h,charsLeft:l,value:u}))}for(i.sort((d,f)=>{if(f.index===-1)return-1;if(d.index===-1)return 1;if(d.index<f.index)return-1;if(f.index<d.index)return 1;if(d.index===f.index){if(d.charsLeft<f.charsLeft)return-1;if(d.charsLeft>f.charsLeft)return 1}return 0}),c=0,a=i.length;c<a;c++)o.push(i[c].baseIndex);return o})}static get EDITOR_TYPE(){return aCe}getValue(){const e=this.rawChoices.find(n=>this.stripValueIfNeeded(n)===this.TEXTAREA.value);return xe(e)?e:this.TEXTAREA.value}createElements(){super.createElements(),ge(this.htContainer,"autocompleteEditor"),ge(this.htContainer,this.hot.rootWindow.navigator.platform.indexOf("Mac")===-1?"":"htMacScroll"),this.hot.getSettings().ariaTags&&Be(this.TEXTAREA,[dce(),ace(),OV("listbox"),pce()])}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s),this.hot.getSettings().ariaTags&&Be(this.TEXTAREA,[zi("false"),vce(`${yD(LR,this)}-listbox-${e}-${n}`)])}open(){super.open();const e=this.cellProperties.trimDropdown===void 0?!0:this.cellProperties.trimDropdown,n=this.hot.getSettings().ariaTags,r=Array.isArray(this.cellProperties.source)?this.cellProperties.source:null,i=r==null?void 0:r.length,{row:o,col:s}=this;this.showEditableElement(),this.focus();let a=Gn();a===0&&M_()&&(a+=15),this.addHook("beforeKeyDown",l=>this.onBeforeKeyDown(l)),this.htEditor.updateSettings({colWidths:e?[Ft(this.TEXTAREA)-2]:void 0,width:e?Ft(this.TEXTAREA)+a:void 0,autoColumnSize:!0,renderer:(l,u,c,h,d,f,g)=>{ka(l,u,c,h,d,f,g);const{filteringCaseSensitive:v,allowHtml:y,locale:p}=this.cellProperties,m=this.query;let w=bn(f),C,S;w&&!y&&(C=v===!0?w.indexOf(m):w.toLocaleLowerCase(p).indexOf(m.toLocaleLowerCase(p)),C!==-1&&(S=w.substr(C,m.length),w=w.replace(S,`<strong>${S}</strong>`))),n&&Be(u,[lce(),...r?[bce(i)]:[],...r?[Sce(r.indexOf(f)+1)]:[],["id",`${this.htEditor.rootElement.id}_${c}-${h}`]]),u.innerHTML=w},afterSelectionEnd:(l,u)=>{if(n){const c=this.htEditor.getCell(l,u,!0);Be(c,[px()]),Be(this.TEXTAREA,...yce(c.id))}}}),n&&(Be(this.htEditor.view._wt.wtOverlays.wtTable.TABLE,...Rs()),Be(this.htEditor.rootElement,[TV(),wce("polite"),Cce("text"),["id",`${yD(LR,this)}-listbox-${o}-${s}`]]),Be(this.TEXTAREA,...zi("true"))),this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)})}close(){this.removeHooksByKey("beforeKeyDown"),super.close(),this.hot.getSettings().ariaTags&&Be(this.TEXTAREA,[zi("false")])}discardEditor(e){super.discardEditor(e),this.hot.view.render()}queryChoices(e){const n=this.cellProperties.source;this.query=e,typeof n=="function"?n.call(this.cellProperties,e,r=>{this.rawChoices=r,this.updateChoicesList(this.stripValuesIfNeeded(r))}):Array.isArray(n)?(this.rawChoices=n,this.updateChoicesList(this.stripValuesIfNeeded(n))):this.updateChoicesList([])}updateChoicesList(e){const n=LV(this.TEXTAREA),r=Mce(this.TEXTAREA),i=this.cellProperties.sortByRelevance,o=this.cellProperties.filter;let s=null,a=null,l=e;i&&(s=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),l,this.cellProperties.filteringCaseSensitive));const u=Array.isArray(s)?s.length:0;if(o===!1)u&&(a=s[0]);else{const c=[];for(let h=0,d=l.length;h<d&&!(i&&u<=h);h++)u?c.push(l[s[h]]):c.push(l[h]);a=0,l=c}this.strippedChoices=l,l.length===0?this.htEditor.rootElement.style.display="none":this.htEditor.rootElement.style.display="",this.htEditor.loadData(aw([l])),l.length>0&&(this.updateDropdownDimensions(),this.flipDropdownIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(a)),this.hot.listen(),oS(this.TEXTAREA,n,n===r?void 0:r)}flipDropdownIfNeeded(){const e=pd(this.hot.view._wt.wtTable.TABLE),n=e===this.hot.rootWindow,r=this.cellProperties.preventOverflow;if(n||!n&&(r||r==="horizontal"))return!1;const i=zn(this.TEXTAREA),o=Rn(this.TEXTAREA),s=this.getDropdownHeight(),a=e.scrollTop,l=Rn(this.hot.view._wt.wtTable.THEAD),u=zn(e),c=i.top-u.top-l+a,h=e.scrollHeight-c-l-o,d=s>h&&c>h;return d?this.flipDropdown(s):this.unflipDropdown(),this.limitDropdownIfNeeded(d?c:h,s),d}limitDropdownIfNeeded(e,n){if(n>e){let r=0,i=0,o=0,s=null;do o=this.htEditor.getRowHeight(i)||this.htEditor.view._wt.getSetting("defaultRowHeight"),r+=o,i+=1;while(r<e);s=r-o,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=`${parseInt(this.htEditor.rootElement.style.top,10)+n-s}px`),this.setDropdownHeight(r-o)}}flipDropdown(e){const n=this.htEditor.rootElement.style;n.position="absolute",n.top=`${-e}px`,this.htEditor.flipped=!0}unflipDropdown(){const e=this.htEditor.rootElement.style;e.position="absolute",e.top="",this.htEditor.flipped=void 0}updateDropdownDimensions(){const e=this.htEditor.getColWidth(0)+Gn(this.hot.rootDocument)+2,n=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:n?void 0:e}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}setDropdownHeight(e){this.htEditor.updateSettings({height:e})}highlightBestMatchingChoice(e){typeof e=="number"?this.htEditor.selectCell(e,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}getDropdownHeight(){const e=this.htEditor.getRowHeight(0)||23,n=this.cellProperties.visibleRows;return this.strippedChoices.length>=n?n*e:this.strippedChoices.length*e+8}stripValueIfNeeded(e){return this.stripValuesIfNeeded([e])[0]}stripValuesIfNeeded(e){const{allowHtml:n}=this.cellProperties,r=it(e,o=>bn(o));return it(r,o=>n?o:Wk(o))}allowKeyEventPropagation(e){const n=this.htEditor.getSelectedRangeLast(),r={row:n?n.from.row:-1};let i=!1;return e===ke.ARROW_DOWN&&r.row>0&&r.row<this.htEditor.countRows()-1&&(i=!0),e===ke.ARROW_UP&&r.row>-1&&(i=!0),i}onBeforeKeyDown(e){if(yhe(e.keyCode)||e.keyCode===ke.BACKSPACE||e.keyCode===ke.DELETE||e.keyCode===ke.INSERT){let n=10;if(e.keyCode===ke.C&&(e.ctrlKey||e.metaKey))return;this.isOpened()||(n+=10),this.htEditor&&this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)},n)}}}const lCe="checkbox";class CU extends zd{static get EDITOR_TYPE(){return lCe}beginEditing(e,n){if(n&&n.type==="mouseup"&&n.target.nodeName==="TD"){const r=this.TD.querySelector('input[type="checkbox"]');je(r,"htBadValue")||r.click()}}finishEditing(){}init(){}open(){}close(){}getValue(){}setValue(){}focus(){}}/*!
 * Pikaday
 *
 * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */const pl=()=>window,Di=()=>window.document,q_=(t,e)=>window.setTimeout(t,e),us=function(t,e,n,r){t.addEventListener(e,n,!!r)},zs=function(t,e,n,r){t.removeEventListener(e,n,!!r)},uCe=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},oi=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")!==-1},$R=function(t,e){oi(t,e)||(t.className=t.className===""?e:t.className+" "+e)},FR=function(t,e){t.className=uCe((" "+t.className+" ").replace(" "+e+" "," "))},bM=function(t){return/Array/.test(Object.prototype.toString.call(t))},ui=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},cCe=function(t){let e=t.getDay();return e===0||e===6},hCe=function(t){return t%4===0&&t%100!==0||t%400===0},wD=function(t,e){return[31,hCe(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},Wv=function(t){ui(t)&&t.setHours(0,0,0,0)},Uv=function(t,e){return t.getTime()===e.getTime()},IC=function(t,e,n){let r,i;for(r in e)i=t[r]!==void 0,i&&typeof e[r]=="object"&&e[r]!==null&&e[r].nodeName===void 0?ui(e[r])?n&&(t[r]=new Date(e[r].getTime())):bM(e[r])?n&&(t[r]=e[r].slice(0)):t[r]=IC({},e[r],n):(n||!i)&&(t[r]=e[r]);return t},CD=function(t,e,n){let r=Di().createEvent("HTMLEvents");r.initEvent(e,!0,!1),r=IC(r,n),t.dispatchEvent(r)},bD=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},Zo={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},SD=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},dCe=function(t){let e=[],n="false";if(t.isEmpty)if(t.showDaysInNextAndPreviousMonths)e.push("is-outside-current-month"),t.enableSelectionDaysInNextAndPreviousMonths||e.push("is-selection-disabled");else return'<td class="is-empty"></td>';return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},fCe=function(t,e){t.setHours(0,0,0,0);let n=t.getDate(),r=t.getDay(),i=e,o=i-1,s=7,a=function(d){return(d+s-1)%s};t.setDate(n+o-a(r));let l=new Date(t.getFullYear(),0,i),u=24*60*60*1e3,c=(t.getTime()-l.getTime())/u;return 1+Math.round((c-o+a(l.getDay()))/s)},gCe=function(t,e,n,r,i){let o=new Date(r,n,e);return'<td class="pika-week">'+(t.hasMoment?t.moment(o).isoWeek():fCe(o,i))+"</td>"},mCe=function(t,e,n,r){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(r?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"},pCe=function(t){return"<tbody>"+t.join("")+"</tbody>"},vCe=function(t){let e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+SD(t,e)+'">'+SD(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"},yCe=function(t,e,n,r,i,o){let s,a,l,u=t._o,c=n===u.minYear,h=n===u.maxYear,d='<div id="'+o+'" class="pika-title" role="heading" aria-live="polite">',f,g,v=!0,y=!0;for(l=[],s=0;s<12;s++)l.push('<option value="'+(n===i?s-e:12+s-e)+'"'+(s===r?' selected="selected"':"")+(c&&s<u.minMonth||h&&s>u.maxMonth?' disabled="disabled"':"")+">"+u.i18n.months[s]+"</option>");for(f='<div class="pika-label">'+u.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",bM(u.yearRange)?(s=u.yearRange[0],a=u.yearRange[1]+1):(s=n-u.yearRange,a=1+n+u.yearRange),l=[];s<a&&s<=u.maxYear;s++)s>=u.minYear&&l.push('<option value="'+s+'"'+(s===n?' selected="selected"':"")+">"+s+"</option>");return g='<div class="pika-label">'+n+u.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",u.showMonthAfterYear?d+=g+f:d+=f+g,c&&(r===0||u.minMonth>=r)&&(v=!1),h&&(r===11||u.maxMonth<=r)&&(y=!1),e===0&&(d+='<button class="pika-prev'+(v?"":" is-disabled")+'" type="button">'+u.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(d+='<button class="pika-next'+(y?"":" is-disabled")+'" type="button">'+u.i18n.nextMonth+"</button>"),d+="</div>"},wCe=function(t,e,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+vCe(t)+pCe(e)+"</table>"};function X_(t){let e=this,n=e.config(t);e._onMouseDown=function(i){if(!e._v)return;i=i||pl().event;let o=i.target||i.srcElement;if(o)if(oi(o,"is-disabled")||(oi(o,"pika-button")&&!oi(o,"is-empty")&&!oi(o.parentNode,"is-disabled")?(e.setDate(new Date(o.getAttribute("data-pika-year"),o.getAttribute("data-pika-month"),o.getAttribute("data-pika-day"))),n.bound&&q_(function(){e.hide(),n.blurFieldOnSelect&&n.field&&n.field.blur()},100)):oi(o,"pika-prev")?e.prevMonth():oi(o,"pika-next")&&e.nextMonth()),oi(o,"pika-select"))e._c=!0;else if(i.preventDefault)i.preventDefault();else return i.returnValue=!1,!1},e._onChange=function(i){i=i||pl().event;let o=i.target||i.srcElement;o&&(oi(o,"pika-select-month")?e.gotoMonth(o.value):oi(o,"pika-select-year")&&e.gotoYear(o.value))},e._onKeyChange=function(i){if(i=i||pl().event,e.isVisible())switch(i.keyCode){case 13:case 27:n.field&&n.field.blur();break;case 37:e.adjustDate("subtract",1);break;case 38:e.adjustDate("subtract",7);break;case 39:e.adjustDate("add",1);break;case 40:e.adjustDate("add",7);break;case 8:case 46:e.setDate(null);break}},e._parseFieldValue=function(){if(n.parse)return n.parse(n.field.value,n.format);if(this.hasMoment){let i=this.moment(n.field.value,n.format,n.formatStrict);return i&&i.isValid()?i.toDate():null}else return new Date(Date.parse(n.field.value))},e._onInputChange=function(i){let o;i.firedBy!==e&&(o=e._parseFieldValue(),ui(o)&&e.setDate(o),e._v||e.show())},e._onInputFocus=function(){e.show()},e._onInputClick=function(){e.show()},e._onInputBlur=function(){let i=Di().activeElement;do if(oi(i,"pika-single"))return;while(i=i.parentNode);e._c||(e._b=q_(function(){e.hide()},50)),e._c=!1},e._onClick=function(i){i=i||pl().event;let o=i.target||i.srcElement,s=o;if(o){!hasEventListeners&&oi(o,"pika-select")&&(o.onchange||(o.setAttribute("onchange","return;"),us(o,"change",e._onChange)));do if(oi(s,"pika-single")||s===n.trigger)return;while(s=s.parentNode);e._v&&o!==n.trigger&&s!==n.trigger&&e.hide()}},e.el=Di().createElement("div"),e.el.className="pika-single"+(n.isRTL?" is-rtl":"")+(n.theme?" "+n.theme:""),us(e.el,"mousedown",e._onMouseDown,!0),us(e.el,"touchend",e._onMouseDown,!0),us(e.el,"change",e._onChange),n.keyboardInput&&us(Di(),"keydown",e._onKeyChange),n.field&&(n.container?n.container.appendChild(e.el):n.bound?Di().body.appendChild(e.el):n.field.parentNode.insertBefore(e.el,n.field.nextSibling),us(n.field,"change",e._onInputChange),n.defaultDate||(n.defaultDate=e._parseFieldValue(),n.setDefaultDate=!0));let r=n.defaultDate;ui(r)?n.setDefaultDate?e.setDate(r,!0):e.gotoDate(r):e.gotoDate(new Date),n.bound?(this.hide(),e.el.className+=" is-bound",us(n.trigger,"click",e._onInputClick),us(n.trigger,"focus",e._onInputFocus),us(n.trigger,"blur",e._onInputBlur)):this.show()}X_.prototype={config:function(t){this._o||(this._o=IC({},Zo,!0));let e=IC(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme=typeof e.theme=="string"&&e.theme?e.theme:null,e.bound=!!(e.bound!==void 0?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn=typeof e.disableDayFn=="function"?e.disableDayFn:null;let n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,ui(e.minDate)||(e.minDate=!1),ui(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),bM(e.yearRange)){let r=new Date().getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||r,e.yearRange[1]=parseInt(e.yearRange[1],10)||r}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||Zo.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(t){return t=t||this._o.format,ui(this._d)?this._o.toString?this._o.toString(this._d,t):this.hasMoment?this.moment(this._d).format(t):this._d.toDateString():""},getMoment:function(){return this.hasMoment?this.moment(this._d):null},setMoment:function(t,e){this.hasMoment&&this.moment.isMoment(t)&&this.setDate(t.toDate(),e)},useMoment:function(t){this.hasMoment=!0,this.moment=t},getDate:function(){return ui(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",CD(this._o.field,"change",{firedBy:this})),this.draw();if(typeof t=="string"&&(t=new Date(Date.parse(t))),!ui(t))return;let n=this._o.minDate,r=this._o.maxDate;ui(n)&&t<n?t=n:ui(r)&&t>r&&(t=r),this._d=new Date(t.getTime()),Wv(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),CD(this._o.field,"change",{firedBy:this})),!e&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())},clear:function(){this.setDate(null)},gotoDate:function(t){let e=!0;if(ui(t)){if(this.calendars){let n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=i<n.getTime()||r.getTime()<i}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(t,e){let n=this.getDate()||new Date,r=parseInt(e)*24*60*60*1e3,i;t==="add"?i=new Date(n.valueOf()+r):t==="subtract"&&(i=new Date(n.valueOf()-r)),this.setDate(i)},adjustCalendars:function(){this.calendars[0]=bD(this.calendars[0]);for(let t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=bD({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(Wv(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=Zo.minDate,this._o.minYear=Zo.minYear,this._o.minMonth=Zo.minMonth,this._o.startRange=Zo.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(Wv(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=Zo.maxDate,this._o.maxYear=Zo.maxYear,this._o.maxMonth=Zo.maxMonth,this._o.endRange=Zo.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(!this._v&&!t)return;let e=this._o,n=e.minYear,r=e.maxYear,i=e.minMonth,o=e.maxMonth,s="",a;this._y<=n&&(this._y=n,!isNaN(i)&&this._m<i&&(this._m=i)),this._y>=r&&(this._y=r,!isNaN(o)&&this._m>o&&(this._m=o));for(let l=0;l<e.numberOfMonths;l++)a="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),s+='<div class="pika-lendar">'+yCe(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,a)+this.render(this.calendars[l].year,this.calendars[l].month,a)+"</div>";this.el.innerHTML=s,e.bound&&e.field.type!=="hidden"&&q_(function(){e.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),e.bound&&e.field.setAttribute("aria-label",e.ariaLabel)},adjustPosition:function(){let t,e,n,r,i,o,s,a,l,u,c;this._o.container||(this.el.style.position="absolute",t=this._o.trigger,e=this.el.offsetWidth,n=this.el.offsetHeight,r=pl().innerWidth||Di().documentElement.clientWidth,i=pl().innerHeight||Di().documentElement.clientHeight,o=Di().body.scrollTop||Di().documentElement.scrollTop,u=!0,c=!0,l=t.getBoundingClientRect(),s=l.left+pl().pageXOffset,a=l.bottom+pl().pageYOffset,(this._o.reposition&&s+e>r||this._o.position.indexOf("right")>-1&&s-e+t.offsetWidth>0)&&(s=s-e+t.offsetWidth,u=!1),(this._o.reposition&&a+n>i+o||this._o.position.indexOf("top")>-1&&a-n-t.offsetHeight>0)&&(a=a-n-t.offsetHeight,c=!1),s<0&&(s=0),a<0&&(a=0),this.el.style.left=s+"px",this.el.style.top=a+"px",$R(this.el,u?"left-aligned":"right-aligned"),$R(this.el,c?"bottom-aligned":"top-aligned"),FR(this.el,u?"right-aligned":"left-aligned"),FR(this.el,c?"top-aligned":"bottom-aligned"))},render:function(t,e,n){let r=this._o,i=new Date,o=wD(t,e),s=new Date(t,e,1).getDay(),a=[],l=[];Wv(i),r.firstDay>0&&(s-=r.firstDay,s<0&&(s+=7));let u=e===0?11:e-1,c=e===11?0:e+1,h=e===0?t-1:t,d=e===11?t+1:t,f=wD(h,u),g=o+s,v=g;for(;v>7;)v-=7;g+=7-v;let y=!1;for(let p=0,m=0;p<g;p++){let w=new Date(t,e,1+(p-s)),C=ui(this._d)?Uv(w,this._d):!1,S=Uv(w,i),x=r.events.indexOf(w.toDateString())!==-1,_=p<s||p>=o+s,O=1+(p-s),I=e,T=t,P=r.startRange&&Uv(r.startRange,w),M=r.endRange&&Uv(r.endRange,w),N=r.startRange&&r.endRange&&r.startRange<w&&w<r.endRange,$=r.minDate&&w<r.minDate||r.maxDate&&w>r.maxDate||r.disableWeekends&&cCe(w)||r.disableDayFn&&r.disableDayFn(w);_&&(p<s?(O=f+O,I=u,T=h):(O=O-o,I=c,T=d));let V={day:O,month:I,year:T,hasEvent:x,isSelected:C,isToday:S,isDisabled:$,isEmpty:_,isStartRange:P,isEndRange:M,isInRange:N,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:r.enableSelectionDaysInNextAndPreviousMonths};r.pickWholeWeek&&C&&(y=!0),l.push(dCe(V)),++m===7&&(r.showWeekNumber&&l.unshift(gCe(this,p-s,e,t,r.firstWeekOfYearMinDays)),a.push(mCe(l,r.isRTL,r.pickWholeWeek,y)),l=[],m=0,y=!1)}return wCe(r,a,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),FR(this.el,"is-hidden"),this._o.bound&&(us(Di(),"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){let t=this._v;t!==!1&&(this._o.bound&&zs(Di(),"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),$R(this.el,"is-hidden"),this._v=!1,t!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){let t=this._o;this.hide(),zs(this.el,"mousedown",this._onMouseDown,!0),zs(this.el,"touchend",this._onMouseDown,!0),zs(this.el,"change",this._onChange),t.keyboardInput&&zs(Di(),"keydown",this._onKeyChange),t.field&&(zs(t.field,"change",this._onInputChange),t.bound&&(zs(t.trigger,"click",this._onInputClick),zs(t.trigger,"focus",this._onInputFocus),zs(t.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};function BR(t,e,n){return(e=CCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CCe(t){var e=bCe(t,"string");return typeof e=="symbol"?e:e+""}function bCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const bU="date",RD="dateEditor";class SU extends Ic{constructor(){super(...arguments),BR(this,"defaultDateFormat","DD/MM/YYYY"),BR(this,"parentDestroyed",!1),BR(this,"$datePicker",null)}static get EDITOR_TYPE(){return bU}init(){if(typeof fe!="function")throw new Error("You need to include moment.js to your project.");if(typeof X_!="function")throw new Error("You need to include Pikaday to your project.");super.init(),this.hot.addHook("afterDestroy",()=>{this.parentDestroyed=!0,this.destroyElements()})}createElements(){super.createElements(),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),ge(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),this.eventManager.addEventListener(this.datePicker,"mousedown",e=>{je(e.target,"pika-day")&&this.hideDatepicker(),e.stopPropagation()})}destroyElements(){const e=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),e&&e.removeChild(this.datePicker)}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s)}open(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const r=this.hot.getShortcutManager().getContext("editor");this.showDatepicker(e),super.open(),r.addShortcuts([{keys:[["ArrowLeft"]],callback:()=>{this.$datePicker.adjustDate("subtract",1)}},{keys:[["ArrowRight"]],callback:()=>{this.$datePicker.adjustDate("add",1)}},{keys:[["ArrowUp"]],callback:()=>{this.$datePicker.adjustDate("subtract",7)}},{keys:[["ArrowDown"]],callback:()=>{this.$datePicker.adjustDate("add",7)}}],{group:RD})}close(){var e;this._opened=!1,(e=this.$datePicker)!==null&&e!==void 0&&e.destroy&&this.$datePicker.destroy(),this.hot._registerTimeout(()=>{const i=this.hot._getEditorManager();i.closeEditor(),this.hot.view.render(),i.prepareEditor()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(RD),super.close()}finishEditing(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.finishEditing(e,n)}showDatepicker(e){const n=this.cellProperties.dateFormat||this.defaultDateFormat,r=this.hot.view.isMouseDown(),i=e?eW(e.keyCode):!1;let o;this.datePicker.style.display="block",this.$datePicker=new X_(this.getDatePickerConfig()),typeof this.$datePicker.useMoment=="function"&&this.$datePicker.useMoment(fe),this.$datePicker._onInputFocus=function(){},this.originalValue?(o=this.originalValue,fe(o,n,!0).isValid()&&this.$datePicker.setMoment(fe(o,n),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!i&&!r&&this.setValue("")):this.cellProperties.defaultDate?(o=this.cellProperties.defaultDate,fe(o,n,!0).isValid()&&this.$datePicker.setMoment(fe(o,n),!0),!i&&!r&&this.setValue("")):this.$datePicker.gotoToday()}hideDatepicker(){this.datePickerStyle.display="none",this.$datePicker.hide()}getDatePickerConfig(){const e=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&aS(n,this.cellProperties.datePickerConfig);const r=n.onSelect,i=n.onClose;return n.field=e,n.trigger=e,n.container=this.datePicker,n.bound=!1,n.keyboardInput=!1,n.format=n.format||this.defaultDateFormat,n.reposition=n.reposition||!1,n.isRTL=!1,n.onSelect=o=>{let s=o;isNaN(s.getTime())||(s=fe(s).format(this.cellProperties.dateFormat||this.defaultDateFormat)),this.setValue(s),r&&r()},n.onClose=()=>{this.parentDestroyed||this.finishEditing(!1),i&&i()},n}refreshDimensions(e){var n;if(super.refreshDimensions(e),this.state!==dn.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.hideDatepicker();return}const{rowIndexMapper:r,columnIndexMapper:i}=this.hot,{wtOverlays:o}=this.hot.view._wt,{wtTable:s}=(n=o.getParentOverlay(this.TD))!==null&&n!==void 0?n:this.hot.view._wt,a=r.getVisualFromRenderableIndex(s.getFirstPartiallyVisibleRow()),l=r.getVisualFromRenderableIndex(s.getLastPartiallyVisibleRow()),u=i.getVisualFromRenderableIndex(s.getFirstPartiallyVisibleColumn()),c=i.getVisualFromRenderableIndex(s.getLastPartiallyVisibleColumn());if(this.row>=a&&this.row<=l&&this.col>=u&&this.col<=c){const h=this.TD.getBoundingClientRect();this.datePickerStyle.top=`${this.hot.rootWindow.pageYOffset+h.top+Rn(this.TD)}px`;let d=this.hot.rootWindow.pageXOffset;this.hot.isRtl()?d+=h.right-Ft(this.datePicker):d+=h.left,this.datePickerStyle.left=`${d}px`}else this.hideDatepicker()}}const SCe="dropdown";class SM extends CM{static get EDITOR_TYPE(){return SCe}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}Te.getSingleton().add("beforeValidate",function(t,e,n){const r=this.propToCol(n);if(Number.isInteger(r)){const i=this.getCellMeta(e,r);i.editor===SM&&i.strict===void 0&&(i.filter=!1,i.strict=!0)}});const RCe="numeric";class RU extends Ic{static get EDITOR_TYPE(){return RCe}}const ECe="password";class EU extends Ic{static get EDITOR_TYPE(){return ECe}createElements(){super.createElements(),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,Ps(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}const jR="ht_editor_visible",ED="selectEditor",_Ce="select";class _U extends zd{static get EDITOR_TYPE(){return _Ce}init(){this.select=this.hot.rootDocument.createElement("select"),this.select.setAttribute("data-hot-input","true"),this.select.style.display="none",ge(this.select,"htSelectEditor"),this.hot.rootElement.appendChild(this.select),this.registerHooks()}getValue(){return this.select.value}setValue(e){this.select.value=e}open(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this._opened=!1,this.select.style.display="none",je(this.select,jR)&&We(this.select,jR),this.unregisterShortcuts(),this.clearHooks()}focus(){this.select.focus()}registerHooks(){this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>this.refreshDimensions()),this.addHook("afterRowResize",()=>this.refreshDimensions())}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s);const a=this.cellProperties.selectOptions;let l;typeof a=="function"?l=this.prepareOptions(a(this.row,this.col,this.prop)):l=this.prepareOptions(a),Ps(this.select),Qe(l,(u,c)=>{const h=this.hot.rootDocument.createElement("OPTION");h.value=c,Wd(h,u),this.select.appendChild(h)})}prepareOptions(e){let n={};if(Array.isArray(e))for(let r=0,i=e.length;r<i;r++)n[e[r]]=e[r];else typeof e=="object"&&(n=e);return n}refreshValue(){const e=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()}refreshDimensions(){if(this.state!==dn.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.close();return}const{top:e,start:n,width:r,height:i}=this.getEditedCellRect(),o=this.select.style;o.height=`${i}px`,o.width=`${r}px`,o.top=`${e}px`,o[this.hot.isRtl()?"right":"left"]=`${n}px`,o.margin="0px",ge(this.select,jR)}registerShortcuts(){const n=this.hot.getShortcutManager().getContext("editor"),r={group:ED};this.isInFullEditMode()&&n.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{const i=this.select.selectedIndex-1;i>=0&&(this.select[i].selected=!0)}},{keys:[["ArrowDown"]],callback:()=>{const i=this.select.selectedIndex+1;i<=this.select.length-1&&(this.select[i].selected=!0)}}],r)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(ED)}}const TCe="time";class TU extends Ic{static get EDITOR_TYPE(){return TCe}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s),this.TEXTAREA.dir="ltr"}}function OCe(){si(zd),si(CM),si(CU),si(SU),si(SM),si(wM),si(RU),si(EU),si(_U),si(Ic),si(TU)}const xCe="html";function RM(t,e,n,r,i,o,s){wp.apply(this,[t,e,n,r,i,o,s]),Wd(e,o??"",!1)}RM.RENDERER_TYPE=xCe;const PCe="autocomplete";function Yd(t,e,n,r,i,o,s){const{rootDocument:a}=t,l=s.allowHtml?RM:ka,u=a.createElement("DIV"),c=t.getSettings().ariaTags;if(u.className="htAutocompleteArrow",c&&u.setAttribute(...Pc()),u.appendChild(a.createTextNode("")),l.apply(this,[t,e,n,r,i,o,s]),e.firstChild||e.appendChild(a.createTextNode("")),e.insertBefore(u,e.firstChild),ge(e,"htAutocomplete"),!t.acArrowListener){const h=new No(t);t.acArrowListener=function(d){je(d.target,"htAutocompleteArrow")&&t.view._wt.getSetting("onCellDblClick",null,t._createCellCoords(n,r),e)},h.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",()=>{h.destroy()})}}Yd.RENDERER_TYPE=PCe;const MCe="dropdown";function EM(t,e,n,r,i,o,s){Yd.apply(this,[t,e,n,r,i,o,s])}EM.RENDERER_TYPE=MCe;const _D=new WeakMap,TD=new WeakMap,ACe="htBadValue",Cd="data-row",bd="data-col",ICe="checkboxRenderer",OU="checkbox";Te.getSingleton().add("modifyAutoColumnSizeSeed",function(t,e,n){const{label:r,type:i,row:o,column:s,prop:a}=e;if(i===OU){if(r){const{value:l,property:u}=r;let c=n;if(l)c=typeof l=="function"?l(o,s,a,n):l;else if(u){const h=this.getDataAtRowProp(o,u);c=h!==null?h:n}t=c}return t}});function _M(t,e,n,r,i,o,s){const{rootDocument:a}=t,l=t.getSettings().ariaTags;wp.apply(this,[t,e,n,r,i,o,s]),NCe(t);let u=kCe(a);const c=s.label;let h=!1;if(typeof s.checkedTemplate>"u"&&(s.checkedTemplate=!0),typeof s.uncheckedTemplate>"u"&&(s.uncheckedTemplate=!1),Ps(e),o===s.checkedTemplate||bn(o).toLocaleLowerCase(s.locale)===bn(s.checkedTemplate).toLocaleLowerCase(s.locale)?u.checked=!0:o===s.uncheckedTemplate||bn(o).toLocaleLowerCase(s.locale)===bn(s.uncheckedTemplate).toLocaleLowerCase(s.locale)?u.checked=!1:pn(o)?ge(u,"noValue"):(u.style.display="none",ge(u,ACe),h=!0),Be(u,[[Cd,n],[bd,r]]),l&&Be(u,[gC(u.checked?t.getTranslatedPhrase(gM):t.getTranslatedPhrase(mM)),MV(u.checked),uce()]),!h&&c){let v="";if(c.value)v=typeof c.value=="function"?c.value.call(this,n,r,i,o):c.value;else if(c.property){const p=t.getDataAtRowProp(n,c.property);v=p!==null?p:""}const y=HCe(a,v,c.separated!==!0);c.position==="before"?c.separated?(e.appendChild(y),e.appendChild(u)):(y.appendChild(u),u=y):(!c.position||c.position==="after")&&(c.separated?(e.appendChild(u),e.appendChild(y)):(y.insertBefore(u,y.firstChild),u=y))}(!c||c&&!c.separated)&&e.appendChild(u),h&&e.appendChild(a.createTextNode("#bad-value#")),_D.has(t)||(_D.set(t,!0),d());function d(){const y=t.getShortcutManager().getContext("grid"),p={group:ICe,relativeToGroup:Gl,position:"before"};y.addShortcuts([{keys:[["space"]],callback:()=>(f(),!g()),runOnlyIf:()=>{var m;return(m=t.getSelectedRangeLast())===null||m===void 0?void 0:m.highlight.isCell()}},{keys:[["enter"]],callback:()=>(f(),!g()),runOnlyIf:()=>{const m=t.getSelectedRangeLast();return t.getSettings().enterBeginsEditing&&(m==null?void 0:m.isSingle())&&m.highlight.isCell()}},{keys:[["delete"],["backspace"]],callback:()=>(f(!0),!g()),runOnlyIf:()=>{var m;return(m=t.getSelectedRangeLast())===null||m===void 0?void 0:m.highlight.isCell()}}],p)}function f(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const y=t.getSelectedRange(),p=[],m=new Map;let w=[],C=0;if(y){for(let S=0;S<y.length;S++){const{row:x,col:_}=y[S].getTopStartCorner(),{row:O,col:I}=y[S].getBottomEndCorner();for(let T=x;T<=O;T+=1)for(let P=_;P<=I;P+=1){const M=t.getCellMeta(T,P),N={checkedTemplate:M.checkedTemplate,uncheckedTemplate:M.uncheckedTemplate};if(M.type!=="checkbox"){v===!0&&!M.readOnly&&(m.has(p.length)?m.set(p.length,[...m.get(p.length),[T,P,null]]):m.set(p.length,[[T,P,null]]));continue}if(M.readOnly===!0)continue;typeof M.checkedTemplate>"u"&&(M.checkedTemplate=!0),typeof M.uncheckedTemplate>"u"&&(M.uncheckedTemplate=!1);const $=t.getDataAtCell(T,P);v===!1?[M.checkedTemplate,M.checkedTemplate.toString()].includes($)?w.push([T,P,M.uncheckedTemplate,N]):[M.uncheckedTemplate,M.uncheckedTemplate.toString(),null,void 0].includes($)&&w.push([T,P,M.checkedTemplate,N]):w.push([T,P,M.uncheckedTemplate,N]),C+=1}p.push(C),C=0}w.every(S=>{let[,,x]=S;return x===w[0][2]})?w=w.map(S=>{let[x,_,O]=S;return[x,_,O]}):w=w.map(S=>{let[x,_,,O]=S;return[x,_,O.checkedTemplate]}),w.length>0&&p.forEach((S,x)=>{let _=w.splice(0,S);m.size&&m.has(x)&&(_=[..._,...m.get(x)]),t.setDataAtCell(_)})}}function g(){const v=t.getSelectedRange();if(v){for(let y=0;y<v.length;y++){const p=v[y].getTopStartCorner(),m=v[y].getBottomEndCorner();for(let w=p.row;w<=m.row;w++)for(let C=p.col;C<=m.col;C++){const S=t.getCellMeta(w,C),x=t.getCell(w,C);if(x==null)return!0;if(x.querySelectorAll("input[type=checkbox]").length>0&&!S.readOnly)return!0}}return!1}}}_M.RENDERER_TYPE=OU;function NCe(t){let e=TD.get(t);if(!e){const{rootElement:n}=t;e=new No(t),e.addEventListener(n,"click",r=>LCe(r,t)),e.addEventListener(n,"mouseup",r=>DCe(r,t)),e.addEventListener(n,"change",r=>$Ce(r,t)),TD.set(t,e)}return e}function kCe(t){const e=t.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("tabindex","-1"),e.cloneNode(!1)}function HCe(t,e,n){const r=t.createElement("label");return r.className=`htCheckboxRendererLabel ${n?"fullWidth":""}`,r.appendChild(t.createTextNode(e)),r.cloneNode(!0)}function DCe(t,e){const{target:n}=t;TM(n)&&(!n.hasAttribute(Cd)||!n.hasAttribute(bd)||setTimeout(e.listen,10))}function LCe(t,e){const{target:n}=t;if(!TM(n)||!n.hasAttribute(Cd)||!n.hasAttribute(bd))return;const r=parseInt(n.getAttribute(Cd),10),i=parseInt(n.getAttribute(bd),10);e.getCellMeta(r,i).readOnly&&t.preventDefault()}function $Ce(t,e){const{target:n}=t;if(!TM(n)||!n.hasAttribute(Cd)||!n.hasAttribute(bd))return;const r=parseInt(n.getAttribute(Cd),10),i=parseInt(n.getAttribute(bd),10),o=e.getCellMeta(r,i);if(!o.readOnly){let s=null;t.target.checked?s=o.uncheckedTemplate===void 0?!0:o.checkedTemplate:s=o.uncheckedTemplate===void 0?!1:o.uncheckedTemplate,e.setDataAtCell(r,i,s)}}function TM(t){return t.tagName==="INPUT"&&t.getAttribute("type")==="checkbox"}const FCe="handsontable";function OM(t,e,n,r,i,o,s){Yd.apply(this,[t,e,n,r,i,o,s])}OM.RENDERER_TYPE=FCe;function zv(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xU={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,o){function s(u,c){if(!i[u]){if(!r[u]){var h=typeof zv=="function"&&zv;if(!c&&h)return h(u,!0);if(a)return a(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var f=i[u]={exports:{}};r[u][0].call(f.exports,function(g){return s(r[u][1][g]||g)},f,f.exports,n,r,i,o)}return i[u].exports}for(var a=typeof zv=="function"&&zv,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){(function(o){var s,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,l=Math.ceil,u=Math.floor,c="[BigNumber Error] ",h=c+"Number primitive has more than 15 significant digits: ",d=1e14,f=14,g=9007199254740991,v=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,p=1e9;function m(I){var T=0|I;return 0<I||I===T?T:T-1}function w(I){for(var T,P,M=1,N=I.length,$=I[0]+"";M<N;){for(T=I[M++]+"",P=f-T.length;P--;T="0"+T);$+=T}for(N=$.length;$.charCodeAt(--N)===48;);return $.slice(0,N+1||1)}function C(I,T){var P,M,N=I.c,$=T.c,V=I.s,K=T.s,X=I.e,Y=T.e;if(!V||!K)return null;if(P=N&&!N[0],M=$&&!$[0],P||M)return P?M?0:-K:V;if(V!=K)return V;if(P=V<0,M=X==Y,!N||!$)return M?0:!N^P?1:-1;if(!M)return Y<X^P?1:-1;for(K=(X=N.length)<(Y=$.length)?X:Y,V=0;V<K;V++)if(N[V]!=$[V])return N[V]>$[V]^P?1:-1;return X==Y?0:Y<X^P?1:-1}function S(I,T,P,M){if(I<T||P<I||I!==(I<0?l(I):u(I)))throw Error(c+(M||"Argument")+(typeof I=="number"?I<T||P<I?" out of range: ":" not an integer: ":" not a primitive number: ")+String(I))}function x(I){var T=I.c.length-1;return m(I.e/f)==T&&I.c[T]%2!=0}function _(I,T){return(1<I.length?I.charAt(0)+"."+I.slice(1):I)+(T<0?"e":"e+")+T}function O(I,T,P){var M,N;if(T<0){for(N=P+".";++T;N+=P);I=N+I}else if(++T>(M=I.length)){for(N=P,T-=M;--T;N+=P);I+=N}else T<M&&(I=I.slice(0,T)+"."+I.slice(T));return I}(s=function I(T){var P,M,N,$,V,K,X,Y,W,j,b=re.prototype={constructor:re,toString:null,valueOf:null},R=new re(1),E=20,H=4,D=-7,A=21,B=-1e7,U=1e7,q=!1,ie=1,ue=0,ve={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Ce="0123456789abcdefghijklmnopqrstuvwxyz";function re(k,L){var F,Z,z,J,ee,Q,ne,oe,ae=this;if(!(ae instanceof re))return new re(k,L);if(L==null){if(k instanceof re)return ae.s=k.s,ae.e=k.e,void(ae.c=(k=k.c)?k.slice():k);if((Q=typeof k=="number")&&0*k==0){if(ae.s=1/k<0?(k=-k,-1):1,k===~~k){for(J=0,ee=k;10<=ee;ee/=10,J++);return ae.e=J,void(ae.c=[k])}oe=String(k)}else{if(oe=String(k),!a.test(oe))return N(ae,oe,Q);ae.s=oe.charCodeAt(0)==45?(oe=oe.slice(1),-1):1}-1<(J=oe.indexOf("."))&&(oe=oe.replace(".","")),0<(ee=oe.search(/e/i))?(J<0&&(J=ee),J+=+oe.slice(ee+1),oe=oe.substring(0,ee)):J<0&&(J=oe.length)}else{if(S(L,2,Ce.length,"Base"),oe=String(k),L==10)return le(ae=new re(k instanceof re?k:oe),E+ae.e+1,H);if(Q=typeof k=="number"){if(0*k!=0)return N(ae,oe,Q,L);if(ae.s=1/k<0?(oe=oe.slice(1),-1):1,re.DEBUG&&15<oe.replace(/^0\.0*|\./,"").length)throw Error(h+k);Q=!1}else ae.s=oe.charCodeAt(0)===45?(oe=oe.slice(1),-1):1;for(F=Ce.slice(0,L),J=ee=0,ne=oe.length;ee<ne;ee++)if(F.indexOf(Z=oe.charAt(ee))<0){if(Z=="."){if(J<ee){J=ne;continue}}else if(!z&&(oe==oe.toUpperCase()&&(oe=oe.toLowerCase())||oe==oe.toLowerCase()&&(oe=oe.toUpperCase()))){z=!0,ee=-1,J=0;continue}return N(ae,String(k),Q,L)}-1<(J=(oe=M(oe,L,10,ae.s)).indexOf("."))?oe=oe.replace(".",""):J=oe.length}for(ee=0;oe.charCodeAt(ee)===48;ee++);for(ne=oe.length;oe.charCodeAt(--ne)===48;);if(oe=oe.slice(ee,++ne)){if(ne-=ee,Q&&re.DEBUG&&15<ne&&(g<k||k!==u(k)))throw Error(h+ae.s*k);if(U<(J=J-ee-1))ae.c=ae.e=null;else if(J<B)ae.c=[ae.e=0];else{if(ae.e=J,ae.c=[],ee=(J+1)%f,J<0&&(ee+=f),ee<ne){for(ee&&ae.c.push(+oe.slice(0,ee)),ne-=f;ee<ne;)ae.c.push(+oe.slice(ee,ee+=f));oe=oe.slice(ee),ee=f-oe.length}else ee-=ne;for(;ee--;oe+="0");ae.c.push(+oe)}}else ae.c=[ae.e=0]}function Oe(k,L,F,Z){var z,J,ee,Q,ne;if(F==null?F=H:S(F,0,8),!k.c)return k.toString();if(z=k.c[0],ee=k.e,L==null)ne=w(k.c),ne=Z==1||Z==2&&(ee<=D||A<=ee)?_(ne,ee):O(ne,ee,"0");else if(J=(k=le(new re(k),L,F)).e,Q=(ne=w(k.c)).length,Z==1||Z==2&&(L<=J||J<=D)){for(;Q<L;ne+="0",Q++);ne=_(ne,J)}else if(L-=ee,ne=O(ne,J,"0"),Q<J+1){if(0<--L)for(ne+=".";L--;ne+="0");}else if(0<(L+=J-Q))for(J+1==Q&&(ne+=".");L--;ne+="0");return k.s<0&&z?"-"+ne:ne}function $e(k,L){for(var F,Z=1,z=new re(k[0]);Z<k.length;Z++){if(!(F=new re(k[Z])).s){z=F;break}L.call(z,F)&&(z=F)}return z}function Fe(k,L,F){for(var Z=1,z=L.length;!L[--z];L.pop());for(z=L[0];10<=z;z/=10,Z++);return(F=Z+F*f-1)>U?k.c=k.e=null:k.c=F<B?[k.e=0]:(k.e=F,L),k}function le(k,L,F,Z){var z,J,ee,Q,ne,oe,ae,me=k.c,_e=v;if(me){e:{for(z=1,Q=me[0];10<=Q;Q/=10,z++);if((J=L-z)<0)J+=f,ee=L,ae=(ne=me[oe=0])/_e[z-ee-1]%10|0;else if((oe=l((J+1)/f))>=me.length){if(!Z)break e;for(;me.length<=oe;me.push(0));ne=ae=0,ee=(J%=f)-f+(z=1)}else{for(ne=Q=me[oe],z=1;10<=Q;Q/=10,z++);ae=(ee=(J%=f)-f+z)<0?0:ne/_e[z-ee-1]%10|0}if(Z=Z||L<0||me[oe+1]!=null||(ee<0?ne:ne%_e[z-ee-1]),Z=F<4?(ae||Z)&&(F==0||F==(k.s<0?3:2)):5<ae||ae==5&&(F==4||Z||F==6&&(0<J?0<ee?ne/_e[z-ee]:0:me[oe-1])%10&1||F==(k.s<0?8:7)),L<1||!me[0])return me.length=0,Z?(L-=k.e+1,me[0]=_e[(f-L%f)%f],k.e=-L||0):me[0]=k.e=0,k;if(J==0?(me.length=oe,Q=1,oe--):(me.length=oe+1,Q=_e[f-J],me[oe]=0<ee?u(ne/_e[z-ee]%_e[ee])*Q:0),Z)for(;;){if(oe==0){for(J=1,ee=me[0];10<=ee;ee/=10,J++);for(ee=me[0]+=Q,Q=1;10<=ee;ee/=10,Q++);J!=Q&&(k.e++,me[0]==d&&(me[0]=1));break}if(me[oe]+=Q,me[oe]!=d)break;me[oe--]=0,Q=1}for(J=me.length;me[--J]===0;me.pop());}k.e>U?k.c=k.e=null:k.e<B&&(k.c=[k.e=0])}return k}function se(k){var L,F=k.e;return F===null?k.toString():(L=w(k.c),L=F<=D||A<=F?_(L,F):O(L,F,"0"),k.s<0?"-"+L:L)}return re.clone=I,re.ROUND_UP=0,re.ROUND_DOWN=1,re.ROUND_CEIL=2,re.ROUND_FLOOR=3,re.ROUND_HALF_UP=4,re.ROUND_HALF_DOWN=5,re.ROUND_HALF_EVEN=6,re.ROUND_HALF_CEIL=7,re.ROUND_HALF_FLOOR=8,re.EUCLID=9,re.config=re.set=function(k){var L,F;if(k!=null){if(typeof k!="object")throw Error(c+"Object expected: "+k);if(k.hasOwnProperty(L="DECIMAL_PLACES")&&(S(F=k[L],0,p,L),E=F),k.hasOwnProperty(L="ROUNDING_MODE")&&(S(F=k[L],0,8,L),H=F),k.hasOwnProperty(L="EXPONENTIAL_AT")&&((F=k[L])&&F.pop?(S(F[0],-p,0,L),S(F[1],0,p,L),D=F[0],A=F[1]):(S(F,-p,p,L),D=-(A=F<0?-F:F))),k.hasOwnProperty(L="RANGE"))if((F=k[L])&&F.pop)S(F[0],-p,-1,L),S(F[1],1,p,L),B=F[0],U=F[1];else{if(S(F,-p,p,L),!F)throw Error(c+L+" cannot be zero: "+F);B=-(U=F<0?-F:F)}if(k.hasOwnProperty(L="CRYPTO")){if((F=k[L])!==!!F)throw Error(c+L+" not true or false: "+F);if(F){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw q=!F,Error(c+"crypto unavailable");q=F}else q=F}if(k.hasOwnProperty(L="MODULO_MODE")&&(S(F=k[L],0,9,L),ie=F),k.hasOwnProperty(L="POW_PRECISION")&&(S(F=k[L],0,p,L),ue=F),k.hasOwnProperty(L="FORMAT")){if(typeof(F=k[L])!="object")throw Error(c+L+" not an object: "+F);ve=F}if(k.hasOwnProperty(L="ALPHABET")){if(typeof(F=k[L])!="string"||/^.$|[+-.\s]|(.).*\1/.test(F))throw Error(c+L+" invalid: "+F);Ce=F}}return{DECIMAL_PLACES:E,ROUNDING_MODE:H,EXPONENTIAL_AT:[D,A],RANGE:[B,U],CRYPTO:q,MODULO_MODE:ie,POW_PRECISION:ue,FORMAT:ve,ALPHABET:Ce}},re.isBigNumber=function(k){return k instanceof re||k&&k._isBigNumber===!0||!1},re.maximum=re.max=function(){return $e(arguments,b.lt)},re.minimum=re.min=function(){return $e(arguments,b.gt)},re.random=($=9007199254740992,V=Math.random()*$&2097151?function(){return u(Math.random()*$)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(k){var L,F,Z,z,J,ee=0,Q=[],ne=new re(R);if(k==null?k=E:S(k,0,p),z=l(k/f),q)if(crypto.getRandomValues){for(L=crypto.getRandomValues(new Uint32Array(z*=2));ee<z;)9e15<=(J=131072*L[ee]+(L[ee+1]>>>11))?(F=crypto.getRandomValues(new Uint32Array(2)),L[ee]=F[0],L[ee+1]=F[1]):(Q.push(J%1e14),ee+=2);ee=z/2}else{if(!crypto.randomBytes)throw q=!1,Error(c+"crypto unavailable");for(L=crypto.randomBytes(z*=7);ee<z;)9e15<=(J=281474976710656*(31&L[ee])+1099511627776*L[ee+1]+4294967296*L[ee+2]+16777216*L[ee+3]+(L[ee+4]<<16)+(L[ee+5]<<8)+L[ee+6])?crypto.randomBytes(7).copy(L,ee):(Q.push(J%1e14),ee+=7);ee=z/7}if(!q)for(;ee<z;)(J=V())<9e15&&(Q[ee++]=J%1e14);for(z=Q[--ee],k%=f,z&&k&&(J=v[f-k],Q[ee]=u(z/J)*J);Q[ee]===0;Q.pop(),ee--);if(ee<0)Q=[Z=0];else{for(Z=-1;Q[0]===0;Q.splice(0,1),Z-=f);for(ee=1,J=Q[0];10<=J;J/=10,ee++);ee<f&&(Z-=f-ee)}return ne.e=Z,ne.c=Q,ne}),re.sum=function(){for(var k=1,L=arguments,F=new re(L[0]);k<L.length;)F=F.plus(L[k++]);return F},M=function(){var k="0123456789";function L(F,Z,z,J){for(var ee,Q,ne=[0],oe=0,ae=F.length;oe<ae;){for(Q=ne.length;Q--;ne[Q]*=Z);for(ne[0]+=J.indexOf(F.charAt(oe++)),ee=0;ee<ne.length;ee++)ne[ee]>z-1&&(ne[ee+1]==null&&(ne[ee+1]=0),ne[ee+1]+=ne[ee]/z|0,ne[ee]%=z)}return ne.reverse()}return function(F,Z,z,J,ee){var Q,ne,oe,ae,me,_e,He,Ge,at=F.indexOf("."),Je=E,Ve=H;for(0<=at&&(ae=ue,ue=0,F=F.replace(".",""),_e=(Ge=new re(Z)).pow(F.length-at),ue=ae,Ge.c=L(O(w(_e.c),_e.e,"0"),10,z,k),Ge.e=Ge.c.length),oe=ae=(He=L(F,Z,z,ee?(Q=Ce,k):(Q=k,Ce))).length;He[--ae]==0;He.pop());if(!He[0])return Q.charAt(0);if(at<0?--oe:(_e.c=He,_e.e=oe,_e.s=J,He=(_e=P(_e,Ge,Je,Ve,z)).c,me=_e.r,oe=_e.e),at=He[ne=oe+Je+1],ae=z/2,me=me||ne<0||He[ne+1]!=null,me=Ve<4?(at!=null||me)&&(Ve==0||Ve==(_e.s<0?3:2)):ae<at||at==ae&&(Ve==4||me||Ve==6&&1&He[ne-1]||Ve==(_e.s<0?8:7)),ne<1||!He[0])F=me?O(Q.charAt(1),-Je,Q.charAt(0)):Q.charAt(0);else{if(He.length=ne,me)for(--z;++He[--ne]>z;)He[ne]=0,ne||(++oe,He=[1].concat(He));for(ae=He.length;!He[--ae];);for(at=0,F="";at<=ae;F+=Q.charAt(He[at++]));F=O(F,oe,Q.charAt(0))}return F}}(),P=function(){function k(Z,z,J){var ee,Q,ne,oe,ae=0,me=Z.length,_e=z%y,He=z/y|0;for(Z=Z.slice();me--;)ae=((Q=_e*(ne=Z[me]%y)+(ee=He*ne+(oe=Z[me]/y|0)*_e)%y*y+ae)/J|0)+(ee/y|0)+He*oe,Z[me]=Q%J;return ae&&(Z=[ae].concat(Z)),Z}function L(Z,z,J,ee){var Q,ne;if(J!=ee)ne=ee<J?1:-1;else for(Q=ne=0;Q<J;Q++)if(Z[Q]!=z[Q]){ne=Z[Q]>z[Q]?1:-1;break}return ne}function F(Z,z,J,ee){for(var Q=0;J--;)Z[J]-=Q,Q=Z[J]<z[J]?1:0,Z[J]=Q*ee+Z[J]-z[J];for(;!Z[0]&&1<Z.length;Z.splice(0,1));}return function(Z,z,J,ee,Q){var ne,oe,ae,me,_e,He,Ge,at,Je,Ve,ut,Qt,Nc,Qi,qd,Ri,Kt,Mn=Z.s==z.s?1:-1,qn=Z.c,Bt=z.c;if(!(qn&&qn[0]&&Bt&&Bt[0]))return new re(Z.s&&z.s&&(qn?!Bt||qn[0]!=Bt[0]:Bt)?qn&&qn[0]==0||!Bt?0*Mn:Mn/0:NaN);for(Je=(at=new re(Mn)).c=[],Mn=J+(oe=Z.e-z.e)+1,Q||(Q=d,oe=m(Z.e/f)-m(z.e/f),Mn=Mn/f|0),ae=0;Bt[ae]==(qn[ae]||0);ae++);if(Bt[ae]>(qn[ae]||0)&&oe--,Mn<0)Je.push(1),me=!0;else{for(Qi=qn.length,Ri=Bt.length,Mn+=2,1<(_e=u(Q/(Bt[ae=0]+1)))&&(Bt=k(Bt,_e,Q),qn=k(qn,_e,Q),Ri=Bt.length,Qi=qn.length),Nc=Ri,ut=(Ve=qn.slice(0,Ri)).length;ut<Ri;Ve[ut++]=0);Kt=Bt.slice(),Kt=[0].concat(Kt),qd=Bt[0],Bt[1]>=Q/2&&qd++;do{if(_e=0,(ne=L(Bt,Ve,Ri,ut))<0){if(Qt=Ve[0],Ri!=ut&&(Qt=Qt*Q+(Ve[1]||0)),1<(_e=u(Qt/qd)))for(Q<=_e&&(_e=Q-1),Ge=(He=k(Bt,_e,Q)).length,ut=Ve.length;L(He,Ve,Ge,ut)==1;)_e--,F(He,Ri<Ge?Kt:Bt,Ge,Q),Ge=He.length,ne=1;else _e==0&&(ne=_e=1),Ge=(He=Bt.slice()).length;if(Ge<ut&&(He=[0].concat(He)),F(Ve,He,ut,Q),ut=Ve.length,ne==-1)for(;L(Bt,Ve,Ri,ut)<1;)_e++,F(Ve,Ri<ut?Kt:Bt,ut,Q),ut=Ve.length}else ne===0&&(_e++,Ve=[0]);Je[ae++]=_e,Ve[0]?Ve[ut++]=qn[Nc]||0:(Ve=[qn[Nc]],ut=1)}while((Nc++<Qi||Ve[0]!=null)&&Mn--);me=Ve[0]!=null,Je[0]||Je.splice(0,1)}if(Q==d){for(ae=1,Mn=Je[0];10<=Mn;Mn/=10,ae++);le(at,J+(at.e=ae+oe*f-1)+1,ee,me)}else at.e=oe,at.r=+me;return at}}(),K=/^(-?)0([xbo])(?=\w[\w.]*$)/i,X=/^([^.]+)\.$/,Y=/^\.([^.]+)$/,W=/^-?(Infinity|NaN)$/,j=/^\s*\+(?=[\w.])|^\s+|\s+$/g,N=function(k,L,F,Z){var z,J=F?L:L.replace(j,"");if(W.test(J))k.s=isNaN(J)?null:J<0?-1:1,k.c=k.e=null;else{if(!F&&(J=J.replace(K,function(ee,Q,ne){return z=(ne=ne.toLowerCase())=="x"?16:ne=="b"?2:8,Z&&Z!=z?ee:Q}),Z&&(z=Z,J=J.replace(X,"$1").replace(Y,"0.$1")),L!=J))return new re(J,z);if(re.DEBUG)throw Error(c+"Not a"+(Z?" base "+Z:"")+" number: "+L);k.c=k.e=k.s=null}},b.absoluteValue=b.abs=function(){var k=new re(this);return k.s<0&&(k.s=1),k},b.comparedTo=function(k,L){return C(this,new re(k,L))},b.decimalPlaces=b.dp=function(k,L){var F,Z,z;if(k!=null)return S(k,0,p),L==null?L=H:S(L,0,8),le(new re(this),k+this.e+1,L);if(!(F=this.c))return null;if(Z=((z=F.length-1)-m(this.e/f))*f,z=F[z])for(;z%10==0;z/=10,Z--);return Z<0&&(Z=0),Z},b.dividedBy=b.div=function(k,L){return P(this,new re(k,L),E,H)},b.dividedToIntegerBy=b.idiv=function(k,L){return P(this,new re(k,L),0,1)},b.exponentiatedBy=b.pow=function(k,L){var F,Z,z,J,ee,Q,ne,oe,ae=this;if((k=new re(k)).c&&!k.isInteger())throw Error(c+"Exponent not an integer: "+se(k));if(L!=null&&(L=new re(L)),ee=14<k.e,!ae.c||!ae.c[0]||ae.c[0]==1&&!ae.e&&ae.c.length==1||!k.c||!k.c[0])return oe=new re(Math.pow(+se(ae),ee?2-x(k):+se(k))),L?oe.mod(L):oe;if(Q=k.s<0,L){if(L.c?!L.c[0]:!L.s)return new re(NaN);(Z=!Q&&ae.isInteger()&&L.isInteger())&&(ae=ae.mod(L))}else{if(9<k.e&&(0<ae.e||ae.e<-1||(ae.e==0?1<ae.c[0]||ee&&24e7<=ae.c[1]:ae.c[0]<8e13||ee&&ae.c[0]<=9999975e7)))return J=ae.s<0&&x(k)?-0:0,-1<ae.e&&(J=1/J),new re(Q?1/J:J);ue&&(J=l(ue/f+2))}for(ne=ee?(F=new re(.5),Q&&(k.s=1),x(k)):(z=Math.abs(+se(k)))%2,oe=new re(R);;){if(ne){if(!(oe=oe.times(ae)).c)break;J?oe.c.length>J&&(oe.c.length=J):Z&&(oe=oe.mod(L))}if(z){if((z=u(z/2))===0)break;ne=z%2}else if(le(k=k.times(F),k.e+1,1),14<k.e)ne=x(k);else{if((z=+se(k))==0)break;ne=z%2}ae=ae.times(ae),J?ae.c&&ae.c.length>J&&(ae.c.length=J):Z&&(ae=ae.mod(L))}return Z?oe:(Q&&(oe=R.div(oe)),L?oe.mod(L):J?le(oe,ue,H,void 0):oe)},b.integerValue=function(k){var L=new re(this);return k==null?k=H:S(k,0,8),le(L,L.e+1,k)},b.isEqualTo=b.eq=function(k,L){return C(this,new re(k,L))===0},b.isFinite=function(){return!!this.c},b.isGreaterThan=b.gt=function(k,L){return 0<C(this,new re(k,L))},b.isGreaterThanOrEqualTo=b.gte=function(k,L){return(L=C(this,new re(k,L)))===1||L===0},b.isInteger=function(){return!!this.c&&m(this.e/f)>this.c.length-2},b.isLessThan=b.lt=function(k,L){return C(this,new re(k,L))<0},b.isLessThanOrEqualTo=b.lte=function(k,L){return(L=C(this,new re(k,L)))===-1||L===0},b.isNaN=function(){return!this.s},b.isNegative=function(){return this.s<0},b.isPositive=function(){return 0<this.s},b.isZero=function(){return!!this.c&&this.c[0]==0},b.minus=function(k,L){var F,Z,z,J,ee=this,Q=ee.s;if(L=(k=new re(k,L)).s,!Q||!L)return new re(NaN);if(Q!=L)return k.s=-L,ee.plus(k);var ne=ee.e/f,oe=k.e/f,ae=ee.c,me=k.c;if(!ne||!oe){if(!ae||!me)return ae?(k.s=-L,k):new re(me?ee:NaN);if(!ae[0]||!me[0])return me[0]?(k.s=-L,k):new re(ae[0]?ee:H==3?-0:0)}if(ne=m(ne),oe=m(oe),ae=ae.slice(),Q=ne-oe){for((z=(J=Q<0)?(Q=-Q,ae):(oe=ne,me)).reverse(),L=Q;L--;z.push(0));z.reverse()}else for(Z=(J=(Q=ae.length)<(L=me.length))?Q:L,Q=L=0;L<Z;L++)if(ae[L]!=me[L]){J=ae[L]<me[L];break}if(J&&(z=ae,ae=me,me=z,k.s=-k.s),0<(L=(Z=me.length)-(F=ae.length)))for(;L--;ae[F++]=0);for(L=d-1;Q<Z;){if(ae[--Z]<me[Z]){for(F=Z;F&&!ae[--F];ae[F]=L);--ae[F],ae[Z]+=d}ae[Z]-=me[Z]}for(;ae[0]==0;ae.splice(0,1),--oe);return ae[0]?Fe(k,ae,oe):(k.s=H==3?-1:1,k.c=[k.e=0],k)},b.modulo=b.mod=function(k,L){var F,Z,z=this;return k=new re(k,L),!z.c||!k.s||k.c&&!k.c[0]?new re(NaN):!k.c||z.c&&!z.c[0]?new re(z):(ie==9?(Z=k.s,k.s=1,F=P(z,k,0,3),k.s=Z,F.s*=Z):F=P(z,k,0,ie),(k=z.minus(F.times(k))).c[0]||ie!=1||(k.s=z.s),k)},b.multipliedBy=b.times=function(k,L){var F,Z,z,J,ee,Q,ne,oe,ae,me,_e,He,Ge,at,Je,Ve=this,ut=Ve.c,Qt=(k=new re(k,L)).c;if(!(ut&&Qt&&ut[0]&&Qt[0]))return!Ve.s||!k.s||ut&&!ut[0]&&!Qt||Qt&&!Qt[0]&&!ut?k.c=k.e=k.s=null:(k.s*=Ve.s,ut&&Qt?(k.c=[0],k.e=0):k.c=k.e=null),k;for(Z=m(Ve.e/f)+m(k.e/f),k.s*=Ve.s,(ne=ut.length)<(me=Qt.length)&&(Ge=ut,ut=Qt,Qt=Ge,z=ne,ne=me,me=z),z=ne+me,Ge=[];z--;Ge.push(0));for(at=d,Je=y,z=me;0<=--z;){for(F=0,_e=Qt[z]%Je,He=Qt[z]/Je|0,J=z+(ee=ne);z<J;)F=((oe=_e*(oe=ut[--ee]%Je)+(Q=He*oe+(ae=ut[ee]/Je|0)*_e)%Je*Je+Ge[J]+F)/at|0)+(Q/Je|0)+He*ae,Ge[J--]=oe%at;Ge[J]=F}return F?++Z:Ge.splice(0,1),Fe(k,Ge,Z)},b.negated=function(){var k=new re(this);return k.s=-k.s||null,k},b.plus=function(k,L){var F,Z=this,z=Z.s;if(L=(k=new re(k,L)).s,!z||!L)return new re(NaN);if(z!=L)return k.s=-L,Z.minus(k);var J=Z.e/f,ee=k.e/f,Q=Z.c,ne=k.c;if(!J||!ee){if(!Q||!ne)return new re(z/0);if(!Q[0]||!ne[0])return ne[0]?k:new re(Q[0]?Z:0*z)}if(J=m(J),ee=m(ee),Q=Q.slice(),z=J-ee){for((F=0<z?(ee=J,ne):(z=-z,Q)).reverse();z--;F.push(0));F.reverse()}for((z=Q.length)-(L=ne.length)<0&&(F=ne,ne=Q,Q=F,L=z),z=0;L;)z=(Q[--L]=Q[L]+ne[L]+z)/d|0,Q[L]=d===Q[L]?0:Q[L]%d;return z&&(Q=[z].concat(Q),++ee),Fe(k,Q,ee)},b.precision=b.sd=function(k,L){var F,Z,z;if(k!=null&&k!==!!k)return S(k,1,p),L==null?L=H:S(L,0,8),le(new re(this),k,L);if(!(F=this.c))return null;if(Z=(z=F.length-1)*f+1,z=F[z]){for(;z%10==0;z/=10,Z--);for(z=F[0];10<=z;z/=10,Z++);}return k&&this.e+1>Z&&(Z=this.e+1),Z},b.shiftedBy=function(k){return S(k,-g,g),this.times("1e"+k)},b.squareRoot=b.sqrt=function(){var k,L,F,Z,z,J=this,ee=J.c,Q=J.s,ne=J.e,oe=E+4,ae=new re("0.5");if(Q!==1||!ee||!ee[0])return new re(!Q||Q<0&&(!ee||ee[0])?NaN:ee?J:1/0);if((F=(Q=Math.sqrt(+se(J)))==0||Q==1/0?(((L=w(ee)).length+ne)%2==0&&(L+="0"),Q=Math.sqrt(+L),ne=m((ne+1)/2)-(ne<0||ne%2),new re(L=Q==1/0?"1e"+ne:(L=Q.toExponential()).slice(0,L.indexOf("e")+1)+ne)):new re(Q+"")).c[0]){for((Q=(ne=F.e)+oe)<3&&(Q=0);;)if(z=F,F=ae.times(z.plus(P(J,z,oe,1))),w(z.c).slice(0,Q)===(L=w(F.c)).slice(0,Q)){if(F.e<ne&&--Q,(L=L.slice(Q-3,Q+1))!="9999"&&(Z||L!="4999")){+L&&(+L.slice(1)||L.charAt(0)!="5")||(le(F,F.e+E+2,1),k=!F.times(F).eq(J));break}if(!Z&&(le(z,z.e+E+2,0),z.times(z).eq(J))){F=z;break}oe+=4,Q+=4,Z=1}}return le(F,F.e+E+1,H,k)},b.toExponential=function(k,L){return k!=null&&(S(k,0,p),k++),Oe(this,k,L,1)},b.toFixed=function(k,L){return k!=null&&(S(k,0,p),k=k+this.e+1),Oe(this,k,L)},b.toFormat=function(k,L,F){var Z;if(F==null)k!=null&&L&&typeof L=="object"?(F=L,L=null):k&&typeof k=="object"?(F=k,k=L=null):F=ve;else if(typeof F!="object")throw Error(c+"Argument not an object: "+F);if(Z=this.toFixed(k,L),this.c){var z,J=Z.split("."),ee=+F.groupSize,Q=+F.secondaryGroupSize,ne=F.groupSeparator||"",oe=J[0],ae=J[1],me=this.s<0,_e=me?oe.slice(1):oe,He=_e.length;if(Q&&(z=ee,ee=Q,He-=Q=z),0<ee&&0<He){for(z=He%ee||ee,oe=_e.substr(0,z);z<He;z+=ee)oe+=ne+_e.substr(z,ee);0<Q&&(oe+=ne+_e.slice(z)),me&&(oe="-"+oe)}Z=ae?oe+(F.decimalSeparator||"")+((Q=+F.fractionGroupSize)?ae.replace(new RegExp("\\d{"+Q+"}\\B","g"),"$&"+(F.fractionGroupSeparator||"")):ae):oe}return(F.prefix||"")+Z+(F.suffix||"")},b.toFraction=function(k){var L,F,Z,z,J,ee,Q,ne,oe,ae,me,_e,He=this,Ge=He.c;if(k!=null&&(!(Q=new re(k)).isInteger()&&(Q.c||Q.s!==1)||Q.lt(R)))throw Error(c+"Argument "+(Q.isInteger()?"out of range: ":"not an integer: ")+se(Q));if(!Ge)return new re(He);for(L=new re(R),oe=F=new re(R),Z=ne=new re(R),_e=w(Ge),J=L.e=_e.length-He.e-1,L.c[0]=v[(ee=J%f)<0?f+ee:ee],k=!k||0<Q.comparedTo(L)?0<J?L:oe:Q,ee=U,U=1/0,Q=new re(_e),ne.c[0]=0;ae=P(Q,L,0,1),(z=F.plus(ae.times(Z))).comparedTo(k)!=1;)F=Z,Z=z,oe=ne.plus(ae.times(z=oe)),ne=z,L=Q.minus(ae.times(z=L)),Q=z;return z=P(k.minus(F),Z,0,1),ne=ne.plus(z.times(oe)),F=F.plus(z.times(Z)),ne.s=oe.s=He.s,me=P(oe,Z,J*=2,H).minus(He).abs().comparedTo(P(ne,F,J,H).minus(He).abs())<1?[oe,Z]:[ne,F],U=ee,me},b.toNumber=function(){return+se(this)},b.toPrecision=function(k,L){return k!=null&&S(k,1,p),Oe(this,k,L,2)},b.toString=function(k){var L,F=this,Z=F.s,z=F.e;return z===null?Z?(L="Infinity",Z<0&&(L="-"+L)):L="NaN":(L=k==null?z<=D||A<=z?_(w(F.c),z):O(w(F.c),z,"0"):k===10?O(w((F=le(new re(F),E+z+1,H)).c),F.e,"0"):(S(k,2,Ce.length,"Base"),M(O(w(F.c),z,"0"),10,k,Z,!0)),Z<0&&F.c[0]&&(L="-"+L)),L},b.valueOf=b.toJSON=function(){return se(this)},b._isBigNumber=!0,typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(b[Symbol.toStringTag]="BigNumber",b[Symbol.for("nodejs.util.inspect.custom")]=b.valueOf),T!=null&&re.set(T),re}()).default=s.BigNumber=s,r!==void 0&&r.exports?r.exports=s:(o||(o=typeof self<"u"&&self?self:window),o.BigNumber=s)})(this)},{}],2:[function(n,r,i){r.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(o){var s=o%10;return~~(o%100/10)==1?"th":s===1?"st":s===2?"nd":s===3?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(n,r,i){function o(m,w){return function(C){if(Array.isArray(C))return C}(m)||function(C,S){var x=[],_=!0,O=!1,I=void 0;try{for(var T,P=C[Symbol.iterator]();!(_=(T=P.next()).done)&&(x.push(T.value),!S||x.length!==S);_=!0);}catch(M){O=!0,I=M}finally{try{_||P.return==null||P.return()}finally{if(O)throw I}}return x}(m,w)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=n("./globalState"),a=n("./validating"),l=n("./parsing"),u=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],c={general:{scale:1024,suffixes:u,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:u,marker:"d"}},h={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function d(m){var w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},C=2<arguments.length?arguments[2]:void 0;if(typeof w=="string"&&(w=l.parseFormat(w)),!a.validateFormat(w))return"ERROR: invalid format";var S=w.prefix||"",x=w.postfix||"",_=function(O,I,T){switch(I.output){case"currency":return I=p(I,s.currentCurrencyDefaultFormat()),function(Ce,re,Oe){var $e=Oe.currentCurrency(),Fe=Object.assign({},h,re),le=void 0,se="",k=!!Fe.totalLength||!!Fe.forceAverage||Fe.average,L=re.currencyPosition||$e.position,F=re.currencySymbol||$e.symbol;Fe.spaceSeparated&&(se=" "),L==="infix"&&(le=se+F+se);var Z=y({instance:Ce,providedFormat:re,state:Oe,decimalSeparator:le});return L==="prefix"&&(Z=Ce._value<0&&Fe.negative==="sign"?"-".concat(se).concat(F).concat(Z.slice(1)):F+se+Z),L&&L!=="postfix"||(Z=Z+(se=k?"":se)+F),Z}(O,I,s);case"percent":return I=p(I,s.currentPercentageDefaultFormat()),function(Ce,re,Oe,$e){var Fe=re.prefixSymbol,le=y({instance:$e(100*Ce._value),providedFormat:re,state:Oe}),se=Object.assign({},h,re);return Fe?"%".concat(se.spaceSeparated?" ":"").concat(le):"".concat(le).concat(se.spaceSeparated?" ":"","%")}(O,I,s,T);case"byte":return I=p(I,s.currentByteDefaultFormat()),R=O,H=s,D=T,A=(E=I).base||"binary",B=c[A],U=f(R._value,B.suffixes,B.scale),q=U.value,ie=U.suffix,ue=y({instance:D(q),providedFormat:E,state:H,defaults:H.currentByteDefaultFormat()}),ve=H.currentAbbreviations(),"".concat(ue).concat(ve.spaced?" ":"").concat(ie);case"time":return I=p(I,s.currentTimeDefaultFormat()),Y=O,W=Math.floor(Y._value/60/60),j=Math.floor((Y._value-60*W*60)/60),b=Math.round(Y._value-60*W*60-60*j),"".concat(W,":").concat(j<10?"0":"").concat(j,":").concat(b<10?"0":"").concat(b);case"ordinal":return I=p(I,s.currentOrdinalDefaultFormat()),P=O,M=I,$=(N=s).currentOrdinal(),V=Object.assign({},h,M),K=y({instance:P,providedFormat:M,state:N}),X=$(P._value),"".concat(K).concat(V.spaceSeparated?" ":"").concat(X);case"number":default:return y({instance:O,providedFormat:I})}var P,M,N,$,V,K,X,Y,W,j,b,R,E,H,D,A,B,U,q,ie,ue,ve}(m,w,C);return _=(_=S+_)+x}function f(m,w,C){var S=w[0],x=Math.abs(m);if(C<=x){for(var _=1;_<w.length;++_){var O=Math.pow(C,_),I=Math.pow(C,_+1);if(O<=x&&x<I){S=w[_],m/=O;break}}S===w[0]&&(m/=Math.pow(C,w.length-1),S=w[w.length-1])}return{value:m,suffix:S}}function g(m){for(var w="",C=0;C<m;C++)w+="0";return w}function v(m,w){return m.toString().indexOf("e")!==-1?function(C,S){var x=C.toString(),_=o(x.split("e"),2),O=_[0],I=_[1],T=o(O.split("."),2),P=T[0],M=T[1],N=M===void 0?"":M;if(0<+I)x=P+N+g(I-N.length);else{var $=".";$=+P<0?"-0".concat($):"0".concat($);var V=(g(-I-1)+Math.abs(P)+N).substr(0,S);V.length<S&&(V+=g(S-V.length)),x=$+V}return 0<+I&&0<S&&(x+=".".concat(g(S))),x}(m,w):(Math.round(+"".concat(m,"e+").concat(w))/Math.pow(10,w)).toFixed(w)}function y(m){var w=m.instance,C=m.providedFormat,S=m.state,x=S===void 0?s:S,_=m.decimalSeparator,O=m.defaults,I=O===void 0?x.currentDefaults():O,T=w._value;if(T===0&&x.hasZeroFormat())return x.getZeroFormat();if(!isFinite(T))return T.toString();var P,M,N,$,V,K,X,Y,W=Object.assign({},h,I,C),j=W.totalLength,b=j?0:W.characteristic,R=W.optionalCharacteristic,E=W.forceAverage,H=!!j||!!E||W.average,D=j?-1:H&&C.mantissa===void 0?0:W.mantissa,A=!j&&(C.optionalMantissa===void 0?D===-1:W.optionalMantissa),B=W.trimMantissa,U=W.thousandSeparated,q=W.spaceSeparated,ie=W.negative,ue=W.forceSign,ve=W.exponential,Ce="";if(H){var re=function(k){var L=k.value,F=k.forceAverage,Z=k.abbreviations,z=k.spaceSeparated,J=z!==void 0&&z,ee=k.totalLength,Q=ee===void 0?0:ee,ne="",oe=Math.abs(L),ae=-1;if(oe>=Math.pow(10,12)&&!F||F==="trillion"?(ne=Z.trillion,L/=Math.pow(10,12)):oe<Math.pow(10,12)&&oe>=Math.pow(10,9)&&!F||F==="billion"?(ne=Z.billion,L/=Math.pow(10,9)):oe<Math.pow(10,9)&&oe>=Math.pow(10,6)&&!F||F==="million"?(ne=Z.million,L/=Math.pow(10,6)):(oe<Math.pow(10,6)&&oe>=Math.pow(10,3)&&!F||F==="thousand")&&(ne=Z.thousand,L/=Math.pow(10,3)),ne&&(ne=(J?" ":"")+ne),Q){var me=L.toString().split(".")[0];ae=Math.max(Q-me.length,0)}return{value:L,abbreviation:ne,mantissaPrecision:ae}}({value:T,forceAverage:E,abbreviations:x.currentAbbreviations(),spaceSeparated:q,totalLength:j});T=re.value,Ce+=re.abbreviation,j&&(D=re.mantissaPrecision)}if(ve){var Oe=(M=(P={value:T,characteristicPrecision:b}).value,N=P.characteristicPrecision,$=N===void 0?0:N,V=o(M.toExponential().split("e"),2),K=V[0],X=V[1],Y=+K,$&&1<$&&(Y*=Math.pow(10,$-1),X=0<=(X=+X-($-1))?"+".concat(X):X),{value:Y,abbreviation:"e".concat(X)});T=Oe.value,Ce=Oe.abbreviation+Ce}var $e,Fe,le,se=function(k,L,F,Z,z){if(Z===-1)return k;var J=v(L,Z),ee=o(J.toString().split("."),2),Q=ee[0],ne=ee[1],oe=ne===void 0?"":ne;if(oe.match(/^0+$/)&&(F||z))return Q;var ae=oe.match(/0+$/);return z&&ae?"".concat(Q,".").concat(oe.toString().slice(0,ae.index)):J.toString()}(T.toString(),T,A,D,B);return se=function(k,L,F,Z,z){var J=Z.currentDelimiters(),ee=J.thousands;z=z||J.decimal;var Q=J.thousandsSize||3,ne=k.toString(),oe=ne.split(".")[0],ae=ne.split(".")[1];return F&&(L<0&&(oe=oe.slice(1)),function(me,_e){for(var He=[],Ge=0,at=me;0<at;at--)Ge===_e&&(He.unshift(at),Ge=0),Ge++;return He}(oe.length,Q).forEach(function(me,_e){oe=oe.slice(0,me+_e)+ee+oe.slice(me+_e)}),L<0&&(oe="-".concat(oe))),ne=ae?oe+z+ae:oe}(se=function(k,L,F,Z){var z=k,J=o(z.toString().split("."),2),ee=J[0],Q=J[1];if(ee.match(/^-?0$/)&&F)return Q?"".concat(ee.replace("0",""),".").concat(Q):ee.replace("0","");if(ee.length<Z)for(var ne=Z-ee.length,oe=0;oe<ne;oe++)z="0".concat(z);return z.toString()}(se,0,R,b),T,U,x,_),(H||ve)&&(se=se+Ce),(ue||T<0)&&($e=se,le=ie,se=(Fe=T)===0?$e:+$e==0?$e.replace("-",""):0<Fe?"+".concat($e):le==="sign"?$e:"(".concat($e.replace("-",""),")")),se}function p(m,w){if(!m)return w;var C=Object.keys(m);return C.length===1&&C[0]==="output"?w:m}r.exports=function(m){return{format:function(){for(var w=arguments.length,C=new Array(w),S=0;S<w;S++)C[S]=arguments[S];return d.apply(void 0,C.concat([m]))},getByteUnit:function(){for(var w=arguments.length,C=new Array(w),S=0;S<w;S++)C[S]=arguments[S];return(function(x){var _=c.general;return f(x._value,_.suffixes,_.scale).suffix}).apply(void 0,C.concat([m]))},getBinaryByteUnit:function(){for(var w=arguments.length,C=new Array(w),S=0;S<w;S++)C[S]=arguments[S];return(function(x){var _=c.binary;return f(x._value,_.suffixes,_.scale).suffix}).apply(void 0,C.concat([m]))},getDecimalByteUnit:function(){for(var w=arguments.length,C=new Array(w),S=0;S<w;S++)C[S]=arguments[S];return(function(x){var _=c.decimal;return f(x._value,_.suffixes,_.scale).suffix}).apply(void 0,C.concat([m]))},formatOrDefault:p}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(n,r,i){var o=n("./en-US"),s=n("./validating"),a=n("./parsing"),l={},u=void 0,c={},h=null,d={};function f(v){u=v}function g(){return c[u]}l.languages=function(){return Object.assign({},c)},l.currentLanguage=function(){return u},l.currentCurrency=function(){return g().currency},l.currentAbbreviations=function(){return g().abbreviations},l.currentDelimiters=function(){return g().delimiters},l.currentOrdinal=function(){return g().ordinal},l.currentDefaults=function(){return Object.assign({},g().defaults,d)},l.currentOrdinalDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().ordinalFormat)},l.currentByteDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().byteFormat)},l.currentPercentageDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().percentageFormat)},l.currentCurrencyDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().currencyFormat)},l.currentTimeDefaultFormat=function(){return Object.assign({},l.currentDefaults(),g().timeFormat)},l.setDefaults=function(v){v=a.parseFormat(v),s.validateFormat(v)&&(d=v)},l.getZeroFormat=function(){return h},l.setZeroFormat=function(v){return h=typeof v=="string"?v:null},l.hasZeroFormat=function(){return h!==null},l.languageData=function(v){if(v){if(c[v])return c[v];throw new Error('Unknown tag "'.concat(v,'"'))}return g()},l.registerLanguage=function(v){var y=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(!s.validateLanguage(v))throw new Error("Invalid language data");c[v.languageTag]=v,y&&f(v.languageTag)},l.setLanguage=function(v){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o.languageTag;if(!c[v]){var p=v.split("-")[0],m=Object.keys(c).find(function(w){return w.split("-")[0]===p});return c[m]?void f(m):void f(y)}f(v)},l.registerLanguage(o),u=o.languageTag,r.exports=l},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(n,r,i){r.exports=function(o){return{loadLanguagesInNode:function(s){return a=o,void s.forEach(function(l){var u=void 0;try{u=n("../languages/".concat(l))}catch{console.error('Unable to load "'.concat(l,'". No matching language file found.'))}u&&a.registerLanguage(u)});var a}}}},{}],6:[function(n,r,i){var o=n("bignumber.js");function s(a,l,u){var c=new o(a._value),h=l;return u.isNumbro(l)&&(h=l._value),h=new o(h),a._value=c.minus(h).toNumber(),a}r.exports=function(a){return{add:function(l,u){return h=u,d=a,f=new o((c=l)._value),g=h,d.isNumbro(h)&&(g=h._value),g=new o(g),c._value=f.plus(g).toNumber(),c;var c,h,d,f,g},subtract:function(l,u){return s(l,u,a)},multiply:function(l,u){return h=u,d=a,f=new o((c=l)._value),g=h,d.isNumbro(h)&&(g=h._value),g=new o(g),c._value=f.times(g).toNumber(),c;var c,h,d,f,g},divide:function(l,u){return h=u,d=a,f=new o((c=l)._value),g=h,d.isNumbro(h)&&(g=h._value),g=new o(g),c._value=f.dividedBy(g).toNumber(),c;var c,h,d,f,g},set:function(l,u){return c=l,d=h=u,a.isNumbro(h)&&(d=h._value),c._value=d,c;var c,h,d},difference:function(l,u){return c=u,s(d=(h=a)(l._value),c,h),Math.abs(d._value);var c,h,d}}}},{"bignumber.js":1}],7:[function(n,r,i){function o(y,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}var s=n("./globalState"),a=n("./validating"),l=n("./loading")(v),u=n("./unformatting"),c=n("./formatting")(v),h=n("./manipulating")(v),d=n("./parsing"),f=function(){function y(w){(function(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")})(this,y),this._value=w}var p,m;return p=y,(m=[{key:"clone",value:function(){return v(this._value)}},{key:"format",value:function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return c.format(this,w)}},{key:"formatCurrency",value:function(w){return typeof w=="string"&&(w=d.parseFormat(w)),(w=c.formatOrDefault(w,s.currentCurrencyDefaultFormat())).output="currency",c.format(this,w)}},{key:"formatTime",value:function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return w.output="time",c.format(this,w)}},{key:"binaryByteUnits",value:function(){return c.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return c.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return c.getByteUnit(this)}},{key:"difference",value:function(w){return h.difference(this,w)}},{key:"add",value:function(w){return h.add(this,w)}},{key:"subtract",value:function(w){return h.subtract(this,w)}},{key:"multiply",value:function(w){return h.multiply(this,w)}},{key:"divide",value:function(w){return h.divide(this,w)}},{key:"set",value:function(w){return h.set(this,g(w))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&o(p.prototype,m),y}();function g(y){var p=y;return v.isNumbro(y)?p=y._value:typeof y=="string"?p=v.unformat(y):isNaN(y)&&(p=NaN),p}function v(y){return new f(g(y))}v.version="2.1.2",v.isNumbro=function(y){return y instanceof f},v.language=s.currentLanguage,v.registerLanguage=s.registerLanguage,v.setLanguage=s.setLanguage,v.languages=s.languages,v.languageData=s.languageData,v.zeroFormat=s.setZeroFormat,v.defaultFormat=s.currentDefaults,v.setDefaults=s.setDefaults,v.defaultCurrencyFormat=s.currentCurrencyDefaultFormat,v.validate=a.validate,v.loadLanguagesInNode=l.loadLanguagesInNode,v.unformat=u.unformat,r.exports=v},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(n,r,i){r.exports={parseFormat:function(o){var s,a,l,u,c,h,d,f,g,v,y,p,m,w,C,S,x,_,O,I,T=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return typeof o!="string"?o:(a=T,o=(l=(s=o).match(/^{([^}]*)}/))?(a.prefix=l[1],s.slice(l[0].length)):s,c=T,function(P,M){if(P.indexOf("$")===-1){if(P.indexOf("%")===-1)return P.indexOf("bd")!==-1?(M.output="byte",M.base="general"):P.indexOf("b")!==-1?(M.output="byte",M.base="binary"):P.indexOf("d")!==-1?(M.output="byte",M.base="decimal"):P.indexOf(":")===-1?P.indexOf("o")!==-1&&(M.output="ordinal"):M.output="time";M.output="percent"}else M.output="currency"}(o=(h=(u=o).match(/{([^}]*)}$/))?(c.postfix=h[1],u.slice(0,-h[0].length)):u,T),d=T,(f=o.match(/[1-9]+[0-9]*/))&&(d.totalLength=+f[0]),g=T,(v=o.split(".")[0].match(/0+/))&&(g.characteristic=v[0].length),function(P,M){if(P.indexOf(".")!==-1){var N=P.split(".")[0];M.optionalCharacteristic=N.indexOf("0")===-1}}(o,T),y=T,o.indexOf("a")!==-1&&(y.average=!0),m=T,(p=o).indexOf("K")!==-1?m.forceAverage="thousand":p.indexOf("M")!==-1?m.forceAverage="million":p.indexOf("B")!==-1?m.forceAverage="billion":p.indexOf("T")!==-1&&(m.forceAverage="trillion"),function(P,M){var N=P.split(".")[1];if(N){var $=N.match(/0+/);$&&(M.mantissa=$[0].length)}}(o,T),C=T,(w=o).match(/\[\.]/)?C.optionalMantissa=!0:w.match(/\./)&&(C.optionalMantissa=!1),S=T,o.indexOf(",")!==-1&&(S.thousandSeparated=!0),x=T,o.indexOf(" ")!==-1&&(x.spaceSeparated=!0),O=T,(_=o).match(/^\+?\([^)]*\)$/)&&(O.negative="parenthesis"),_.match(/^\+?-/)&&(O.negative="sign"),I=T,o.match(/^\+/)&&(I.forceSign=!0),T)}}},{}],9:[function(n,r,i){var o=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function s(l){return l.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function a(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",h=3<arguments.length?arguments[3]:void 0,d=4<arguments.length?arguments[4]:void 0,f=5<arguments.length?arguments[5]:void 0,g=6<arguments.length?arguments[6]:void 0;if(l!=="")return l===d?0:function v(y,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",w=3<arguments.length?arguments[3]:void 0,C=4<arguments.length?arguments[4]:void 0,S=5<arguments.length?arguments[5]:void 0,x=6<arguments.length?arguments[6]:void 0;if(!isNaN(+y))return+y;var _="",O=y.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(O!==y)return-1*v(O,p,m,w,C,S,x);for(var I=0;I<o.length;I++){var T=o[I];if((_=y.replace(T.key,""))!==y)return v(_,p,m,w,C,S,x)*T.factor}if((_=y.replace("%",""))!==y)return v(_,p,m,w,C,S,x)/100;var P=parseFloat(y);if(!isNaN(P)){var M=w(P);if(M&&M!=="."&&(_=y.replace(new RegExp("".concat(s(M),"$")),""))!==y)return v(_,p,m,w,C,S,x);var N={};Object.keys(S).forEach(function(j){N[S[j]]=j});for(var $=Object.keys(N).sort().reverse(),V=$.length,K=0;K<V;K++){var X=$[K],Y=N[X];if((_=y.replace(X,""))!==y){var W=void 0;switch(Y){case"thousand":W=Math.pow(10,3);break;case"million":W=Math.pow(10,6);break;case"billion":W=Math.pow(10,9);break;case"trillion":W=Math.pow(10,12)}return v(_,p,m,w,C,S,x)*W}}}}(function(v,y){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",m=v.replace(p,"");return m=(m=m.replace(new RegExp("([0-9])".concat(s(y.thousands),"([0-9])"),"g"),"$1$2")).replace(y.decimal,".")}(l,u,c),u,c,h,d,f,g)}r.exports={unformat:function(l,u){var c,h,d,f=n("./globalState"),g=f.currentDelimiters(),v=f.currentCurrency().symbol,y=f.currentOrdinal(),p=f.getZeroFormat(),m=f.currentAbbreviations(),w=void 0;if(typeof l=="string")w=function(C,S){if(!C.indexOf(":")||S.thousands===":")return!1;var x=C.split(":");if(x.length!==3)return!1;var _=+x[0],O=+x[1],I=+x[2];return!isNaN(_)&&!isNaN(O)&&!isNaN(I)}(l,g)?(c=l.split(":"),h=+c[0],d=+c[1],+c[2]+60*d+3600*h):a(l,g,v,y,p,m,u);else{if(typeof l!="number")return;w=l}if(w!==void 0)return w}}},{"./globalState":4}],10:[function(n,r,i){function o(g){return function(v){if(Array.isArray(v)){for(var y=0,p=new Array(v.length);y<v.length;y++)p[y]=v[y];return p}}(g)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(g){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(g)}var a=n("./unformatting"),l=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,u={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(g,v){return v.output==="byte"},message:"`base` must be provided only when the output is `byte`",mandatory:function(g){return g.output==="byte"}},characteristic:{type:"number",restriction:function(g){return 0<=g},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(g){return 0<=g},message:"value must be positive"},{restriction:function(g,v){return!v.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(g){return 0<=g},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(g,v){return v.output==="percent"},message:"`prefixSymbol` can be provided only when the output is `percent`"}},c={languageTag:{type:"string",mandatory:!0,restriction:function(g){return g.match(l)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function h(g){return!!a.unformat(g)}function d(g,v,y){var p=3<arguments.length&&arguments[3]!==void 0&&arguments[3],m=Object.keys(g).map(function(w){if(!v[w])return console.error("".concat(y," Invalid key: ").concat(w)),!1;var C=g[w],S=v[w];if(typeof S=="string"&&(S={type:S}),S.type==="format"){if(!d(C,u,"[Validate ".concat(w,"]"),!0))return!1}else if(s(C)!==S.type)return console.error("".concat(y," ").concat(w,' type mismatched: "').concat(S.type,'" expected, "').concat(s(C),'" provided')),!1;if(S.restrictions&&S.restrictions.length)for(var x=S.restrictions.length,_=0;_<x;_++){var O=S.restrictions[_],I=O.restriction,T=O.message;if(!I(C,g))return console.error("".concat(y," ").concat(w," invalid value: ").concat(T)),!1}return S.restriction&&!S.restriction(C,g)?(console.error("".concat(y," ").concat(w," invalid value: ").concat(S.message)),!1):S.validValues&&S.validValues.indexOf(C)===-1?(console.error("".concat(y," ").concat(w," invalid value: must be among ").concat(JSON.stringify(S.validValues),', "').concat(C,'" provided')),!1):!(S.children&&!d(C,S.children,"[Validate ".concat(w,"]")))});return p||m.push.apply(m,o(Object.keys(v).map(function(w){var C=v[w];if(typeof C=="string"&&(C={type:C}),C.mandatory){var S=C.mandatory;if(typeof S=="function"&&(S=S(g)),S&&g[w]===void 0)return console.error("".concat(y,' Missing mandatory key "').concat(w,'"')),!1}return!0}))),m.reduce(function(w,C){return w&&C},!0)}function f(g){return d(g,u,"[Validate format]")}r.exports={validate:function(g,v){var y=h(g),p=f(v);return y&&p},validateFormat:f,validateInput:h,validateLanguage:function(g){return d(g,c,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)})})(xU);var BCe=xU.exports;const uu=Wm(BCe),jCe="numeric";function PU(t,e){if(xr(t)){const n=e.numericFormat,r=n&&n.culture||"-",i=n&&n.pattern;if(typeof r<"u"&&!uu.languages()[r]){const o=r.replace("-",""),s=uu.allLanguages?uu.allLanguages[r]:uu[o];s&&uu.registerLanguage(s)}uu.setLanguage(r),t=uu(t).format(i||"0")}return t}function xM(t,e,n,r,i,o,s){let a=o;if(xr(a)){const l=s.className||"",u=l.length?l.split(" "):[];a=PU(a,s),u.indexOf("htLeft")<0&&u.indexOf("htCenter")<0&&u.indexOf("htRight")<0&&u.indexOf("htJustify")<0&&u.push("htRight"),u.indexOf("htNumeric")<0&&u.push("htNumeric"),s.className=u.join(" "),e.dir="ltr"}ka(t,e,n,r,i,a,s)}xM.RENDERER_TYPE=jCe;const VCe="password";function PM(t,e,n,r,i,o,s){ka.apply(this,[t,e,n,r,i,o,s]);const a=s.hashLength||e.innerHTML.length,l=s.hashSymbol||"*";let u="";Ie(a-1,()=>{u+=l}),Wd(e,u)}PM.RENDERER_TYPE=VCe;const WCe="select";function MM(t,e,n,r,i,o,s){ka.apply(this,[t,e,n,r,i,o,s])}MM.RENDERER_TYPE=WCe;const UCe="time";function AM(t,e,n,r,i,o,s){ka.apply(this,[t,e,n,r,i,o,s]),e.dir="ltr"}AM.RENDERER_TYPE=UCe;function zCe(){Ai(Yd),Ai(wp),Ai(_M),Ai(EM),Ai(OM),Ai(RM),Ai(xM),Ai(PM),Ai(MM),Ai(ka),Ai(AM)}const YCe="autocomplete";function wS(t,e){let n=t;if(n==null&&(n=""),this.allowEmpty&&n===""){e(!0);return}this.strict&&this.source?typeof this.source=="function"?this.source(n,OD(n,e)):OD(n,e)(this.source):e(!0)}wS.VALIDATOR_TYPE=YCe;function OD(t,e){const n=t;return function(r){let i=!1;for(let o=0,s=r.length;o<s;o++)if(n===r[o]){i=!0;break}e(i)}}function GCe(t){const e=new Date(t);return isNaN(new Date(`${t}T00:00`).getDate())?e:new Date(e.getTime()+e.getTimezoneOffset()*6e4)}const KCe="date";function IM(t,e){const n=sW(bU,this.instance);let r=t,i=!0;r==null&&(r="");let o=fe(r,this.dateFormat||n.defaultDateFormat,!0).isValid(),s=fe(new Date(r)).isValid()||o;if(this.allowEmpty&&r===""&&(s=!0,o=!0),s||(i=!1),!s&&o&&(i=!0),s&&!o)if(this.correctFormat===!0){const a=qCe(r,this.dateFormat);this.instance.setDataAtCell(this.visualRow,this.visualCol,a,"dateValidator"),i=!0}else i=!1;e(i)}IM.VALIDATOR_TYPE=KCe;function qCe(t,e){const n=fe(GCe(t)),r=fe(t,e),i=t.search(/[A-z]/g)>-1;let o;return n.isValid()&&n.format("x")===r.format("x")||!r.isValid()||i?o=n:o=r,o.format(e)}const XCe="dropdown";function NM(t,e){wS.apply(this,[t,e])}NM.VALIDATOR_TYPE=XCe;const ZCe="numeric";function kM(t,e){let n=t;n==null&&(n=""),this.allowEmpty&&n===""?e(!0):e(n===""?!1:xr(t))}kM.VALIDATOR_TYPE=ZCe;const QCe=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"],JCe="time";function HM(t,e){const n=this.timeFormat||"h:mm:ss a";let r=!0,i=t;i===null&&(i=""),i=/^\d{3,}$/.test(i)?parseInt(i,10):i;const o=/^\d{1,2}$/.test(i);o&&(i+=":00");const s=fe(i,QCe,!0).isValid()?fe(i):fe(i,n);let a=s.isValid(),l=fe(i,n,!0).isValid()&&!o;if(this.allowEmpty&&i===""&&(a=!0,l=!0),a||(r=!1),!a&&l&&(r=!0),a&&!l)if(this.correctFormat===!0){const u=s.format(n);this.instance.setDataAtCell(this.visualRow,this.visualCol,u,"timeValidator"),r=!0}else r=!1;e(r)}HM.VALIDATOR_TYPE=JCe;function ebe(){bh(wS),bh(NM),bh(IM),bh(kM),bh(HM)}const tbe="autocomplete",nbe={CELL_TYPE:tbe,editor:CM,renderer:Yd,validator:wS},rbe="checkbox",ibe={CELL_TYPE:rbe,editor:CU,renderer:_M},obe="date";function MU(t,e,n,r,i,o,s){Yd.apply(this,[t,e,n,r,i,o,s])}MU.RENDERER_TYPE=obe;const sbe="date",abe={CELL_TYPE:sbe,editor:SU,renderer:MU,validator:IM},lbe="dropdown",ube={CELL_TYPE:lbe,editor:SM,renderer:EM,validator:NM},cbe="handsontable",hbe={CELL_TYPE:cbe,editor:wM,renderer:OM},dbe="numeric",fbe={CELL_TYPE:dbe,editor:RU,renderer:xM,validator:kM,dataType:"number"},gbe="password",mbe={CELL_TYPE:gbe,editor:EU,renderer:PM,copyable:!1},pbe="select",vbe={CELL_TYPE:pbe,editor:_U,renderer:MM},ybe="time",wbe={CELL_TYPE:ybe,editor:TU,renderer:AM,validator:HM};function Cbe(){ho(nbe),ho(ibe),ho(abe),ho(ube),ho(hbe),ho(fbe),ho(mbe),ho(vbe),ho(cU),ho(wbe)}function bbe(t,e){AU(t,e),e.add(t)}function Sbe(t,e,n){AU(t,e),e.set(t,n)}function AU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qc(t,e,n){return(e=Rbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rbe(t){var e=Ebe(t,"string");return typeof e=="symbol"?e:e+""}function Ebe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xc(t,e){return t.get(IU(t,e))}function IU(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const xD=new Map([["plugin",ofe],["cell-type",tU],["editor",oW],["renderer",fW],["validator",gW]]),_be="base",VR=[];let Qo=null;var cu=new WeakMap,PD=new WeakSet;class wt{static get PLUGIN_KEY(){return _be}static get SETTING_KEYS(){return[this.PLUGIN_KEY]}constructor(e){bbe(this,PD),qc(this,"eventManager",new No(this)),qc(this,"pluginName",null),qc(this,"pluginsInitializedCallbacks",[]),qc(this,"isPluginsReady",!1),qc(this,"enabled",!1),qc(this,"initialized",!1),Sbe(this,cu,{}),Ia(this,"hot",e,{writable:!1}),Qo=null,this.hot.addHook("afterPluginsInitialized",()=>this.onAfterPluginsInitialized()),this.hot.addHook("afterUpdateSettings",n=>this.onUpdateSettings(n)),this.hot.addHook("beforeInit",()=>this.init())}init(){this.pluginName=this.hot.getPluginName(this);const e=this.constructor.PLUGIN_DEPS,n=Array.isArray(e)?e:[];if(n.length>0){const i=[];if(n.forEach(o=>{const[s,a]=o.split(":");if(!xD.has(s))throw new Error(`Unknown plugin dependency type "${s}" was found.`);xD.get(s)(a)||i.push(` - ${a} (${s})`)}),i.length>0){const o=[`The ${this.pluginName} plugin requires the following modules:
`,`${i.join(`
`)}
`].join("");VR.push(o)}}if(Qo||(Qo=dW()),Qo.indexOf("UndoRedo")>=0&&Qo.splice(Qo.indexOf("UndoRedo"),1),Qo.indexOf(this.pluginName)>=0&&Qo.splice(Qo.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",()=>{this.isEnabled&&this.isEnabled()&&this.enablePlugin()}),Qo.length===0){if(VR.length>0){const i=[`${VR.join(`
`)}
`,"You have to import and register them manually."].join("");throw new Error(i)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}enablePlugin(){this.enabled=!0}disablePlugin(){var e;(e=this.eventManager)===null||e===void 0||e.clear(),this.clearHooks(),this.enabled=!1}addHook(e,n,r){Xc(cu,this)[e]=Xc(cu,this)[e]||[];const i=Xc(cu,this)[e];this.hot.addHook(e,n,r),i.push(n),Xc(cu,this)[e]=i}removeHooks(e){G(Xc(cu,this)[e]||[],n=>{this.hot.removeHook(e,n)})}clearHooks(){const e=Xc(cu,this);Qe(e,(n,r)=>this.removeHooks(r)),e.length=0}callOnPluginsReady(e){this.isPluginsReady?e():this.pluginsInitializedCallbacks.push(e)}onAfterPluginsInitialized(){G(this.pluginsInitializedCallbacks,e=>e()),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}onUpdateSettings(e){const n=IU(PD,this,Tbe).call(this,e);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&n&&this.updatePlugin(e))}updatePlugin(){}destroy(){var e;(e=this.eventManager)===null||e===void 0||e.destroy(),this.clearHooks(),Qe(this,(n,r)=>{r!=="hot"&&(this[r]=null)}),delete this.t,delete this.hot}}function Tbe(t){if(!t)return!1;const e=this.constructor.SETTING_KEYS;if(typeof e=="boolean")return e;for(let n=0;n<e.length;n++)if(t[e[n]]!==void 0)return!0;return!1}function hu(t,e,n){return(e=Obe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Obe(t){var e=xbe(t,"string");return typeof e=="symbol"?e:e+""}function xbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let NU=class{constructor(e){hu(this,"hot",null),hu(this,"container",null),hu(this,"injected",!1),hu(this,"rows",[]),hu(this,"columns",[]),hu(this,"samples",null),hu(this,"settings",{useHeaders:!0}),this.hot=e}addRow(e,n){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));const r={row:e};this.rows.push(r),this.samples=n,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol(e)),this.table.tr.appendChild(this.createRow(e)),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}addColumnHeadersRow(e){const n=this.hot.getColHeader(0);if(n!=null){const r={row:-1};this.rows.push(r),this.container=this.createContainer(this.hot.rootElement.className),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}}addColumn(e,n){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));const r={col:e};this.columns.push(r),this.samples=n,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&this.hot.getColHeader(e)!==null&&this.hot.view.appendColHeader(e,this.table.th),this.table.tBody.appendChild(this.createCol(e)),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}getHeights(e){this.injected||this.injectTable(),G(this.rows,n=>{const{height:r}=n.table.getBoundingClientRect();e(n.row,Math.ceil(r)-1)})}getWidths(e){this.injected||this.injectTable(),G(this.columns,n=>{const{width:r}=n.table.getBoundingClientRect();e(n.col,Math.ceil(r))})}setSettings(e){this.settings=e}setSetting(e,n){this.settings||(this.settings={}),this.settings[e]=n}getSettings(){return this.settings}getSetting(e){return this.settings?this.settings[e]:null}createColGroupsCol(e){const n=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&n.appendChild(this.createColElement(-1,-1)),this.samples.forEach(r=>{G(r.strings,i=>{n.appendChild(this.createColElement(i.col,e))})}),n}createRow(e){const{rootDocument:n}=this.hot,r=n.createDocumentFragment(),i=n.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(e,i),r.appendChild(i)),this.samples.forEach(o=>{G(o.strings,s=>{const a=s.col,l=this.hot.getCellMeta(e,a),u=this.hot.getCellRenderer(l),c=n.createElement("td");c.setAttribute("ghost-table",1),u(this.hot,c,e,a,this.hot.colToProp(a),s.value,l),r.appendChild(c)})}),r}appendColumnHeadersRow(){const{rootDocument:e}=this.hot,n=e.createDocumentFragment(),r=[];if(this.hot.hasRowHeaders()){const i=e.createElement("th");r.push([-1,i]),n.appendChild(i)}this.samples.forEach(i=>{G(i.strings,o=>{const s=o.col,a=e.createElement("th");r.push([s,a]),n.appendChild(a)})}),this.table.tHead.appendChild(n),G(r,i=>{const[o,s]=i;this.hot.view.appendColHeader(o,s)})}createCol(e){const{rootDocument:n}=this.hot,r=n.createDocumentFragment();return this.samples.forEach(i=>{G(i.strings,o=>{const s=o.row,a=this.hot.getCellMeta(s,e),l=this.hot.getCellRenderer(a),u=n.createElement("td"),c=n.createElement("tr");u.setAttribute("ghost-table",1),l(this.hot,u,s,e,this.hot.colToProp(e),o.value,a),c.appendChild(u),r.appendChild(c)})}),r}clean(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}injectTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.injected||((e||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}removeTable(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}createColElement(e,n){const r=this.hot.rootDocument.createElement("col");let i=0;n>=0&&e>=0&&(i=this.hot.getCellMeta(n,e).colspan);let o=this.hot.getColWidth(e);if(i>1)for(let s=e+1;s<e+i;s++)o+=this.hot.getColWidth(s);return r.style.width=`${o}px`,r}createTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:n}=this.hot,r=n.createDocumentFragment(),i=n.createElement("table"),o=n.createElement("thead"),s=n.createElement("tbody"),a=n.createElement("colgroup"),l=n.createElement("tr"),u=n.createElement("th");return this.isVertical()&&i.appendChild(a),this.isHorizontal()&&(l.appendChild(u),o.appendChild(l),i.style.tableLayout="auto",i.style.width="auto"),i.appendChild(o),this.isVertical()&&s.appendChild(l),i.appendChild(s),ge(i,e),r.appendChild(i),{fragment:r,table:i,tHead:o,tBody:s,colGroup:a,tr:l,th:u}}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:n}=this.hot,r=n.createDocumentFragment(),i=n.createElement("div"),o=`htGhostTable htAutoSize ${e.trim()}`;return ge(i,o),r.appendChild(i),{fragment:r,container:i}}isVertical(){return!!(this.rows.length&&!this.columns.length)}isHorizontal(){return!!(this.columns.length&&!this.rows.length)}};function Yv(t,e,n){return(e=Pbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pbe(t){var e=Mbe(t,"string");return typeof e=="symbol"?e:e+""}function Mbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class CS{static get SAMPLE_COUNT(){return 3}constructor(e){Yv(this,"samples",null),Yv(this,"dataFactory",null),Yv(this,"customSampleCount",null),Yv(this,"allowDuplicates",!1),this.dataFactory=e}getSampleCount(){return this.customSampleCount?this.customSampleCount:CS.SAMPLE_COUNT}setSampleCount(e){this.customSampleCount=e}setAllowDuplicates(e){this.allowDuplicates=e}generateRowSamples(e,n){return this.generateSamples("row",n,e)}generateColumnSamples(e,n){return this.generateSamples("col",n,e)}generateSamples(e,n,r){const i=new Map,{from:o,to:s}=typeof r=="number"?{from:r,to:r}:r;return Ie(o,s,a=>{const l=this.generateSample(e,n,a);i.set(a,l)}),i}generateSample(e,n,r){if(e!=="row"&&e!=="col")throw new Error("Unsupported sample type");const i=new Map,o=e==="row"?"col":"row",s=[];return Ie(n.from,n.to,a=>{const l=e==="row"?this.dataFactory(r,a):this.dataFactory(a,r);if(l===!1)return;const{value:u,bundleSeed:c}=l,h=typeof c=="string"&&c.length>0;let d;h?d=c:Ze(u)?d=`${Object.keys(u).length}`:Array.isArray(u)?d=`${u.length}`:d=`${bn(u).length}`,i.has(d)||i.set(d,{needed:this.getSampleCount(),strings:[]});const f=i.get(d);f.needed&&(!(s.indexOf(u)>-1)||this.allowDuplicates||h)&&(f.strings.push({value:u,[o]:a}),s.push(u),f.needed-=1)}),i}}function Abe(t,e){kU(t,e),e.add(t)}function MD(t,e,n){kU(t,e),e.set(t,n)}function kU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Df(t,e,n){return(e=Ibe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ibe(t){var e=Nbe(t,"string");return typeof e=="symbol"?e:e+""}function Nbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gu(t,e){return t.get(ms(t,e))}function DM(t,e,n){return t.set(ms(t,e),n),n}function ms(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Te.getSingleton().register("modifyAutoColumnSizeSeed");const Lf="autoColumnSize",kbe=10,Hbe="autoColumnSize";var Sh=new WeakMap,Sd=new WeakMap,Zs=new WeakSet;class $g extends wt{static get PLUGIN_KEY(){return Lf}static get PLUGIN_PRIORITY(){return kbe}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 50}constructor(e){super(e),Abe(this,Zs),Df(this,"ghostTable",new NU(this.hot)),Df(this,"samplesGenerator",new CS((n,r)=>{const i=this.hot.toPhysicalRow(n),o=this.hot.toPhysicalColumn(r);if(this.hot.rowIndexMapper.isHidden(i)||this.hot.columnIndexMapper.isHidden(o))return!1;const s=this.hot.getCellMeta(n,r);let a="";s.spanned||(a=this.hot.getDataAtCell(n,r));let l="";return this.hot.hasHook("modifyAutoColumnSizeSeed")&&(l=this.hot.runHooks("modifyAutoColumnSizeSeed",l,s,a)),{value:a,bundleSeed:l}})),Df(this,"inProgress",!1),Df(this,"measuredColumns",0),Df(this,"columnWidthsMap",new Yl),MD(this,Sh,[]),MD(this,Sd,[]),this.hot.columnIndexMapper.registerMap(Hbe,this.columnWidthsMap),this.addHook("beforeColumnResize",(n,r,i)=>ms(Zs,this,AD).call(this,n,r,i))}isEnabled(){return this.hot.getSettings()[Lf]!==!1&&!this.hot.getSettings().colWidths}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[Lf];n&&n.useHeaders!==null&&n.useHeaders!==void 0&&this.ghostTable.setSetting("useHeaders",n.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ms(Zs,e,$be).call(e,...i)}),this.addHook("beforeChangeRender",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ms(Zs,e,Fbe).call(e,...i)}),this.addHook("afterFormulasValuesUpdate",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ms(Zs,e,jbe).call(e,...i)}),this.addHook("beforeRender",()=>ms(Zs,this,Lbe).call(this)),this.addHook("modifyColWidth",(r,i)=>this.getColumnWidth(i,r)),this.addHook("init",()=>ms(Zs,this,Bbe).call(this)),super.enablePlugin()}updatePlugin(){DM(Sd,this,this.findColumnsWhereHeaderWasChanged()),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.addHook("beforeColumnResize",(e,n,r)=>ms(Zs,this,AD).call(this,e,n,r))}calculateVisibleColumnsWidth(){if(!this.hot.countRows())return;const e=this.getFirstVisibleColumn(),n=this.getLastVisibleColumn();if(e===-1||n===-1)return;const r=this.hot.renderCall;this.calculateColumnsWidth({from:e,to:n},void 0,r)}calculateColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countRows()-1},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=typeof e=="number"?{from:e,to:e}:e,o=typeof n=="number"?{from:n,to:n}:n;Ie(i.from,i.to,s=>{let a=this.hot.toPhysicalColumn(s);a===null&&(a=s),(r||this.columnWidthsMap.getValueAtIndex(a)===null&&!this.hot._getColWidthFromSettings(a))&&this.samplesGenerator.generateColumnSamples(s,o).forEach((u,c)=>this.ghostTable.addColumn(c,u))}),this.ghostTable.columns.length&&(this.hot.batchExecution(()=>{this.ghostTable.getWidths((s,a)=>{const l=this.hot.toPhysicalColumn(s);this.columnWidthsMap.setValueAtIndex(l,a)})},!0),this.measuredColumns=i.to+1,this.ghostTable.clean())}calculateAllColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0;const i=this.hot.countCols()-1;let o=null;this.inProgress=!0;const s=()=>{if(!this.hot){vC(o),this.inProgress=!1;return}this.calculateColumnsWidth({from:r,to:Math.min(r+$g.CALCULATION_STEP,i)},e,n),r=r+$g.CALCULATION_STEP+1,r<i?o=Ex(s):(vC(o),this.inProgress=!1,this.hot.view.adjustElementsSize())},a=this.getSyncCalculationLimit();a>=0&&(this.calculateColumnsWidth({from:0,to:a},e,n),r=a+1),r<i?s():this.inProgress=!1}setSamplingOptions(){const e=this.hot.getSettings()[Lf],n=e&&an(e,"samplingRatio")?e.samplingRatio:void 0,r=e&&an(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),r&&this.samplesGenerator.setAllowDuplicates(r)}recalculateAllColumnsWidth(){this.hot.view.isVisible()&&this.calculateAllColumnsWidth({from:0,to:this.hot.countRows()-1},!0)}getSyncCalculationLimit(){const e=this.hot.getSettings()[Lf];let n=$g.SYNC_CALCULATION_LIMIT;const r=this.hot.countCols()-1;return Ze(e)&&(n=e.syncLimit,RV(n)?n=uW(r,n):n>>=0),Math.min(n,r)}getColumnWidth(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=n;return i===void 0&&(i=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e)),r&&typeof i=="number"&&(i=Math.max(i,uS))),i}getFirstVisibleColumn(){var e;return(e=this.hot.view.getFirstRenderedVisibleColumn())!==null&&e!==void 0?e:-1}getLastVisibleColumn(){var e;return(e=this.hot.view.getLastRenderedVisibleColumn())!==null&&e!==void 0?e:-1}findColumnsWhereHeaderWasChanged(){return this.hot.getColHeader().reduce((r,i,o)=>{const s=Gu(Sh,this).length;return(s-1<o||Gu(Sh,this)[o]!==i)&&r.push(this.hot.toVisualColumn(o)),s-1<o?Gu(Sh,this).push(i):Gu(Sh,this)[o]=i,r},[])}clearCache(e){Array.isArray(e)?this.hot.batchExecution(()=>{e.forEach(n=>{this.columnWidthsMap.setValueAtIndex(n,null)})},!0):this.columnWidthsMap.clear()}isNeedRecalculate(){return!!this.columnWidthsMap.getValues().slice(0,this.measuredColumns).filter(e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function Dbe(t){const e={from:0,to:this.hot.countRows()-1};t.forEach(n=>{const r=this.hot.toPhysicalColumn(n);r!==null&&(this.hot._getColWidthFromSettings(r)||this.samplesGenerator.generateColumnSamples(n,e).forEach((o,s)=>this.ghostTable.addColumn(s,o)))}),this.ghostTable.columns.length&&(this.hot.batchExecution(()=>{this.ghostTable.getWidths((n,r)=>{const i=this.hot.toPhysicalColumn(n);this.columnWidthsMap.setValueAtIndex(i,r)})},!0),this.ghostTable.clean())}function Lbe(){this.calculateVisibleColumnsWidth(),this.inProgress||(ms(Zs,this,Dbe).call(this,Gu(Sd,this)),DM(Sd,this,[]))}function $be(t,e){e||this.recalculateAllColumnsWidth()}function Fbe(t){const e=t.reduce((n,r)=>{let[,i]=r;const o=this.hot.propToCol(i);return Number.isInteger(o)&&n.indexOf(o)===-1&&n.push(o),n},[]);Gu(Sd,this).push(...e)}function AD(t,e,n){let r=t;return n&&(this.calculateColumnsWidth(e,void 0,!0),r=this.getColumnWidth(e,void 0,!1)),r}function Bbe(){DM(Sh,this,this.hot.getColHeader()),this.recalculateAllColumnsWidth()}function jbe(t){const e=t.reduce((n,r)=>{var i;const o=(i=r.address)===null||i===void 0?void 0:i.col;if(Number.isInteger(o)){const s=this.hot.toVisualColumn(o);n.indexOf(s)===-1&&n.push(s)}return n},[]);Gu(Sd,this).push(...e)}const Ku={horizontal:"horizontal",vertical:"vertical"};function Vbe(t,e,n){let r,i,o;return e[0]===t[0]&&e[1]<t[1]?(o="left",r=n(e[0],e[1]),i=n(e[2],t[1]-1)):e[2]===t[2]&&e[0]===t[0]&&e[3]>t[3]?(o="right",r=n(e[0],t[3]+1),i=n(e[2],e[3])):e[0]<t[0]&&e[1]===t[1]?(o="up",r=n(e[0],e[1]),i=n(t[0]-1,e[3])):e[2]>t[2]&&e[1]===t[1]&&(o="down",r=n(t[2]+1,e[1]),i=n(e[2],e[3])),r&&r.normalize(),i&&i.normalize(),{directionOfDrag:o,startOfDragCoords:r,endOfDragCoords:i}}function Wbe(t){const e={};return t===!0?(e.directions=Object.keys(Ku),e.autoInsertRow=!0):Ze(t)?(xe(t.autoInsertRow)?t.direction===Ku.horizontal?e.autoInsertRow=!1:e.autoInsertRow=t.autoInsertRow:e.autoInsertRow=!1,xe(t.direction)?e.directions=[t.direction]:e.directions=Object.keys(Ku)):typeof t=="string"?(e.directions=[t],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}function Ube(t,e){zbe(t,e),e.add(t)}function zbe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Zc(t,e,n){return(e=Ybe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ybe(t){var e=Gbe(t,"string");return typeof e=="symbol"?e:e+""}function Gbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $f(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Te.getSingleton().register("modifyAutofillRange");Te.getSingleton().register("beforeAutofill");Te.getSingleton().register("afterAutofill");const ID="autofill",Kbe=20,qbe=["fillHandle"],Xbe="insert_row_below",Zbe=200;var Qc=new WeakSet;class Qbe extends wt{constructor(){super(...arguments),Ube(this,Qc),Zc(this,"addingStarted",!1),Zc(this,"mouseDownOnCellCorner",!1),Zc(this,"mouseDragOutside",!1),Zc(this,"handleDraggedCells",0),Zc(this,"directions",[]),Zc(this,"autoInsertRow",!1)}static get PLUGIN_KEY(){return ID}static get PLUGIN_PRIORITY(){return Kbe}static get SETTING_KEYS(){return[ID,...qbe]}isEnabled(){return this.hot.getSettings().fillHandle}enablePlugin(){this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",e=>$f(Qc,this,eSe).call(this,e)),this.addHook("afterOnCellCornerDblClick",e=>$f(Qc,this,Jbe).call(this,e)),this.addHook("beforeOnCellMouseOver",(e,n)=>$f(Qc,this,tSe).call(this,n)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.clearMappedSettings(),super.disablePlugin()}getSelectionData(){const e=this.hot.getSelectedRangeLast(),{row:n,col:r}=e.getTopStartCorner(),{row:i,col:o}=e.getBottomEndCorner(),s=this.hot.runHooks("modifyCopyableRange",[{startRow:n,startCol:r,endRow:i,endCol:o}]),a=[],l=[],u=[];return G(s,c=>{for(let h=c.startRow;h<=c.endRow;h+=1)a.indexOf(h)===-1&&a.push(h);for(let h=c.startCol;h<=c.endCol;h+=1)l.indexOf(h)===-1&&l.push(h)}),G(a,c=>{const h=[];G(l,d=>{h.push(this.hot.getCopyableData(c,d))}),u.push(h)}),u}fillIn(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;const[e,n,r,i]=this.hot.selection.highlight.getFill().getVisualCorners(),o=this.hot.getSelectedRangeLast(),s=o.getTopStartCorner(),a=o.getBottomEndCorner();this.resetSelectionOfDraggedArea();const l=[s.row,s.col,a.row,a.col],u=this.hot.runHooks("modifyAutofillRange",[Math.min(s.row,e),Math.min(s.col,n),Math.max(a.row,r),Math.max(a.col,i)],l),{directionOfDrag:c,startOfDragCoords:h,endOfDragCoords:d}=Vbe(l,u,(f,g)=>this.hot._createCellCoords(f,g));if(h&&h.row>-1&&h.col>-1){const f=this.getSelectionData(),g=o.clone(),v=this.hot._createCellRange(h,h,d),y=this.hot.runHooks("beforeAutofill",f,g,v,c);if(y===!1)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;let p=y;const m=y;if(["up","left"].indexOf(c)>-1&&!(m.length===1&&m[0].length===0))if(p=[],c==="up"){const w=d.row-h.row+1,C=w%m.length;for(let S=0;S<w;S++)p.push(m[(S+(m.length-C))%m.length])}else{const w=d.col-h.col+1,C=w%m[0].length;for(let S=0;S<m.length;S++){p.push([]);for(let x=0;x<w;x++)p[S].push(m[S][(x+(m[S].length-C))%m[S].length])}}this.hot.populateFromArray(h.row,h.col,p,d.row,d.col,`${this.pluginName}.fill`,null),this.setSelection(u),this.hot.runHooks("afterAutofill",p,g,v,c),this.hot.render()}else this.hot.view.render();return!0}reduceSelectionAreaIfNeeded(e){return e.row<0&&(e.row=0),e.col<0&&(e.col=0),e}getCoordsOfDragAndDropBorders(e){const n=this.hot.getSelectedRangeLast(),r=n.getBottomEndCorner();let i=e;if(this.directions.includes(Ku.vertical)&&this.directions.includes(Ku.horizontal)){const o=n.getTopStartCorner();(r.col<=e.col||o.col>=e.col)&&(i=this.hot._createCellCoords(r.row,e.col)),(r.row<e.row||o.row>e.row)&&(i=this.hot._createCellCoords(e.row,r.col))}else if(this.directions.includes(Ku.vertical))i=this.hot._createCellCoords(e.row,r.col);else if(this.directions.includes(Ku.horizontal))i=this.hot._createCellCoords(r.row,e.col);else return;return this.reduceSelectionAreaIfNeeded(i)}showBorder(e){const n=this.getCoordsOfDragAndDropBorders(e);n&&this.redrawBorders(n)}addRow(){this.hot._registerTimeout(()=>{this.hot.alter(Xbe,void 0,1,`${this.pluginName}.fill`),this.addingStarted=!1},Zbe)}addNewRowIfNeeded(){if(!this.hot.selection.highlight.getFill().isEmpty()&&this.addingStarted===!1&&this.autoInsertRow){const e=this.hot.getSelectedLast(),n=this.hot.selection.highlight.getFill().getVisualCorners(),r=this.hot.countRows();e[2]<r-1&&n[2]===r-1&&(this.addingStarted=!0,this.addRow())}}getIndexOfLastAdjacentFilledInRow(e){const n=this.hot.getData(),r=this.hot.countRows();let i;for(let o=e[2]+1;o<r;o++){for(let l=e[1];l<=e[3];l++){const u=n[o][l];if(!pn(u))return-1}const s=n[o][e[1]-1],a=n[o][e[3]+1];(!pn(s)||!pn(a))&&(i=o)}return i}addSelectionFromStartAreaToSpecificRowIndex(e,n){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(e[0],e[1])).add(this.hot._createCellCoords(n,e[3])).commit()}setSelection(e){this.hot.selectCell(...it(e,n=>Math.max(n,0)),!1,!1)}selectAdjacent(){const e=this.hot.getSelectedLast(),n=this.getIndexOfLastAdjacentFilledInRow(e);return n===-1||n===void 0?!1:(this.addSelectionFromStartAreaToSpecificRowIndex(e,n),!0)}resetSelectionOfDraggedArea(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}redrawBorders(e){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(e).commit(),this.hot.view.render()}getIfMouseWasDraggedOutside(e){const{documentElement:n}=this.hot.rootDocument,r=zn(this.hot.table).top-(this.hot.rootWindow.pageYOffset||n.scrollTop)+Rn(this.hot.table),i=zn(this.hot.table).left-(this.hot.rootWindow.pageXOffset||n.scrollLeft)+Ft(this.hot.table);return e.clientY>r&&e.clientX<=i}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mouseup",()=>$f(Qc,this,nSe).call(this)),this.eventManager.addEventListener(e,"mousemove",n=>$f(Qc,this,rSe).call(this,n))}clearMappedSettings(){this.directions.length=0,this.autoInsertRow=!1}mapSettings(){const e=Wbe(this.hot.getSettings().fillHandle);this.directions=e.directions,this.autoInsertRow=e.autoInsertRow}destroy(){super.destroy()}}function Jbe(){this.selectAdjacent()&&this.fillIn()}function eSe(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}function tSe(t){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(t),this.addNewRowIfNeeded())}function nSe(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}function rSe(t){const e=this.getIfMouseWasDraggedOutside(t);this.addingStarted===!1&&this.handleDraggedCells>0&&e?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}function iSe(t,e){HU(t,e),e.add(t)}function oSe(t,e,n){HU(t,e),e.set(t,n)}function HU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jc(t,e,n){return(e=sSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sSe(t){var e=aSe(t,"string");return typeof e=="symbol"?e:e+""}function aSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lSe(t,e,n){return t.set(ps(t,e),n),n}function LM(t,e){return t.get(ps(t,e))}function ps(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Gv="autoRowSize",uSe=40,cSe="autoRowSize";var Nm=new WeakMap,Qs=new WeakSet;class Fg extends wt{static get PLUGIN_KEY(){return Gv}static get PLUGIN_PRIORITY(){return uSe}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 500}constructor(e){super(e),iSe(this,Qs),Jc(this,"headerHeight",null),Jc(this,"ghostTable",new NU(this.hot)),Jc(this,"samplesGenerator",new CS((n,r)=>{const i=this.hot.toPhysicalRow(n),o=this.hot.toPhysicalColumn(r);if(this.hot.rowIndexMapper.isHidden(i)||this.hot.columnIndexMapper.isHidden(o)||n>=0&&r>=0&&this.hot.getCellMeta(n,r).hidden)return!1;let s;return n>=0?s=this.hot.getDataAtCell(n,r):n===-1&&(s=this.hot.getColHeader(r)),{value:s}})),Jc(this,"inProgress",!1),Jc(this,"measuredRows",0),Jc(this,"rowHeightsMap",new Yl),oSe(this,Nm,[]),this.hot.rowIndexMapper.registerMap(cSe,this.rowHeightsMap),this.addHook("beforeRowResize",(n,r,i)=>ps(Qs,this,ND).call(this,n,r,i))}isEnabled(){const e=this.hot.getSettings()[Gv];return e===!0||Ze(e)}enablePlugin(){var e=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ps(Qs,e,fSe).call(e,...r)}),this.addHook("beforeChangeRender",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ps(Qs,e,gSe).call(e,...r)}),this.addHook("beforeColumnResize",()=>this.recalculateAllRowsHeight()),this.addHook("afterFormulasValuesUpdate",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ps(Qs,e,pSe).call(e,...r)}),this.addHook("beforeRender",()=>ps(Qs,this,dSe).call(this)),this.addHook("modifyRowHeight",(n,r)=>this.getRowHeight(r,n)),this.addHook("init",()=>ps(Qs,this,mSe).call(this)),this.addHook("modifyColumnHeaderHeight",()=>this.getColumnHeaderHeight()),super.enablePlugin())}disablePlugin(){this.headerHeight=null,super.disablePlugin(),this.addHook("beforeRowResize",(e,n,r)=>ps(Qs,this,ND).call(this,e,n,r))}calculateVisibleRowsHeight(){if(!this.hot.countCols())return;const e=this.getFirstVisibleRow(),n=this.getLastVisibleRow();if(e===-1||n===-1)return;const r=this.hot.renderCall;this.calculateRowsHeight({from:e,to:n},void 0,r)}calculateRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countCols()-1},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=typeof e=="number"?{from:e,to:e}:e,o=typeof n=="number"?{from:n,to:n}:n;if(this.hot.getColHeader(0)!==null){const s=this.samplesGenerator.generateRowSamples(-1,o);this.ghostTable.addColumnHeadersRow(s.get(-1))}Ie(i.from,i.to,s=>{let a=this.hot.toPhysicalRow(s);a===null&&(a=s),(r||this.rowHeightsMap.getValueAtIndex(a)===null)&&this.samplesGenerator.generateRowSamples(s,o).forEach((u,c)=>this.ghostTable.addRow(c,u))}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((s,a)=>{s<0?this.headerHeight=a:this.rowHeightsMap.setValueAtIndex(this.hot.toPhysicalRow(s),a)})},!0),this.measuredRows=i.to+1,this.ghostTable.clean())}calculateAllRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0;const i=this.hot.countRows()-1;let o=null;this.inProgress=!0;const s=()=>{if(!this.hot){vC(o),this.inProgress=!1;return}this.calculateRowsHeight({from:r,to:Math.min(r+Fg.CALCULATION_STEP,i)},e,n),r=r+Fg.CALCULATION_STEP+1,r<i?o=Ex(s):(vC(o),this.inProgress=!1,this.hot.view.adjustElementsSize(),this.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},a=this.getSyncCalculationLimit();a>=0&&(this.calculateRowsHeight({from:0,to:a},e,n),r=a+1),r<i?s():(this.inProgress=!1,this.hot.view.adjustElementsSize())}setSamplingOptions(){const e=this.hot.getSettings()[Gv],n=e&&an(e,"samplingRatio")?e.samplingRatio:void 0,r=e&&an(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),r&&this.samplesGenerator.setAllowDuplicates(r)}recalculateAllRowsHeight(){this.hot.view.isVisible()&&this.calculateAllRowsHeight({from:0,to:this.hot.countCols()-1},!0)}getSyncCalculationLimit(){const e=this.hot.getSettings()[Gv];let n=Fg.SYNC_CALCULATION_LIMIT;const r=this.hot.countRows()-1;return Ze(e)&&(n=e.syncLimit,RV(n)?n=uW(r,n):n>>=0),Math.min(n,r)}getRowHeight(e,n){const r=e<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(e));let i=n;return r!==null&&r>(n||0)&&(i=r),i}getColumnHeaderHeight(){return this.headerHeight}getFirstVisibleRow(){var e;return(e=this.hot.view.getFirstRenderedVisibleRow())!==null&&e!==void 0?e:-1}getLastVisibleRow(){var e;return(e=this.hot.view.getLastRenderedVisibleRow())!==null&&e!==void 0?e:-1}clearCache(e){this.headerHeight=null,Array.isArray(e)?this.hot.batchExecution(()=>{e.forEach(n=>{this.rowHeightsMap.setValueAtIndex(n,null)})},!0):this.rowHeightsMap.clear()}clearCacheByRange(e){const{from:n,to:r}=typeof e=="number"?{from:e,to:e}:e;this.hot.batchExecution(()=>{Ie(Math.min(n,r),Math.max(n,r),i=>{this.rowHeightsMap.setValueAtIndex(i,null)})},!0)}isNeedRecalculate(){return!!this.rowHeightsMap.getValues().slice(0,this.measuredRows).filter(e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function hSe(t){const e={from:0,to:this.hot.countCols()-1};t.forEach(n=>{this.samplesGenerator.generateRowSamples(n,e).forEach((i,o)=>this.ghostTable.addRow(o,i))}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((n,r)=>{const i=this.hot.toPhysicalRow(n);this.rowHeightsMap.setValueAtIndex(i,r)})},!0),this.ghostTable.clean())}function dSe(){this.calculateVisibleRowsHeight(),this.inProgress||(ps(Qs,this,hSe).call(this,LM(Nm,this)),lSe(Nm,this,[]))}function ND(t,e,n){let r=t;return n&&(this.calculateRowsHeight(e,void 0,!0),r=this.getRowHeight(e)),r}function fSe(t,e){e||this.recalculateAllRowsHeight()}function gSe(t){const e=t.reduce((n,r)=>{let[i]=r;return n.indexOf(i)===-1&&n.push(i),n},[]);LM(Nm,this).push(...e)}function mSe(){this.recalculateAllRowsHeight()}function pSe(t){const e=t.reduce((n,r)=>{var i;const o=(i=r.address)===null||i===void 0?void 0:i.row;if(Number.isInteger(o)){const s=this.hot.toVisualRow(o);n.indexOf(s)===-1&&n.push(s)}return n},[]);LM(Nm,this).push(...e)}const{getListWithInsertedItems:vSe,getListWithRemovedItems:ySe}=LW("physicallyIndexed");class wSe extends Ac{constructor(){super(e=>e)}insert(e,n){const r=eP(this.indexedValues,n);this.indexedValues=vSe(r,e,n,this.initValueOrFn),super.insert(e,n)}remove(e){const n=ySe(this.indexedValues,e);this.indexedValues=Jx(n,e),super.remove(e)}}const{getListWithInsertedItems:CSe,getListWithRemovedItems:bSe}=LW("physicallyIndexed");class SSe extends Ac{constructor(){super(e=>e)}insert(e,n){this.indexedValues=CSe(this.indexedValues,e,n,(r,i)=>this.getNextValue(i)),super.insert(e,n)}remove(e){this.indexedValues=bSe(this.indexedValues,e),super.remove(e)}getNextValue(e){return Math.max(...this.getValues())+1+e}}function RSe(t,e){ESe(t,e),e.add(t)}function ESe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _Se(t,e,n){return(e=TSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TSe(t){var e=OSe(t,"string");return typeof e=="symbol"?e:e+""}function OSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xSe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const WR="bindRowsWithHeaders",PSe=210,MSe="loose",ASe=new Map([["loose",wSe],["strict",SSe]]);var kD=new WeakSet;class ISe extends wt{constructor(){super(...arguments),RSe(this,kD),_Se(this,"headerIndexes",null)}static get PLUGIN_KEY(){return WR}static get PLUGIN_PRIORITY(){return PSe}isEnabled(){return!!this.hot.getSettings()[WR]}enablePlugin(){if(this.enabled)return;let e=this.hot.getSettings()[WR];typeof e!="string"&&(e=MSe);const n=ASe.get(e);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new n),this.addHook("modifyRowHeader",r=>xSe(kD,this,NSe).call(this,r)),super.enablePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),super.disablePlugin()}destroy(){super.destroy()}}function NSe(t){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(t))}function kSe(t,e){DU(t,e),e.add(t)}function HSe(t,e,n){DU(t,e),e.set(t,n)}function DU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function HD(t,e,n){return(e=DSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DSe(t){var e=LSe(t,"string");return typeof e=="symbol"?e:e+""}function LSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DD(t,e){return t.get(Vh(t,e))}function UR(t,e,n){return t.set(Vh(t,e),n),n}function Vh(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const gw="collapsibleColumns",$Se=290,FSe=["nestedHeaders"],td="collapsibleIndicator",LD=gw,$D=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]);var eh=new WeakMap,Ff=new WeakSet;class BSe extends wt{constructor(){super(...arguments),kSe(this,Ff),HD(this,"nestedHeadersPlugin",null),HD(this,"headerStateManager",null),HSe(this,eh,null)}static get PLUGIN_KEY(){return gw}static get PLUGIN_PRIORITY(){return $Se}static get PLUGIN_DEPS(){return["plugin:NestedHeaders"]}static get SETTING_KEYS(){return[gw,...FSe]}isEnabled(){return!!this.hot.getSettings()[gw]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:n}=this.hot.getSettings();n||bt("You need to configure the Nested Headers plugin in order to use collapsible headers."),UR(eh,this,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",()=>Vh(Ff,this,WSe).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Vh(Ff,e,USe).call(e,...i)}),this.addHook("afterGetColHeader",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Vh(Ff,e,jSe).call(e,...i)}),this.addHook("beforeOnCellMouseDown",(r,i,o)=>Vh(Ff,this,VSe).call(this,r,i,o)),this.registerShortcuts(),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){const{collapsibleColumns:e}=this.hot.getSettings();typeof e=="boolean"?this.headerStateManager.mapState(n=>({collapsible:n.origColspan>1})):Array.isArray(e)&&(this.headerStateManager.mapState(()=>({collapsible:!1})),this.headerStateManager.mergeStateWith(e))}super.updatePlugin()}}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),UR(eh,this,null),this.nestedHeadersPlugin=null,this.unregisterShortcuts(),this.clearButtons(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{var e;const{row:n,col:r}=this.hot.getSelectedRangeLast().highlight,{collapsible:i,isCollapsed:o,columnIndex:s}=(e=this.headerStateManager.getHeaderTreeNodeData(n,r))!==null&&e!==void 0?e:{};if(i)return o?this.expandSection({row:n,col:s}):this.collapseSection({row:n,col:s}),!1},runOnlyIf:()=>{var e,n;return((e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.isSingle())&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.highlight.isHeader())},group:LD,relativeToGroup:Gl,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(LD)}clearButtons(){if(!this.hot.view)return;const e=this.hot.view._wt.getSetting("columnHeaders").length,n=this.hot.view._wt.wtTable.THEAD,r=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,i=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,o=function(s){s&&s.parentNode.removeChild(s)};Ie(0,e-1,s=>{const a=n.childNodes[s],l=r.childNodes[s],u=i?i.childNodes[s]:null;Ie(0,a.childNodes.length-1,c=>{let h=a.childNodes[c].querySelector(`.${td}`);o(h),l&&l.childNodes[c]&&(h=l.childNodes[c].querySelector(`.${td}`),o(h)),i&&u&&u.childNodes[c]&&(h=u.childNodes[c].querySelector(`.${td}`),o(h))})})}expandSection(e){this.toggleCollapsibleSection([e],"expand")}collapseSection(e){this.toggleCollapsibleSection([e],"collapse")}toggleAllCollapsibleSections(e){const n=this.headerStateManager.mapNodes(r=>{const{collapsible:i,origColspan:o,headerLevel:s,columnIndex:a,isCollapsed:l}=r;if(i===!0&&o>1&&(l&&e==="expand"||!l&&e==="collapse"))return{row:this.headerStateManager.levelToRowCoords(s),col:a}});this.toggleCollapsibleSection(n,e)}collapseAll(){this.toggleAllCollapsibleSections("collapse")}expandAll(){this.toggleAllCollapsibleSections("expand")}toggleCollapsibleSection(e,n){if(!$D.has(n))throw new Error(`Unsupported action is passed (${n}).`);if(!Array.isArray(e))return;const r=Dl(e,f=>{let{row:g}=f;return g<0});let i=r.length>0;G(r,f=>{var g;let{row:v,col:y}=f;const{collapsible:p,isCollapsed:m}=(g=this.headerStateManager.getHeaderSettings(v,y))!==null&&g!==void 0?g:{};if(!p||m&&n==="collapse"||!m&&n==="expand")return i=!1,!1});const o=[],s=[];i&&G(r,f=>{let{row:g,col:v}=f;const{colspanCompensation:y,affectedColumns:p,rollbackModification:m}=this.headerStateManager.triggerNodeModification(n,g,v);y>0&&(s.push(...p),o.push(m))});const a=this.getCollapsedColumns();let l=[];n==="collapse"?l=bV([...a,...s]):n==="expand"&&(l=Dl(a,f=>!s.includes(f)));const u=$D.get(n);if(this.hot.runHooks(u.beforeHook,a,l,i)===!1){G(o,f=>{f()});return}this.hot.batchExecution(()=>{G(s,f=>{DD(eh,this).setValueAtIndex(this.hot.toPhysicalColumn(f),u.hideColumn)})},!0);const h=this.getCollapsedColumns().length!==a.length,d=this.hot.getSelectedRangeLast();if(n==="collapse"&&h&&d){const{row:f,col:g}=d.highlight;if((this.hot.rowIndexMapper.isHidden(f)||this.hot.columnIndexMapper.isHidden(g))&&s.includes(g)){const y=f>=0?this.hot.rowIndexMapper.getNearestNotHiddenIndex(f,1,!0):f,p=g>=0?this.hot.columnIndexMapper.getNearestNotHiddenIndex(g,1,!0):g;y!==null&&p!==null&&this.hot.selectCell(y,p)}}this.hot.runHooks(u.afterHook,a,l,i,h),this.hot.render(),this.hot.view.adjustElementsSize()}getCollapsedColumns(){return DD(eh,this).getHiddenIndexes()}destroy(){UR(eh,this,null),super.destroy()}}function jSe(t,e,n){var r;const{collapsible:i,origColspan:o,isCollapsed:s}=(r=this.headerStateManager.getHeaderSettings(n,t))!==null&&r!==void 0?r:{},a=i&&o>1&&t>=this.hot.getSettings().fixedColumnsStart,l=this.hot.getSettings().ariaTags;let u=e.querySelector(`.${td}`);if(Vd(e,[zi("")[0]]),a)u||(u=this.hot.rootDocument.createElement("div"),ge(u,td),e.querySelector("div:first-child").appendChild(u)),We(u,["collapsed","expanded"]),s?(ge(u,"collapsed"),dc(u,"+"),l&&Be(e,...zi(!1))):(ge(u,"expanded"),dc(u,"-"),l&&Be(e,...zi(!0))),l&&Be(u,...Pc());else{var c;(c=u)===null||c===void 0||c.remove()}}function VSe(t,e){je(t.target,td)&&(je(t.target,"expanded")?(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"collapse")):je(t.target,"collapsed")&&(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"expand")),Bo(t))}function WSe(){this.updatePlugin()}function USe(t,e){e||this.updatePlugin()}function du(t,e,n){return(e=zSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zSe(t){var e=YSe(t,"string");return typeof e=="symbol"?e:e+""}function YSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const GSe=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],KSe=!1,qSe=!0,XSe=!0;class ZSe{constructor(e,n){du(this,"hot",void 0),du(this,"sortingStates",new fS),du(this,"sortEmptyCells",KSe),du(this,"indicator",qSe),du(this,"headerAction",XSe),du(this,"compareFunctionFactory",void 0),du(this,"mapName",void 0),this.hot=e,this.mapName=n,this.hot.columnIndexMapper.registerMap(n,this.sortingStates)}updateAllColumnsProperties(e){Ze(e)&&Qe(e,(n,r)=>{GSe.includes(r)&&(this[r]=n)})}getAllColumnsProperties(){const e={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return typeof this.compareFunctionFactory=="function"&&(e.compareFunctionFactory=this.compareFunctionFactory),e}getSortOrderOfColumn(e){var n;return(n=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))===null||n===void 0?void 0:n.sortOrder}getIndexOfColumnInSortQueue(e){return e=this.hot.toPhysicalColumn(e),this.sortingStates.getEntries().findIndex(n=>{let[r]=n;return r===e})}getNumberOfSortedColumns(){return this.sortingStates.getLength()}isListOfSortedColumnsEmpty(){return this.getNumberOfSortedColumns()===0}isColumnSorted(e){return Ze(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))}getSortStates(){return this.sortingStates===null?[]:this.sortingStates.getEntries().map(n=>{let[r,i]=n;return{column:this.hot.toVisualColumn(r),...i}})}getColumnSortState(e){const n=this.getSortOrderOfColumn(e);if(xe(n))return{column:e,sortOrder:n}}setSortStates(e){this.sortingStates.clear();for(let n=0;n<e.length;n+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(e[n].column),{sortOrder:e[n].sortOrder})}destroy(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}function LU(t,e,n){const r=e.locale;return function(i,o){const{sortEmptyCells:s}=n;return typeof i=="string"&&(i=i.toLocaleLowerCase(r)),typeof o=="string"&&(o=o.toLocaleLowerCase(r)),i===o?Os:pn(i)?pn(o)?Os:s&&t==="asc"?on:sn:pn(o)?s&&t==="asc"?sn:on:isNaN(i)&&!isNaN(o)?t==="asc"?sn:on:!isNaN(i)&&isNaN(o)||(isNaN(i)||isNaN(o)||(i=parseFloat(i),o=parseFloat(o)),i<o)?t==="asc"?on:sn:i>o?t==="asc"?sn:on:Os}}const $U="default";function QSe(t,e,n){return function(r,i){const o=parseFloat(r),s=parseFloat(i),{sortEmptyCells:a}=n;if(o===s||isNaN(o)&&isNaN(s))return Os;if(a){if(pn(r))return t==="asc"?on:sn;if(pn(i))return t==="asc"?sn:on}return isNaN(o)?sn:isNaN(s)?on:o<s?t==="asc"?on:sn:o>s?t==="asc"?sn:on:Os}}const JSe="numeric";function e0e(t,e,n){const r=e.checkedTemplate,i=e.uncheckedTemplate,{sortEmptyCells:o}=n;return function(s,a){const l=pn(s),u=pn(a),c=l?i:s,h=u?i:a,d=c===i||c===r,f=h===i||h===r;if(o===!1){if(l&&u===!1)return sn;if(l===!1&&u)return on}return d===!1&&f?t==="asc"?on:sn:d&&f===!1?t==="asc"?sn:on:d===!1&&f===!1?LU(t,e,n)(s,a):c===i&&h===r?t==="asc"?on:sn:c===r&&h===i?t==="asc"?sn:on:Os}}const t0e="checkbox";function n0e(t,e,n){return UU(t,e.dateFormat,n)}const r0e="date";function i0e(t,e,n){return UU(t,e.timeFormat,n)}const o0e="time",{register:Cp,getItem:FD,hasItem:s0e}=jo("sorting.compareFunctionFactory"),{register:FU,getItem:a0e}=jo("sorting.mainSortComparator");function BU(t){return s0e(t)?FD(t):FD($U)}Cp(t0e,e0e);Cp(r0e,n0e);Cp($U,LU);Cp(JSe,QSe);Cp(o0e,i0e);const Os=0,on=-1,sn=1;function l0e(t,e){const n=a0e(e);for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.sort(n(...i))}const NC="asc",kC="desc",jU="colHeader";function u0e(t){if(Ze(t)===!1)return!1;const{column:e,sortOrder:n}=t;return Number.isInteger(e)&&[NC,kC].includes(n)}function c0e(t){if(t.some(n=>u0e(n)===!1))return!1;const e=t.map(n=>{let{column:r}=n;return r});return new Set(e).size===e.length}function BD(t){if(t!==kC)return t===NC?kC:NC}function VU(t){return t.querySelector(`.${jU}`)}function WU(t,e){if(t<0||!e.parentNode)return!1;const n=e.parentNode.parentNode.childNodes;return Array.from(n).indexOf(e.parentNode)-n.length===-1}function $M(t,e,n){return t===-1&&e>=0&&fc(n)===!1}function UU(t,e,n){return function(r,i){const{sortEmptyCells:o}=n;if(r===i)return Os;if(pn(r))return pn(i)?Os:o&&t==="asc"?on:sn;if(pn(i))return o&&t==="asc"?sn:on;const s=fe(r,e),a=fe(i,e);return s.isValid()?a.isValid()?a.isAfter(s)?t==="asc"?on:sn:a.isBefore(s)?t==="asc"?sn:on:Os:on:sn}}const h0e="ascending",d0e="descending",zU="indicatorDisabled",YU="columnSorting",GU="sortAction",KU=new Map([[NC,h0e],[kC,d0e]]);function f0e(t,e,n,r){const i=[YU];if(r&&i.push(GU),n===!1)return i.push(zU),i;const o=t.getSortOrderOfColumn(e);return xe(o)&&i.push(KU.get(o)),i}function g0e(){return Array.from(KU.values()).concat(GU,zU,YU)}function m0e(t,e){return function(n,r){const[,...i]=n,[,...o]=r;return function(a){const l=t[a],u=e[a],c=i[a],h=o[a],d=u.columnSorting;return(d.compareFunctionFactory?d.compareFunctionFactory:BU(u.type))(l,u,d)(c,h)}(0)}}function p0e(t,e){v0e(t,e),e.add(t)}function v0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Kv(t,e,n){return(e=y0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y0e(t){var e=w0e(t,"string");return typeof e=="symbol"?e:e+""}function w0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rh(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const HC="columnSorting",C0e=50,DC="append",b0e="replace",jD=HC;FU(HC,m0e);Te.getSingleton().register("beforeColumnSort");Te.getSingleton().register("afterColumnSort");var Fu=new WeakSet;class qU extends wt{constructor(){super(...arguments),p0e(this,Fu),Kv(this,"columnStatesManager",null),Kv(this,"columnMetaCache",null),Kv(this,"pluginKey",HC),Kv(this,"indexesSequenceCache",null)}static get PLUGIN_KEY(){return HC}static get PLUGIN_PRIORITY(){return C0e}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){var e=this;this.enabled||(this.columnStatesManager=new ZSe(this.hot,`${this.pluginKey}.sortingStates`),this.columnMetaCache=new Yl(n=>{let r=this.hot.toVisualColumn(n);return r===null&&(r=n),this.getMergedPluginSettings(r)}),this.hot.columnIndexMapper.registerMap(`${this.pluginKey}.columnMeta`,this.columnMetaCache),this.addHook("afterGetColHeader",(n,r)=>Rh(Fu,this,S0e).call(this,n,r)),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Rh(Fu,e,E0e).call(e,...r)}),this.addHook("afterOnCellMouseDown",(n,r)=>this.onAfterOnCellMouseDown(n,r)),this.addHook("afterInit",()=>Rh(Fu,this,Z_).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Rh(Fu,e,R0e).call(e,...r)}),this.hot.view&&Rh(Fu,this,Z_).call(this),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){const e=(n,r)=>{const i=VU(r);WU(n,r)===!1||i===null||this.updateHeaderClasses(i)};this.hot.addHook("afterGetColHeader",e),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("afterGetColHeader",e)}),this.hot.batchExecution(()=>{this.indexesSequenceCache!==null&&(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginKey),this.indexesSequenceCache=null)},!0),this.hot.columnIndexMapper.unregisterMap(`${this.pluginKey}.columnMeta`),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();return this.sort(this.getColumnNextConfig(e.col)),!1},runOnlyIf:()=>{var e,n;const r=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return r&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingle())&&this.hot.selection.isCellVisible(r)&&r.row===-1&&r.col>=0},relativeToGroup:Gl,position:"before",group:jD})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(jD)}sort(e){const n=this.getSortConfig(),r=this.getNormalizedSortConfigs(e),i=this.areValidSortConfigs(r);this.hot.runHooks("beforeColumnSort",n,r,i)!==!1&&(n.length===0&&this.indexesSequenceCache===null&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new $W),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),i&&(this.columnStatesManager.setSortStates(r),this.sortByPresetSortStates(r),this.saveAllSortSettings(r)),this.hot.runHooks("afterColumnSort",n,i?r:n,i),i&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}clearSort(){this.sort([])}isSorted(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}getSortConfig(e){return xe(e)?this.columnStatesManager.getColumnSortState(e):this.columnStatesManager.getSortStates()}setSortConfig(e){const n=this.getNormalizedSortConfigs(e);this.areValidSortConfigs(n)&&this.columnStatesManager.setSortStates(n)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e.slice(0,1):[e]}areValidSortConfigs(e){const n=this.hot.countCols();return c0e(e)&&e.every(r=>{let{column:i}=r;return i<=n&&i>=0})}saveAllSortSettings(e){const n=this.columnStatesManager.getAllColumnsProperties(),r=i=>{let{column:o,...s}=i;return{column:this.hot.toPhysicalColumn(o),...s}};n.initialConfig=it(e,r),this.hot.runHooks("persistentStateSave","columnSorting",n)}getAllSavedSortSettings(){const e={};this.hot.runHooks("persistentStateLoad","columnSorting",e);const n=e.value,r=i=>{let{column:o,...s}=i;return{column:this.hot.toVisualColumn(o),...s}};return xe(n)&&Array.isArray(n.initialConfig)&&(n.initialConfig=it(n.initialConfig,r)),n}getColumnNextConfig(e){const n=this.columnStatesManager.getSortOrderOfColumn(e);if(xe(n)){const i=BD(n);return xe(i)?{column:e,sortOrder:i}:void 0}const r=this.hot.countCols();if(Number.isInteger(e)&&e>=0&&e<r)return{column:e,sortOrder:BD()}}getNextSortConfig(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DC;const r=this.columnStatesManager.getIndexOfColumnInSortQueue(e),i=r!==-1,o=this.getSortConfig(),s=this.getColumnNextConfig(e);if(i){if($t(s))return[...o.slice(0,r),...o.slice(r+1)];if(n===DC)return[...o.slice(0,r),...o.slice(r+1),s];if(n===b0e)return[...o.slice(0,r),s,...o.slice(r+1)]}return xe(s)?o.concat(s):o}getPluginColumnConfig(e){if(Ze(e)){const n=e[this.pluginKey];if(Ze(n))return n}return{}}getMergedPluginSettings(e){const n=this.hot.getSettings()[this.pluginKey],r=this.columnStatesManager.getAllColumnsProperties(),i=this.hot.getCellMeta(0,e),o=Object.getPrototypeOf(i);return Array.isArray(o.columns)?Object.assign(r,n,this.getPluginColumnConfig(o.columns[e])):Ht(o.columns)?Object.assign(r,n,this.getPluginColumnConfig(o.columns(e))):Object.assign(r,n)}getFirstCellSettings(e){const n=this.hot.getCellMeta(0,e),r=Object.create(n);return r[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(e)),r}getNumberOfRowsToSort(e){const n=this.hot.getSettings();return n.maxRows<=e?n.maxRows:e-n.minSpareRows}sortByPresetSortStates(e){if(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),e.length===0)return;const n=[],r=this.hot.countRows(),i=u=>it(e,c=>this.hot.getDataAtCell(u,c.column));for(let u=0;u<this.getNumberOfRowsToSort(r);u+=1)n.push([this.hot.toPhysicalRow(u)].concat(i(u)));const o=it(n,u=>u[0]);l0e(n,this.pluginKey,it(e,u=>u.sortOrder),it(e,u=>this.getFirstCellSettings(u.column)));for(let u=n.length;u<r;u+=1)n.push([u].concat(i(u)));const s=it(n,u=>u[0]),a=new Map(it(o,(u,c)=>[u,s[c]])),l=it(this.hot.rowIndexMapper.getIndexesSequence(),u=>a.has(u)?a.get(u):u);this.hot.rowIndexMapper.setIndexesSequence(l)}sortBySettings(e){if(Ze(e)){this.columnStatesManager.updateAllColumnsProperties(e);const n=e.initialConfig;(Array.isArray(n)||Ze(n))&&this.sort(n)}else this.hot.render()}updateHeaderClasses(e){if(We(e,g0e()),this.enabled!==!1){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];ge(e,f0e(...r))}}onUpdateSettings(e){super.onUpdateSettings(),this.columnMetaCache!==null&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),xe(e[this.pluginKey])&&this.sortBySettings(e[this.pluginKey])}wasClickableHeaderClicked(e,n){return this.getFirstCellSettings(n)[this.pluginKey].headerAction&&je(e.target,jU)}onAfterOnCellMouseDown(e,n){if($M(n.row,n.col,e)!==!1&&this.wasClickableHeaderClicked(e,n.col)){this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(n.col));const r=this.hot.getActiveEditor(),i=this.getColumnNextConfig(n.col);r!=null&&r.isOpened()&&this.hot.getCellValidator(r.row,r.col)?this.hot.addHookOnce("postAfterValidate",()=>{this.sort(i)}):this.sort(i)}}destroy(){var e;(e=this.columnStatesManager)===null||e===void 0||e.destroy(),super.destroy()}}function Z_(){const t=this.getAllSavedSortSettings();if(Ze(t))this.sortBySettings(t);else{const e=this.hot.getSettings()[this.pluginKey];this.sortBySettings(e)}}function S0e(t,e){const n=VU(e);if(WU(t,e)===!1||n===null)return;const r=this.getFirstCellSettings(t)[this.pluginKey],i=r.indicator,o=r.headerAction;if(this.updateHeaderClasses(n,this.columnStatesManager,t,i,o),this.hot.getSettings().ariaTags){const s=this.columnStatesManager.getSortOrderOfColumn(t);Be(e,...mce(s?`${s}ending`:"none"))}}function R0e(t){t===!0&&this.hot.view&&Rh(Fu,this,Z_).call(this)}function E0e(t,e,n,r){$M(e.row,e.col,t)!==!1&&this.wasClickableHeaderClicked(t,e.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(r.column=!0)}function fu(t,e,n){return(e=_0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _0e(t){var e=T0e(t,"string");return typeof e=="symbol"?e:e+""}function T0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class O0e{constructor(e,n){fu(this,"plugin",void 0),fu(this,"hot",void 0),fu(this,"endpoints",[]),fu(this,"settings",void 0),fu(this,"settingsType","array"),fu(this,"currentEndpoint",null),fu(this,"cellsToSetCache",[]),this.plugin=e,this.hot=this.plugin.hot,this.settings=n}initEndpoints(){this.endpoints=this.parseSettings(),this.refreshAllEndpoints()}getEndpoint(e){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings)[e]:this.endpoints[e]}getAllEndpoints(){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings):this.endpoints}fillMissingEndpointData(e){return this.parseSettings(e.call(this))}parseSettings(e){const n=[];let r=e;if(!r&&typeof this.settings=="function"){this.settingsType="function";return}return r||(r=this.settings),G(r,i=>{const o={};this.assignSetting(i,o,"ranges",[[0,this.hot.countRows()-1]]),this.assignSetting(i,o,"reversedRowCoords",!1),this.assignSetting(i,o,"destinationRow",new Error(`
        You must provide a destination row for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(i,o,"destinationColumn",new Error(`
        You must provide a destination column for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(i,o,"sourceColumn",i.destinationColumn),this.assignSetting(i,o,"type","sum"),this.assignSetting(i,o,"forceNumeric",!1),this.assignSetting(i,o,"suppressDataTypeErrors",!0),this.assignSetting(i,o,"customFunction",null),this.assignSetting(i,o,"readOnly",!0),this.assignSetting(i,o,"roundFloat",!1),n.push(o)}),n}assignSetting(e,n,r,i){if(r==="ranges"&&e[r]===void 0){n[r]=i;return}else if(r==="ranges"&&e[r].length===0)return;if(e[r]===void 0){if(i instanceof Error)throw i;n[r]=i}else r==="destinationRow"&&n.reversedRowCoords?n[r]=this.hot.countRows()-e[r]-1:n[r]=e[r]}resetSetupBeforeStructureAlteration(e,n,r){if(this.settingsType!=="function")return;const i=e.indexOf("row")>-1?"row":"col",o=this.getAllEndpoints();G(o,s=>{i==="row"&&s.destinationRow>=n&&(e==="insert_row"?s.alterRowOffset=r:e==="remove_row"&&(s.alterRowOffset=-1*r)),i==="col"&&s.destinationColumn>=n&&(e==="insert_col"?s.alterColumnOffset=r:e==="remove_col"&&(s.alterColumnOffset=-1*r))}),this.resetAllEndpoints(o,!1)}resetSetupAfterStructureAlteration(e,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(this.settingsType==="function"){const d=()=>(this.hot.removeHook("beforeViewRender",d),this.refreshAllEndpoints());this.hot.addHookOnce("beforeViewRender",d);return}const a=e.indexOf("row")>-1?"row":"col",l=e.indexOf("remove")>-1?-1:1,u=this.getAllEndpoints(),c=e.indexOf("move_row")===0,h=n;G(u,d=>{a==="row"&&d.destinationRow>=h&&(d.alterRowOffset=l*r),a==="col"&&d.destinationColumn>=h&&(d.alterColumnOffset=l*r)}),this.resetAllEndpoints(u,!c),c?G(u,d=>{this.extendEndpointRanges(d,h,i[0],i.length),this.recreatePhysicalRanges(d),this.clearOffsetInformation(d)}):G(u,d=>{this.shiftEndpointCoordinates(d,h)}),s&&this.refreshAllEndpoints()}clearOffsetInformation(e){e.alterRowOffset=void 0,e.alterColumnOffset=void 0}extendEndpointRanges(e,n,r,i){G(e.ranges,o=>{o[1]&&(n>=o[0]&&n<=o[1]?r>o[1]?o[1]+=i:r<o[0]&&(o[0]-=i):r>=o[0]&&r<=o[1]&&(o[1]-=i,n<=o[0]&&(o[0]+=1,o[1]+=1)))})}recreatePhysicalRanges(e){const n=e.ranges,r=[],i=[];G(n,o=>{const s=[];if(o[1])for(let a=o[0];a<=o[1];a++)s.push(this.hot.toPhysicalRow(a));else s.push(this.hot.toPhysicalRow(o[0]));i.push(s)}),G(i,o=>{let s=[];G(o,(a,l)=>{l===0?s.push(a):o[l]!==o[l-1]+1&&(s.push(o[l-1]),r.push(s),s=[],s.push(a)),l===o.length-1&&(s.push(a),r.push(s))})}),e.ranges=r}shiftEndpointCoordinates(e,n){e.alterRowOffset&&e.alterRowOffset!==0?(e.destinationRow+=e.alterRowOffset||0,G(e.ranges,r=>{G(r,(i,o)=>{i>=n&&(r[o]+=e.alterRowOffset||0)})})):e.alterColumnOffset&&e.alterColumnOffset!==0&&(e.destinationColumn+=e.alterColumnOffset||0,e.sourceColumn+=e.alterColumnOffset||0)}resetAllEndpoints(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getAllEndpoints(),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.some(i=>{const o=i.alterRowOffset||0,s=i.alterColumnOffset||0;return i.destinationRow+o>=this.hot.countRows()||i.destinationColumn+s>=this.hot.countCols()})||(this.cellsToSetCache=[],G(e,i=>{this.resetEndpointValue(i,n)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}refreshAllEndpoints(){this.cellsToSetCache=[],G(this.getAllEndpoints(),e=>{this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshChangedEndpoints(e){const n=[];this.cellsToSetCache=[],G(e,(r,i,o)=>{`${r[2]||""}`!=`${r[3]}`&&G(this.getAllEndpoints(),(s,a)=>{this.hot.propToCol(o[i][1])===s.sourceColumn&&n.indexOf(a)===-1&&n.push(a)})}),G(n,r=>{this.refreshEndpoint(this.getEndpoint(r))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshCellMetas(){this.endpoints.forEach(e=>{const n=this.hot.toVisualRow(e.destinationRow);if(n!==null){const r=this.hot.getCellMeta(n,e.destinationColumn);r.readOnly=e.readOnly,r.className="columnSummaryResult"}})}refreshEndpoint(e){this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e),this.currentEndpoint=null}resetEndpointValue(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=e.alterRowOffset||0,i=e.alterColumnOffset||0;this.cellsToSetCache.push([this.hot.toVisualRow(e.destinationRow+(n?r:0)),this.hot.toVisualColumn(e.destinationColumn+(n?i:0)),""])}setEndpointValue(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.hot.toVisualRow(e.destinationRow);if(e.destinationRow>=this.hot.countRows()||e.destinationColumn>=this.hot.countCols()){this.throwOutOfBoundsWarning();return}const o=this.hot.toVisualRow(e.destinationRow);if(o!==null){const s=this.hot.getCellMeta(o,e.destinationColumn);(n==="init"||s.readOnly!==e.readOnly)&&(s.readOnly=e.readOnly,s.className="columnSummaryResult")}if((e.roundFloat===!0||Number.isInteger(e.roundFloat))&&!isNaN(e.result)){const s=e.roundFloat;let a=0;Number.isInteger(s)&&(a=Math.min(Math.max(0,s),100)),e.result=e.result.toFixed(a)}r?this.hot.setDataAtCell(i,e.destinationColumn,e.result,"ColumnSummary.set"):this.cellsToSetCache.push([i,e.destinationColumn,e.result]),e.alterRowOffset=void 0,e.alterColumnOffset=void 0}throwOutOfBoundsWarning(){bt("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}function zR(t){return t==null||isNaN(t)}function x0e(t,e){P0e(t,e),e.add(t)}function P0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function M0e(t,e,n){return(e=A0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A0e(t){var e=I0e(t,"string");return typeof e=="symbol"?e:e+""}function I0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qv(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const YR="columnSummary",N0e=220;var Bf=new WeakSet;class k0e extends wt{constructor(){super(...arguments),x0e(this,Bf),M0e(this,"endpoints",null)}static get PLUGIN_KEY(){return YR}static get PLUGIN_PRIORITY(){return N0e}isEnabled(){return!!this.hot.getSettings()[YR]}enablePlugin(){var e=this;this.enabled||(this.settings=this.hot.getSettings()[YR],this.endpoints=new O0e(this,this.settings),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return qv(Bf,e,H0e).call(e,...r)}),this.addHook("afterChange",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return qv(Bf,e,L0e).call(e,...r)}),this.addHook("afterUpdateSettings",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return qv(Bf,e,D0e).call(e,...r)}),this.addHook("beforeCreateRow",(n,r,i)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_row",n,r,null,i)),this.addHook("beforeCreateCol",(n,r,i)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_col",n,r,null,i)),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.endpoints.resetSetupBeforeStructureAlteration("remove_row",...r)}),this.addHook("beforeRemoveCol",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.endpoints.resetSetupBeforeStructureAlteration("remove_col",...r)}),this.addHook("afterCreateRow",(n,r,i)=>this.endpoints.resetSetupAfterStructureAlteration("insert_row",n,r,null,i)),this.addHook("afterCreateCol",(n,r,i)=>this.endpoints.resetSetupAfterStructureAlteration("insert_col",n,r,null,i)),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.endpoints.resetSetupAfterStructureAlteration("remove_row",...r)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.endpoints.resetSetupAfterStructureAlteration("remove_col",...r)}),this.addHook("afterRowMove",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return qv(Bf,e,$0e).call(e,...r)}),super.enablePlugin())}disablePlugin(){this.endpoints=null,this.settings=null,this.currentEndpoint=null,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.endpoints.initEndpoints(),super.updatePlugin()}calculate(e){switch(e.type.toLowerCase()){case"sum":e.result=this.calculateSum(e);break;case"min":e.result=this.calculateMinMax(e,e.type);break;case"max":e.result=this.calculateMinMax(e,e.type);break;case"count":e.result=this.countEntries(e);break;case"average":e.result=this.calculateAverage(e);break;case"custom":e.result=e.customFunction.call(this,e);break}}calculateSum(e){let n=0;return Qe(e.ranges,r=>{n+=this.getPartialSum(r,e.sourceColumn)}),n}getPartialSum(e,n){let r=0,i=e[1]||e[0],o=null,s=0;do{if(o=this.getCellValue(i,n),o=zR(o)?null:o,o!==null){const a=(`${o}`.split(".")[1]||[]).length||1;a>s&&(s=a)}r+=o||0,i-=1}while(i>=e[0]);return Math.round(r*10**s)/10**s}calculateMinMax(e,n){let r=null;return Qe(e.ranges,i=>{const o=this.getPartialMinMax(i,e.sourceColumn,n);if(r===null&&o!==null&&(r=o),o!==null)switch(n){case"min":r=Math.min(r,o);break;case"max":r=Math.max(r,o);break}}),r===null?"Not enough data":r}getPartialMinMax(e,n,r){let i=null,o=e[1]||e[0],s;do{if(s=this.getCellValue(o,n),s=zR(s)?null:s,i===null)i=s;else if(s!==null)switch(r){case"min":i=Math.min(i,s);break;case"max":i=Math.max(i,s);break}o-=1}while(o>=e[0]);return i}countEmpty(e,n){let r,i=0,o=e[1]||e[0];do r=this.getCellValue(o,n),r=zR(r)?null:r,r===null&&(i+=1),o-=1;while(o>=e[0]);return i}countEntries(e){let n=0;const r=e.ranges;return Qe(r,i=>{const o=i[1]===void 0?1:i[1]-i[0]+1,s=this.countEmpty(i,e.sourceColumn);n+=o,n-=s}),n}calculateAverage(e){const n=this.calculateSum(e),r=this.countEntries(e);return n/r}getCellValue(e,n){const r=this.hot.toVisualRow(e),i=this.hot.toVisualColumn(n);let o=this.hot.getSourceDataAtCell(e,n),s="";if(r!==null&&i!==null&&(s=this.hot.getCellMeta(r,i).className||""),s.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&(typeof o=="string"&&(o=o.replace(/,/,".")),o=parseFloat(o)),isNaN(o)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(St`ColumnSummary plugin: cell at (${e}, ${n}) is not in a\x20
          numeric format. Cannot do the calculation.`);return o}}function H0e(){this.endpoints.initEndpoints()}function D0e(t){t.columns!==void 0&&this.endpoints.refreshCellMetas()}function L0e(t,e){t&&e!=="ColumnSummary.reset"&&e!=="ColumnSummary.set"&&e!=="loadData"&&this.endpoints.refreshChangedEndpoints(t)}function $0e(t,e){this.endpoints.resetSetupBeforeStructureAlteration("move_row",t[0],t.length,t,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",e,t.length,t,this.pluginName)}function F0e(t,e){XU(t,e),e.add(t)}function GR(t,e,n){XU(t,e),e.set(t,n)}function XU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Eh(t,e){return t.get(FM(t,e))}function Q_(t,e,n){return t.set(FM(t,e),n),n}function FM(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var LC=new WeakMap,Xv=new WeakMap,Zv=new WeakMap,VD=new WeakSet;class ZU{constructor(){F0e(this,VD),GR(this,LC,!0),GR(this,Xv,null),GR(this,Zv,new ResizeObserver(e=>FM(VD,this,B0e).call(this,e)))}setObservedElement(e){Q_(Xv,this,e)}unobserve(){Eh(Zv,this).unobserve(Eh(Xv,this))}observe(){Q_(LC,this,!0),Eh(Zv,this).observe(Eh(Xv,this))}destroy(){Eh(Zv,this).disconnect()}}function B0e(t){if(Eh(LC,this)||!Array.isArray(t)||!t.length){Q_(LC,this,!1);return}t.forEach(e=>{let{borderBoxSize:n}=e;const{inlineSize:r,blockSize:i}=n[0];this.runLocalHooks("resize",r,i)})}xt(ZU,ir);function gu(t,e,n){j0e(t,e),e.set(t,n)}function j0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Pt(t,e){return t.get(QU(t,e))}function Ys(t,e,n){return t.set(QU(t,e),n),n}function QU(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var mu=new WeakMap,KR=new WeakMap,Gs=new WeakMap,pu=new WeakMap,$a=new WeakMap,Qv=new WeakMap,th=new WeakMap;class qu{static get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"}static get CLASS_EDITOR(){return"htComments"}static get CLASS_INPUT(){return"htCommentTextArea"}static get CLASS_CELL(){return"htCommentCell"}constructor(e,n){var r=this;gu(this,mu,void 0),gu(this,KR,!1),gu(this,Gs,null),gu(this,pu,void 0),gu(this,$a,void 0),gu(this,Qv,!0),gu(this,th,new ZU),Ys(mu,this,e),Ys(KR,this,n),Ys(pu,this,this.createEditor()),Ys($a,this,Pt(pu,this).style),Pt(th,this).setObservedElement(this.getInputElement()),Pt(th,this).addLocalHook("resize",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("resize",...o)}),this.hide()}setPosition(e,n){Pt($a,this).left=`${e}px`,Pt($a,this).top=`${n}px`}setSize(e,n){if(e&&n){const r=this.getInputElement();r.style.width=`${e}px`,r.style.height=`${n}px`}}getSize(){return{width:Ft(this.getInputElement()),height:Rn(this.getInputElement())}}observeSize(){Pt(th,this).observe()}resetSize(){const e=this.getInputElement();e.style.width="",e.style.height=""}setReadOnlyState(e){const n=this.getInputElement();n.readOnly=e}show(){Pt($a,this).display="block",Ys(Qv,this,!1)}hide(){Pt(th,this).unobserve(),Pt(Qv,this)||(Pt($a,this).display="none"),Ys(Qv,this,!0)}isVisible(){return Pt($a,this).display==="block"}setValue(){const n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")||"";this.getInputElement().value=n}getValue(){return this.getInputElement().value}isFocused(){return Pt(mu,this).activeElement===this.getInputElement()}focus(){this.getInputElement().focus()}createEditor(){const e=Pt(mu,this).createElement("div"),n=Pt(mu,this).createElement("textarea");return e.style.display="none",Ys(Gs,this,Pt(mu,this).createElement("div")),Pt(Gs,this).setAttribute("dir",Pt(KR,this)?"rtl":"ltr"),ge(Pt(Gs,this),qu.CLASS_EDITOR_CONTAINER),Pt(mu,this).body.appendChild(Pt(Gs,this)),ge(e,qu.CLASS_EDITOR),ge(n,qu.CLASS_INPUT),n.setAttribute("data-hot-input",!0),e.appendChild(n),Pt(Gs,this).appendChild(e),e}getInputElement(){return Pt(pu,this).querySelector(`.${qu.CLASS_INPUT}`)}destroy(){const e=Pt(Gs,this)?Pt(Gs,this).parentNode:null;Pt(pu,this).parentNode.removeChild(Pt(pu,this)),Ys(pu,this,null),Ys($a,this,null),Pt(th,this).destroy(),e&&e.removeChild(Pt(Gs,this))}}xt(qu,ir);function qR(t,e,n){return(e=V0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V0e(t){var e=W0e(t,"string");return typeof e=="symbol"?e:e+""}function W0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const U0e=250,z0e=250;class JU{constructor(e){qR(this,"wasLastActionShow",!0),qR(this,"showDebounced",null),qR(this,"hidingTimer",null),this.updateDelay(e)}hide(){this.wasLastActionShow=!1,this.hidingTimer=setTimeout(()=>{this.wasLastActionShow===!1&&this.runLocalHooks("hide")},z0e)}show(e){this.wasLastActionShow=!0,this.showDebounced(e)}cancelHiding(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}updateDelay(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U0e;this.showDebounced=Cx(n=>{this.wasLastActionShow&&this.runLocalHooks("show",n.from.row,n.from.col)},e)}destroy(){this.clearLocalHooks()}}xt(JU,ir);function Y0e(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","")} ${e}`}function G0e(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","")} ${e}`}function vu(t,e){const n={};return G(t,r=>{r.forAll((i,o)=>{i>=0&&o>=0&&(n[i]||(n[i]=[]),n[i][o]=e(i,o))})}),n}function Xa(t,e,n,r,i){G(t,o=>{o.forAll((s,a)=>{s>=0&&a>=0&&K0e(s,a,e,n,r,i)})})}function K0e(t,e,n,r,i,o){const s=i(t,e);let a=r;s.className&&(n==="vertical"?a=Y0e(s.className,r):a=G0e(s.className,r)),o(t,e,"className",a)}function na(t){return`<span class="selected"></span>${t}`}function Bg(t,e){let n=!1;return Array.isArray(t)&&G(t,r=>(r.forAll((i,o)=>{if(i>=0&&o>=0&&e(i,o))return n=!0,!1}),n)),n}function bS(t,e){const n={top:0,left:0};if(e!==t.ownerDocument){const{frameElement:r}=e.defaultView,{top:i,left:o}=r.getBoundingClientRect();n.top=i,n.left=o}return n}function q0e(t){return function(e,n){const r=this.getCellMeta(e,n).className;return r&&r.indexOf(t)!==-1}}function Fr(t,e){return Bg(t.getSelectedRange(),q0e(e).bind(t))}const Xe="---------";function X0e(){return{name:Xe}}const ki="alignment";function Z0e(){return{key:ki,name(){return this.getTranslatedPhrase(_P)},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()?!0:!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:`${ki}:left`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(bC)},ariaChecked(){return Fr(this,"htLeft")},name(){let t=this.getTranslatedPhrase(bC);return Fr(this,"htLeft")&&(t=na(t)),t},callback(){const t=this.getSelectedRange(),e=vu(t,(i,o)=>this.getCellMeta(i,o).className),n="horizontal",r="htLeft";this.runHooks("beforeCellAlignment",e,t,n,r),Xa(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${ki}:center`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(SC)},ariaChecked(){return Fr(this,"htCenter")},name(){let t=this.getTranslatedPhrase(SC);return Fr(this,"htCenter")&&(t=na(t)),t},callback(){const t=this.getSelectedRange(),e=vu(t,(i,o)=>this.getCellMeta(i,o).className),n="horizontal",r="htCenter";this.runHooks("beforeCellAlignment",e,t,n,r),Xa(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${ki}:right`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(RC)},ariaChecked(){return Fr(this,"htRight")},name(){let t=this.getTranslatedPhrase(RC);return Fr(this,"htRight")&&(t=na(t)),t},callback(){const t=this.getSelectedRange(),e=vu(t,(i,o)=>this.getCellMeta(i,o).className),n="horizontal",r="htRight";this.runHooks("beforeCellAlignment",e,t,n,r),Xa(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${ki}:justify`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(EC)},ariaChecked(){return Fr(this,"htJustify")},name(){let t=this.getTranslatedPhrase(EC);return Fr(this,"htJustify")&&(t=na(t)),t},callback(){const t=this.getSelectedRange(),e=vu(t,(i,o)=>this.getCellMeta(i,o).className),n="horizontal",r="htJustify";this.runHooks("beforeCellAlignment",e,t,n,r),Xa(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{name:Xe},{key:`${ki}:top`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(_C)},ariaChecked(){return Fr(this,"htTop")},name(){let t=this.getTranslatedPhrase(_C);return Fr(this,"htTop")&&(t=na(t)),t},callback(){const t=this.getSelectedRange(),e=vu(t,(i,o)=>this.getCellMeta(i,o).className),n="vertical",r="htTop";this.runHooks("beforeCellAlignment",e,t,n,r),Xa(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${ki}:middle`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(TC)},ariaChecked(){return Fr(this,"htMiddle")},name(){let t=this.getTranslatedPhrase(TC);return Fr(this,"htMiddle")&&(t=na(t)),t},callback(){const t=this.getSelectedRange(),e=vu(t,(i,o)=>this.getCellMeta(i,o).className),n="vertical",r="htMiddle";this.runHooks("beforeCellAlignment",e,t,n,r),Xa(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${ki}:bottom`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(OC)},ariaChecked(){return Fr(this,"htBottom")},name(){let t=this.getTranslatedPhrase(OC);return Fr(this,"htBottom")&&(t=na(t)),t},callback(){const t=this.getSelectedRange(),e=vu(t,(i,o)=>this.getCellMeta(i,o).className),n="vertical",r="htBottom";this.runHooks("beforeCellAlignment",e,t,n,r),Xa(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1}]}}}const SS="clear_column";function Q0e(){return{key:SS,name(){return this.getTranslatedPhrase(hP)},callback(t,e){const n=e[0].start.col,r=e[0].end.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(e[0].start.row,e[0].end.row),r,"ContextMenu.clearColumn")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:!this.selection.isSelectedByColumnHeader()}}}const bp="col_left";function J0e(){return{key:bp,name(){return this.getTranslatedPhrase(oP)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner(),e=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(e,t.col,1,"ContextMenu.columnLeft")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:this.selection.isSelectedByCorner()?this.countCols()===0:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}const Sp="col_right";function eRe(){return{key:Sp,name(){return this.getTranslatedPhrase(sP)},callback(){const t=this.getSelectedRangeLast().getTopRightCorner(),e=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(e,t.col,1,"ContextMenu.columnRight")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}const Rp="make_read_only";function tRe(){return{key:Rp,checkable:!0,ariaChecked(){return Bg(this.getSelectedRange(),(e,n)=>this.getCellMeta(e,n).readOnly)},ariaLabel(){return this.getTranslatedPhrase(CC)},name(){let t=this.getTranslatedPhrase(CC);return Bg(this.getSelectedRange(),(n,r)=>this.getCellMeta(n,r).readOnly)&&(t=na(t)),t},callback(){const t=this.getSelectedRange(),e=Bg(t,(n,r)=>this.getCellMeta(n,r).readOnly);G(t,n=>{n.forAll((r,i)=>{r>=0&&i>=0&&this.setCellMeta(r,i,"readOnly",!e)})}),this.render()},disabled(){const t=this.getSelectedRangeLast();return!!(!t||t.isSingleHeader()||this.selection.isSelectedByCorner()||this.countRows()===0||this.countCols()===0||!this.getSelectedRange()||this.getSelectedRange().length===0)}}}const RS="redo";function nRe(){return{key:RS,name(){return this.getTranslatedPhrase(cP)},callback(){this.redo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}const Ep="remove_col";function rRe(){return{key:Ep,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[,n,,r]=t[0];n-r!==0&&(e=1)}return this.getTranslatedPhrase(lP,e)},callback(){this.alter("remove_col",wve(this),null,"ContextMenu.removeColumn")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.col<0)return!0;const e=this.countCols();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByRowHeader()||e===0},hidden(){return!this.getSettings().allowRemoveColumn}}}const ES="remove_row";function iRe(){return{key:ES,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[n,,r]=t[0];n-r!==0&&(e=1)}return this.getTranslatedPhrase(aP,e)},callback(){this.alter("remove_row",Cve(this),1,"ContextMenu.removeRow")},disabled(){const t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.row<0)return!0;const e=this.countRows();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByColumnHeader()||e===0},hidden(){return!this.getSettings().allowRemoveRow}}}const _S="row_above";function oRe(){return{key:_S,name(){return this.getTranslatedPhrase(rP)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner();this.alter("insert_row_above",t.row,1,"ContextMenu.rowAbove")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.row<0?!0:this.selection.isSelectedByCorner()?this.countRows()===0:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}const TS="row_below";function sRe(){return{key:TS,name(){return this.getTranslatedPhrase(iP)},callback(){const t=this.getSelectedRangeLast().getBottomRightCorner();this.alter("insert_row_below",t.row,1,"ContextMenu.rowBelow")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.row<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}const km="no_items";function aRe(){return{key:km,name(){return this.getTranslatedPhrase(nP)},disabled:!0,isCommand:!1}}const OS="undo";function lRe(){return{key:OS,name(){return this.getTranslatedPhrase(uP)},callback(){this.undo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}const uRe=[_S,TS,bp,Sp,SS,ES,Ep,OS,RS,Rp,ki,Xe,km],cRe={[Xe]:X0e,[km]:aRe,[_S]:oRe,[TS]:sRe,[bp]:J0e,[Sp]:eRe,[SS]:Q0e,[ES]:iRe,[Ep]:rRe,[OS]:lRe,[RS]:nRe,[Rp]:tRe,[ki]:Z0e};function ez(){const t={};return Qe(cRe,(e,n)=>{t[n]=e()}),t}function hRe(t){return{key:"commentsAddEdit",name(){var e;const n=(e=this.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n!=null&&n.isCell()&&t.getCommentAtCell(n.row,n.col)?this.getTranslatedPhrase(SP):this.getTranslatedPhrase(bP)},callback(){const e=this.getSelectedRangeLast();t.setRange(e),t.show(),t.focusEditor()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function dRe(t){return{key:"commentsRemove",name(){return this.getTranslatedPhrase(RP)},callback(){this.getSelectedRangeLast().forAll((n,r)=>{n>=0&&r>=0&&t.removeCommentAtCell(n,r,!1)}),this.render()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function fRe(t){return{key:"commentsReadOnly",name(){const e=this.getTranslatedPhrase(EP);return Bg(this.getSelectedRange(),(r,i)=>t.getCommentMeta(r,i,mw))?na(e):e},callback(){this.getSelectedRangeLast().forAll((n,r)=>{if(n>=0&&r>=0){const i=!!t.getCommentMeta(n,r,mw);t.updateCommentMeta(n,r,{[mw]:!i})}})},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||!t.getCommentAtCell(e.highlight.row,e.highlight.col)||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function gRe(t,e){tz(t,e),e.add(t)}function nh(t,e,n){tz(t,e),e.set(t,n)}function tz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mRe(t,e,n){return(e=pRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pRe(t){var e=vRe(t,"string");return typeof e=="symbol"?e:e+""}function vRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vl(t,e,n){return t.set(go(t,e),n),n}function nt(t,e){return t.get(go(t,e))}function go(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const jg="comments",yRe=60,ra="comment",yg="value",nz="style",mw="readOnly",Jv=jg,J_=`plugin:${jg}`;var At=new WeakMap,ds=new WeakMap,xS=new WeakMap,pw=new WeakMap,eT=new WeakMap,$C=new WeakMap,Jo=new WeakSet;class wRe extends wt{constructor(){super(...arguments),gRe(this,Jo),mRe(this,"range",{}),nh(this,At,null),nh(this,ds,null),nh(this,xS,!1),nh(this,pw,!1),nh(this,eT,null),nh(this,$C,"")}static get PLUGIN_KEY(){return jg}static get PLUGIN_PRIORITY(){return yRe}isEnabled(){return!!this.hot.getSettings()[jg]}enablePlugin(){var e=this;this.enabled||(nt(At,this)||(vl(At,this,new qu(this.hot.rootDocument,this.hot.isRtl())),nt(At,this).addLocalHook("resize",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return go(Jo,e,TRe).call(e,...r)})),nt(ds,this)||vl(ds,this,new JU(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",n=>this.addToContextMenu(n)),this.addHook("afterRenderer",(n,r,i,o,s,a)=>go(Jo,this,RRe).call(this,n,a)),this.addHook("afterScroll",()=>go(Jo,this,xRe).call(this)),this.addHook("afterBeginEditing",()=>this.hide()),this.addHook("afterDocumentKeyDown",n=>go(Jo,this,ORe).call(this,n)),nt(ds,this).addLocalHook("hide",()=>this.hide()),nt(ds,this).addLocalHook("show",(n,r)=>this.showAtCell(n,r)),this.registerShortcuts(),this.registerListeners(),super.enablePlugin())}updatePlugin(){nt(ds,this).updateDelay(this.getDisplayDelaySetting()),super.updatePlugin()}disablePlugin(){this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager(),n=e.getContext("grid"),r=e.addContext(J_);n.addShortcut({keys:[["Control","Alt","M"]],callback:()=>{const i=this.hot.getSelectedRangeLast();vl(pw,this,!0),this.hot.scrollToFocusedCell(()=>{this.setRange(i),this.show(),this.focusEditor(),e.setActiveContextName(J_),this.hot._registerTimeout(()=>{vl(pw,this,!1)})})},stopPropagation:!0,runOnlyIf:()=>{var i;return((i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.highlight.isCell())&&!nt(At,this).isVisible()},group:Jv}),r.addShortcut({keys:[["Escape"]],callback:()=>{nt(At,this).setValue(nt($C,this)),this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>nt(At,this).isVisible()&&nt(At,this).isFocused(),group:Jv}),r.addShortcut({keys:[["Control/Meta","Enter"]],callback:()=>{this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>nt(At,this).isVisible()&&nt(At,this).isFocused(),group:Jv})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Jv)}registerListeners(){const{rootDocument:e}=this.hot,n=this.getEditorInputElement();this.eventManager.addEventListener(e,"mouseover",r=>go(Jo,this,bRe).call(this,r)),this.eventManager.addEventListener(e,"mousedown",r=>go(Jo,this,CRe).call(this,r)),this.eventManager.addEventListener(e,"mouseup",()=>go(Jo,this,SRe).call(this)),this.eventManager.addEventListener(n,"focus",()=>go(Jo,this,_Re).call(this)),this.eventManager.addEventListener(n,"blur",()=>go(Jo,this,ERe).call(this))}setRange(e){this.range=e}clearRange(){this.range={}}targetIsCellWithComment(e){const n=hc(e.target,"TD","TBODY");return!!(n&&je(n,"htCommentCell")&&hc(n,[this.hot.rootElement]))}targetIsCommentTextArea(e){return this.getEditorInputElement()===e.target}setComment(e){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const n=nt(At,this).getValue();let r="";e!=null?r=e:n!=null&&(r=n);const i=this.range.from.row,o=this.range.from.col;this.updateCommentMeta(i,o,{[yg]:r}),this.hot.render()}setCommentAtCell(e,n,r){this.setRange({from:this.hot._createCellCoords(e,n)}),this.setComment(r)}removeComment(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,ra),e&&this.hot.render(),this.hide()}removeCommentAtCell(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.setRange({from:this.hot._createCellCoords(e,n)}),this.removeComment(r)}getComment(){const e=this.range.from.row,n=this.range.from.col;return this.getCommentMeta(e,n,yg)}getCommentAtCell(e,n){return this.getCommentMeta(e,n,yg)}show(){var e;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const{from:{row:n,col:r}}=this.range;if(n<0||n>this.hot.countSourceRows()-1||r<0||r>this.hot.countSourceCols()-1)return!1;const i=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return nt(ds,this).cancelHiding(),nt(At,this).setValue((e=i[ra]?i[ra][yg]:null)!==null&&e!==void 0?e:""),nt(At,this).show(),this.refreshEditor(!0),!0}showAtCell(e,n){return this.setRange({from:this.hot._createCellCoords(e,n)}),this.show()}hide(){nt(At,this).hide()}refreshEditor(){var e,n;if(!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(!this.range.from||!nt(At,this).isVisible()))return;const{rowIndexMapper:i,columnIndexMapper:o}=this.hot,{row:s,col:a}=this.range.from;let l=i.getRenderableFromVisualIndex(s),u=o.getRenderableFromVisualIndex(a);const c=l===null;nt(At,this).setPosition(0,0),l===null&&(l=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(s,-1))),u===null&&(u=o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(a,-1)));const h=l===null,d=u===null;l=(e=l)!==null&&e!==void 0?e:0,u=(n=u)!==null&&n!==void 0?n:0;const{rootWindow:f,view:{_wt:g}}=this.hot,{wtTable:v}=g,y=g.getCell({row:l,col:u},!0),p=this.getCommentMeta(s,a,nz);p?nt(At,this).setSize(p.width,p.height):nt(At,this).resetSize();const m=d?0:v.getStretchedColumnWidth(u),w=c&&!h?Rn(y):0,{left:C,top:S,width:x,height:_}=y.getBoundingClientRect(),{width:O,height:I}=nt(At,this).getSize(),{innerWidth:T,innerHeight:P}=this.hot.rootWindow,M=this.hot.rootDocument.documentElement;let N=C+f.scrollX+m,$=S+f.scrollY+w;this.hot.isRtl()&&(N-=O+m),this.hot.isLtr()&&C+x+O>T?N=C+f.scrollX-O-1:this.hot.isRtl()&&N<-(M.scrollWidth-M.clientWidth)&&(N=C+f.scrollX+m+1),S+I>P&&($-=I-_+1),nt(At,this).setPosition(N,$),nt(At,this).setReadOnlyState(this.getCommentMeta(s,a,mw)),nt(At,this).observeSize()}focusEditor(){nt(At,this).focus()}updateCommentMeta(e,n,r){const i=this.hot.getCellMeta(e,n)[ra];let o;i?(o=Ar(i),aS(o,r)):o=r,this.hot.setCellMeta(e,n,ra,o)}getCommentMeta(e,n,r){const i=this.hot.getCellMeta(e,n);if(i[ra])return i[ra][r]}addToContextMenu(e){e.items.push({name:Xe},hRe(this),dRe(this),fRe(this))}getDisplayDelaySetting(){const e=this.hot.getSettings()[jg];if(Ze(e))return e.displayDelay}getEditorInputElement(){return nt(At,this).getInputElement()}destroy(){var e,n;(e=nt(At,this))===null||e===void 0||e.destroy(),(n=nt(ds,this))===null||n===void 0||n.destroy(),super.destroy()}}function CRe(t){if(!(!this.hot.view||!this.hot.view._wt)&&!nt(xS,this)&&!this.targetIsCommentTextArea(t)){const e=hc(t.target,"TD","TBODY");let n=null;e&&(n=this.hot.getCoords(e)),(!e||this.range.from&&n&&(this.range.from.row!==n.row||this.range.from.col!==n.col))&&this.hide()}}function bRe(t){const{rootDocument:e}=this.hot;if(!(nt(xS,this)||nt(At,this).isFocused()||je(t.target,"wtBorder")||nt(eT,this)===t.target||!nt(At,this)))if(vl(eT,this,e.elementFromPoint(t.clientX,t.clientY)),this.targetIsCellWithComment(t)){const n=this.hot._createCellRange(this.hot.getCoords(t.target));nt(ds,this).show(n)}else ic(t.target,e)&&!this.targetIsCommentTextArea(t)&&nt(ds,this).hide()}function SRe(){vl(xS,this,!1)}function RRe(t,e){e[ra]&&e[ra][yg]&&ge(t,e.commentedCellClassName)}function ERe(){vl($C,this,""),this.hot.getShortcutManager().setActiveContextName("grid"),this.setComment()}function _Re(){vl($C,this,this.getComment()),this.hot.listen(),this.hot.getShortcutManager().setActiveContextName(J_)}function TRe(t,e){this.updateCommentMeta(this.range.from.row,this.range.from.col,{[nz]:{width:t,height:e}})}function ORe(t){nt(At,this).isVisible()&&Bo(t)}function xRe(){nt(pw,this)||this.hide()}var WD=Wb,PRe=TypeError,MRe=function(t,e){if(!delete t[e])throw new PRe("Cannot delete property "+WD(e)+" of "+WD(t))},ARe=rr,IRe=np,NRe=op,kRe=uj,HRe=MRe,DRe=cj,LRe=[].unshift(0)!==1,$Re=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},FRe=LRe||!$Re();ARe({target:"Array",proto:!0,arity:1,forced:FRe},{unshift:function(e){var n=IRe(this),r=NRe(n),i=arguments.length;if(i){DRe(r+i);for(var o=r;o--;){var s=o+i;o in n?n[s]=n[o]:HRe(n,s)}for(var a=0;a<i;a++)n[a]=arguments[a]}return kRe(n,r+i)}});function XR(t,e,n){return(e=BRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BRe(t){var e=jRe(t,"string");return typeof e=="symbol"?e:e+""}function jRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rz{constructor(e){XR(this,"hot",void 0),XR(this,"commands",{}),XR(this,"commonCallback",null),this.hot=e}registerCommand(e,n){this.commands[e]=n}setCommonCallback(e){this.commonCallback=e}execute(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.split(":"),s=o[0],a=o.length===2?o[1]:null;let l=this.commands[s];if(!l)throw new Error(`Menu command '${s}' not exists.`);if(a&&l.submenu&&(l=VRe(a,l.submenu.items)),l.disabled===!0||typeof l.disabled=="function"&&l.disabled.call(this.hot)===!0||an(l,"submenu"))return;const u=[];typeof l.callback=="function"&&u.push(l.callback),typeof this.commonCallback=="function"&&u.push(this.commonCallback),r.unshift(o.join(":")),G(u,c=>c.apply(this.hot,r))}}function VRe(t,e){let n;return G(e,r=>{const i=r.key?r.key.split(":"):null;if(Array.isArray(i)&&i[1]===t)return n=r,!1}),n}function ZR(t,e,n){return(e=WRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WRe(t){var e=URe(t,"string");return typeof e=="symbol"?e:e+""}function URe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class iz{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ZR(this,"hot",void 0),ZR(this,"predefinedItems",ez()),ZR(this,"defaultOrderPattern",void 0),this.hot=e,this.defaultOrderPattern=n}setPredefinedItems(e){const n={};this.defaultOrderPattern.length=0,Qe(e,(r,i)=>{let o="";r.name===Xe?(n[Xe]=r,o=Xe):isNaN(parseInt(i,10))?(r.key=r.key===void 0?i:r.key,n[i]=r,o=r.key):(n[r.key]=r,o=r.key),this.defaultOrderPattern.push(o)}),this.predefinedItems=n}getItems(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return zRe(e,this.defaultOrderPattern,this.predefinedItems)}}function zRe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=[];let i=t;return i&&i.items?i=i.items:Array.isArray(i)||(i=e),Ze(i)?Qe(i,(o,s)=>{let a=n[typeof o=="string"?o:s];a||(a=o),Ze(o)?xn(a,o):typeof a=="string"&&(a={name:a}),a.key===void 0&&(a.key=s),r.push(a)}):G(i,(o,s)=>{let a=n[o];!a&&uRe.indexOf(o)>=0||(a||(a={name:o,key:`${s}`}),Ze(o)&&xn(a,o),a.key===void 0&&(a.key=s),r.push(a))}),r}function Fa(t,e,n){return(e=YRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YRe(t){var e=GRe(t,"string");return typeof e=="symbol"?e:e+""}function GRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class KRe{constructor(e,n){Fa(this,"top",void 0),Fa(this,"topRelative",void 0),Fa(this,"left",void 0),Fa(this,"leftRelative",void 0),Fa(this,"scrollTop",void 0),Fa(this,"scrollLeft",void 0),Fa(this,"cellHeight",void 0),Fa(this,"cellWidth",void 0);const r=n.scrollY,i=n.scrollX;let o,s,a,l,u,c;this.rootWindow=n,this.type=this.getSourceType(e),this.type==="literal"?(o=parseInt(e.top,10),a=parseInt(e.left,10),u=e.height||0,c=e.width||0,s=o,l=a,o+=r,a+=i):this.type==="event"&&(o=parseInt(e.pageY,10),a=parseInt(e.pageX,10),u=e.target.clientHeight,c=e.target.clientWidth,s=o-r,l=a-i),this.top=o,this.topRelative=s,this.left=a,this.leftRelative=l,this.scrollTop=r,this.scrollLeft=i,this.cellHeight=u,this.cellWidth=c}getSourceType(e){let n="literal";return e instanceof Event&&(n="event"),n}fitsAbove(e){return this.topRelative>=e.offsetHeight}fitsBelow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+e.offsetHeight<=n}fitsOnRight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+e.offsetWidth<=n}fitsOnLeft(e){return this.leftRelative>=e.offsetWidth}}function jf(t,e,n){qRe(t,e),e.set(t,n)}function qRe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ot(t,e){return t.get(oz(t,e))}function ey(t,e,n){return t.set(oz(t,e),n),n}function oz(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Cr=new WeakMap,Ba=new WeakMap,Br=new WeakMap,QR=new WeakMap,rh=new WeakMap;class XRe{constructor(e){jf(this,Cr,void 0),jf(this,Ba,void 0),jf(this,Br,void 0),jf(this,QR,!1),jf(this,rh,{above:0,below:0,left:0,right:0}),ey(QR,this,e)}setOffset(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ot(rh,this)[e]=n,this}setElement(e){return ey(Cr,this,e),this}setParentElement(e){return ey(Ba,this,e),this}updatePosition(e){ey(Br,this,new KRe(e,ot(Cr,this).ownerDocument.defaultView)),ot(QR,this)?(ot(Br,this).fitsBelow(ot(Cr,this))?this.setPositionBelowCursor():ot(Br,this).fitsAbove(ot(Cr,this))?this.setPositionAboveCursor():this.setPositionBelowCursor(),this.updateHorizontalPosition()):(this.setPositionBelowCursor(),this.setPositionOnRightOfCursor())}updateHorizontalPosition(){ot(Cr,this).dir==="rtl"?ot(Br,this).fitsOnLeft(ot(Cr,this))?this.setPositionOnLeftOfCursor():this.setPositionOnRightOfCursor():ot(Br,this).fitsOnRight(ot(Cr,this))?this.setPositionOnRightOfCursor():this.setPositionOnLeftOfCursor()}setPositionAboveCursor(){let e=ot(rh,this).above+ot(Br,this).top-ot(Cr,this).offsetHeight;ot(Ba,this)&&(e=ot(Br,this).top+ot(Br,this).cellHeight-ot(Cr,this).offsetHeight+3),ot(Cr,this).style.top=`${e}px`}setPositionBelowCursor(){let e=ot(rh,this).below+ot(Br,this).top+1;ot(Ba,this)&&(e=ot(Br,this).top-1),ot(Cr,this).style.top=`${e}px`}setPositionOnRightOfCursor(){let e=ot(Br,this).left;if(ot(Ba,this)){const n=Number.parseInt(getComputedStyle(ot(Ba,this).querySelector(".htCore")).borderRightWidth,10);e+=ot(Br,this).cellWidth+n}else e+=ot(rh,this).right;ot(Cr,this).style.left=`${e}px`}setPositionOnLeftOfCursor(){let e=ot(rh,this).left+ot(Br,this).left-ot(Cr,this).offsetWidth;if(ot(Ba,this)){const n=Number.parseInt(getComputedStyle(ot(Ba,this).querySelector(".htCore")).borderLeftWidth,10);e-=n}ot(Cr,this).style.left=`${e}px`}}function sz(t){let{initialPage:e=-1,size:n=()=>0,onItemSelect:r=()=>{},onClear:i=()=>{}}=t;const o=new Set;let s=_t(e,-1,g()-1);function a(y,p){const m=g()-1;return y<0&&(y=m),y>m&&(y=0),o.has(y)?-1:(o.add(y),r(y,!1)===!1&&(y=a(p===1?++y:--y,p)),y)}function l(y){y>-1&&y<g()&&r(y,!0)!==!1&&(s=y)}function u(){return s}function c(){g()>0&&(o.clear(),s=a(0,1))}function h(){g()>0&&(o.clear(),s=a(g()-1,-1))}function d(){g()>0&&(o.clear(),s=a(++s,1))}function f(){g()>0&&(o.clear(),s=a(--s,-1))}function g(){return Math.max(n(),0)}function v(){o.clear(),s=e,i()}return{setCurrentPage:l,getCurrentPage:u,toFirstItem:c,toLastItem:h,toNextItem:d,toPreviousItem:f,getSize:g,clear:v}}function ZRe(t){return it(t,e=>({start:e.getTopStartCorner(),end:e.getBottomEndCorner()}))}function tT(t){return an(t,"submenu")}function nT(t){return new RegExp(Xe,"i").test(t.name)}function vw(t,e){return t.disabled===!0||typeof t.disabled=="function"&&t.disabled.call(e)===!0}function UD(t){return an(t,"disableSelection")}function QRe(t){return je(t,"htSeparator")}function JRe(t){return je(t,"htSubmenu")}function eEe(t){return je(t,"htDisabled")}function tEe(t){return je(t,"htSelectionDisabled")}function nEe(t,e){return!t.hidden||!(typeof t.hidden=="function"&&t.hidden.call(e))}function az(t,e){const n=t.slice(0);for(let r=0;r<n.length&&n[r].name===e;)n.shift();return n}function rEe(t,e){let n=t.slice(0);return n.reverse(),n=az(n,e),n.reverse(),n}function iEe(t){const e=[];return G(t,(n,r)=>{r>0?e[e.length-1].name!==n.name&&e.push(n):e.push(n)}),e}function oEe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xe,n=t.slice(0);return n=az(n,e),n=rEe(n,e),n=iEe(n),n}function sEe(t){return t.checkable===!0}function aEe(t){return sz({size:()=>t.countRows(),onItemSelect(e,n){const r=t.getCell(e,0);if(!r||QRe(r)||eEe(r)||tEe(r))return!1;t.selectCell(e,0,...n?[e,0,!1,!1]:[])},onClear(){t.deselectCell()}})}function lEe(t){const{hot:e,hotMenu:n}=t;return[{keys:[["Control/Meta","A"]],forwardToContext:e.getShortcutManager().getContext("grid"),callback:()=>t.close(!0)},{keys:[["Tab"],["Shift","Tab"]],callback:(r,i)=>{const o=e.getSettings(),s=typeof o.tabMoves=="function"?o.tabMoves(r):o.tabMoves;i.includes("shift")?e.selection.transformStart(-s.row,-s.col):e.selection.transformStart(s.row,s.col),t.close(!0)}},{keys:[["Escape"]],callback:()=>t.close()},{keys:[["ArrowDown"]],callback:()=>t.getNavigator().toNextItem()},{keys:[["ArrowUp"]],callback:()=>t.getNavigator().toPreviousItem()},{keys:[["ArrowRight"]],callback:()=>{const r=n.getSelectedLast();if(r){const i=t.openSubMenu(r[0]);i&&i.getNavigator().toFirstItem()}}},{keys:[["ArrowLeft"]],callback:()=>{n.getSelectedLast()&&t.isSubMenu()&&(t.close(),t.isSubMenu()&&t.parentMenu.hotMenu.listen())}},{keys:[["Control/Meta","ArrowUp"],["Home"]],callback:()=>t.getNavigator().toFirstItem()},{keys:[["Control/Meta","ArrowDown"],["End"]],callback:()=>t.getNavigator().toLastItem()},{keys:[["Enter"],["Space"]],callback:r=>{const i=n.getSelectedLast();i&&(n.getSourceDataAtRow(i[0]).submenu?t.openSubMenu(i[0]).getNavigator().toFirstItem():(t.executeCommand(r),t.close(!0)))}},{keys:[["PageUp"]],callback:()=>{n.getSelectedLast()?n.selection.transformStart(-n.countVisibleRows(),0):t.getNavigator().toFirstItem()}},{keys:[["PageDown"]],callback:()=>{n.getSelectedLast()?n.selection.transformStart(n.countVisibleRows(),0):t.getNavigator().toLastItem()}}]}const lz="menu",zD=lz;function uEe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=[];r(lEe(t)),e.forEach(u=>{let{shortcuts:c,contextName:h}=u;i(c,h)});function r(u,c){a(c).addShortcuts(u,{group:lz})}function i(u,c){const h=a(c);u.forEach(d=>{let{keys:f}=d;f.forEach(g=>h.removeShortcutsByKeys(g))}),n.push({shortcuts:u,contextName:c}),r(u,c)}function o(){return[...n]}function s(u){return u?`${zD}:${u}`:zD}function a(u){var c;const h=t.hotMenu.getShortcutManager(),d=s(u);return(c=h.getContext(d))!==null&&c!==void 0?c:h.addContext(d)}function l(u){t.hotMenu.getShortcutManager().setActiveContextName(s(u))}return{addCustomShortcuts:i,getCustomShortcuts:o,getContext:a,listen:l}}function cEe(t){return(e,n,r,i,o,s)=>{const a=e.getSourceDataAtRow(r),l=t.rootDocument.createElement("div"),u=typeof s=="function"?s.call(t):s,c=typeof a.ariaLabel=="function"?a.ariaLabel.call(t):a.ariaLabel,h=typeof a.ariaChecked=="function"?a.ariaChecked.call(t):a.ariaChecked;if(Ps(n),ge(l,"htItemWrapper"),t.getSettings().ariaTags){const d=!vw(a,t)&&!UD(a)&&!nT(a);Be(n,[...sEe(a)?[sce(),gC(c),MV(h)]:[oce(),gC(u)],...d?[jd(-1)]:[],...vw(a,t)?[fce()]:[],...tT(a)?[zi(!1)]:[]])}n.className="",n.appendChild(l),nT(a)?ge(n,"htSeparator"):typeof a.renderer=="function"?(ge(n,"htCustomMenuRenderer"),n.appendChild(a.renderer(e,l,r,i,o,u))):Wd(l,u),vw(a,t)?ge(n,"htDisabled"):UD(a)?ge(n,"htSelectionDisabled"):tT(a)&&ge(n,"htSubmenu")}}function JR(t,e,n){hEe(t,e),e.set(t,n)}function hEe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function es(t,e,n){return(e=dEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dEe(t){var e=fEe(t,"string");return typeof e=="symbol"?e:e+""}function fEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eE(t,e,n){return t.set(uz(t,e),n),n}function yu(t,e){return t.get(uz(t,e))}function uz(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const YD=215;var Vf=new WeakMap,ty=new WeakMap,ny=new WeakMap;class Gd{get tableBorderWidth(){return yu(ny,this)===void 0&&this.hotMenu&&eE(ny,this,parseInt(Ea(this.hotMenu.view._wt.wtTable.TABLE).borderWidth,10)),yu(ny,this)}constructor(e,n){var r=this;es(this,"hot",void 0),es(this,"options",void 0),es(this,"eventManager",new No(this)),es(this,"container",void 0),es(this,"positioner",void 0),es(this,"hotMenu",null),es(this,"hotSubMenus",{}),es(this,"parentMenu",void 0),es(this,"menuItems",null),es(this,"origOutsideClickDeselects",null),JR(this,Vf,void 0),JR(this,ty,void 0),JR(this,ny,void 0),this.hot=e,this.options=n||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:YD,container:this.hot.rootDocument.documentElement},this.container=this.createContainer(this.options.name),this.positioner=new XRe(this.options.keepInViewport),this.parentMenu=this.options.parent||null,this.registerEvents(),this.isSubMenu()&&this.addLocalHook("afterSelectionChange",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.parentMenu.runLocalHooks("afterSelectionChange",...o)})}registerEvents(){let e=this.hot.rootWindow;for(;e;)this.eventManager.addEventListener(e.document,"mousedown",n=>this.onDocumentMouseDown(n)),this.eventManager.addEventListener(e.document,"touchstart",n=>this.onDocumentMouseDown(n)),this.eventManager.addEventListener(e.document,"contextmenu",n=>this.onDocumentContextMenu(n)),e=gd(e)}setMenuItems(e){this.menuItems=e}getNavigator(){return yu(Vf,this)}getKeyboardShortcutsCtrl(){return yu(ty,this)}getSelectedItem(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}hasSelectedItem(){return Array.isArray(this.hotMenu.getSelectedLast())}isSubMenu(){return this.parentMenu!==null}open(){this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";const e=Cx(a=>this.openSubMenu(a),300),n=this.options.minWidth||YD;let r=!1,i=Dl(this.menuItems,a=>(a.key===km&&(r=!0),nEe(a,this.hot)));if(i.length<1&&!r)i.push(ez()[km]);else if(i.length===0)return;i=oEe(i,Xe);let o=!1;const s={data:i,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth(a){return xe(a)&&a<n?n:a},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,hiddenRows:!0,maxCols:1,columns:[{data:"name",renderer:cEe(this.hot)}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",ariaTags:!1,beforeOnCellMouseOver:(a,l)=>{yu(Vf,this).setCurrentPage(l.row)},afterOnCellMouseOver:(a,l)=>{this.isAllSubMenusClosed()?e(l.row):this.openSubMenu(l.row)},rowHeights:a=>i[a].name===Xe?1:void 0,afterOnCellContextMenu:a=>{a.preventDefault(),rH()&&o&&this.hasSelectedItem()&&this.close(!0)},afterSelection:(a,l,u,c,h)=>{this.hotMenu.view.isMouseDown()&&(h.value=!0),this.runLocalHooks("afterSelectionChange",this.getSelectedItem())},beforeOnCellMouseUp:a=>{this.hasSelectedItem()&&(o=!this.isCommandPassive(this.getSelectedItem()),this.executeCommand(a))},afterOnCellMouseUp:a=>{(!rH()||!fc(a))&&o&&this.hasSelectedItem()&&(ml()||JV()?this.hot._registerTimeout(()=>this.close(!0),325):this.close(!0))},afterUnlisten:()=>{!this.hasSelectedItem()&&this.isOpened()&&this.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new this.hot.constructor(this.container,s),this.hotMenu.addHook("afterInit",()=>this.onAfterInit()),this.hotMenu.init(),eE(Vf,this,aEe(this.hotMenu)),eE(ty,this,uEe(this)),yu(ty,this).listen(),this.focus(),this.isSubMenu()&&this.addLocalHook("afterOpen",()=>this.parentMenu.runLocalHooks("afterSubmenuOpen",this)),this.runLocalHooks("afterOpen",this)}close(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isOpened()){if(e&&this.isSubMenu())this.parentMenu.close();else if(yu(Vf,this).clear(),this.closeAllSubMenus(),this.container.style.display="none",this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.isSubMenu()){if(this.hot.getSettings().ariaTags){const n=this.parentMenu.hotMenu.getSelectedLast();if(n){const r=this.parentMenu.hotMenu.getCell(n[0],0);Be(r,[zi(!1)])}}this.parentMenu.hotMenu.listen()}}}openSubMenu(e){if(!this.hotMenu)return!1;const n=this.hotMenu.getCell(e,0);if(this.closeAllSubMenus(),!n||!JRe(n))return!1;const r=this.hotMenu.getSourceDataAtRow(e),i=new Gd(this.hot,{parent:this,name:r.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return i.setMenuItems(r.submenu.items),i.open(),i.setPosition(n.getBoundingClientRect()),this.hotSubMenus[r.key]=i,this.hot.getSettings().ariaTags&&Be(n,[zi(!0)]),i}closeSubMenu(e){const n=this.hotMenu.getSourceDataAtRow(e),r=this.hotSubMenus[n.key];if(r){r.destroy(),delete this.hotSubMenus[n.key];const i=this.hotMenu.getCell(e,0);this.hot.getSettings().ariaTags&&Be(i,[zi(!1)])}}closeAllSubMenus(){G(this.hotMenu.getData(),(e,n)=>this.closeSubMenu(n))}isAllSubMenusClosed(){return Object.keys(this.hotSubMenus).length===0}focus(){this.isOpened()&&(this.hotMenu.rootElement.focus({preventScroll:!0}),this.getKeyboardShortcutsCtrl().listen(),this.hotMenu.listen())}destroy(){const e=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),e&&e.removeChild(this.container)}isOpened(){return this.hotMenu!==null}executeCommand(e){if(!this.isOpened()||!this.hasSelectedItem())return;const n=this.getSelectedItem();if(this.runLocalHooks("select",n,e),this.isCommandPassive(n))return;const r=this.hot.getSelectedRange(),i=r?ZRe(r):[];this.runLocalHooks("executeCommand",n.key,i,e),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",n.key,i,e)}isCommandPassive(e){return e.isCommand===!1||nT(e)||vw(e,this.hot)||tT(e)}setOffset(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.positioner.setOffset(e,n)}setPosition(e){this.isSubMenu()&&this.positioner.setParentElement(this.parentMenu.container),this.positioner.setElement(this.container).updatePosition(e)}updateMenuDimensions(){const{wtTable:e}=this.hotMenu.view._wt,n=this.hotMenu.getSettings().data,r=e.hider.style,i=e.holder.style,o=parseInt(r.width,10),s=kr(n,(a,l,u)=>{const h=this.hotMenu.getCell(u,0)?Rn(this.hotMenu.getCell(u,0)):0;return a+(l.name===Xe?1:h)},0);i.width=`${o+3}px`,i.height=`${s+3}px`,r.height=i.height}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const n=this.options.container.ownerDocument;let r=e,i;return r&&(Ht(r)&&(r=r.call(this.hot),r===null||$t(r)?r="":r=r.toString()),r=r.replace(/[^A-z0-9]/g,"_"),r=`${this.options.className}Sub_${r}`,i=n.querySelector(`.${this.options.className}.${r}`)),i||(i=n.createElement("div"),ge(i,`htMenu ${this.options.className}`),r&&ge(i,r),this.options.container.appendChild(i)),i}onAfterInit(){this.updateMenuDimensions(),this.hot.getSettings().ariaTags&&Be(this.hotMenu.rootElement,[ice(),jd(-1)])}onDocumentMouseDown(e){this.isOpened()&&(this.options.standalone&&this.hotMenu&&!ic(e.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!ic(e.target,".htMenu")&&this.close(!0))}onDocumentContextMenu(e){this.isOpened()&&je(e.target,"htCore")&&ic(e.target,this.hotMenu.rootElement)&&e.preventDefault()}}xt(Gd,ir);function gEe(t,e){mEe(t,e),e.add(t)}function mEe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tE(t,e,n){return(e=pEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pEe(t){var e=vEe(t,"string");return typeof e=="symbol"?e:e+""}function vEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ry(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const wg="contextMenu",yEe=70,GD=wg;Te.getSingleton().register("afterContextMenuDefaultOptions");Te.getSingleton().register("beforeContextMenuShow");Te.getSingleton().register("afterContextMenuShow");Te.getSingleton().register("afterContextMenuHide");Te.getSingleton().register("afterContextMenuExecute");var Wf=new WeakSet;class PS extends wt{constructor(){super(...arguments),gEe(this,Wf),tE(this,"commandExecutor",new rz(this.hot)),tE(this,"itemsFactory",null),tE(this,"menu",null)}static get PLUGIN_KEY(){return wg}static get PLUGIN_PRIORITY(){return yEe}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[_S,TS,Xe,bp,Sp,Xe,ES,Ep,Xe,OS,RS,Xe,Rp,Xe,ki]}isEnabled(){return!!this.hot.getSettings()[wg]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[wg];typeof n.callback=="function"&&this.commandExecutor.setCommonCallback(n.callback),this.menu=new Gd(this.hot,{className:"htContextMenu",keepInViewport:!0,container:n.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",()=>ry(Wf,this,CEe).call(this)),this.menu.addLocalHook("afterOpen",()=>ry(Wf,this,bEe).call(this)),this.menu.addLocalHook("afterClose",()=>ry(Wf,this,SEe).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.executeCommand.call(e,...i)}),this.addHook("afterOnCellContextMenu",r=>ry(Wf,this,wEe).call(this,r)),this.registerShortcuts(),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control/Meta","Shift","Backslash"],["Shift","F10"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();this.hot.scrollToFocusedCell();const n=this.hot.getCell(e.row,e.col,!0).getBoundingClientRect(),r=bS(this.menu.container,this.hot.rootDocument);this.open({left:n.left+r.left,top:n.top+r.top-1+n.height},{left:n.width,above:-n.height}),this.menu.getNavigator().toFirstItem()},runOnlyIf:()=>{var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&this.hot.selection.isCellVisible(n)&&!this.menu.isOpened()},group:GD})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(GD)}open(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};if((n=this.menu)!==null&&n!==void 0&&n.isOpened())return;this.prepareMenuItems(),this.menu.open(),this.menu.tableBorderWidth>0||(r.below+=1,r.right+=1,r.above-=1,r.left-=1),Qe(r,(o,s)=>{this.menu.setOffset(s,o)}),this.menu.setPosition(e)}close(){var e;(e=this.menu)===null||e===void 0||e.close(),this.itemsFactory=null}executeCommand(e){this.itemsFactory===null&&this.prepareMenuItems();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.commandExecutor.execute(e,...r)}prepareMenuItems(){this.itemsFactory=new iz(this.hot,PS.DEFAULT_ITEMS);const e=this.hot.getSettings()[wg],n={items:this.itemsFactory.getItems(e)};this.hot.runHooks("afterContextMenuDefaultOptions",n),this.itemsFactory.setPredefinedItems(n.items);const r=this.itemsFactory.getItems(e);this.hot.runHooks("beforeContextMenuSetItems",r),this.menu.setMenuItems(r),G(r,i=>this.commandExecutor.registerCommand(i.key,i))}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function wEe(t){const e=this.hot.getSettings(),n=e.rowHeaders,r=e.colHeaders;function i(a){return a.nodeName==="TD"||a.parentNode.nodeName==="TD"}const o=t.target;if(this.close(),je(o,"handsontableInput")||(t.preventDefault(),t.stopPropagation(),!(n||r)&&!i(o)&&!(je(o,"current")&&je(o,"wtBorder"))))return;const s=bS(this.menu.container,this.hot.rootDocument);this.open({top:t.clientY+s.top,left:t.clientX+s.left})}function CEe(){this.hot.runHooks("beforeContextMenuShow",this)}function bEe(){this.hot.runHooks("afterContextMenuShow",this)}function SEe(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}PS.SEPARATOR={name:Xe};function REe(t){return{key:"copy",name(){return this.getTranslatedPhrase(dP)},callback(){t.copyCellsOnly()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function EEe(t){return{key:"copy_column_headers_only",name(){const e=this.getSelectedRangeLast(),n=e?_t(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(mP,n)},callback(){t.copyColumnHeadersOnly()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function _Ee(t){return{key:"copy_with_column_group_headers",name(){const e=this.getSelectedRangeLast(),n=e?_t(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(gP,n)},callback(){t.copyWithAllColumnHeaders()},disabled(){if(!this.hasColHeaders()||!this.getSettings().nestedHeaders)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function TEe(t){return{key:"copy_with_column_headers",name(){const e=this.getSelectedRangeLast(),n=e?_t(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(fP,n)},callback(){t.copyWithColumnHeaders()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function OEe(t){return{key:"cut",name(){return this.getTranslatedPhrase(pP)},callback(){t.cut()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}class xEe{constructor(){this.data={}}setData(e,n){this.data[e]=n}getData(e){return this.data[e]||void 0}}class PEe{constructor(){this.clipboardData=new xEe}preventDefault(){}}function MEe(t,e){cz(t,e),e.add(t)}function ih(t,e,n){cz(t,e),e.set(t,n)}function cz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Rr(t,e){return t.get(Wh(t,e))}function oh(t,e,n){return t.set(Wh(t,e),n),n}function Wh(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ja=new WeakMap,nE=new WeakMap,Uf=new WeakMap,rT=new WeakMap,iT=new WeakMap,zf=new WeakMap,Yf=new WeakSet;class AEe{constructor(e){let{countRows:n,countColumns:r,rowsLimit:i,columnsLimit:o,countColumnHeaders:s}=e;MEe(this,Yf),ih(this,ja,void 0),ih(this,nE,void 0),ih(this,Uf,void 0),ih(this,rT,void 0),ih(this,iT,void 0),ih(this,zf,void 0),oh(nE,this,n),oh(Uf,this,r),oh(rT,this,i),oh(iT,this,o),oh(zf,this,s)}setSelectedRange(e){oh(ja,this,e)}getCellsRange(){if(Rr(nE,this).call(this)===0||Rr(Uf,this).call(this)===0)return null;const{row:e,col:n}=Rr(ja,this).getTopStartCorner(),{row:r,col:i}=Rr(ja,this).getBottomEndCorner(),o=Wh(Yf,this,IEe).call(this,e,r),s=Wh(Yf,this,rE).call(this,n,i);return{isRangeTrimmed:r!==o||i!==s,startRow:e,startCol:n,endRow:o,endCol:s}}getMostBottomColumnHeadersRange(){if(Rr(Uf,this).call(this)===0||Rr(zf,this).call(this)===0)return null;const{col:e}=Rr(ja,this).getTopStartCorner(),{col:n}=Rr(ja,this).getBottomEndCorner(),r=Wh(Yf,this,rE).call(this,e,n);return{isRangeTrimmed:n!==r,startRow:-1,startCol:e,endRow:-1,endCol:r}}getAllColumnHeadersRange(){if(Rr(Uf,this).call(this)===0||Rr(zf,this).call(this)===0)return null;const{col:e}=Rr(ja,this).getTopStartCorner(),{col:n}=Rr(ja,this).getBottomEndCorner(),r=Wh(Yf,this,rE).call(this,e,n);return{isRangeTrimmed:n!==r,startRow:-Rr(zf,this).call(this),startCol:e,endRow:-1,endCol:r}}}function rE(t,e){return Math.min(e,Math.max(t+Rr(iT,this).call(this)-1,t))}function IEe(t,e){return Math.min(e,Math.max(t+Rr(rT,this).call(this)-1,t))}function hz(t){const e=[],n=[];return G(t,r=>{const i=Math.min(r.startRow,r.endRow),o=Math.max(r.startRow,r.endRow);Ie(i,o,l=>{e.indexOf(l)===-1&&e.push(l)});const s=Math.min(r.startCol,r.endCol),a=Math.max(r.startCol,r.endCol);Ie(s,a,l=>{n.indexOf(l)===-1&&n.push(l)})}),{rows:e,columns:n}}function NEe(t,e){dz(t,e),e.add(t)}function Va(t,e,n){dz(t,e),e.set(t,n)}function dz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gf(t,e,n){return(e=kEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kEe(t){var e=HEe(t,"string");return typeof e=="symbol"?e:e+""}function HEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yr(t,e){return t.get(Gr(t,e))}function fo(t,e,n){return t.set(Gr(t,e),n),n}function Gr(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Te.getSingleton().register("afterCopyLimit");Te.getSingleton().register("modifyCopyableRange");Te.getSingleton().register("beforeCut");Te.getSingleton().register("afterCut");Te.getSingleton().register("beforePaste");Te.getSingleton().register("afterPaste");Te.getSingleton().register("beforeCopy");Te.getSingleton().register("afterCopy");const iy="copyPaste",DEe=80,LEe=["fragmentSelection"],KD=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join("");var oT=new WeakMap,sT=new WeakMap,aT=new WeakMap,sh=new WeakMap,oy=new WeakMap,sy=new WeakMap,ah=new WeakMap,FC=new WeakMap,li=new WeakSet;class $Ee extends wt{constructor(){super(...arguments),NEe(this,li),Gf(this,"columnsLimit",1/0),Gf(this,"rowsLimit",1/0),Gf(this,"pasteMode","overwrite"),Gf(this,"uiContainer",this.hot.rootDocument.body),Va(this,oT,!1),Va(this,sT,!1),Va(this,aT,!1),Va(this,sh,"cells-only"),Va(this,oy,!1),Va(this,sy,!1),Va(this,ah,new AEe({countRows:()=>this.hot.countRows(),countColumns:()=>this.hot.countCols(),rowsLimit:()=>this.rowsLimit,columnsLimit:()=>this.columnsLimit,countColumnHeaders:()=>this.hot.view.getColumnHeadersCount()})),Va(this,FC,!1),Gf(this,"copyableRanges",[])}static get PLUGIN_KEY(){return iy}static get SETTING_KEYS(){return[iy,...LEe]}static get PLUGIN_PRIORITY(){return DEe}isEnabled(){return!!this.hot.getSettings()[iy]}enablePlugin(){var e=this;if(this.enabled)return;const{[iy]:n}=this.hot.getSettings();if(typeof n=="object"){var r,i;this.pasteMode=(r=n.pasteMode)!==null&&r!==void 0?r:this.pasteMode,this.rowsLimit=isNaN(n.rowsLimit)?this.rowsLimit:n.rowsLimit,this.columnsLimit=isNaN(n.columnsLimit)?this.columnsLimit:n.columnsLimit,fo(oT,this,!!n.copyColumnHeaders),fo(sT,this,!!n.copyColumnGroupHeaders),fo(aT,this,!!n.copyColumnHeadersOnly),this.uiContainer=(i=n.uiContainer)!==null&&i!==void 0?i:this.uiContainer}this.addHook("afterContextMenuDefaultOptions",o=>Gr(li,this,jEe).call(this,o)),this.addHook("afterSelection",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return Gr(li,e,VEe).call(e,...s)}),this.addHook("afterSelectionEnd",()=>Gr(li,this,WEe).call(this)),this.eventManager.addEventListener(this.hot.rootDocument,"copy",function(){return e.onCopy(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"cut",function(){return e.onCut(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"paste",function(){return e.onPaste(...arguments)}),ZV()&&(this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseenter",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return Gr(li,e,UEe).call(e,...s)}),this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseleave",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return Gr(li,e,zEe).call(e,...s)}),this.addHook("afterSelection",()=>Gr(li,this,YEe).call(this))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin()}copy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cells-only";fo(sh,this,e),fo(oy,this,!0),Gr(li,this,qD).call(this,"copy")}copyCellsOnly(){this.copy("cells-only")}copyColumnHeadersOnly(){this.copy("column-headers-only")}copyWithAllColumnHeaders(){this.copy("with-column-group-headers")}copyWithColumnHeaders(){this.copy("with-column-headers")}cut(){fo(sy,this,!0),Gr(li,this,qD).call(this,"cut")}getRangedCopyableData(e){return Lg(this.getRangedData(e))}getRangedData(e){const n=[],{rows:r,columns:i}=hz(e);return G(r,o=>{const s=[];G(i,a=>{o<0?s.push(this.hot.getColHeader(a,o)):s.push(this.hot.getCopyableData(o,a))}),n.push(s)}),n}paste(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;if(!e&&!n)return;const r=new PEe;e&&r.clipboardData.setData("text/plain",e),n&&r.clipboardData.setData("text/html",n),this.onPaste(r)}setCopyableText(){const e=this.hot.getSelectedRangeLast();if(!e)return;if(e.isSingleHeader()){this.copyableRanges=[];return}Yr(ah,this).setSelectedRange(e);const n=new Map([["headers",null],["cells",null]]);Yr(sh,this)==="column-headers-only"?n.set("headers",Yr(ah,this).getMostBottomColumnHeadersRange()):(Yr(sh,this)==="with-column-headers"?n.set("headers",Yr(ah,this).getMostBottomColumnHeadersRange()):Yr(sh,this)==="with-column-group-headers"&&n.set("headers",Yr(ah,this).getAllColumnHeadersRange()),n.set("cells",Yr(ah,this).getCellsRange())),this.copyableRanges=Array.from(n.values()).filter(i=>i!==null).map(i=>{let{startRow:o,startCol:s,endRow:a,endCol:l}=i;return{startRow:o,startCol:s,endRow:a,endCol:l}}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges);const r=n.get("cells");if(r!==null&&r.isRangeTrimmed){const{startRow:i,startCol:o,endRow:s,endCol:a}=r;this.hot.runHooks("afterCopyLimit",s-i+1,a-o+1,this.rowsLimit,this.columnsLimit)}}isEditorOpened(){var e;return(e=this.hot.getActiveEditor())===null||e===void 0?void 0:e.isOpened()}populateValues(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.hot.getSelectedRangeLast();if(!e.length)return;const r=e.length,i=e[0].length,o=[],{row:s,col:a}=n.getTopStartCorner(),{row:l,col:u}=n.getBottomEndCorner();let c=s,h=a,d=s,f=a;for(;o.length<r||c<=l;){const{skipRowOnPaste:g,visualRow:v}=this.hot.getCellMeta(c,a);if(c=v+1,g===!0)continue;d=v,h=a;const y=[],p=o.length%r;for(;y.length<i||h<=u;){const{skipColumnOnPaste:m,visualCol:w}=this.hot.getCellMeta(s,h);if(h=w+1,m===!0)continue;f=w;const C=y.length%i;y.push(e[p][C])}o.push(y)}return fo(FC,this,!0),this.hot.populateFromArray(s,a,o,void 0,void 0,"CopyPaste.paste",this.pasteMode),[s,a,d,f]}onCopy(e){var n,r;const i=this.hot.getFocusManager().getRefocusElement(),o=(n=e.target)===null||n===void 0?void 0:n.hasAttribute("data-hot-input"),s=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight,a=s?this.hot.getCell(s.row,s.col,!0):null;if(!this.hot.isListening()&&!Yr(oy,this)||this.isEditorOpened()||e.target instanceof HTMLElement&&(o&&e.target!==i||!o&&e.target!==this.hot.rootDocument.body&&a!==e.target))return;e.preventDefault(),this.setCopyableText(),fo(oy,this,!1);const l=this.getRangedData(this.copyableRanges),u=Gr(li,this,FEe).call(this,this.copyableRanges);if(!!this.hot.runHooks("beforeCopy",l,this.copyableRanges,u)){const h=Lg(l);if(e&&e.clipboardData){const d=pH(l,this.hot.rootDocument);e.clipboardData.setData("text/plain",h),e.clipboardData.setData("text/html",[KD,d].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",h);this.hot.runHooks("afterCopy",l,this.copyableRanges,u)}fo(sh,this,"cells-only")}onCut(e){var n,r;const i=this.hot.getFocusManager().getRefocusElement(),o=(n=e.target)===null||n===void 0?void 0:n.hasAttribute("data-hot-input"),s=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight,a=s?this.hot.getCell(s.row,s.col,!0):null;if(!this.hot.isListening()&&!Yr(sy,this)||this.isEditorOpened()||e.target instanceof HTMLElement&&(o&&e.target!==i||!o&&e.target!==this.hot.rootDocument.body&&a!==e.target))return;e.preventDefault(),this.setCopyableText(),fo(sy,this,!1);const l=this.getRangedData(this.copyableRanges);if(!!this.hot.runHooks("beforeCut",l,this.copyableRanges)){const c=Lg(l);if(e&&e.clipboardData){const h=pH(l,this.hot.rootDocument);e.clipboardData.setData("text/plain",c),e.clipboardData.setData("text/html",[KD,h].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",c);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",l,this.copyableRanges)}}onPaste(e){var n,r;const i=this.hot.getFocusManager().getRefocusElement(),o=(n=e.target)===null||n===void 0?void 0:n.hasAttribute("data-hot-input"),s=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight,a=s?this.hot.getCell(s.row,s.col,!0):null;if(!this.hot.isListening()||this.isEditorOpened()||!this.hot.getSelected()||e.target instanceof HTMLElement&&(o&&e.target!==i||!o&&e.target!==this.hot.rootDocument.body&&a!==e.target))return;e.preventDefault();let l;if(e&&typeof e.clipboardData<"u"){const f=gx(e.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});f&&/(<table)|(<TABLE)/g.test(f)?l=Kde(f,this.hot.rootDocument).data:l=e.clipboardData.getData("text/plain")}else typeof ClipboardEvent>"u"&&typeof this.hot.rootWindow.clipboardData<"u"&&(l=this.hot.rootWindow.clipboardData.getData("Text"));if(typeof l=="string"&&(l=_ve(l)),l===void 0||l&&l.length===0||this.hot.runHooks("beforePaste",l,this.copyableRanges)===!1)return;const[u,c,h,d]=this.populateValues(l);this.hot.selectCell(u,c,Math.min(this.hot.countRows()-1,h),Math.min(this.hot.countCols()-1,d)),this.hot.runHooks("afterPaste",l,this.copyableRanges)}destroy(){super.destroy()}}function qD(t){if(ZV()){const e=this.hot.getSelectedRangeLast();if(e){const{row:n,col:r}=e.highlight,i=this.hot.getCell(n,r,!0);i&&Hce(i,()=>{this.hot.rootDocument.execCommand(t)})}}else this.hot.rootDocument.execCommand(t)}function FEe(t){const{rows:e}=hz(t);let n=0;for(let r=0;r<e.length&&!(e[r]>=0);r++)n+=1;return{columnHeadersCount:n}}function BEe(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,r=this.hot.getCell(e,n,!0);r&&BV(r)}}}function fz(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,r=this.hot.getCell(e,n,!0);r!=null&&r.hasAttribute("contenteditable")&&jV(r)}}}function jEe(t){t.items.push({name:"---------"},REe(this)),Yr(oT,this)&&t.items.push(TEe(this)),Yr(sT,this)&&t.items.push(_Ee(this)),Yr(aT,this)&&t.items.push(EEe(this)),t.items.push(OEe(this))}function VEe(t,e,n,r,i){Yr(FC,this)&&(i.value=!0),fo(FC,this,!1)}function WEe(){this.isEditorOpened()||this.hot.getSettings().fragmentSelection||this.setCopyableText()}function UEe(){Gr(li,this,fz).call(this)}function zEe(){Gr(li,this,BEe).call(this)}function YEe(){Gr(li,this,fz).call(this)}function gz(t,e){return`border_row${t}col${e}`}function Cg(){return{width:1,color:"#000"}}function da(){return{hide:!0}}function GEe(){return{width:1,color:"#000",cornerVisible:!1}}function iE(t){if(xe(t.start)||xe(t.left)){var e;t.start=(e=t.start)!==null&&e!==void 0?e:t.left}if(xe(t.end)||xe(t.right)){var n;t.end=(n=t.end)!==null&&n!==void 0?n:t.right}return delete t.left,delete t.right,t}function Kf(t){return xe(t.start)&&(t.left=t.start),xe(t.end)&&(t.right=t.end),t}function oE(t,e){return{id:gz(t,e),border:GEe(),row:t,col:e,top:da(),bottom:da(),start:da(),end:da()}}function KEe(t,e){return an(e,"border")&&e.border&&(t.border=e.border),an(e,"top")&&xe(e.top)&&(e.top?(Ze(e.top)||(e.top=Cg()),t.top=e.top):(e.top=da(),t.top=e.top)),an(e,"bottom")&&xe(e.bottom)&&(e.bottom?(Ze(e.bottom)||(e.bottom=Cg()),t.bottom=e.bottom):(e.bottom=da(),t.bottom=e.bottom)),an(e,"start")&&xe(e.start)&&(e.start?(Ze(e.start)||(e.start=Cg()),t.start=e.start):(e.start=da(),t.start=e.start)),an(e,"end")&&xe(e.end)&&(e.end?(Ze(e.end)||(e.end=Cg()),t.end=e.end):(e.end=da(),t.end=e.end)),t}function _a(t,e){let n=!1;return G(t.getSelectedRange(),r=>{r.forAll((i,o)=>{if(i<0||o<0)return;const s=t.getCellMeta(i,o).borders;if(s)if(e){if(!an(s[e],"hide")||s[e].hide===!1)return n=!0,!1}else return n=!0,!1})}),n}function MS(t){return`<span class="selected"></span>${t}`}function qEe(t){return t.some(e=>xe(e.left)||xe(e.right))}function XEe(t){return t.some(e=>xe(e.start)||xe(e.end))}const ZEe=new Map([["left","start"],["right","end"]]);function QEe(t){var e;return(e=ZEe.get(t))!==null&&e!==void 0?e:t}function JEe(t){return{key:"borders:bottom",name(){let e=this.getTranslatedPhrase(PP);return _a(this,"bottom")&&(e=MS(e)),e},callback(e,n){const r=_a(this,"bottom");t.prepareBorder(n,"bottom",r)}}}function e1e(t){const e=t.hot.isRtl()?"end":"start";return{key:"borders:left",name(){let n=this.getTranslatedPhrase(MP);return _a(this,e)&&(n=MS(n)),n},callback(n,r){const i=_a(this,e);t.prepareBorder(r,e,i)}}}function t1e(t){return{key:"borders:no_borders",name(){return this.getTranslatedPhrase(AP)},callback(e,n){t.prepareBorder(n,"noBorders")},disabled(){return!_a(this)}}}function n1e(t){const e=t.hot.isRtl()?"start":"end";return{key:"borders:right",name(){let n=this.getTranslatedPhrase(xP);return _a(this,e)&&(n=MS(n)),n},callback(n,r){const i=_a(this,e);t.prepareBorder(r,e,i)}}}function r1e(t){return{key:"borders:top",name(){let e=this.getTranslatedPhrase(OP);return _a(this,"top")&&(e=MS(e)),e},callback(e,n){const r=_a(this,"top");t.prepareBorder(n,"top",r)}}}function i1e(t,e){o1e(t,e),e.add(t)}function o1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s1e(t,e,n){return(e=a1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a1e(t){var e=l1e(t,"string");return typeof e=="symbol"?e:e+""}function l1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XD(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const yw="customBorders",u1e=90;var sE=new WeakSet;class c1e extends wt{constructor(){super(...arguments),i1e(this,sE),s1e(this,"savedBorders",[])}static get PLUGIN_KEY(){return yw}static get PLUGIN_PRIORITY(){return u1e}isEnabled(){return!!this.hot.getSettings()[yw]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>XD(sE,this,h1e).call(this,e)),this.addHook("init",()=>XD(sE,this,d1e).call(this)),super.enablePlugin())}disablePlugin(){this.hideBorders(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),super.updatePlugin()}setBorders(e,n){let r=["top","bottom","start","end"],i=null;n&&(this.checkSettingsCohesion([n]),r=Object.keys(n),i=iE(n));const o=vd(e),s=Mm(o,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)});G(e,a=>{s(a).forAll((l,u)=>{G(r,c=>{this.prepareBorderFromCustomAdded(l,u,i,QEe(c))})})}),this.hot.view.render()}getBorders(e){if(!Array.isArray(e))return this.savedBorders;const n=vd(e),r=Mm(n,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)}),i=[];return G(e,o=>{r(o).forAll((s,a)=>{G(this.savedBorders,l=>{l.row===s&&l.col===a&&i.push(Kf(l))})})}),i}clearBorders(e){e?this.setBorders(e):(G(this.savedBorders,n=>{this.clearBordersFromSelectionSettings(n.id),this.clearNullCellRange(),this.hot.removeCellMeta(n.row,n.col,"borders")}),this.savedBorders.length=0)}insertBorderIntoSettings(e,n){this.checkSavedBorders(e)||this.savedBorders.push(e);const i=this.hot._createCellRange(this.hot._createCellCoords(e.row,e.col));this.checkCustomSelections(e,i,n)||this.hot.selection.highlight.addCustomSelection({border:e,visualCellRange:i})}prepareBorderFromCustomAdded(e,n,r,i){const o=this.hot.countRows(),s=this.hot.countCols();if(e>=o||n>=s)return;let a=oE(e,n);r&&(a=KEe(a,r),G(this.hot.selection.highlight.customSelections,l=>{if(a.id===l.settings.id)return Object.assign(l.settings,r),a.id=l.settings.id,a.top=l.settings.top,a.bottom=l.settings.bottom,a.start=l.settings.start,a.end=l.settings.end,!1})),this.hot.setCellMeta(e,n,"borders",Kf(a)),this.insertBorderIntoSettings(a,i)}prepareBorderFromCustomAddedRange(e,n){const r=Math.min(e.to.row,this.hot.countRows()-1),i=Math.min(e.to.col,this.hot.countCols()-1);Ie(e.from.row,r,o=>{Ie(e.from.col,i,s=>{const a=oE(o,s);let l=0;o===e.from.row&&an(n,"top")&&(l+=1,a.top=n.top),o===e.to.row&&an(n,"bottom")&&(l+=1,a.bottom=n.bottom),s===e.from.col&&an(n,"start")&&(l+=1,a.start=n.start),s===e.to.col&&an(n,"end")&&(l+=1,a.end=n.end),l>0&&(this.hot.setCellMeta(o,s,"borders",Kf(a)),this.insertBorderIntoSettings(a))})})}removeAllBorders(e,n){const r=gz(e,n);this.spliceBorder(r),this.clearBordersFromSelectionSettings(r),this.clearNullCellRange(),this.hot.removeCellMeta(e,n,"borders")}setBorder(e,n,r,i){let o=this.hot.getCellMeta(e,n).borders;!o||o.border===void 0?o=oE(e,n):o=iE(o),i?(o[r]=da(),this.countHide(o)===4?this.removeAllBorders(e,n):(this.checkCustomSelectionsFromContextMenu(o,r,i)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(e,n,"borders",Kf(o)))):(o[r]=Cg(),this.checkCustomSelectionsFromContextMenu(o,r,i)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(e,n,"borders",Kf(o)))}prepareBorder(e,n,r){G(e,i=>{let{start:o,end:s}=i;if(o.row===s.row&&o.col===s.col)n==="noBorders"?this.removeAllBorders(o.row,o.col):this.setBorder(o.row,o.col,n,r);else switch(n){case"noBorders":Ie(o.col,s.col,a=>{Ie(o.row,s.row,l=>{this.removeAllBorders(l,a)})});break;case"top":Ie(o.col,s.col,a=>{this.setBorder(o.row,a,n,r)});break;case"bottom":Ie(o.col,s.col,a=>{this.setBorder(s.row,a,n,r)});break;case"start":Ie(o.row,s.row,a=>{this.setBorder(a,o.col,n,r)});break;case"end":Ie(o.row,s.row,a=>{this.setBorder(a,s.col,n,r)});break}})}createCustomBorders(e){G(e,n=>{const r=iE(n);n.range?this.prepareBorderFromCustomAddedRange(n.range,r):this.prepareBorderFromCustomAdded(n.row,n.col,r)})}countHide(e){const{top:n,bottom:r,start:i,end:o}=e;return kr([n,r,i,o],(a,l)=>{let u=a;return l&&l.hide&&(u+=1),u},0)}clearBordersFromSelectionSettings(e){const n=it(this.hot.selection.highlight.customSelections,r=>r.settings.id).indexOf(e);n>-1&&this.hot.selection.highlight.customSelections[n].clear()}clearNullCellRange(){G(this.hot.selection.highlight.customSelections,(e,n)=>{if(e.cellRange===null)return this.hot.selection.highlight.customSelections[n].destroy(),this.hot.selection.highlight.customSelections.splice(n,1),!1})}hideBorders(){G(this.savedBorders,e=>{this.clearBordersFromSelectionSettings(e.id),this.clearNullCellRange()})}spliceBorder(e){const n=it(this.savedBorders,r=>r.id).indexOf(e);n>-1&&this.savedBorders.splice(n,1)}checkSavedBorders(e){let n=!1;return this.countHide(e)===4?(this.spliceBorder(e.id),n=!0):G(this.savedBorders,(i,o)=>{if(e.id===i.id)return this.savedBorders[o]=e,n=!0,!1}),n}checkCustomSelectionsFromContextMenu(e,n,r){let i=!1;return G(this.hot.selection.highlight.customSelections,o=>{if(e.id===o.settings.id){const s=this.hot.view._wt.selectionManager.getBorderInstances(o);return G(s,a=>{a.toggleHiddenClass(n,r)}),i=!0,!1}}),i}checkCustomSelections(e,n,r){const i=this.countHide(e);let o=!1;return i===4?(this.removeAllBorders(e.row,e.col),o=!0):G(this.hot.selection.highlight.customSelections,s=>{if(e.id===s.settings.id){if(s.visualCellRange=n,s.commit(),r){const a=this.hot.view._wt.selectionManager.getBorderInstances(s);G(a,l=>{l.changeBorderStyle(r,e)})}return o=!0,!1}}),o}changeBorderSettings(){const e=this.hot.getSettings()[yw];if(Array.isArray(e)){const n=Ar(e);this.checkSettingsCohesion(n),n.length||(this.savedBorders=n),this.createCustomBorders(n)}else e!==void 0&&this.createCustomBorders(this.savedBorders)}checkSettingsCohesion(e){const n=qEe(e),r=XEe(e);if(n&&r)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&n)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}destroy(){super.destroy()}}function h1e(t){this.hot.getSettings()[yw]&&t.items.push({name:"---------"},{key:"borders",name(){return this.getTranslatedPhrase(TP)},disabled(){const e=this.getSelectedRangeLast();return!e||e.isSingleHeader()?!0:this.selection.isSelectedByCorner()},submenu:{items:[r1e(this),n1e(this),JEe(this),e1e(this),t1e(this)]}})}function d1e(){this.changeBorderSettings()}function f1e(t,e){g1e(t,e),e.add(t)}function g1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function aE(t,e,n){return(e=m1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m1e(t){var e=p1e(t,"string");return typeof e=="symbol"?e:e+""}function p1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZD(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const QD="dragToScroll",v1e=100;var lE=new WeakSet;class y1e extends wt{constructor(){super(...arguments),f1e(this,lE),aE(this,"boundaries",null),aE(this,"callback",null),aE(this,"listening",!1)}static get PLUGIN_KEY(){return QD}static get PLUGIN_PRIORITY(){return v1e}isEnabled(){return!!this.hot.getSettings()[QD]}enablePlugin(){this.enabled||(this.addHook("afterOnCellMouseDown",e=>ZD(lE,this,JD).call(this,e)),this.addHook("afterOnCellCornerMouseDown",e=>ZD(lE,this,JD).call(this,e)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.unregisterEvents(),super.disablePlugin()}setBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{left:0,right:this.hot.rootWindow.innerWidth,top:0,bottom:this.hot.rootWindow.innerHeight};this.boundaries=e}setCallback(e){this.callback=e}check(e,n){let r=0,i=0;n<this.boundaries.top?i=n-this.boundaries.top:n>this.boundaries.bottom&&(i=n-this.boundaries.bottom),e<this.boundaries.left?r=e-this.boundaries.left:e>this.boundaries.right&&(r=e-this.boundaries.right),this.callback(r,i)}listen(){this.listening=!0}unlisten(){this.listening=!1}isListening(){return this.listening}registerEvents(){const{rootWindow:e}=this.hot;let n=e;for(;n;)this.eventManager.addEventListener(n.document,"contextmenu",()=>this.unlisten()),this.eventManager.addEventListener(n.document,"mouseup",()=>this.unlisten()),this.eventManager.addEventListener(n.document,"mousemove",r=>this.onMouseMove(r)),n=gd(n)}unregisterEvents(){this.eventManager.clear()}onMouseMove(e){this.isListening()&&this.check(e.clientX,e.clientY)}destroy(){super.destroy()}}function JD(t){if(fc(t))return;const e=this.hot.view._wt.wtOverlays.topOverlay.mainTableScrollableElement;this.setBoundaries(e!==this.hot.rootWindow?e.getBoundingClientRect():void 0),this.setCallback((n,r)=>{var i,o;const s=(i=e.scrollLeft)!==null&&i!==void 0?i:e.scrollX,a=(o=e.scrollTop)!==null&&o!==void 0?o:e.scrollY;e.scroll(s+Math.sign(n)*50,a+Math.sign(r)*20)}),this.listen()}function w1e(t,e){mz(t,e),e.add(t)}function C1e(t,e,n){mz(t,e),e.set(t,n)}function mz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function uE(t,e,n){return(e=b1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b1e(t){var e=S1e(t,"string");return typeof e=="symbol"?e:e+""}function S1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R1e(t,e){return t.get(Hi(t,e))}function pz(t,e,n){return t.set(Hi(t,e),n),n}function Hi(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Te.getSingleton().register("afterDropdownMenuDefaultOptions");Te.getSingleton().register("beforeDropdownMenuShow");Te.getSingleton().register("afterDropdownMenuShow");Te.getSingleton().register("afterDropdownMenuHide");Te.getSingleton().register("afterDropdownMenuExecute");const ww="dropdownMenu",E1e=230,Hm="changeType",cE=ww;var AS=new WeakMap,mo=new WeakSet;class IS extends wt{static get PLUGIN_KEY(){return ww}static get PLUGIN_PRIORITY(){return E1e}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[bp,Sp,Xe,Ep,Xe,SS,Xe,Rp,Xe,ki]}constructor(e){super(e),w1e(this,mo),uE(this,"commandExecutor",new rz(this.hot)),uE(this,"itemsFactory",null),uE(this,"menu",null),C1e(this,AS,!1),this.hot.addHook("afterGetColHeader",(n,r)=>Hi(mo,this,T1e).call(this,n,r))}isEnabled(){return this.hot.getSettings()[ww]}enablePlugin(){var e=this;if(this.enabled)return;this.itemsFactory=new iz(this.hot,IS.DEFAULT_ITEMS),this.addHook("beforeOnCellMouseDown",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Hi(mo,e,I1e).call(e,...o)}),this.addHook("beforeViewportScrollHorizontally",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Hi(mo,e,A1e).call(e,...o)});const n=this.hot.getSettings()[ww],r={items:this.itemsFactory.getItems(n)};this.registerEvents(),typeof n.callback=="function"&&this.commandExecutor.setCommonCallback(n.callback),this.registerShortcuts(),super.enablePlugin(),this.callOnPluginsReady(()=>{this.hot.runHooks("afterDropdownMenuDefaultOptions",r),this.itemsFactory.setPredefinedItems(r.items);const i=this.itemsFactory.getItems(n);this.menu&&this.menu.destroy(),this.menu=new Gd(this.hot,{className:"htDropdownMenu",keepInViewport:!0,container:n.uiContainer||this.hot.rootDocument.body}),this.hot.runHooks("beforeDropdownMenuSetItems",i),this.menu.setMenuItems(i),this.menu.addLocalHook("beforeOpen",()=>Hi(mo,this,O1e).call(this)),this.menu.addLocalHook("afterOpen",()=>Hi(mo,this,x1e).call(this)),this.menu.addLocalHook("afterSubmenuOpen",o=>Hi(mo,this,P1e).call(this,o)),this.menu.addLocalHook("afterClose",()=>Hi(mo,this,M1e).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return e.executeCommand.call(e,...s)}),G(i,o=>this.commandExecutor.registerCommand(o.key,o))})}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&this.menu.destroy(),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager().getContext("grid"),n=()=>{const{highlight:r}=this.hot.getSelectedRangeLast();if((r.isHeader()&&r.row===-1||r.isCell())&&r.col>=0){this.hot.selectColumns(r.col,r.col,-1);const{from:i}=this.hot.getSelectedRangeLast(),o=bS(this.menu.container,this.hot.rootDocument),s=this.hot.getCell(-1,i.col,!0).querySelector(`.${Hm}`),a=s.getBoundingClientRect();this.open({left:a.left+o.left,top:a.top+s.offsetHeight+o.top},{left:a.width,right:0,above:0,below:3}),this.menu.getNavigator().toFirstItem()}};e.addShortcuts([{keys:[["Shift","Alt","ArrowDown"],["Control/Meta","Enter"]],callback:n,runOnlyIf:()=>{var r;const i=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight;return i&&this.hot.selection.isCellVisible(i)&&i.isHeader()&&!this.menu.isOpened()},captureCtrl:!0,group:cE},{keys:[["Shift","Alt","ArrowDown"]],callback:n,runOnlyIf:()=>{var r;const i=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight;return i&&this.hot.selection.isCellVisible(i)&&i.isCell()&&!this.menu.isOpened()},group:cE}])}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(cE)}registerEvents(){this.eventManager.addEventListener(this.hot.rootElement,"click",e=>Hi(mo,this,_1e).call(this,e))}open(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(n=this.menu)!==null&&n!==void 0&&n.isOpened()||(this.menu.open(),Qe(r,(i,o)=>{this.menu.setOffset(o,i)}),this.menu.setPosition(e))}close(){var e;(e=this.menu)===null||e===void 0||e.close()}executeCommand(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.commandExecutor.execute(e,...r)}setListening(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.menu.isOpened()&&(e?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function vz(t){t.getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Control/Meta","A"]],callback:()=>!1}])}function _1e(t){if(je(t.target,Hm)){const e=bS(this.menu.container,this.hot.rootDocument),n=t.target.getBoundingClientRect();t.stopPropagation(),pz(AS,this,!1),this.open({left:n.left+e.left,top:n.top+t.target.offsetHeight+e.top},{left:n.width,right:0,above:0,below:3})}}function T1e(t,e){const n=e.parentNode;if(!n)return;const r=n.parentNode.childNodes,i=Array.prototype.indexOf.call(r,n);if(t<0||i!==r.length-1)return;const o=e.querySelector(`.${Hm}`);if(this.enabled&&o)return;if(!this.enabled){o&&o.parentNode.removeChild(o);return}const s=this.hot.rootDocument.createElement("button");s.className=Hm,s.type="button",s.tabIndex=-1,this.hot.getSettings().ariaTags&&(Be(s,[Pc(),gC(" ")]),Be(e,[OV("menu")])),s.onclick=function(){return!1},e.firstChild.insertBefore(s,e.firstChild.firstChild)}function O1e(){this.hot.runHooks("beforeDropdownMenuShow",this)}function x1e(){this.hot.runHooks("afterDropdownMenuShow",this),Hi(mo,this,vz).call(this,this.menu)}function P1e(t){Hi(mo,this,vz).call(this,t)}function M1e(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}function A1e(t){return R1e(AS,this)?null:t}function I1e(t){je(t.target,Hm)&&pz(AS,this,!0)}IS.SEPARATOR={name:Xe};function eL(t,e,n){return(e=N1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N1e(t){var e=k1e(t,"string");return typeof e=="symbol"?e:e+""}function k1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class H1e{constructor(e){eL(this,"hot",void 0),eL(this,"options",{}),this.hot=e}setOptions(e){this.options=e}getData(){const{startRow:e,startCol:n,endRow:r,endCol:i}=this._getDataRange(),o=this.options,s=[];return Ie(e,r,a=>{const l=[];!o.exportHiddenRows&&this._isHiddenRow(a)||(Ie(n,i,u=>{!o.exportHiddenColumns&&this._isHiddenColumn(u)||l.push(this.hot.getDataAtCell(a,u))}),s.push(l))}),s}getRowHeaders(){const e=[];if(this.options.rowHeaders){const{startRow:n,endRow:r}=this._getDataRange(),i=this.hot.getRowHeader();Ie(n,r,o=>{!this.options.exportHiddenRows&&this._isHiddenRow(o)||e.push(i[o])})}return e}getColumnHeaders(){const e=[];if(this.options.columnHeaders){const{startCol:n,endCol:r}=this._getDataRange(),i=this.hot.getColHeader();Ie(n,r,o=>{!this.options.exportHiddenColumns&&this._isHiddenColumn(o)||e.push(i[o])})}return e}_getDataRange(){const e=this.hot.countCols()-1,n=this.hot.countRows()-1;let[r=0,i=0,o=n,s=e]=this.options.range;return r=Math.max(r,0),i=Math.max(i,0),o=Math.min(o,n),s=Math.min(s,e),{startRow:r,startCol:i,endRow:o,endCol:s}}_isHiddenRow(e){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(e))}_isHiddenColumn(e){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(e))}}function tL(t,e,n){return(e=D1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D1e(t){var e=L1e(t,"string");return typeof e=="symbol"?e:e+""}function L1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class BM{static get DEFAULT_OPTIONS(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}constructor(e,n){tL(this,"dataProvider",void 0),tL(this,"options",void 0),this.dataProvider=e,this.options=this._mergeOptions(n),this.dataProvider.setOptions(this.options)}_mergeOptions(e){let n=Ms(this.constructor.DEFAULT_OPTIONS);const r=new Date;return n=xn(Ms(BM.DEFAULT_OPTIONS),n),n=xn(n,e),n.filename=EV(n.filename,{YYYY:r.getFullYear(),MM:`${r.getMonth()+1}`.padStart(2,"0"),DD:`${r.getDate()}`.padStart(2,"0")}),n}}const $1e="\r",F1e='"',B1e=`
`;class j1e extends BM{static get DEFAULT_OPTIONS(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:`\r
`}}export(){const e=this.options,n=this.dataProvider.getData();let r=this.dataProvider.getColumnHeaders();const i=r.length>0,o=this.dataProvider.getRowHeaders(),s=o.length>0;let a=e.bom?"\uFEFF":"";return i&&(r=it(r,l=>this._escapeCell(l,!0)),s&&(a+=e.columnDelimiter),a+=r.join(e.columnDelimiter),a+=e.rowDelimiter),G(n,(l,u)=>{u>0&&(a+=e.rowDelimiter),s&&(a+=this._escapeCell(o[u])+e.columnDelimiter),a+=l.map(c=>this._escapeCell(c)).join(e.columnDelimiter)}),a}_escapeCell(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=bn(e);return r!==""&&(n||r.indexOf($1e)>=0||r.indexOf(F1e)>=0||r.indexOf(B1e)>=0||r.indexOf(this.options.columnDelimiter)>=0)&&(r=r.replace(new RegExp('"',"g"),'""'),r=`"${r}"`),r}}const V1e="csv",lT={[V1e]:j1e};function W1e(t,e,n){return typeof lT[t]=="function"?new lT[t](e,n):null}const U1e="exportFile",z1e=240;class Y1e extends wt{static get PLUGIN_KEY(){return U1e}static get PLUGIN_PRIORITY(){return z1e}isEnabled(){return!0}exportAsString(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createTypeFormatter(e,n).export()}exportAsBlob(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createBlob(this._createTypeFormatter(e,n))}downloadFile(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{rootDocument:r,rootWindow:i}=this.hot,o=this._createTypeFormatter(e,n),s=this._createBlob(o),a=i.URL||i.webkitURL,l=r.createElement("a"),u=`${o.options.filename}.${o.options.fileExtension}`;if(l.download!==void 0){const c=a.createObjectURL(s);l.style.display="none",l.setAttribute("href",c),l.setAttribute("download",u),r.body.appendChild(l),l.dispatchEvent(new MouseEvent("click")),r.body.removeChild(l),setTimeout(()=>{a.revokeObjectURL(c)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(s,u)}_createTypeFormatter(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!lT[e])throw new Error(`Export format type "${e}" is not supported.`);return W1e(e,new H1e(this.hot),n)}_createBlob(e){let n=null;return typeof Blob<"u"&&(n=new Blob([e.export()],{type:`${e.options.mimeType};charset=${e.options.encoding}`})),n}}function lh(t,e,n){return(e=G1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G1e(t){var e=K1e(t,"string");return typeof e=="symbol"?e:e+""}function K1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _p{constructor(e,n){let{id:r,stateless:i=!0}=n;lh(this,"hot",void 0),lh(this,"id",void 0),lh(this,"elements",[]),lh(this,"hidden",!1),lh(this,"stateId",""),lh(this,"state",void 0),this.hot=e,this.id=r,this.stateId=`Filters.component.${this.id}`,this.state=i?null:this.hot.columnIndexMapper.registerMap(this.stateId,new fS)}getElements(){return this.elements}reset(){G(this.elements,e=>e.reset())}hide(){this.hidden=!0}show(){this.hidden=!1}isHidden(){return this.hot===null||this.hidden}restoreState(e){this.state&&this.setState(this.state.getValueAtIndex(e))}setState(){throw new Error("The state setting logic is not implemented")}saveState(e){this.state&&this.state.setValueAtIndex(e,this.getState())}getState(){throw new Error("The state gathering logic is not implemented")}destroy(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),G(this.elements,e=>e.destroy()),this.state=null,this.elements=null,this.hot=null}}xt(_p,ir);const Dm={};function Ll(t,e){if(!Dm[t])throw Error(`Filter condition "${t}" does not exist.`);const{condition:n,descriptor:r}=Dm[t];let i=e;return r.inputValuesDecorator&&(i=r.inputValuesDecorator(i)),function(o){return n.apply(o.meta.instance,[].concat([o],[i]))}}function Xu(t){if(!Dm[t])throw Error(`Filter condition "${t}" does not exist.`);return Dm[t].descriptor}function _n(t,e,n){n.key=t,Dm[t]={condition:e,descriptor:n}}const Un="none";function q1e(){return!0}_n(Un,q1e,{name:gS,inputsCount:0,showOperators:!1});const Vg="empty";function X1e(t){return pn(t.value)}_n(Vg,X1e,{name:$P,inputsCount:0,showOperators:!0});const Cw="not_empty";function Z1e(t,e){return!Ll(Vg,e)(t)}_n(Cw,Z1e,{name:FP,inputsCount:0,showOperators:!0});const Wg="eq";function Q1e(t,e){let[n]=e;return bn(t.value).toLocaleLowerCase(t.meta.locale)===bn(n)}_n(Wg,Q1e,{name:BP,inputsCount:1,showOperators:!0});const bw="neq";function J1e(t,e){return!Ll(Wg,e)(t)}_n(bw,J1e,{name:jP,inputsCount:1,showOperators:!0});const yz="gt";function e_e(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value>r}_n(yz,e_e,{name:YP,inputsCount:1,showOperators:!0});const wz="gte";function t_e(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value>=r}_n(wz,t_e,{name:GP,inputsCount:1,showOperators:!0});const Cz="lt";function n_e(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value<r}_n(Cz,n_e,{name:KP,inputsCount:1,showOperators:!0});const bz="lte";function r_e(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value<=r}_n(bz,r_e,{name:qP,inputsCount:1,showOperators:!0});const jM="date_after";function i_e(t,e){let[n]=e;const r=fe(t.value,t.meta.dateFormat),i=fe(n,t.meta.dateFormat);return!r.isValid()||!i.isValid()?!1:r.diff(i)>=0}_n(jM,i_e,{name:QP,inputsCount:1,showOperators:!0});const VM="date_before";function o_e(t,e){let[n]=e;const r=fe(t.value,t.meta.dateFormat),i=fe(n,t.meta.dateFormat);return!r.isValid()||!i.isValid()?!1:r.diff(i)<=0}_n(VM,o_e,{name:JP,inputsCount:1,showOperators:!0});const BC="between";function s_e(t,e){let[n,r]=e,i=n,o=r;if(t.meta.type==="numeric"){const s=parseFloat(i,10),a=parseFloat(o,10);i=Math.min(s,a),o=Math.max(s,a)}else if(t.meta.type==="date"){const s=Ll(VM,[o]),a=Ll(jM,[i]);return s(t)&&a(t)}return t.value>=i&&t.value<=o}_n(BC,s_e,{name:XP,inputsCount:2,showOperators:!0});const Sz="not_between";function a_e(t,e){return!Ll(BC,e)(t)}_n(Sz,a_e,{name:ZP,inputsCount:2,showOperators:!0});const Rz="begins_with";function l_e(t,e){let[n]=e;return bn(t.value).toLocaleLowerCase(t.meta.locale).startsWith(bn(n))}_n(Rz,l_e,{name:VP,inputsCount:1,showOperators:!0});const Ez="ends_with";function u_e(t,e){let[n]=e;return bn(t.value).toLocaleLowerCase(t.meta.locale).endsWith(bn(n))}_n(Ez,u_e,{name:WP,inputsCount:1,showOperators:!0});const WM="contains";function c_e(t,e){let[n]=e;return bn(t.value).toLocaleLowerCase(t.meta.locale).indexOf(bn(n))>=0}_n(WM,c_e,{name:UP,inputsCount:1,showOperators:!0});const _z="not_contains";function h_e(t,e){return!Ll(WM,e)(t)}_n(_z,h_e,{name:zP,inputsCount:1,showOperators:!0});const Tz="date_tomorrow";function d_e(t){const e=fe(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(fe().subtract(-1,"days").startOf("day"),"d"):!1}_n(Tz,d_e,{name:tM,inputsCount:0});const Oz="date_today";function f_e(t){const e=fe(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(fe().startOf("day"),"d"):!1}_n(Oz,f_e,{name:eM,inputsCount:0});const xz="date_yesterday";function g_e(t){const e=fe(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(fe().subtract(1,"days").startOf("day"),"d"):!1}_n(xz,g_e,{name:nM,inputsCount:0});hhe();function m_e(t,e){let n=t;return n===""&&(n=`(${e})`),n}const uT=new Set([1]).has(1),p_e=uT&&typeof Array.from=="function";function Tp(t){let e=t;return uT&&(e=new Set(e)),function(n){let r;return uT?r=e.has(n):r=!!~e.indexOf(n),r}}function Pz(t){return t??""}function cT(t){let e=t;return p_e?e=Array.from(new Set(e)):e=bV(e),e=e.sort((n,r)=>typeof n=="number"&&typeof r=="number"?n-r:n===r?0:n>r?1:-1),e}function nL(t,e,n,r){const i=[],o=t===e;let s;return o||(s=Tp(e)),G(t,a=>{let l=!1;(o||s(a))&&(l=!0);const u={checked:l,value:a,visualValue:m_e(a,n)};r&&r(u),i.push(u)}),i}const Zu="by_value";function v_e(t,e){let[n]=e;return n(t.value)}_n(Zu,v_e,{name:"By value",inputsCount:0,inputValuesDecorator(t){let[e]=t;return[Tp(e)]},showOperators:!1});const Lm={};function y_e(t){if(!Lm[t])throw Error(`Operation with id "${t}" does not exist.`);const e=Lm[t].func;return function(n,r){return e(n,r)}}function w_e(t){return Lm[t].name}function UM(t,e,n){Lm[t]={name:e,func:n}}const Il="conjunction",C_e=oM;function b_e(t,e){return t.every(n=>n.func(e))}UM(Il,C_e,b_e);const jC="disjunction",S_e=mS;function R_e(t,e){return t.some(n=>n.func(e))}UM(jC,S_e,R_e);const zM="disjunctionWithExtraCondition",E_e=mS;function __e(t,e){if(t.length<3)throw Error("Operation doesn't work on less then three conditions.");return t.slice(0,t.length-1).some(n=>n.func(e))&&t[t.length-1].func(e)}UM(zM,E_e,__e);const T_e="numeric",Mz="text",O_e="date",rL={[T_e]:[Un,Xe,Vg,Cw,Xe,Wg,bw,Xe,yz,wz,Cz,bz,BC,Sz],[Mz]:[Un,Xe,Vg,Cw,Xe,Wg,bw,Xe,Rz,Ez,Xe,WM,_z],[O_e]:[Un,Xe,Vg,Cw,Xe,Wg,bw,Xe,VM,jM,BC,Xe,Tz,Oz,xz]};function x_e(t){const e=[];let n=t;return rL[n]||(n=Mz),G(rL[n],r=>{let i;r===Xe?i={name:Xe}:i=Ms(Xu(r)),e.push(i)}),e}function qf(t,e,n){return(e=P_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P_e(t){var e=M_e(t,"string");return typeof e=="symbol"?e:e+""}function M_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const hE="built",dE="building",iL=["click","input","keydown","keypress","keyup","focus","blur","change"];let xo=class Az{static get DEFAULTS(){return Ms({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}constructor(e,n){qf(this,"hot",void 0),qf(this,"eventManager",new No(this)),qf(this,"options",void 0),qf(this,"_element",void 0),qf(this,"buildState",void 0),this.hot=e,this.options=xn(Az.DEFAULTS,n),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName)}setValue(e){this.options.value=e,this.update()}getValue(){return this.options.value}get element(){return this.buildState===dE?this._element:this.buildState===hE?(this.update(),this._element):(this.buildState=dE,this.build(),this.buildState=hE,this._element)}isBuilt(){return this.buildState===hE}translateIfPossible(e){return typeof e=="string"&&e.startsWith(Hr)?this.hot.getTranslatedPhrase(e):e}build(){const e=(n,r)=>{this.eventManager.addEventListener(n,r,i=>this.runLocalHooks(r,i,this))};if(this.buildState||(this.buildState=dE),this._element.setAttribute("data-hot-input",!0),this.options.tabIndex!==void 0&&this._element.setAttribute("tabindex",this.options.tabIndex),this.options.role!==void 0&&this._element.setAttribute("role",this.options.role),this.options.className&&ge(this._element,this.options.className),this.options.children.length)G(this.options.children,n=>this._element.appendChild(n.element));else if(this.options.wrapIt){const n=this.hot.rootDocument.createElement(this.options.tagName);n.setAttribute("data-hot-input",!0),Qe(this.options,(r,i)=>{n[i]!==void 0&&i!=="className"&&i!=="tagName"&&i!=="children"&&(n[i]=this.translateIfPossible(r))}),this._element.appendChild(n),G(iL,r=>e(n,r))}else G(iL,n=>e(this._element,n))}update(){}reset(){this.options.value="",this.update()}show(){this.element.style.display=""}hide(){this.element.style.display="none"}focus(){}destroy(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}};xt(xo,ir);function A_e(t,e){Iz(t,e),e.add(t)}function I_e(t,e,n){Iz(t,e),e.set(t,n)}function Iz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ay(t,e){return t.get(YM(t,e))}function N_e(t,e,n){return t.set(YM(t,e),n),n}function YM(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var uh=new WeakMap,oL=new WeakSet;class Nl extends xo{static get DEFAULTS(){return Ms({placeholder:"",type:"text",tagName:"input",tabIndex:-1})}constructor(e,n){super(e,xn(Nl.DEFAULTS,n)),A_e(this,oL),I_e(this,uh,void 0),this.registerHooks()}registerHooks(){this.addLocalHook("keyup",e=>YM(oL,this,k_e).call(this,e))}build(){super.build();const e=this.hot.rootDocument.createElement("div");N_e(uh,this,this._element.firstChild),ge(this._element,"htUIInput"),ge(e,"htUIInputIcon"),this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(ay(uh,this).type=this.options.type,ay(uh,this).placeholder=this.translateIfPossible(this.options.placeholder),ay(uh,this).value=this.translateIfPossible(this.options.value))}focus(){this.isBuilt()&&ay(uh,this).focus()}}function k_e(t){this.options.value=t.target.value}function H_e(t,e){Nz(t,e),e.add(t)}function Xf(t,e,n){Nz(t,e),e.set(t,n)}function Nz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ch(t,e,n){return t.set(Ug(t,e),n),n}function Jt(t,e){return t.get(Ug(t,e))}function Ug(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Nn=new WeakMap,ly=new WeakMap,uy=new WeakMap,fE=new WeakMap,cy=new WeakMap,hy=new WeakSet;class $m extends xo{static get DEFAULTS(){return Ms({className:"htUISelect",wrapIt:!1,tabIndex:-1})}constructor(e,n){super(e,xn($m.DEFAULTS,n)),H_e(this,hy),Xf(this,Nn,null),Xf(this,ly,[]),Xf(this,uy,void 0),Xf(this,fE,void 0),Xf(this,cy,void 0),this.registerHooks()}getMenu(){return Jt(Nn,this)}registerHooks(){this.addLocalHook("click",()=>Ug(hy,this,$_e).call(this))}setItems(e){ch(ly,this,this.translateNames(e)),Jt(Nn,this)&&Jt(Nn,this).setMenuItems(Jt(ly,this))}translateNames(e){return G(e,n=>{n.name=this.translateIfPossible(n.name)}),e}build(){super.build(),ch(Nn,this,new Gd(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer})),Jt(Nn,this).setMenuItems(Jt(ly,this));const e=new xo(this.hot,{className:"htUISelectCaption"}),n=new xo(this.hot,{className:"htUISelectDropdown"});ch(uy,this,e),ch(fE,this,e.element),ch(cy,this,n),this.hot.getSettings().ariaTags&&(Be(n.element,[Pc()]),Be(this._element,[TV()])),G([e,n],r=>this._element.appendChild(r.element)),Jt(Nn,this).addLocalHook("select",r=>Ug(hy,this,D_e).call(this,r)),Jt(Nn,this).addLocalHook("afterClose",()=>Ug(hy,this,L_e).call(this)),this.update()}update(){if(!this.isBuilt())return;let e;this.options.value?e=this.options.value.name:e=Jt(Nn,this).hot.getTranslatedPhrase(gS),Jt(fE,this).textContent=e,super.update()}openOptions(){const e=this.element.getBoundingClientRect();Jt(Nn,this)&&(Jt(Nn,this).open(),Jt(Nn,this).setPosition({left:this.hot.isLtr()?e.left-5:e.left-31,top:e.top-1,width:e.width,height:e.height}),Jt(Nn,this).getNavigator().toFirstItem(),Jt(Nn,this).getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:n=>{this.closeOptions(),this.runLocalHooks("tabKeydown",n)}},{keys:[["Control/Meta","A"]],callback:()=>!1}]))}closeOptions(){Jt(Nn,this)&&Jt(Nn,this).close()}focus(){this.isBuilt()&&this.element.focus()}destroy(){Jt(Nn,this)&&(Jt(Nn,this).destroy(),ch(Nn,this,null)),Jt(uy,this)&&Jt(uy,this).destroy(),Jt(cy,this)&&Jt(cy,this).destroy(),super.destroy()}}function D_e(t){t.name!==Xe&&(this.options.value=t,this.update(),this.runLocalHooks("select",this.options.value))}function L_e(){this.runLocalHooks("afterClose")}function $_e(){this.openOptions()}function F_e(t,e){B_e(t,e),e.add(t)}function B_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sL(t,e,n){return(e=j_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j_e(t){var e=V_e(t,"string");return typeof e=="symbol"?e:e+""}function V_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aL(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var gE=new WeakSet;class hT extends _p{constructor(e,n){super(e,{id:n.id,stateless:!1}),F_e(this,gE),sL(this,"name",""),sL(this,"addSeparator",!1),this.name=n.name,this.addSeparator=n.addSeparator,this.elements.push(new $m(this.hot,{menuContainer:n.menuContainer})),this.elements.push(new Nl(this.hot,{placeholder:hM})),this.elements.push(new Nl(this.hot,{placeholder:dM})),this.registerHooks()}registerHooks(){this.getSelectElement().addLocalHook("select",e=>aL(gE,this,W_e).call(this,e)).addLocalHook("afterClose",()=>this.runLocalHooks("afterClose")).addLocalHook("tabKeydown",e=>this.runLocalHooks("selectTabKeydown",e)),G(this.getInputElements(),e=>{e.addLocalHook("keydown",n=>aL(gE,this,U_e).call(this,n))})}setState(e){if(this.reset(),!e)return;const n=Ms(e.command);n.name.startsWith(cn)&&(n.name=this.hot.getTranslatedPhrase(n.name)),this.getSelectElement().setValue(n),G(e.args,(r,i)=>{if(i>n.inputsCount-1)return!1;const o=this.getInputElement(i);o.setValue(r),o[n.inputsCount>i?"show":"hide"](),i||this.hot._registerTimeout(()=>o.focus(),10)})}getState(){const e=this.getSelectElement().getValue()||Xu(Un),n=[];return G(this.getInputElements(),(r,i)=>{e.inputsCount>i&&n.push(r.getValue())}),{command:e,args:n}}updateState(e,n){const r=Xu(e?e.name:Un);this.state.setValueAtIndex(n,{command:r,args:e?e.args:[]}),e||G(this.getInputElements(),i=>i.setValue(null))}getSelectElement(){return this.elements.filter(e=>e instanceof $m)[0]}getInputElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.getInputElements()[e]}getInputElements(){return this.elements.filter(e=>e instanceof Nl)}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n,r,i,o,s)=>{ge(n.parentNode,"htFiltersMenuCondition"),this.addSeparator&&ge(n.parentNode,"border");const a=this.hot.rootDocument.createElement("div");return ge(a,"htFiltersMenuLabel"),a.textContent=s,n.appendChild(a),n.parentElement.hasAttribute("ghost-table")||G(this.elements,l=>n.appendChild(l.element)),n}}}reset(){const e=this.hot.getPlugin("filters").getSelectedColumn();let n=[Xu(Un)];if(e!==null){const{visualIndex:r}=e;n=x_e(this.hot.getDataType(0,r,this.hot.countRows(),r))}G(this.getInputElements(),r=>r.hide()),this.getSelectElement().setItems(n),super.reset(),this.getSelectElement().setValue(n[0])}}function W_e(t){G(this.getInputElements(),(e,n)=>{e[t.inputsCount>n?"show":"hide"](),n===0&&this.hot._registerTimeout(()=>e.focus(),10)}),this.runLocalHooks("change",t)}function U_e(t){gp(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Bo(t))}function lL(t,e,n){z_e(t,e),e.set(t,n)}function z_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Zf(t,e){return t.get(kz(t,e))}function uL(t,e,n){return t.set(kz(t,e),n),n}function kz(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var hh=new WeakMap,mE=new WeakMap;class VC extends xo{static get DEFAULTS(){return Ms({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}constructor(e,n){super(e,xn(VC.DEFAULTS,n)),lL(this,hh,void 0),lL(this,mE,void 0)}build(){super.build();const e=this.hot.rootDocument.createElement("label");e.textContent=this.translateIfPossible(this.options.label.textContent),e.htmlFor=this.translateIfPossible(this.options.label.htmlFor),uL(mE,this,e),uL(hh,this,this._element.firstChild),Zf(hh,this).checked=this.options.checked,this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(Zf(mE,this).textContent=this.translateIfPossible(this.options.label.textContent))}isChecked(){return this.isBuilt()?Zf(hh,this).checked:!1}setChecked(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isBuilt()&&(Zf(hh,this).checked=e)}focus(){this.isBuilt()&&Zf(hh,this).focus()}}function Y_e(t,e){G_e(t,e),e.add(t)}function G_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function K_e(t,e,n){return(e=q_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q_e(t){var e=X_e(t,"string");return typeof e=="symbol"?e:e+""}function X_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z_e(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const cL=0;var hL=new WeakSet;class Q_e extends _p{constructor(e,n){super(e,{id:n.id,stateless:!1}),Y_e(this,hL),K_e(this,"name",""),this.name=n.name,this.buildOperatorsElement()}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n)=>(ge(n.parentNode,"htFiltersMenuOperators"),G(this.elements,r=>n.appendChild(r.element)),n)}}buildOperatorsElement(){const e=[Il,jC];G(e,n=>{const r=new VC(this.hot,{name:"operator",label:{htmlFor:n,textContent:w_e(n)},value:n,checked:n===e[cL],id:n});r.addLocalHook("change",i=>Z_e(hL,this,J_e).call(this,i)),this.elements.push(r)})}setChecked(e){if(this.elements.length<e)throw Error(St`Radio button with index ${e} doesn't exist.`);G(this.elements,(n,r)=>{n.setChecked(r===e)})}getActiveOperationId(){const e=this.elements.find(n=>n instanceof VC&&n.isChecked());return e?e.getValue():Il}getState(){return this.getActiveOperationId()}setState(e){this.reset(),e&&this.getActiveOperationId()!==e&&G(this.elements,n=>{n.setChecked(n.getValue()===e)})}updateState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Il,n=arguments.length>1?arguments[1]:void 0,r=e;r===zM&&(r=jC),this.state.setValueAtIndex(n,r)}reset(){this.setChecked(cL)}}function J_e(t){this.setState(t.target.value)}function eTe(t,e,n){tTe(t,e),e.set(t,n)}function tTe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pE(t,e){return t.get(Hz(t,e))}function nTe(t,e,n){return t.set(Hz(t,e),n),n}function Hz(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Qf=new WeakMap;class Fm extends xo{static get DEFAULTS(){return Ms({href:"#",tagName:"a",tabIndex:-1,role:"button"})}constructor(e,n){super(e,xn(Fm.DEFAULTS,n)),eTe(this,Qf,void 0)}build(){super.build(),nTe(Qf,this,this._element.firstChild)}update(){this.isBuilt()&&(pE(Qf,this).textContent=this.translateIfPossible(this.options.textContent))}focus(){this.isBuilt()&&pE(Qf,this).focus()}activate(){pE(Qf,this).click()}}function rTe(t,e){Dz(t,e),e.add(t)}function dh(t,e,n){Dz(t,e),e.set(t,n)}function Dz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ye(t,e){return t.get(Uh(t,e))}function ao(t,e,n){return t.set(Uh(t,e),n),n}function Uh(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const dL="multipleSelect.itemBox";var po=new WeakMap,yn=new WeakMap,vE=new WeakMap,Ks=new WeakMap,Wa=new WeakMap,Ua=new WeakMap,Jf=new WeakSet;class Bm extends xo{static get DEFAULTS(){return Ms({className:"htUIMultipleSelect",value:[]})}constructor(e,n){super(e,xn(Bm.DEFAULTS,n)),rTe(this,Jf),dh(this,po,[]),dh(this,yn,void 0),dh(this,vE,void 0),dh(this,Ks,void 0),dh(this,Wa,void 0),dh(this,Ua,void 0),ao(Ks,this,new Nl(this.hot,{placeholder:cM,className:"htUIMultipleSelectSearch"})),ao(Wa,this,new Fm(this.hot,{textContent:sM,className:"htUISelectAll"})),ao(Ua,this,new Fm(this.hot,{textContent:aM,className:"htUIClearAll"})),this.registerHooks()}getItemsBox(){return Ye(yn,this)}registerHooks(){Ye(Ks,this).addLocalHook("keydown",e=>Uh(Jf,this,oTe).call(this,e)),Ye(Ks,this).addLocalHook("input",e=>Uh(Jf,this,iTe).call(this,e)),Ye(Wa,this).addLocalHook("click",e=>Uh(Jf,this,sTe).call(this,e)),Ye(Ua,this).addLocalHook("click",e=>Uh(Jf,this,aTe).call(this,e))}setItems(e){var n;ao(po,this,e),(n=Ye(yn,this))===null||n===void 0||n.loadData(Ye(po,this))}setLocale(e){ao(vE,this,e)}getLocale(){return Ye(vE,this)}getItems(){return[...Ye(po,this)]}getValue(){return uTe(Ye(po,this))}getSearchInputElement(){return Ye(Ks,this)}getSelectAllElement(){return Ye(Wa,this)}getClearAllElement(){return Ye(Ua,this)}isSelectedAllValues(){return Ye(po,this).length===this.getValue().length}build(){super.build();const{rootDocument:e}=this.hot,n=e.createElement("div"),r=new xo(this.hot,{className:"htUISelectionControls",children:[Ye(Wa,this),Ye(Ua,this)]});this._element.appendChild(Ye(Ks,this).element),this._element.appendChild(r.element),this._element.appendChild(n);const i=o=>{var s;if(!this._element)return;(s=Ye(yn,this))===null||s===void 0||s.destroy(),ge(o,"htUIMultipleSelectHot"),ao(yn,this,new this.hot.constructor(o,{data:Ye(po,this),columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:(u,c,h,d,f,g)=>{u.title=g.instance.getDataAtRowProp(c,g.label.property)},afterListen:()=>{this.runLocalHooks("focus",this)},beforeOnCellMouseUp:()=>{Ye(yn,this).listen()},colWidths:()=>Ye(yn,this).container.scrollWidth-Gn(e),maxCols:1,autoWrapCol:!0,height:110,copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:this.hot.isRtl()?"rtl":"ltr"})),Ye(yn,this).init();const l=Ye(yn,this).getShortcutManager().getContext("grid");l.removeShortcutsByKeys(["Tab"]),l.removeShortcutsByKeys(["Shift","Tab"]),l.addShortcut({keys:[["Escape"]],callback:u=>{this.runLocalHooks("keydown",u,this)},group:dL}),l.addShortcut({keys:[["Tab"],["Shift","Tab"]],callback:u=>{Ye(yn,this).deselectCell(),this.runLocalHooks("keydown",u,this),this.runLocalHooks("listTabKeydown",u,this)},group:dL})};i(n),this.hot._registerTimeout(()=>i(n),100)}focus(){this.isBuilt()&&Ye(yn,this).listen()}reset(){Ye(Ks,this).reset(),Ye(Wa,this).reset(),Ye(Ua,this).reset()}update(){this.isBuilt()&&(Ye(yn,this).loadData(lTe(Ye(po,this),this.options.value)),super.update())}destroy(){var e;(e=Ye(yn,this))===null||e===void 0||e.destroy(),Ye(Ks,this).destroy(),Ye(Ua,this).destroy(),Ye(Wa,this).destroy(),ao(Ks,this,null),ao(Ua,this,null),ao(Wa,this,null),ao(yn,this,null),ao(po,this,null),super.destroy()}}function iTe(t){const e=t.target.value.toLocaleLowerCase(this.getLocale());let n;e===""?n=[...Ye(po,this)]:n=Ye(po,this).filter(r=>`${r.value}`.toLocaleLowerCase(this.getLocale()).indexOf(e)>=0),Ye(yn,this).loadData(n)}function oTe(t){this.runLocalHooks("keydown",t,this),VV(gp,t.keyCode)("ARROW_DOWN")&&(t.preventDefault(),Bo(t),Ye(yn,this).listen(),Ye(yn,this).selectCell(0,0))}function sTe(t){const e=[];t.preventDefault(),Ye(yn,this).getSourceData().forEach((n,r)=>{n.checked=!0,e.push(HW(n,r)[0])}),Ye(yn,this).setSourceDataAtCell(e)}function aTe(t){const e=[];t.preventDefault(),Ye(yn,this).getSourceData().forEach((n,r)=>{n.checked=!1,e.push(HW(n,r)[0])}),Ye(yn,this).setSourceDataAtCell(e)}function lTe(t,e){const n=Tp(e);return t.map(r=>(r.checked=n(r.value),r))}function uTe(t){const e=[];return t.forEach(n=>{n.checked&&e.push(n.value)}),e}function cTe(t,e){hTe(t,e),e.add(t)}function hTe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dTe(t,e,n){return(e=fTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fTe(t){var e=gTe(t,"string");return typeof e=="symbol"?e:e+""}function gTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dy(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var eg=new WeakSet;class mTe extends _p{constructor(e,n){super(e,{id:n.id,stateless:!1}),cTe(this,eg),dTe(this,"name",""),this.name=n.name,this.elements.push(new Bm(this.hot)),this.registerHooks()}registerHooks(){this.getMultipleSelectElement().addLocalHook("keydown",e=>dy(eg,this,pTe).call(this,e)).addLocalHook("listTabKeydown",e=>this.runLocalHooks("listTabKeydown",e)),this.hot.addHook("modifyFiltersMultiSelectValue",(e,n)=>dy(eg,this,vTe).call(this,e,n))}getElements(){const e=this.getMultipleSelectElement();return[e.getSearchInputElement(),e.getSelectAllElement(),e.getClearAllElement(),this.getMultipleSelectElement()]}setState(e){if(this.reset(),e&&e.command.key===Zu){const n=this.getMultipleSelectElement();n.setItems(e.itemsSnapshot),n.setValue(e.args[0]),n.setLocale(e.locale)}}getState(){const e=this.getMultipleSelectElement(),n=e.getItems();return{command:{key:e.isSelectedAllValues()||!n.length?Un:Zu},args:[e.getValue()],itemsSnapshot:n}}updateState(e){const n=(r,i,o,s,a)=>{const[l]=Dl(i,h=>h.name===Zu),u={},c=this.hot.getTranslatedPhrase(xC);if(l){const h=s(r,a),d=it(h,m=>m.value),f=new Map(h.map(m=>[m.value,this.hot.getCellMeta(m.meta.visualRow,m.meta.visualCol)])),g=cT(d);o&&(l.args[0]=o);const v=[],y=nL(g,l.args[0],c,m=>{m.checked&&v.push(m.value),dy(eg,this,fL).call(this,m,f)}),p=e.editedConditionStack.column;u.locale=this.hot.getCellMeta(0,p).locale,u.args=[v],u.command=Xu(Zu),u.itemsSnapshot=y}else u.args=[],u.command=Xu(Un);this.state.setValueAtIndex(r,u)};n(e.editedConditionStack.column,e.editedConditionStack.conditions,e.conditionArgsChange,e.filteredRowsFactory),e.dependentConditionStacks.length&&n(e.dependentConditionStacks[0].column,e.dependentConditionStacks[0].conditions,e.conditionArgsChange,e.filteredRowsFactory,e.editedConditionStack)}getMultipleSelectElement(){return this.elements.filter(e=>e instanceof Bm)[0]}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n,r,i,o,s)=>{ge(n.parentNode,"htFiltersMenuValue");const a=this.hot.rootDocument.createElement("div");return ge(a,"htFiltersMenuLabel"),a.textContent=s,n.appendChild(a),n.parentElement.hasAttribute("ghost-table")||G(this.elements,l=>n.appendChild(l.element)),n}}}reset(){const e=this.hot.getTranslatedPhrase(xC),n=this._getColumnVisibleValues(),r=n.map(l=>l.value),i=new Map(n.map(l=>[l.value,l.meta])),o=cT(r),s=nL(o,o,e,l=>{dy(eg,this,fL).call(this,l,i)});this.getMultipleSelectElement().setItems(s),super.reset(),this.getMultipleSelectElement().setValue(o);const a=this.hot.getPlugin("filters").getSelectedColumn();a!==null&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,a.visualIndex).locale)}_getColumnVisibleValues(){const e=this.hot.getPlugin("filters").getSelectedColumn();return e===null?[]:it(this.hot.getDataAtCol(e.visualIndex),(n,r)=>({value:Pz(n),meta:this.hot.getCellMeta(r,e.visualIndex)}))}}function pTe(t){gp(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Bo(t))}function fL(t,e){this.hot.hasHook("modifyFiltersMultiSelectValue")&&(t.visualValue=this.hot.runHooks("modifyFiltersMultiSelectValue",t.visualValue,e.get(t.value)))}function vTe(t,e){switch(e.type){case"numeric":return PU(t,e);default:return t}}var Lz;function yTe(t,e){wTe(t,e),e.add(t)}function wTe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function CTe(t,e,n){return(e=bTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bTe(t){var e=STe(t,"string");return typeof e=="symbol"?e:e+""}function STe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RTe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var gL=new WeakSet;class jm extends _p{static get BUTTON_OK(){return"ok"}static get BUTTON_CANCEL(){return"cancel"}constructor(e,n){super(e,{id:n.id,stateless:!0}),yTe(this,gL),CTe(this,"name",""),this.name=n.name,this.elements.push(new Nl(this.hot,{type:"button",value:lM,className:"htUIButton htUIButtonOK",identifier:jm.BUTTON_OK})),this.elements.push(new Nl(this.hot,{type:"button",value:uM,className:"htUIButton htUIButtonCancel",identifier:jm.BUTTON_CANCEL})),this.registerHooks()}registerHooks(){G(this.elements,e=>{e.addLocalHook("click",(n,r)=>RTe(gL,this,ETe).call(this,n,r))})}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n)=>(ge(n.parentNode,"htFiltersMenuActionBar"),G(this.elements,r=>n.appendChild(r.element)),n)}}accept(){this.runLocalHooks("accept")}cancel(){this.runLocalHooks("cancel")}}Lz=jm;function ETe(t,e){e.options.identifier===Lz.BUTTON_OK?this.accept():this.cancel()}function fy(t,e,n){return(e=_Te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Te(t){var e=TTe(t,"string");return typeof e=="symbol"?e:e+""}function TTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const mL="ConditionCollection.filteringStates";class GM{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;fy(this,"hot",void 0),fy(this,"isMapRegistrable",void 0),fy(this,"filteringStates",new fS),fy(this,"previousConditionStack",null),this.hot=e,this.isMapRegistrable=n,this.isMapRegistrable===!0?this.hot.columnIndexMapper.registerMap(mL,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}isEmpty(){return this.getFilteredColumns().length===0}isMatch(e,n){var r;const i=this.filteringStates.getValueAtIndex(n),o=(r=i==null?void 0:i.conditions)!==null&&r!==void 0?r:[],s=i==null?void 0:i.operation;return this.isMatchInConditions(o,e,s)}isMatchInConditions(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Il;return e.length?y_e(r)(e,n):!0}addCondition(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Il,i=arguments.length>3?arguments[3]:void 0;const o=this.hot.getCellMeta(0,e).locale,s=it(n.args,c=>typeof c=="string"?c.toLocaleLowerCase(o):c),a=n.name||n.command.key;this.previousConditionStack===null&&this.setPreviousConditionStack(this.exportAllConditions()),this.runLocalHooks("beforeAdd",e);const l=this.getOperation(e);if(l){if(l!==r)throw Error(St`The column of index ${e} has been already applied with a \`${l}\`\x20
        filter operation. Use \`removeConditions\` to clear the current conditions and then add new ones.\x20
        Mind that you cannot mix different types of operations (for instance, if you use \`conjunction\`,\x20
        use it consequently for a particular column).`)}else if($t(Lm[r]))throw new Error(St`Unexpected operation named \`${r}\`. Possible ones are\x20
        \`disjunction\` and \`conjunction\`.`);const u=this.getConditions(e);u.length===0?this.filteringStates.setValueAtIndex(e,{operation:r,conditions:[{name:a,args:s,func:Ll(a,s)}]},i):u.push({name:a,args:s,func:Ll(a,s)}),this.runLocalHooks("afterAdd",e)}getConditions(e){var n,r;return(n=(r=this.filteringStates.getValueAtIndex(e))===null||r===void 0?void 0:r.conditions)!==null&&n!==void 0?n:[]}getOperation(e){var n;return(n=this.filteringStates.getValueAtIndex(e))===null||n===void 0?void 0:n.operation}getFilteredColumns(){return this.filteringStates.getEntries().map(e=>{let[n]=e;return n})}getColumnStackPosition(e){return this.getFilteredColumns().indexOf(e)}exportAllConditions(){return kr(this.filteringStates.getEntries(),(e,n)=>{let[r,{operation:i,conditions:o}]=n;return e.push({column:r,operation:i,conditions:it(o,s=>{let{name:a,args:l}=s;return{name:a,args:l}})}),e},[])}importAllConditions(e){this.clean(),G(e,n=>{G(n.conditions,r=>this.addCondition(n.column,r))})}removeConditions(e){this.setPreviousConditionStack(this.exportAllConditions()),this.runLocalHooks("beforeRemove",e),this.filteringStates.clearValue(e),this.runLocalHooks("afterRemove",e)}clean(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}hasConditions(e,n){const r=this.getConditions(e);return n?r.some(i=>i.name===n):r.length>0}setPreviousConditionStack(e){this.previousConditionStack=e}destroy(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(mL),this.filteringStates=null,this.clearLocalHooks()}}xt(GM,ir);function pL(t,e,n){return(e=OTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OTe(t){var e=xTe(t,"string");return typeof e=="symbol"?e:e+""}function xTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $z{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>[];pL(this,"conditionCollection",void 0),pL(this,"columnDataFactory",void 0),this.conditionCollection=e,this.columnDataFactory=n}filter(){let e=[];return G(this.conditionCollection.getFilteredColumns(),(n,r)=>{let i=this.columnDataFactory(n);r&&(i=this._getIntersectData(i,e)),e=this.filterByColumn(n,i)}),e}filterByColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=[];return G(n,i=>{i!==void 0&&this.conditionCollection.isMatch(i,e)&&r.push(i)}),r}_getIntersectData(e,n){const r=[];return G(n,i=>{const o=i.meta.visualRow;e[o]!==void 0&&(r[o]=e[o])}),r}}function PTe(t,e){MTe(t,e),e.add(t)}function MTe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wu(t,e,n){return(e=ATe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ATe(t){var e=ITe(t,"string");return typeof e=="symbol"?e:e+""}function ITe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yE(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var gy=new WeakSet;class Fz{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:()=>[];PTe(this,gy),wu(this,"hot",void 0),wu(this,"conditionCollection",void 0),wu(this,"columnDataFactory",void 0),wu(this,"changes",[]),wu(this,"grouping",!1),wu(this,"latestEditedColumnPosition",-1),wu(this,"latestOrderStack",[]),this.hot=e,this.conditionCollection=n,this.columnDataFactory=r,this.conditionCollection.addLocalHook("beforeRemove",i=>yE(gy,this,NTe).call(this,i)),this.conditionCollection.addLocalHook("afterRemove",i=>this.updateStatesAtColumn(i)),this.conditionCollection.addLocalHook("afterAdd",i=>this.updateStatesAtColumn(i)),this.conditionCollection.addLocalHook("beforeClean",()=>yE(gy,this,kTe).call(this)),this.conditionCollection.addLocalHook("afterClean",()=>yE(gy,this,HTe).call(this))}groupChanges(){this.grouping=!0}flush(){this.grouping=!1,G(this.changes,e=>{this.updateStatesAtColumn(e)}),this.changes.length=0}updateStatesAtColumn(e,n){var r=this;if(this.grouping){this.changes.indexOf(e)===-1&&this.changes.push(e);return}const i=this.conditionCollection.exportAllConditions();let o=this.conditionCollection.getColumnStackPosition(e);o===-1&&(o=this.latestEditedColumnPosition);const s=i.slice(0,o),a=i.slice(o);a.length&&a[0].column===e&&a.shift();const l=Dce(function(c,h){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const f=new GM(r.hot,!1),g=[].concat(c,d);f.importAllConditions(g);const v=r.columnDataFactory(h);let y;f.isEmpty()?y=v:y=new $z(f,m=>r.columnDataFactory(m)).filter(),y=it(y,m=>m.meta.visualRow);const p=Tp(y);return f.destroy(),Dl(v,m=>p(m.meta.visualRow))})(s),u=[].concat(this.conditionCollection.getConditions(e));this.runLocalHooks("update",{editedConditionStack:{column:e,conditions:u},dependentConditionStacks:a,filteredRowsFactory:l,conditionArgsChange:n})}destroy(){this.clearLocalHooks(),Qe(this,(e,n)=>{this[n]=null})}}function NTe(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}function kTe(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}function HTe(){G(this.latestOrderStack,t=>{this.updateStatesAtColumn(t)})}xt(Fz,ir);function DTe(t){return sz({initialPage:0,size:()=>t.length,onItemSelect:(n,r)=>{const i=t[n];if(i instanceof Bm)return r;if(i.element&&!md(i.element))return!1;i.focus()}})}const tg="filters";function LTe(t,e){let n=-1;const r=DTe(e),i=l=>()=>{t.isOpened()&&t.getKeyboardShortcutsCtrl().listen(tg),r.setCurrentPage(e.indexOf(l))};e.forEach(l=>{l instanceof xo&&(l.addLocalHook("click",i(l)),l.addLocalHook("focus",i(l)),l.addLocalHook("afterClose",i(l)))}),t.addLocalHook("afterSelectionChange",l=>{l.key.startsWith("filter_")||r.clear()});function o(l){const u=t.getKeyboardShortcutsCtrl(),c=l.getKeyboardShortcutsCtrl();r.clear(),c.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:u.getContext(tg),callback:()=>{l.isSubMenu()&&l.close(),u.listen(tg)}}]),!l.isSubMenu()&&u.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:h=>{const d=t.getNavigator();d.getCurrentPage()>-1&&(n=d.getCurrentPage()),d.clear(),h.shiftKey?r.toPreviousItem():r.toNextItem()}},{keys:[["Escape"]],callback:()=>{t.close()}},{keys:[["Enter"],["Space"]],preventDefault:!1,callback:h=>{const d=e[r.getCurrentPage()];d instanceof $m&&(d.openOptions(),h.preventDefault()),d instanceof Fm&&(d.activate(),h.preventDefault()),d instanceof xo||h.preventDefault()}}],tg)}t.addLocalHook("afterSubmenuOpen",o),t.addLocalHook("afterOpen",o);function s(){t.focus(),t.getKeyboardShortcutsCtrl().listen(tg)}function a(){return n}return{...r,listen:s,getLastMenuPage:a}}function $Te(t,e){Bz(t,e),e.add(t)}function FTe(t,e,n){Bz(t,e),e.set(t,n)}function Bz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ng(t,e,n){return(e=BTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BTe(t){var e=jTe(t,"string");return typeof e=="symbol"?e:e+""}function jTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VTe(t,e,n){return t.set(ai(t,e),n),n}function rg(t,e){return t.get(ai(t,e))}function ai(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const dT="filters",WTe=250,vL=dT;var Cu=new WeakMap,Mi=new WeakSet;class UTe extends wt{static get PLUGIN_KEY(){return dT}static get PLUGIN_PRIORITY(){return WTe}static get PLUGIN_DEPS(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}constructor(e){super(e),$Te(this,Mi),ng(this,"dropdownMenuPlugin",null),ng(this,"conditionCollection",null),ng(this,"conditionUpdateObserver",null),ng(this,"components",new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]])),ng(this,"filtersRowsMap",null),FTe(this,Cu,void 0),this.hot.addHook("afterGetColHeader",(n,r)=>ai(Mi,this,XTe).call(this,n,r))}isEnabled(){return!!this.hot.getSettings()[dT]}enablePlugin(){if(this.enabled)return;this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new yp),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");const e=this.hot.getSettings().dropdownMenu,n=e&&e.uiContainer||this.hot.rootDocument.body,r=s=>(s.addLocalHook("accept",()=>ai(Mi,this,yL).call(this,"accept")),s.addLocalHook("cancel",()=>ai(Mi,this,yL).call(this,"cancel")),s.addLocalHook("change",a=>ai(Mi,this,qTe).call(this,s,a)),s),i=()=>`${this.hot.getTranslatedPhrase(rM)}:`,o=()=>`${this.hot.getTranslatedPhrase(iM)}:`;if(!this.components.get("filter_by_condition")){const s=new hT(this.hot,{id:"filter_by_condition",name:i,addSeparator:!1,menuContainer:n});s.addLocalHook("afterClose",()=>ai(Mi,this,wL).call(this)),this.components.set("filter_by_condition",r(s))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new Q_e(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){const s=new hT(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:n});s.addLocalHook("afterClose",()=>ai(Mi,this,wL).call(this)),this.components.set("filter_by_condition2",r(s))}if(this.components.get("filter_by_value")||this.components.set("filter_by_value",r(new mTe(this.hot,{id:"filter_by_value",name:o}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",r(new jm(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new GM(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new Fz(this.hot,this.conditionCollection,s=>this.getDataMapAtColumn(s)),this.conditionUpdateObserver.addLocalHook("update",s=>ai(Mi,this,ZTe).call(this,s))),this.components.forEach(s=>s.show()),this.addHook("afterDropdownMenuDefaultOptions",s=>ai(Mi,this,KTe).call(this,s)),this.addHook("afterDropdownMenuShow",()=>ai(Mi,this,YTe).call(this)),this.addHook("afterDropdownMenuHide",()=>ai(Mi,this,GTe).call(this)),this.addHook("afterChange",s=>ai(Mi,this,zTe).call(this,s)),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),!rg(Cu,this)&&this.dropdownMenuPlugin.enabled){const s=this.dropdownMenuPlugin.menu,a=[{focus:()=>{const u=s.getNavigator(),c=rg(Cu,this).getLastMenuPage();s.focus(),c>0?u.setCurrentPage(c):u.toFirstItem()}},...Array.from(this.components).map(u=>{let[,c]=u;return c.getElements()}).flat()];VTe(Cu,this,LTe(s,a));const l=u=>{rg(Cu,this).listen(),u.preventDefault(),gp(u.keyCode,"TAB")&&(u.shiftKey?rg(Cu,this).toPreviousItem():rg(Cu,this).toNextItem())};this.components.get("filter_by_value").addLocalHook("listTabKeydown",l),this.components.get("filter_by_condition").addLocalHook("selectTabKeydown",l)}this.registerShortcuts(),super.enablePlugin()}disablePlugin(){if(this.enabled){var e;(e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach((n,r)=>{n.destroy(),this.components.set(r,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)}this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Alt","A"]],stopPropagation:!0,callback:()=>{const e=this.hot.getSelected();this.clearConditions(),this.filter(),e&&this.hot.selectCells(e)},group:vL})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(vL)}addCondition(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Il;const o=this.hot.toPhysicalColumn(e);this.conditionCollection.addCondition(o,{command:{key:n},args:r},i)}removeConditions(e){const n=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(n)}clearConditions(e){if(e===void 0)this.conditionCollection.clean();else{const n=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(n)}}filter(){const{navigableHeaders:e}=this.hot.getSettings(),n=this._createDataFilter(),r=!this.conditionCollection.isEmpty();let i=[];const o=this.conditionCollection.exportAllConditions();if(this.hot.runHooks("beforeFilter",o,this.conditionCollection.previousConditionStack)!==!1)if(r){const a=[];this.hot.batchExecution(()=>{this.filtersRowsMap.clear(),i=it(n.filter(),u=>u.meta.visualRow);const l=Tp(i);Ie(this.hot.countSourceRows()-1,u=>{l(u)||a.push(u)}),G(a,u=>{this.filtersRowsMap.setValueAtIndex(u,!0)})},!0),!e&&!i.length&&this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",o),this.conditionCollection.setPreviousConditionStack(null),this.hot.view.adjustElementsSize(),this.hot.render(),this.hot.selection.isSelected()&&this.hot.selectCell(e?-1:0,this.hot.getSelectedRangeLast().highlight.col)}getSelectedColumn(){var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n?{visualIndex:n.col,physicalIndex:this.hot.toPhysicalColumn(n.col)}:null}getDataMapAtColumn(e){const n=this.hot.toVisualColumn(e),r=[];return G(this.hot.getSourceDataAtCol(n),(i,o)=>{var s;const{row:a,col:l,visualCol:u,visualRow:c,type:h,instance:d,dateFormat:f,locale:g}=this.hot.getCellMeta(o,n),v=(s=this.hot.getDataAtCell(this.hot.toVisualRow(o),n))!==null&&s!==void 0?s:i;r.push({meta:{row:a,col:l,visualCol:u,visualRow:c,type:h,instance:d,dateFormat:f,locale:g},value:Pz(v)})}),r}updateValueComponentCondition(e){const n=this.hot.getDataAtCol(e),r=cT(n);this.conditionUpdateObserver.updateStatesAtColumn(e,r)}restoreComponents(e){var n;const r=(n=this.getSelectedColumn())===null||n===void 0?void 0:n.physicalIndex;e.forEach(i=>{i.isHidden()||i.restoreState(r)}),this.updateDependentComponentsVisibility()}getOperationBasedOnArguments(e,n,r,i){let o=e;return o===jC&&n.command.key!==Un&&r.command.key!==Un&&i.command.key!==Un?o=zM:i.command.key!==Un&&(n.command.key===Un||r.command.key===Un)&&(o=Il),o}setListeningDropdownMenu(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}updateDependentComponentsVisibility(){const e=this.components.get("filter_by_condition"),{command:n}=e.getState(),r=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];n.showOperators?this.showComponents(...r):this.hideComponents(...r)}_createDataFilter(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.conditionCollection;return new $z(e,n=>this.getDataMapAtColumn(n))}getIndexesOfComponents(){const e=[];if(!this.dropdownMenuPlugin)return e;const n=this.dropdownMenuPlugin.menu;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return G(i,s=>{G(n.menuItems,(a,l)=>{a.key===s.getMenuItemDescriptor().key&&e.push(l)})}),e}changeComponentsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.dropdownMenuPlugin)return;const r=this.dropdownMenuPlugin.menu.hotMenu,i=r.getPlugin("hiddenRows");for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];const l=this.getIndexesOfComponents(...s);e?i.showRows(l):i.hideRows(l),r.render()}hideComponents(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.changeComponentsVisibility(!1,...n)}showComponents(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.changeComponentsVisibility(!0,...n)}destroy(){this.enabled&&(this.components.forEach((e,n)=>{e!==null&&(e.destroy(),this.components.set(n,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),super.destroy()}}function zTe(t){t&&G(t,e=>{const[,n]=e,r=this.hot.propToCol(n);this.conditionCollection.hasConditions(r)&&this.updateValueComponentCondition(r)})}function YTe(){const t=this.dropdownMenuPlugin.menu;this.restoreComponents(Array.from(this.components.values())),t.updateMenuDimensions()}function GTe(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}function KTe(t){t.items.push({name:Xe}),this.components.forEach(e=>{t.items.push(e.getMenuItemDescriptor())})}function yL(t){var e;if(t==="accept"){const r=this.getSelectedColumn();if(r===null){var n;(n=this.dropdownMenuPlugin)===null||n===void 0||n.close();return}const{physicalIndex:i}=r,o=this.components.get("filter_by_condition").getState(),s=this.components.get("filter_by_condition2").getState(),a=this.components.get("filter_by_value").getState(),l=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),o,s,a);this.conditionUpdateObserver.groupChanges();let u=this.conditionCollection.getColumnStackPosition(i);u===-1&&(u=void 0),this.conditionCollection.removeConditions(i),o.command.key!==Un&&(this.conditionCollection.addCondition(i,o,l,u),s.command.key!==Un&&this.conditionCollection.addCondition(i,s,l,u)),a.command.key!==Un&&this.conditionCollection.addCondition(i,a,l,u),this.conditionUpdateObserver.flush(),this.components.forEach(c=>c.saveState(i)),this.filtersRowsMap.clear(),this.filter()}(e=this.dropdownMenuPlugin)===null||e===void 0||e.close()}function qTe(t,e){this.updateDependentComponentsVisibility(),t.constructor===hT&&!e.inputsCount&&this.setListeningDropdownMenu()}function wL(){this.setListeningDropdownMenu()}function XTe(t,e){const n=this.hot.toPhysicalColumn(t);this.enabled&&this.conditionCollection.hasConditions(n)?ge(e,"htFiltersActive"):We(e,"htFiltersActive")}function ZTe(t){var e;if(!((e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled))return;const{editedConditionStack:{conditions:n,column:r}}=t,i=n.filter(s=>s.name===Zu),o=n.filter(s=>s.name!==Zu);if(i.length>=2||o.length>=3)bt(St`The filter conditions have been applied properly, but couldnt be displayed visually.\x20
        The overall amount of conditions exceed the capability of the dropdown menu.\x20
        For more details see the documentation.`);else{const s=this.conditionCollection.getOperation(r);this.components.get("filter_by_condition").updateState(o[0],r),this.components.get("filter_by_condition2").updateState(o[1],r),this.components.get("filter_operators").updateState(s,r),this.components.get("filter_by_value").updateState(t)}}const jz="internal-use-in-handsontable",fT={licenseKey:jz,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!1,nullDate:{year:1899,month:12,day:30},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function Vz(t){var e;return{maxColumns:t.maxColumns,maxRows:t.maxRows,language:(e=t[gr])===null||e===void 0||(e=e.language)===null||e===void 0?void 0:e.langCode}}function Wz(t){return Object.keys(t).reduce((e,n)=>(n!=="hyperformula"&&(e[n]=t[n]),e),{})}function QTe(t){var e;const n=t[gr],r=Wz(n!=null&&(e=n.engine)!==null&&e!==void 0&&e.hyperformula?n.engine:{}),i=Vz(t);return{...fT,...r,...i}}function JTe(t){var e;const n=t[gr],r=Wz(n!=null&&(e=n.engine)!==null&&e!==void 0&&e.hyperformula?n.engine:{}),i=Vz(t);return{...r,...i}}function eOe(t,e){return Object.keys(e).some(n=>e[n]!==void 0&&e[n]!==t[n])}function NS(){const t="engine_relationship",e=jo(gr);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function KM(){const t="shared_engine_usage",e=jo(gr);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function tOe(t){const e=t.getSettings(),n=e[gr],r=n==null?void 0:n.engine;if(n===!0||$t(r))return null;if(typeof r.hyperformula=="function"||typeof r=="function"){var i;return nOe((i=r.hyperformula)!==null&&i!==void 0?i:r,e,t)}else if(typeof r=="object"&&$t(r.hyperformula)){const o=NS(),s=KM().get(r);return o.has(r)||o.set(r,[]),o.get(r).push(t),s&&s.push(t.guid),r.getConfig().licenseKey||r.updateConfig({licenseKey:jz}),(r.getConfig().leapYear1900!==fT.leapYear1900||Sx(r.getConfig().nullDate,fT.nullDate)===!1)&&bt(St`If you use HyperFormula with Handsontable, keep the default \`leapYear1900\` and \`nullDate\` 
      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates.`),r}return null}function nOe(t,e,n){const r=e[gr],i=QTe(e),o=NS(),s=KM();rOe(t,r.functions),iOe(t,r.language);const a=t.buildEmpty(i);return o.set(a,[n]),s.set(a,[n.guid]),oOe(a,r.namedExpressions),a.on("sheetAdded",()=>{a.rebuildAndRecalculate()}),a.on("sheetRemoved",()=>{a.rebuildAndRecalculate()}),a}function CL(t){var e;const n=NS(),r=n.size===0?[]:Array.from((e=n.get(t))!==null&&e!==void 0?e:[]);return new Map(r.map(i=>[i.getPlugin("formulas").sheetId,i]))}function bL(t,e){if(t){const n=NS(),r=n.get(t),i=KM(),o=i.get(t);r&&r.includes(e)&&(r.splice(r.indexOf(e),1),r.length===0&&n.delete(t)),o&&o.includes(e.guid)&&(o.splice(o.indexOf(e.guid),1),o.length===0&&(i.delete(t),t.destroy()))}}function rOe(t,e){e&&e.forEach(n=>{const{name:r,plugin:i,translations:o}=n;try{t.registerFunction(r,i,o)}catch(s){bt(s.message)}})}function iOe(t,e){if(e){const{langCode:n}=e;try{t.registerLanguage(n,e)}catch(r){bt(r.message)}}}function oOe(t,e){e&&(t.suspendEvaluation(),e.forEach(n=>{const{name:r,expression:i,scope:o,options:s}=n;try{t.addNamedExpression(r,i,o,s)}catch(a){bt(a.message)}}),t.resumeEvaluation())}function sOe(t,e){return($t(e)||!t.doesSheetExist(e))&&(e=t.addSheet(e)),e}const Uz="DD/MM/YYYY";function zz(t){return typeof t=="string"&&t.charAt(0)==="'"&&t.charAt(1)==="="}function aOe(t){return zz(t)?t.substr(1):t}function lOe(t){return typeof t=="string"&&t.startsWith("=")}function qM(t,e){return typeof t=="string"&&e==="date"}function Yz(t,e){return fe(t,e,!0).isValid()}function Gz(t,e){return fe(t,e,!0).format(Uz)}function uOe(t,e){return fe(t,Uz,!0).format(e)}function Kz(t,e){const r=new Date(Date.UTC(0,0,t+-1));return fe(r).format(e)}function cOe(t,e,n){const r=Array.from(Array(n).keys()).filter(o=>t.includes(o)===!1);if(e===0){var i;return(i=r[e])!==null&&i!==void 0?i:0}return r[e-1]+1}function hOe(t,e){const n=[];return t.forEach(r=>{const i={from:r,to:e};n.forEach(o=>{const s=o.from>o.to,a=o.to<=i.from;o.from>i.from&&a&&s&&(i.from+=1)}),i.from>=e&&(e+=1),n.push(i)}),n}function dOe(t){return t.forEach((e,n)=>{t.slice(n+1).forEach(i=>{const o=i.from<i.to;i.from>e.from&&o&&(i.from-=1)})}),t}function XM(t,e,n){const r=hOe(t,cOe(t,e,n));return dOe(r)}function bu(t,e,n){fOe(t,e),e.set(t,n)}function fOe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Vt(t,e){return t.get(qz(t,e))}function za(t,e,n){return t.set(qz(t,e),n),n}function qz(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ig=new WeakMap,Ya=new WeakMap,ri=new WeakMap,my=new WeakMap,wE=new WeakMap,CE=new WeakMap,py=new WeakMap;class SL{constructor(e,n,r){bu(this,ig,void 0),bu(this,Ya,void 0),bu(this,ri,void 0),bu(this,my,[]),bu(this,wE,[]),bu(this,CE,void 0),bu(this,py,[]),za(ig,this,e),za(Ya,this,n),za(ri,this,r)}setRemovedHfIndexes(e){return za(py,this,e.map(n=>{const r=Vt(Ya,this).getVisualFromPhysicalIndex(n);return this.getHfIndexFromVisualIndex(r)})),Vt(py,this)}getRemovedHfIndexes(){return Vt(py,this)}getHfIndexFromVisualIndex(e){const n=Vt(Ya,this).getIndexesSequence(),r=Vt(Ya,this).getNotTrimmedIndexes();return n.indexOf(r[e])}syncMoves(e){const r=`move${Io(Vt(ig,this))}s`;Vt(ri,this).getEngine().batch(()=>{e.forEach(i=>{const o=i.from!==i.to,s=i.from+1!==i.to;o&&s&&Vt(ri,this).getEngine()[r](Vt(ri,this).getSheetId(),i.from,1,i.to)})})}storeMovesInformation(e,n,r){r!==!1&&(za(wE,this,e.map(i=>this.getHfIndexFromVisualIndex(i))),za(CE,this,this.getHfIndexFromVisualIndex(n)))}calculateAndSyncMoves(e,n){if(Vt(ri,this).isPerformingUndoRedo()||e===!1||n===!1)return;const r=XM(Vt(wE,this),Vt(CE,this),Vt(Ya,this).getNumberOfIndexes());Vt(ri,this).getSheetId()===null?Vt(ri,this).getPostponeAction(()=>this.syncMoves(r)):this.syncMoves(r)}getIndexesChangeSyncMethod(){const e=`set${Io(Vt(ig,this))}Order`;return n=>{if(Vt(ri,this).isPerformingUndoRedo())return;const r=Vt(Ya,this).getIndexesSequence();if(n==="update"&&r.length>0){const i=Vt(my,this).map(l=>r.indexOf(l)),o=Vt(ri,this).getEngine().getSheetDimensions(Vt(ri,this).getSheetId());let s;Vt(ig,this)==="row"?s=o.height:s=o.width;const a=i.length;for(let l=a;l<s;l+=1)i.push(l);Vt(ri,this).getEngine()[e](Vt(ri,this).getSheetId(),i)}za(my,this,r)}}init(){za(my,this,Vt(Ya,this).getIndexesSequence())}}function Su(t,e,n){gOe(t,e),e.set(t,n)}function gOe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qs(t,e){return t.get(Xz(t,e))}function Ru(t,e,n){return t.set(Xz(t,e),n),n}function Xz(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var vy=new WeakMap,yy=new WeakMap,bE=new WeakMap,SE=new WeakMap,RE=new WeakMap,EE=new WeakMap,_E=new WeakMap;class mOe{constructor(e,n,r){Su(this,vy,void 0),Su(this,yy,void 0),Su(this,bE,void 0),Su(this,SE,!1),Su(this,RE,!1),Su(this,EE,null),Su(this,_E,null),Ru(vy,this,new SL("row",e,this)),Ru(yy,this,new SL("column",n,this)),Ru(bE,this,r)}getForAxis(e){return e==="row"?qs(vy,this):qs(yy,this)}setPerformUndo(e){Ru(SE,this,e)}setPerformRedo(e){Ru(RE,this,e)}isPerformingUndoRedo(){return qs(SE,this)||qs(RE,this)}getSheetId(){return qs(_E,this)}getEngine(){return qs(EE,this)}getPostponeAction(){return qs(bE,this)}setupSyncEndpoint(e,n){Ru(EE,this,e),Ru(_E,this,n),qs(vy,this).init(),qs(yy,this).init()}}function pOe(t,e){Zz(t,e),e.add(t)}function fh(t,e,n){return(e=vOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vOe(t){var e=yOe(t,"string");return typeof e=="symbol"?e:e+""}function yOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TE(t,e,n){Zz(t,e),e.set(t,n)}function Zz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $l(t,e,n){return t.set(Et(t,e),n),n}function nd(t,e){return t.get(Et(t,e))}function Et(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const gr="formulas",wOe=["maxRows","maxColumns","language"],COe=260;Te.getSingleton().register("afterNamedExpressionAdded");Te.getSingleton().register("afterNamedExpressionRemoved");Te.getSingleton().register("afterSheetAdded");Te.getSingleton().register("afterSheetRemoved");Te.getSingleton().register("afterSheetRenamed");Te.getSingleton().register("afterFormulasValuesUpdate");const Kd=t=>t==="UndoRedo.undo"||t==="UndoRedo.redo"||t==="auto";var Ta=new WeakMap,ZM=new WeakMap,og=new WeakMap,Mt=new WeakSet;class bOe extends wt{constructor(){var e;super(...arguments),e=this,pOe(this,Mt),TE(this,Ta,!1),TE(this,ZM,!1),TE(this,og,[["valuesUpdated",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Et(Mt,e,LOe).call(e,...r)}],["namedExpressionAdded",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Et(Mt,e,$Oe).call(e,...r)}],["namedExpressionRemoved",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Et(Mt,e,FOe).call(e,...r)}],["sheetAdded",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Et(Mt,e,BOe).call(e,...r)}],["sheetRenamed",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Et(Mt,e,jOe).call(e,...r)}],["sheetRemoved",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Et(Mt,e,VOe).call(e,...r)}]]),fh(this,"staticRegister",jo("formulas")),fh(this,"engine",null),fh(this,"sheetName",null),fh(this,"indexSyncer",null),fh(this,"rowAxisSyncer",null),fh(this,"columnAxisSyncer",null)}static get PLUGIN_KEY(){return gr}static get PLUGIN_PRIORITY(){return COe}static get SETTING_KEYS(){return[gr,...wOe]}get sheetId(){return this.sheetName===null?null:this.engine.getSheetId(this.sheetName)}isEnabled(){return!!this.hot.getSettings()[gr]}enablePlugin(){var e,n=this;if(!this.enabled){if(this.engine=(e=tOe(this.hot))!==null&&e!==void 0?e:this.engine,!this.engine){bt("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");return}if(this.sheetName!==null&&!this.engine.doesSheetExist(this.sheetName)){const r=this.addSheet(this.sheetName,this.hot.getSourceDataArray());r!==!1&&(this.sheetName=r)}this.addHook("beforeLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,RL).call(n,...i)}),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,EL).call(n,...i)}),this.addHook("beforeUpdateData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,RL).call(n,...i)}),this.addHook("afterUpdateData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,EL).call(n,...i)}),this.addHook("modifyData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,_Oe).call(n,...i)}),this.addHook("modifySourceData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,TOe).call(n,...i)}),this.addHook("beforeValidate",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,SOe).call(n,...i)}),this.addHook("afterSetSourceDataAtCell",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,OOe).call(n,...i)}),this.addHook("afterSetDataAtCell",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,_L).call(n,...i)}),this.addHook("afterSetDataAtRowProp",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,_L).call(n,...i)}),this.addHook("beforeCreateRow",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,xOe).call(n,...i)}),this.addHook("beforeCreateCol",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,POe).call(n,...i)}),this.addHook("afterCreateRow",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,IOe).call(n,...i)}),this.addHook("afterCreateCol",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,NOe).call(n,...i)}),this.addHook("beforeRemoveRow",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,MOe).call(n,...i)}),this.addHook("beforeRemoveCol",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,AOe).call(n,...i)}),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,kOe).call(n,...i)}),this.addHook("afterRemoveCol",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,HOe).call(n,...i)}),this.indexSyncer=new mOe(this.hot.rowIndexMapper,this.hot.columnIndexMapper,r=>{this.hot.addHookOnce("init",()=>{r()})}),this.rowAxisSyncer=this.indexSyncer.getForAxis("row"),this.columnAxisSyncer=this.indexSyncer.getForAxis("column"),this.hot.addHook("afterRowSequenceChange",this.rowAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("afterColumnSequenceChange",this.columnAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("beforeRowMove",(r,i,o,s)=>{this.rowAxisSyncer.storeMovesInformation(r,i,s)}),this.hot.addHook("beforeColumnMove",(r,i,o,s)=>{this.columnAxisSyncer.storeMovesInformation(r,i,s)}),this.hot.addHook("afterRowMove",(r,i,o,s,a)=>{this.rowAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("afterColumnMove",(r,i,o,s,a)=>{this.columnAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("beforeColumnFreeze",(r,i)=>{this.columnAxisSyncer.storeMovesInformation([r],this.hot.getSettings().fixedColumnsStart,i)}),this.hot.addHook("afterColumnFreeze",(r,i)=>{this.columnAxisSyncer.calculateAndSyncMoves(i,i)}),this.hot.addHook("beforeColumnUnfreeze",(r,i)=>{this.columnAxisSyncer.storeMovesInformation([r],this.hot.getSettings().fixedColumnsStart-1,i)}),this.hot.addHook("afterColumnUnfreeze",(r,i)=>{this.columnAxisSyncer.calculateAndSyncMoves(i,i)}),this.addHook("afterCellMetaReset",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,EOe).call(n,...i)}),this.addHook("beforeUndo",()=>{this.indexSyncer.setPerformUndo(!0),this.engine.undo()}),this.addHook("beforeRedo",()=>{this.indexSyncer.setPerformRedo(!0),this.engine.redo()}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformUndo(!1)}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformRedo(!1)}),this.addHook("afterDetachChild",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,DOe).call(n,...i)}),this.addHook("beforeAutofill",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Et(Mt,n,ROe).call(n,...i)}),nd(og,this).forEach(r=>{let[i,o]=r;return this.engine.on(i,o)}),super.enablePlugin()}}disablePlugin(){nd(og,this).forEach(e=>{let[n,r]=e;return this.engine.off(n,r)}),bL(this.engine,this.hot),this.engine=null,super.disablePlugin()}updatePlugin(e){const n=JTe(this.hot.getSettings());eOe(this.engine.getConfig(),n)&&this.engine.updateConfig(n);const r=this.hot.getSettings()[gr];if(xe(r)&&xe(r.sheetName)&&r.sheetName!==this.sheetName&&this.switchSheet(r.sheetName),!e.data&&this.sheetName===null){const i=this.hot.getSettings()[gr].sheetName;i&&this.engine.doesSheetExist(i)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(i??void 0,this.hot.getSourceDataArray())}super.updatePlugin(e)}destroy(){nd(og,this).forEach(e=>{var n;let[r,i]=e;return(n=this.engine)===null||n===void 0?void 0:n.off(r,i)}),$l(og,this,null),bL(this.engine,this.hot),this.engine=null,super.destroy()}addSheet(e,n){if(xe(n)&&!dpe(n))return bt("The provided data should be an array of arrays."),!1;if(e!=null&&this.engine.doesSheetExist(e))return bt("Sheet with the provided name already exists."),!1;try{const r=this.engine.addSheet(e??void 0);return n&&this.engine.setSheetContent(this.engine.getSheetId(r),n),r}catch(r){return bt(r.message),!1}}switchSheet(e){if(!this.engine.doesSheetExist(e)){Ox(`The sheet named \`${e}\` does not exist, switch aborted.`);return}this.sheetName=e;const n=this.engine.getSheetSerialized(this.sheetId);n.length>0&&this.hot.loadData(n,`${Io(gr)}.switchSheet`)}getCellType(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;const i=this.hot.toPhysicalRow(e),o=this.hot.toPhysicalColumn(n);return i!==null&&o!==null?this.engine.getCellType({sheet:r,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n)}):"EMPTY"}isFormulaCellType(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;return this.engine.doesCellHaveFormula({sheet:r,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n)})}renderDependentSheets(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=new Set;e.forEach(i=>{var o;const s=i==null||(o=i.address)===null||o===void 0?void 0:o.sheet;s!==void 0&&(r.has(s)||r.add(s))}),CL(this.engine).forEach((i,o)=>{if((n||o!==this.sheetId)&&r.has(o)){var s;i.render(),(s=i.view)===null||s===void 0||s.adjustElementsSize()}})}validateDependentCells(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=o=>{var s;const{row:a,col:l,sheet:u}=(s=o==null?void 0:o.address)!==null&&s!==void 0?s:{};return xe(u)?`${u}:${a}x${l}`:""},i=new Set(n.map(o=>r(o)));e.forEach(o=>{var s,a;const{row:l,col:u}=(s=o.address)!==null&&s!==void 0?s:{};if(xe(l)===!1||xe(u)===!1||l>=this.hot.countRows()||u>=this.hot.countCols())return;const c=o==null||(a=o.address)===null||a===void 0?void 0:a.sheet,h=r(o);if(c!==void 0&&!i.has(h)){const d=CL(this.engine).get(c);if(!d)return;d.validateCell(d.getDataAtCell(l,u),d.getCellMeta(l,u),()=>{})}})}syncChangeWithEngine(e,n,r){const i={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(i)){bt(`Not possible to set cell data at ${JSON.stringify(i)}`);return}const o=this.hot.getCellMeta(e,n);return qM(r,o.type)&&(Yz(r,o.dateFormat)?r=Gz(r,o.dateFormat):lOe(r)===!1&&(r=`'${r}`)),this.engine.setCellContents(i,r)}}function SOe(t,e,n){const r=this.hot.propToCol(n);if(this.isFormulaCellType(e,r)){const i={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r),sheet:this.sheetId},o=this.hot.getCellMeta(e,r);let s=this.engine.getCellValue(i);return o.type==="date"&&xr(s)&&(s=Kz(s,o.dateFormat)),typeof s=="object"&&s!==null?s.value:s}return t}function ROe(t,e,n){const{row:r,col:i}=e.getTopStartCorner(),{row:o,col:s}=e.getBottomEndCorner(),{row:a,col:l}=n.getTopStartCorner(),{row:u,col:c}=n.getBottomEndCorner(),h={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(r),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId}},d={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(a),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(u),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId}};if(this.engine.isItPossibleToSetCellContents(d)===!1)return!1;const f=this.engine.getFillRangeData(h,d),{row:g,col:v}=h.start,{row:y,col:p}=h.end,m=y-g+1,w=p-v+1;for(let C=0;C<f.length;C+=1)for(let S=0;S<f[C].length;S+=1){const x=f[C][S],_=g+C%m,O=v+S%w,I=this.hot.getCellMeta(_,O);qM(x,I.type)&&(x.startsWith("'")?f[C][S]=x.slice(1):this.isFormulaCellType(_,O,this.sheetId)===!1&&(f[C][S]=uOe(x,I.dateFormat)))}return f}function RL(t,e){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(Io(gr))||$l(ZM,this,$t(this.hot.getSettings().data))}function EOe(){const t=this.hot.getSourceDataArray();let e=!1;t.forEach((n,r)=>{n.forEach((i,o)=>{const s=this.hot.getCellMeta(r,o),a=s.dateFormat;qM(i,s.type)&&(e=!0,Yz(i,a)?t[r][o]=Gz(i,a):this.isFormulaCellType(r,o)===!1&&(t[r][o]=`'${i}`))})}),e===!0&&($l(Ta,this,!0),this.engine.setSheetContent(this.sheetId,t),$l(Ta,this,!1))}function EL(t,e){if(!(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(Io(gr)))if(this.sheetName=sOe(this.engine,this.hot.getSettings()[gr].sheetName),nd(ZM,this))this.switchSheet(this.sheetName);else{const r=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,r)){$l(Ta,this,!0);const i=this.engine.setSheetContent(this.sheetId,r);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(i),$l(Ta,this,!1)}}}function _Oe(t,e,n,r){if(r!=="get"||nd(Ta,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;const i=this.hot.toVisualRow(t);if(i===null||e===null)return;if(!this.isFormulaCellType(i,e)&&this.getCellType(i,e)!=="ARRAY"){zz(n.value)&&(n.value=aOe(n.value));return}const s={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(e),sheet:this.sheetId};let a=this.engine.getCellValue(s),l=this.hot.getCellsMeta().find(c=>c.visualRow===i&&c.visualCol===e);l===void 0&&(l={}),l.type==="date"&&xr(a)&&(a=Kz(a,l.dateFormat));const u=typeof a=="object"&&a!==null?a.value:a;n.value=u}function TOe(t,e,n,r){if(r!=="get"||nd(Ta,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;const i=this.hot.toVisualRow(t),o=this.hot.propToCol(e);if(i===null||o===null||!this.isFormulaCellType(i,o)&&this.getCellType(i,o)!=="ARRAY")return;const a=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(a.width===0&&a.height===0)return;const l={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId};n.value=this.engine.getCellSerialized(l)}function _L(t,e){if(Kd(e))return;const n=[],r=[],i=this.engine.batch(()=>{t.forEach(o=>{let[s,a,,l]=o;const u=this.hot.propToCol(a),c=this.hot.toPhysicalRow(s),h=this.hot.toPhysicalColumn(u),d={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(u),sheet:this.sheetId};c!==null&&h!==null?this.syncChangeWithEngine(s,u,l):n.push([s,u,l]),r.push({address:d})})});n.length&&this.hot.addHookOnce("afterChange",()=>{const o=this.engine.batch(()=>{n.forEach(s=>{let[a,l,u]=s;this.syncChangeWithEngine(a,l,u)})});this.renderDependentSheets(o,!0)}),this.renderDependentSheets(i),this.validateDependentCells(i,r)}function OOe(t,e){if(Kd(e))return;const n=[],r=[];t.forEach(i=>{let[o,s,,a]=i;const l=this.hot.propToCol(s);if(!xr(l))return;const u={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(u)){bt(`Not possible to set source cell data at ${JSON.stringify(u)}`);return}r.push({address:u}),n.push(...this.engine.setCellContents(u,a))}),this.renderDependentSheets(n),this.validateDependentCells(n,r)}function xOe(t,e){let n=this.rowAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countRows()&&(n=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[n,e]))return!1}function POe(t,e){let n=this.columnAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countCols()&&(n=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[n,e]))return!1}function MOe(t,e,n){return this.rowAxisSyncer.setRemovedHfIndexes(n).every(o=>this.engine.isItPossibleToRemoveRows(this.sheetId,[o,1]))===!1?!1:void 0}function AOe(t,e,n){return this.columnAxisSyncer.setRemovedHfIndexes(n).every(o=>this.engine.isItPossibleToRemoveColumns(this.sheetId,[o,1]))===!1?!1:void 0}function IOe(t,e,n){if(Kd(n))return;const r=this.engine.addRows(this.sheetId,[this.rowAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(r)}function NOe(t,e,n){if(Kd(n))return;const r=this.engine.addColumns(this.sheetId,[this.columnAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(r)}function kOe(t,e,n,r){if(Kd(r))return;const i=this.rowAxisSyncer.getRemovedHfIndexes().sort((s,a)=>a-s),o=this.engine.batch(()=>{i.forEach(s=>{this.engine.removeRows(this.sheetId,[s,1])})});this.renderDependentSheets(o)}function HOe(t,e,n,r){if(Kd(r))return;const i=this.columnAxisSyncer.getRemovedHfIndexes().sort((s,a)=>a-s),o=this.engine.batch(()=>{i.forEach(s=>{this.engine.removeColumns(this.sheetId,[s,1])})});this.renderDependentSheets(o)}function DOe(t,e,n){var r;$l(Ta,this,!0);const i=this.hot.getSourceDataArray(n,0,n+(((r=e.__children)===null||r===void 0?void 0:r.length)||0),this.hot.countSourceCols());$l(Ta,this,!1),i.forEach((o,s)=>{o.forEach((a,l)=>{this.engine.setCellContents({col:l,row:n+s,sheet:this.sheetId},[[a]])})})}function LOe(t){this.hot.runHooks("afterFormulasValuesUpdate",t)}function $Oe(t,e){this.hot.runHooks("afterNamedExpressionAdded",t,e)}function FOe(t,e){this.hot.runHooks("afterNamedExpressionRemoved",t,e)}function BOe(t){this.hot.runHooks("afterSheetAdded",t)}function jOe(t,e){this.sheetName=e,this.hot.runHooks("afterSheetRenamed",t,e)}function VOe(t,e){this.hot.runHooks("afterSheetRemoved",t,e)}function WOe(t){return{key:"hidden_columns_hide",name(){const e=this.getSelectedLast();let n=0;if(Array.isArray(e)){const[,r,,i]=e;r-i!==0&&(n=1)}return this.getTranslatedPhrase(kP,n)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),r=Math.max(Math.min(e.col,n.col),0),i=Math.max(e.col,n.col),o=[];for(let l=r;l<=i;l+=1)o.push(l);t.hideColumns(o);const s=o[o.length-1],a=this.columnIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectColumns(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}function UOe(t){const e=[];return{key:"hidden_columns_show",name(){const n=e.length>1?1:0;return this.getTranslatedPhrase(HP,n)},callback(){var n,r;if(e.length===0)return;let i=e[0],o=e[e.length-1];i=(n=this.columnIndexMapper.getNearestNotHiddenIndex(i-1,-1))!==null&&n!==void 0?n:0,o=(r=this.columnIndexMapper.getNearestNotHiddenIndex(o+1,1))!==null&&r!==void 0?r:this.countCols()-1,t.showColumns(e),this.render(),this.view.adjustElementsSize(),o-i+1===this.countCols()||this.selectColumns(i,o)},disabled:!1,hidden(){const n=it(t.getHiddenColumns(),h=>this.toPhysicalColumn(h));if(!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())||n.length<1)return!0;e.length=0;const r=this.getSelectedRangeLast(),i=r.getTopStartCorner().col,o=r.getBottomEndCorner().col,s=this.columnIndexMapper,a=s.getRenderableFromVisualIndex(i),l=s.getRenderableFromVisualIndex(o),u=s.getNotTrimmedIndexes(),c=[];if(i!==o){const h=o-i+1,d=l-a+1;if(h>d){const f=u.slice(i,o+1);c.push(...f.filter(g=>n.includes(g)))}}else if(a===0&&a<i)c.push(...u.slice(0,i));else if(a===null)c.push(...u.slice(0,this.countCols()));else{const h=this.countCols()-1,d=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(h,-1));l===d&&h>o&&c.push(...u.slice(o+1))}return G(c,h=>{e.push(this.toVisualColumn(h))}),e.length===0}}}function zOe(t,e){Qz(t,e),e.add(t)}function TL(t,e,n){Qz(t,e),e.set(t,n)}function Qz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gi(t,e){return t.get(el(t,e))}function sg(t,e,n){return t.set(el(t,e),n),n}function el(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Te.getSingleton().register("beforeHideColumns");Te.getSingleton().register("afterHideColumns");Te.getSingleton().register("beforeUnhideColumns");Te.getSingleton().register("afterUnhideColumns");const OE="hiddenColumns",YOe=310;var Es=new WeakMap,ts=new WeakMap,Eu=new WeakSet;class GOe extends wt{constructor(){super(...arguments),zOe(this,Eu),TL(this,Es,{}),TL(this,ts,null)}static get PLUGIN_KEY(){return OE}static get PLUGIN_PRIORITY(){return YOe}isEnabled(){return!!this.hot.getSettings()[OE]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[OE];Ze(n)&&(sg(Es,this,n),$t(n.copyPasteEnabled)&&(n.copyPasteEnabled=!0)),sg(ts,this,new dS),gi(ts,this).addLocalHook("init",()=>el(Eu,this,JOe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,gi(ts,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return el(Eu,e,QOe).call(e,...i)}),this.addHook("afterGetCellMeta",(r,i,o)=>el(Eu,this,qOe).call(this,r,i,o)),this.addHook("modifyColWidth",(r,i)=>el(Eu,this,KOe).call(this,r,i),2),this.addHook("afterGetColHeader",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return el(Eu,e,ZOe).call(e,...i)}),this.addHook("modifyCopyableRange",r=>el(Eu,this,XOe).call(this,r)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),sg(Es,this,{}),super.disablePlugin(),this.resetCellsMeta()}showColumns(e){const n=this.getHiddenColumns(),r=this.isValidConfig(e);let i=n;const o=gi(ts,this).getValues().slice(),s=e.length>0;if(r&&s){const l=e.map(u=>this.hot.toPhysicalColumn(u));G(l,u=>{o[u]=!1}),i=kr(o,(u,c,h)=>(c&&u.push(this.hot.toVisualColumn(h)),u),[])}this.hot.runHooks("beforeUnhideColumns",n,i,r&&s)!==!1&&(r&&s&&gi(ts,this).setValues(o),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",n,i,r&&s,r&&i.length<n.length))}showColumn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.showColumns(n)}hideColumns(e){const n=this.getHiddenColumns(),r=this.isValidConfig(e);let i=n;r&&(i=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeHideColumns",n,i,r)!==!1&&(r&&this.hot.batchExecution(()=>{G(e,s=>{gi(ts,this).setValueAtIndex(this.hot.toPhysicalColumn(s),!0)})},!0),this.hot.runHooks("afterHideColumns",n,i,r,r&&i.length>n.length))}hideColumn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.hideColumns(n)}getHiddenColumns(){return it(gi(ts,this).getHiddenIndexes(),e=>this.hot.toVisualColumn(e))}isHidden(e){return gi(ts,this).getValueAtIndex(this.hot.toPhysicalColumn(e))||!1}isValidConfig(e){const n=this.hot.countCols();return Array.isArray(e)&&e.length>0?e.every(r=>Number.isInteger(r)&&r>=0&&r<n):!1}resetCellsMeta(){G(this.hot.getCellsMeta(),e=>{e&&(e.skipColumnOnPaste=!1)})}destroy(){sg(Es,this,null),sg(ts,this,null),super.destroy()}}function KOe(t,e){if(this.isHidden(e))return 0;if(gi(Es,this).indicators&&(this.isHidden(e+1)||this.isHidden(e-1))&&typeof t=="number"&&this.hot.hasColHeaders())return t+15}function qOe(t,e,n){if(gi(Es,this).copyPasteEnabled===!1&&this.isHidden(e)&&(n.skipColumnOnPaste=!0),this.isHidden(e-1))n.className=n.className||"",n.className.indexOf("afterHiddenColumn")===-1&&(n.className+=" afterHiddenColumn");else if(n.className){const r=n.className.split(" ");if(r.length>0){const i=r.indexOf("afterHiddenColumn");i>-1&&r.splice(i,1),n.className=r.join(" ")}}}function XOe(t){if(gi(Es,this).copyPasteEnabled)return t;const e=[],n=(r,i,o,s)=>{e.push({startRow:r,endRow:i,startCol:o,endCol:s})};return G(t,r=>{let i=!0,o=0;Ie(r.startCol,r.endCol,s=>{this.isHidden(s)?(i||n(r.startRow,r.endRow,o,s-1),i=!0):(i&&(o=s),s===r.endCol&&n(r.startRow,r.endRow,o,s),i=!1)})}),e}function ZOe(t,e){if(!gi(Es,this).indicators||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenColumn"),t<this.hot.countCols()-1&&this.isHidden(t+1)&&n.push("beforeHiddenColumn"),ge(e,n)}function QOe(t){t.items.push({name:Xe},WOe(this),UOe(this))}function JOe(){Array.isArray(gi(Es,this).columns)&&this.hideColumns(gi(Es,this).columns)}function exe(t){return{key:"hidden_rows_hide",name(){const e=this.getSelectedLast();let n=0;if(Array.isArray(e)){const[r,,i]=e;r-i!==0&&(n=1)}return this.getTranslatedPhrase(DP,n)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),r=Math.max(Math.min(e.row,n.row),0),i=Math.max(e.row,n.row),o=[];for(let l=r;l<=i;l+=1)o.push(l);t.hideRows(o);const s=o[o.length-1],a=this.rowIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectRows(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}function txe(t){const e=[];return{key:"hidden_rows_show",name(){const n=e.length>1?1:0;return this.getTranslatedPhrase(LP,n)},callback(){var n,r;if(e.length===0)return;let i=e[0],o=e[e.length-1];i=(n=this.rowIndexMapper.getNearestNotHiddenIndex(i-1,-1))!==null&&n!==void 0?n:0,o=(r=this.rowIndexMapper.getNearestNotHiddenIndex(o+1,1))!==null&&r!==void 0?r:this.countRows()-1,t.showRows(e),this.render(),this.view.adjustElementsSize(),o-i+1===this.countRows()||this.selectRows(i,o)},disabled:!1,hidden(){const n=it(t.getHiddenRows(),h=>this.toPhysicalRow(h));if(!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())||n.length<1)return!0;e.length=0;const r=this.getSelectedRangeLast(),i=r.getTopStartCorner().row,o=r.getBottomEndCorner().row,s=this.rowIndexMapper,a=s.getRenderableFromVisualIndex(i),l=s.getRenderableFromVisualIndex(o),u=s.getNotTrimmedIndexes(),c=[];if(i!==o){const h=o-i+1,d=l-a+1;if(h>d){const f=u.slice(i,o+1);c.push(...f.filter(g=>n.includes(g)))}}else if(a===0&&a<i)c.push(...u.slice(0,i));else if(a===null)c.push(...u.slice(0,this.countRows()));else{const h=this.countRows()-1,d=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(h,-1));l===d&&h>o&&c.push(...u.slice(o+1))}return G(c,h=>{e.push(this.toVisualRow(h))}),e.length===0}}}function nxe(t,e){Jz(t,e),e.add(t)}function OL(t,e,n){Jz(t,e),e.set(t,n)}function Jz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Li(t,e){return t.get(tl(t,e))}function ag(t,e,n){return t.set(tl(t,e),n),n}function tl(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Te.getSingleton().register("beforeHideRows");Te.getSingleton().register("afterHideRows");Te.getSingleton().register("beforeUnhideRows");Te.getSingleton().register("afterUnhideRows");const xE="hiddenRows",rxe=320;var fa=new WeakMap,ns=new WeakMap,_u=new WeakSet;class ixe extends wt{constructor(){super(...arguments),nxe(this,_u),OL(this,fa,{}),OL(this,ns,null)}static get PLUGIN_KEY(){return xE}static get PLUGIN_PRIORITY(){return rxe}isEnabled(){return!!this.hot.getSettings()[xE]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[xE];Ze(n)&&(ag(fa,this,n),$t(n.copyPasteEnabled)&&(n.copyPasteEnabled=!0)),ag(ns,this,new dS),Li(ns,this).addLocalHook("init",()=>tl(_u,this,cxe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,Li(ns,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tl(_u,e,uxe).call(e,...i)}),this.addHook("afterGetCellMeta",(r,i,o)=>tl(_u,this,sxe).call(this,r,i,o)),this.addHook("modifyRowHeight",(r,i)=>tl(_u,this,oxe).call(this,r,i)),this.addHook("afterGetRowHeader",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tl(_u,e,lxe).call(e,...i)}),this.addHook("modifyCopyableRange",r=>tl(_u,this,axe).call(this,r)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),ag(fa,this,{}),super.disablePlugin(),this.resetCellsMeta()}showRows(e){const n=this.getHiddenRows(),r=this.isValidConfig(e);let i=n;const o=Li(ns,this).getValues().slice(),s=e.length>0;if(r&&s){const l=e.map(u=>this.hot.toPhysicalRow(u));G(l,u=>{o[u]=!1}),i=kr(o,(u,c,h)=>(c&&u.push(this.hot.toVisualRow(h)),u),[])}this.hot.runHooks("beforeUnhideRows",n,i,r&&s)!==!1&&(r&&s&&Li(ns,this).setValues(o),this.hot.runHooks("afterUnhideRows",n,i,r&&s,r&&i.length<n.length))}showRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.showRows(n)}hideRows(e){const n=this.getHiddenRows(),r=this.isValidConfig(e);let i=n;r&&(i=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeHideRows",n,i,r)!==!1&&(r&&this.hot.batchExecution(()=>{G(e,s=>{Li(ns,this).setValueAtIndex(this.hot.toPhysicalRow(s),!0)})},!0),this.hot.runHooks("afterHideRows",n,i,r,r&&i.length>n.length))}hideRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.hideRows(n)}getHiddenRows(){return it(Li(ns,this).getHiddenIndexes(),e=>this.hot.toVisualRow(e))}isHidden(e){return Li(ns,this).getValueAtIndex(this.hot.toPhysicalRow(e))||!1}isValidConfig(e){const n=this.hot.countRows();return Array.isArray(e)&&e.length>0?e.every(r=>Number.isInteger(r)&&r>=0&&r<n):!1}resetCellsMeta(){G(this.hot.getCellsMeta(),e=>{e&&(e.skipRowOnPaste=!1)})}destroy(){ag(fa,this,null),ag(ns,this,null),super.destroy()}}function oxe(t,e){return this.isHidden(e)?0:t}function sxe(t,e,n){if(Li(fa,this).copyPasteEnabled===!1&&this.isHidden(t)&&(n.skipRowOnPaste=!0),this.isHidden(t-1))n.className=n.className||"",n.className.indexOf("afterHiddenRow")===-1&&(n.className+=" afterHiddenRow");else if(n.className){const r=n.className.split(" ");if(r.length>0){const i=r.indexOf("afterHiddenRow");i>-1&&r.splice(i,1),n.className=r.join(" ")}}}function axe(t){if(Li(fa,this).copyPasteEnabled)return t;const e=[],n=(r,i,o,s)=>{e.push({startRow:r,endRow:i,startCol:o,endCol:s})};return G(t,r=>{let i=!0,o=0;Ie(r.startRow,r.endRow,s=>{this.isHidden(s)?(i||n(o,s-1,r.startCol,r.endCol),i=!0):(i&&(o=s),s===r.endRow&&n(o,s,r.startCol,r.endCol),i=!1)})}),e}function lxe(t,e){if(!Li(fa,this).indicators||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenRow"),t<this.hot.countRows()-1&&this.isHidden(t+1)&&n.push("beforeHiddenRow"),ge(e,n)}function uxe(t){t.items.push({name:Xe},exe(this),txe(this))}function cxe(){Array.isArray(Li(fa,this).rows)&&this.hideRows(Li(fa,this).rows)}function hxe(t){return{key:"freeze_column",name(){return this.getTranslatedPhrase(vP)},callback(e,n){const[{start:{col:r}}]=n;t.freezeColumn(r),this.render(),this.view.adjustElementsSize()},hidden(){const e=this.getSelectedRange();let n=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(n=!0),n}}}function dxe(t){return{key:"unfreeze_column",name(){return this.getTranslatedPhrase(yP)},callback(e,n){const[{start:{col:r}}]=n;t.unfreezeColumn(r),this.render(),this.view.adjustElementsSize()},hidden(){const e=this.getSelectedRange();let n=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col>=this.getSettings().fixedColumnsStart)&&(n=!0),n}}}function fxe(t,e){e3(t,e),e.add(t)}function gxe(t,e,n){e3(t,e),e.set(t,n)}function e3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gT(t,e){return t.get(WC(t,e))}function PE(t,e,n){return t.set(WC(t,e),n),n}function WC(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Te.getSingleton().register("beforeColumnFreeze");Te.getSingleton().register("afterColumnFreeze");Te.getSingleton().register("beforeColumnUnfreeze");Te.getSingleton().register("afterColumnUnfreeze");const xL="manualColumnFreeze",mxe=110;var Bu=new WeakMap,ME=new WeakSet;class pxe extends wt{constructor(){super(...arguments),fxe(this,ME),gxe(this,Bu,!1)}static get PLUGIN_KEY(){return xL}static get PLUGIN_PRIORITY(){return mxe}isEnabled(){return!!this.hot.getSettings()[xL]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>WC(ME,this,vxe).call(this,e)),this.addHook("beforeColumnMove",(e,n)=>WC(ME,this,yxe).call(this,e,n)),super.enablePlugin())}disablePlugin(){PE(Bu,this,!1),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}freezeColumn(e){const n=this.hot.getSettings(),r=n.fixedColumnsStart<this.hot.countCols()&&e>n.fixedColumnsStart-1;gT(Bu,this)||PE(Bu,this,!0),this.hot.runHooks("beforeColumnFreeze",e,r)!==!1&&(r&&(this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart),n._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",e,r))}unfreezeColumn(e){const n=this.hot.getSettings(),r=n.fixedColumnsStart>0&&e<=n.fixedColumnsStart-1;gT(Bu,this)||PE(Bu,this,!0),this.hot.runHooks("beforeColumnUnfreeze",e,r)!==!1&&(r&&(n._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",e,r))}}function vxe(t){t.items.push({name:"---------"},hxe(this),dxe(this))}function yxe(t,e){if(gT(Bu,this)){const n=this.hot.getSettings().fixedColumnsStart;if(e<n||t.some(r=>r<n))return!1}}function wy(t,e,n){return(e=wxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wxe(t){var e=Cxe(t,"string");return typeof e=="symbol"?e:e+""}function Cxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const AE=0,PL=1,ML=2,gh="px";let t3=class{constructor(e){wy(this,"hot",void 0),wy(this,"_element",null),wy(this,"state",AE),wy(this,"inlineProperty",void 0),this.hot=e,this.inlineProperty=e.isRtl()?"right":"left"}appendTo(e){e.appendChild(this._element),this.state=ML}build(){this.state===AE&&(this._element=this.hot.rootDocument.createElement("div"),this.state=PL)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=AE}isAppended(){return this.state===ML}isBuilt(){return this.state>=PL}setPosition(e,n){xr(e)&&(this._element.style.top=e+gh),xr(n)&&(this._element.style[this.inlineProperty]=n+gh)}getPosition(){const e=this._element.style;return{top:e.top?parseInt(e.top,10):0,start:e[this.inlineProperty]?parseInt(e[this.inlineProperty],10):0}}setSize(e,n){xr(e)&&(this._element.style.width=e+gh),xr(n)&&(this._element.style.height=n+gh)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,n){xr(e)&&(this._element.style.marginTop=e+gh),xr(n)&&(this._element.style[`margin${Io(this.inlineProperty)}`]=n+gh)}getOffset(){const e=this._element.style,n=`margin${Io(this.inlineProperty)}`;return{top:e.marginTop?parseInt(e.marginTop,10):0,start:e[n]?parseInt(e[n],10):0}}};const bxe="ht__manualColumnMove--backlight";let Sxe=class extends t3{build(){super.build(),ge(this._element,bxe)}};const Rxe="ht__manualColumnMove--guideline";let Exe=class extends t3{build(){super.build(),ge(this._element,Rxe)}};function _xe(t,e){n3(t,e),e.add(t)}function lo(t,e,n){n3(t,e),e.set(t,n)}function n3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Kr(t,e,n){return t.set(nl(t,e),n),n}function Ae(t,e){return t.get(nl(t,e))}function nl(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Te.getSingleton().register("beforeColumnMove");Te.getSingleton().register("afterColumnMove");const IE="manualColumnMove",Txe=120,AL="ht__manualColumnMove",UC="show-ui",mT="on-moving--columns",pT="after-selection--columns";var Tr=new WeakMap,al=new WeakMap,ga=new WeakMap,Sw=new WeakMap,yl=new WeakMap,_r=new WeakMap,Cy=new WeakMap,Ii=new WeakMap,_h=new WeakMap,zC=new WeakMap,zg=new WeakMap,Tu=new WeakSet;class Oxe extends wt{constructor(){super(...arguments),_xe(this,Tu),lo(this,Tr,new Sxe(this.hot)),lo(this,al,new Exe(this.hot)),lo(this,ga,[]),lo(this,Sw,0),lo(this,yl,!1),lo(this,_r,{}),lo(this,Cy,void 0),lo(this,Ii,void 0),lo(this,_h,void 0),lo(this,zC,void 0),lo(this,zg,void 0)}static get PLUGIN_KEY(){return IE}static get PLUGIN_PRIORITY(){return Txe}isEnabled(){return!!this.hot.getSettings()[IE]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return nl(Tu,e,xxe).call(e,...r)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return nl(Tu,e,Mxe).call(e,...r)}),this.addHook("afterScrollVertically",()=>nl(Tu,this,Ixe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return nl(Tu,e,Nxe).call(e,...r)}),this.buildPluginUI(),this.registerEvents(),ge(this.hot.rootElement,AL),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){We(this.hot.rootElement,AL),this.unregisterEvents(),Ae(Tr,this).destroy(),Ae(al,this).destroy(),super.disablePlugin()}moveColumn(e,n){return this.moveColumns([e],n)}moveColumns(e,n){const r=Ae(Cy,this),i=this.isMovePossible(e,n),o=this.hot.runHooks("beforeColumnMove",e,n,r,i);if(Kr(Cy,this,void 0),o===!1)return;i&&this.hot.columnIndexMapper.moveIndexes(e,n);const s=i&&this.isColumnOrderChanged(e,n);return this.hot.runHooks("afterColumnMove",e,n,r,i,s),s}dragColumn(e,n){return this.dragColumns([e],n)}dragColumns(e,n){const r=this.countFinalIndex(e,n);return Kr(Cy,this,n),this.moveColumns(e,r)}isMovePossible(e,n){const r=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),i=e.length+n>r,o=n<0,s=e.some(l=>l<0),a=e.some(l=>l>=r);return!(i||o||s||a)}isColumnOrderChanged(e,n){return e.some((r,i)=>r-i!==n)}countFinalIndex(e,n){const r=kr(e,(i,o)=>(o<n&&(i+=1),i),0);return n-r}getColumnsWidth(e,n){const r=this.hot.columnIndexMapper;let i=0;for(let o=e;o<=n;o+=1){const s=r.getRenderableFromVisualIndex(o);o<0?i+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:s!==null&&(i+=this.hot.view._wt.wtTable.getStretchedColumnWidth(s)||0)}return i}moveBySettingsOrLoad(){const e=this.hot.getSettings()[IE];if(Array.isArray(e))this.moveColumns(e,0);else if(e!==void 0){const n=this.persistentStateLoad();n.length&&this.moveColumns(n,0)}}isFixedColumnsStart(e){return e<this.hot.getSettings().fixedColumnsStart}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",e),e.value?e.value:[]}prepareColumnsToMoving(e,n){const r=[];return Ie(e,n,i=>{r.push(i)}),r}refreshPositions(){const e=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(Ae(Ii,this))&&e>0&&this.hot.scrollViewportTo({col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(e-1,-1)});const n=this.hot.view._wt.wtTable,r=this.hot.view._wt.wtOverlays.scrollableElement,i=typeof r.scrollX=="number"?r.scrollX:r.scrollLeft;let o=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,Ae(Ii,this)-1);const s=n.hider.offsetWidth,a=n.TBODY.offsetLeft,l=Ae(Tr,this).getOffset().start,u=Ae(Tr,this).getSize().width;let c=0,h=0;if(this.hot.isRtl()){const g=this.hot.rootWindow,v=Ft(this.hot.rootElement),y=g.innerWidth-Ae(_h,this)-v;h=g.innerWidth-Ae(_r,this).eventPageX-y-(r.scrollX===void 0?i:0)}else h=Ae(_r,this).eventPageX-(Ae(_h,this)-(r.scrollX===void 0?i:0));if(Ae(zC,this)&&(c=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(Ae(Ii,this))&&(o+=i),o+=c,Ae(Ii,this)<0)Ae(zg,this)>0?Ae(_r,this).col=0:Ae(_r,this).col=e>0?e-1:e;else if(Ae(_r,this).TD.offsetWidth/2+o<=h){const g=Ae(Ii,this)>=Ae(Sw,this)?Ae(Sw,this)-1:Ae(Ii,this);Ae(_r,this).col=g+1,o+=Ae(_r,this).TD.offsetWidth}else Ae(_r,this).col=Ae(Ii,this);let d=h,f=o;h+u+l>=s?d=s-u-l:h+l<a+c&&(d=a+c+Math.abs(l)),o>=s-1?f=s-1:f===0?f=1:r.scrollX!==void 0&&Ae(Ii,this)<Ae(zg,this)&&(f-=Ae(_h,this)<=r.scrollX?Ae(_h,this):0),Ae(Tr,this).setPosition(null,d),Ae(al,this).setPosition(null,f)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",n=>nl(Tu,this,Pxe).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>nl(Tu,this,Axe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){Ae(Tr,this).build(),Ae(al,this).build()}destroy(){Ae(Tr,this).destroy(),Ae(al,this).destroy(),super.destroy()}}function xxe(t,e,n,r){const i=this.hot.view._wt.wtTable,o=this.hot.selection.isSelectedByColumnHeader(),s=this.hot.getSelectedRangeLast(),a=je(t.target,"sortAction");if(!s||!o||Ae(yl,this)||t.button!==0||a){Kr(yl,this,!1),Ae(ga,this).length=0,We(this.hot.rootElement,[mT,UC]);return}const l=Ae(al,this).isBuilt()&&!Ae(al,this).isAppended(),u=Ae(Tr,this).isBuilt()&&!Ae(Tr,this).isAppended();l&&u&&(Ae(al,this).appendTo(i.hider),Ae(Tr,this).appendTo(i.hider));const{from:c,to:h}=s,d=Math.min(c.col,h.col),f=Math.max(c.col,h.col);if(e.row<0&&e.col>=d&&e.col<=f){r.column=!0,Kr(yl,this,!0);const g=n.firstChild?bhe(t,n.firstChild).x:t.offsetX;Ae(_r,this).eventPageX=t.pageX,Kr(Ii,this,e.col),Ae(_r,this).TD=n,Ae(_r,this).col=e.col,Kr(ga,this,this.prepareColumnsToMoving(d,f)),Kr(zC,this,!!this.hot.getSettings().rowHeaders),Kr(Sw,this,this.hot.countCols()),Kr(zg,this,this.hot.getSettings().fixedColumnsStart),Kr(_h,this,zn(this.hot.rootElement).left);const v=Ae(zC,this)?-1:0,y=i.holder.scrollTop+i.getColumnHeaderHeight(0)+1,p=e.col<Ae(zg,this),m=this.hot.view._wt.wtOverlays.inlineStartOverlay.getOverlayOffset(),w=Math.abs(g-(this.hot.isRtl()?n.offsetWidth:0)),C=this.getColumnsWidth(d,e.col-1)+w,S=this.getColumnsWidth(v,d-1)+(p?m:0)+C;Ae(Tr,this).setPosition(y,S),Ae(Tr,this).setSize(this.getColumnsWidth(d,f),i.hider.offsetHeight-y),Ae(Tr,this).setOffset(null,-C),ge(this.hot.rootElement,mT)}else We(this.hot.rootElement,pT),Kr(yl,this,!1),Ae(ga,this).length=0}function Pxe(t){Ae(yl,this)&&(Ae(_r,this).eventPageX=t.pageX,this.refreshPositions())}function Mxe(t,e,n,r){!this.hot.getSelectedRangeLast()||!Ae(yl,this)||(Ae(ga,this).indexOf(e.col)>-1?We(this.hot.rootElement,UC):ge(this.hot.rootElement,UC),r.row=!0,r.column=!0,r.cell=!0,Kr(Ii,this,e.col),Ae(_r,this).TD=n)}function Axe(){const t=Ae(_r,this).col,e=Ae(ga,this).length;if(Kr(Ii,this,void 0),Kr(yl,this,!1),We(this.hot.rootElement,[mT,UC,pT]),this.hot.selection.isSelectedByColumnHeader()&&ge(this.hot.rootElement,pT),e<1||t===void 0)return;const n=Ae(ga,this)[0],r=this.hot.toPhysicalColumn(n),i=this.dragColumns(Ae(ga,this),t);if(Ae(ga,this).length=0,i===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();const o=this.hot.toVisualColumn(r),s=o+e-1;this.hot.selectColumns(o,s)}}function Ixe(){const t=this.hot.view._wt.wtTable,e=t.getColumnHeaderHeight(0)+1,n=t.holder.scrollTop,r=e+n;Ae(Tr,this).setPosition(r),Ae(Tr,this).setSize(null,t.hider.offsetHeight-r)}function Nxe(){this.moveBySettingsOrLoad()}function kxe(t,e){r3(t,e),e.add(t)}function cr(t,e,n){r3(t,e),e.set(t,n)}function r3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fn(t,e,n){return t.set(vo(t,e),n),n}function Re(t,e){return t.get(vo(t,e))}function vo(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const YC="manualColumnResize",Hxe=130,IL="manualColumnWidths";var ia=new WeakMap,by=new WeakMap,ci=new WeakMap,GC=new WeakMap,bs=new WeakMap,Dxe=new WeakMap,rd=new WeakMap,Sy=new WeakMap,Wr=new WeakMap,Js=new WeakMap,yc=new WeakMap,KC=new WeakMap,Yg=new WeakMap,Gg=new WeakMap,fi=new WeakMap,Kg=new WeakMap,rs=new WeakSet;class Lxe extends wt{static get PLUGIN_KEY(){return YC}static get PLUGIN_PRIORITY(){return Hxe}constructor(e){super(e),kxe(this,rs),cr(this,ia,null),cr(this,by,null),cr(this,ci,[]),cr(this,GC,null),cr(this,bs,null),cr(this,Dxe,null),cr(this,rd,null),cr(this,Sy,null),cr(this,Wr,this.hot.rootDocument.createElement("DIV")),cr(this,Js,this.hot.rootDocument.createElement("DIV")),cr(this,yc,null),cr(this,KC,!1),cr(this,Yg,0),cr(this,Gg,null),cr(this,fi,void 0),cr(this,Kg,void 0),ge(Re(Wr,this),"manualColumnResizer"),ge(Re(Js,this),"manualColumnResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[YC]}enablePlugin(){this.enabled||(fn(fi,this,new Yl),Re(fi,this).addLocalHook("init",()=>vo(rs,this,$xe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,Re(fi,this)),this.addHook("modifyColWidth",(e,n)=>vo(rs,this,Uxe).call(this,e,n),1),this.addHook("beforeStretchingColumnWidth",(e,n)=>vo(rs,this,zxe).call(this,e,n)),this.addHook("beforeColumnResize",(e,n,r)=>vo(rs,this,Yxe).call(this,e,n,r)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){fn(Kg,this,Re(fi,this).getValues()),this.hot.columnIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualColumnWidths(){this.hot.runHooks("persistentStateSave",IL,Re(fi,this).getValues())}loadManualColumnWidths(){const e={};return this.hot.runHooks("persistentStateLoad",IL,e),e.value}setManualSize(e,n){const r=Math.max(n,20),i=this.hot.toPhysicalColumn(e);return Re(fi,this).setValueAtIndex(i,r),r}clearManualSize(e){const n=this.hot.toPhysicalColumn(e);Re(fi,this).setValueAtIndex(n,null)}setupHandlePosition(e){if(!e.parentNode)return;fn(ia,this,e);const{_wt:n}=this.hot.view,r=n.wtTable.getCoords(Re(ia,this)),i=r.col;if(i<0)return;const o=Rn(Re(ia,this)),s=Re(ia,this).getBoundingClientRect(),a=i<n.getSetting("fixedColumnsStart");let l;a&&(l=n.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(Re(ia,this),r.row,r.col)),l||(l=n.wtOverlays.topOverlay.getRelativeCellPosition(Re(ia,this),r.row,r.col)),fn(by,this,this.hot.columnIndexMapper.getVisualFromRenderableIndex(i)),fn(ci,this,[]);const u=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();if(this.hot.selection.isSelected()&&u){const c=this.hot.getSelectedRange();G(c,h=>{const d=h.getTopStartCorner().col,f=h.getBottomEndCorner().col;Ie(d,f,g=>{Re(ci,this).includes(g)||Re(ci,this).push(g)})})}Re(ci,this).includes(Re(by,this))||fn(ci,this,[Re(by,this)]),fn(Sy,this,l.start-6),fn(rd,this,parseInt(s.width,10)),Re(Wr,this).style.top=`${l.top}px`,Re(Wr,this).style[this.inlineDir]=`${Re(Sy,this)+Re(rd,this)}px`,Re(Wr,this).style.height=`${o}px`,this.hot.rootElement.appendChild(Re(Wr,this))}refreshHandlePosition(){Re(Wr,this).style[this.inlineDir]=`${Re(Sy,this)+Re(GC,this)}px`}setupGuidePosition(){const e=parseInt(Rn(Re(Wr,this)),10),n=parseInt(Re(Wr,this).style.top,10)+e,r=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);ge(Re(Wr,this),"active"),ge(Re(Js,this),"active"),Re(Js,this).style.top=`${n}px`,this.refreshGuidePosition(),Re(Js,this).style.height=`${r-e}px`,this.hot.rootElement.appendChild(Re(Js,this))}refreshGuidePosition(){Re(Js,this).style[this.inlineDir]=Re(Wr,this).style[this.inlineDir]}hideHandleAndGuide(){We(Re(Wr,this),"active"),We(Re(Js,this),"active")}checkIfColumnHeader(e){const n=hc(e,["THEAD"],this.hot.rootElement),{topOverlay:r,topInlineStartCornerOverlay:i}=this.hot.view._wt.wtOverlays;return[r.clone.wtTable.THEAD,i.clone.wtTable.THEAD].includes(n)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}afterMouseDownTimeout(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},n=(r,i)=>{const o=this.hot.runHooks("beforeColumnResize",Re(bs,this),r,!0);o!==void 0&&fn(bs,this,o),this.hot.getSettings().stretchH==="all"?this.clearManualSize(r):this.setManualSize(r,Re(bs,this)),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",Re(bs,this),r,!0),i&&e()};Re(Yg,this)>=2&&(Re(ci,this).length>1?(G(Re(ci,this),i=>{n(i)}),e()):G(Re(ci,this),i=>{n(i,!0)})),fn(Yg,this,0),fn(Gg,this,null)}bindEvents(){const{rootWindow:e,rootElement:n}=this.hot;this.eventManager.addEventListener(n,"mouseover",r=>vo(rs,this,Fxe).call(this,r)),this.eventManager.addEventListener(n,"mousedown",r=>vo(rs,this,Bxe).call(this,r)),this.eventManager.addEventListener(e,"mousemove",r=>vo(rs,this,jxe).call(this,r)),this.eventManager.addEventListener(e,"mouseup",()=>vo(rs,this,Vxe).call(this)),this.eventManager.addEventListener(Re(Wr,this),"contextmenu",()=>vo(rs,this,Wxe).call(this))}destroy(){super.destroy()}}function $xe(){const t=this.hot.getSettings()[YC],e=this.loadManualColumnWidths();typeof e<"u"?this.hot.batchExecution(()=>{e.forEach((n,r)=>{Re(fi,this).setValueAtIndex(r,n)})},!0):Array.isArray(t)?(this.hot.batchExecution(()=>{t.forEach((n,r)=>{Re(fi,this).setValueAtIndex(r,n)})},!0),fn(Kg,this,t)):t===!0&&Array.isArray(Re(Kg,this))&&this.hot.batchExecution(()=>{Re(Kg,this).forEach((n,r)=>{Re(fi,this).setValueAtIndex(r,n)})},!0)}function Fxe(t){if(!FV(t.target)&&Re(KC,this)!==!0&&this.checkIfColumnHeader(t.target)){const e=this.getClosestTHParent(t.target);if(!e)return;const n=e.getAttribute("colspan");e&&(n===null||n==="1")&&(Re(yc,this)||this.setupHandlePosition(e))}}function Bxe(t){t.target.parentNode===this.hot.rootElement&&je(t.target,"manualColumnResizer")&&(this.setupHandlePosition(Re(ia,this)),this.setupGuidePosition(),fn(yc,this,!0),Re(Gg,this)===null&&(fn(Gg,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(Re(Gg,this))),fn(Yg,this,Re(Yg,this)+1),this.startX=t.pageX,fn(bs,this,Re(rd,this)))}function jxe(t){if(Re(yc,this)){const e=(t.pageX-this.startX)*this.hot.getDirectionFactor();fn(GC,this,Re(rd,this)+e),G(Re(ci,this),n=>{fn(bs,this,this.setManualSize(n,Re(GC,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition()}}function Vxe(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},e=(n,r)=>{this.hot.runHooks("beforeColumnResize",Re(bs,this),n,!1),r&&t(),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",Re(bs,this),n,!1)};Re(yc,this)&&(this.hideHandleAndGuide(),fn(yc,this,!1),Re(bs,this)!==Re(rd,this)&&(Re(ci,this).length>1?(G(Re(ci,this),r=>{e(r)}),t()):G(Re(ci,this),r=>{e(r,!0)})),this.setupHandlePosition(Re(ia,this)))}function Wxe(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(Re(Wr,this)),this.hot.rootElement.removeChild(Re(Js,this)),fn(yc,this,!1),fn(KC,this,!0),this.hot._registerImmediate(()=>{fn(KC,this,!1)})}function Uxe(t,e){let n=t;if(this.enabled){const r=this.hot.toPhysicalColumn(e),i=Re(fi,this).getValueAtIndex(r);this.hot.getSettings()[YC]&&i&&(n=i)}return n}function zxe(t,e){let n=Re(fi,this).getValueAtIndex(e);return n===null&&(n=t),n}function Yxe(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}function NE(t,e,n){return(e=Gxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gxe(t){var e=Kxe(t,"string");return typeof e=="symbol"?e:e+""}function Kxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const kE=0,NL=1,kL=2,mh="px";let i3=class{constructor(e){NE(this,"hot",void 0),NE(this,"_element",null),NE(this,"state",kE),this.hot=e}appendTo(e){e.appendChild(this._element),this.state=kL}build(){this.state===kE&&(this._element=this.hot.rootDocument.createElement("div"),this.state=NL)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=kE}isAppended(){return this.state===kL}isBuilt(){return this.state>=NL}setPosition(e,n){e!==void 0&&(this._element.style.top=e+mh),n!==void 0&&(this._element.style.left=n+mh)}getPosition(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}setSize(e,n){e&&(this._element.style.width=e+mh),n&&(this._element.style.height=n+mh)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,n){e&&(this._element.style.marginTop=e+mh),n&&(this._element.style.marginLeft=n+mh)}getOffset(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}};const qxe="ht__manualRowMove--backlight";class Xxe extends i3{build(){super.build(),ge(this._element,qxe)}}const Zxe="ht__manualRowMove--guideline";class Qxe extends i3{build(){super.build(),ge(this._element,Zxe)}}function Jxe(t,e){o3(t,e),e.add(t)}function ph(t,e,n){o3(t,e),e.set(t,n)}function o3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qu(t,e,n){return t.set(rl(t,e),n),n}function Ue(t,e){return t.get(rl(t,e))}function rl(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Te.getSingleton().register("beforeRowMove");Te.getSingleton().register("afterRowMove");const HE="manualRowMove",ePe=140,HL="ht__manualRowMove",qC="show-ui",vT="on-moving--rows",yT="after-selection--rows";var Or=new WeakMap,ll=new WeakMap,ma=new WeakMap,wl=new WeakMap,qr=new WeakMap,Ry=new WeakMap,Ou=new WeakSet;class tPe extends wt{constructor(){super(...arguments),Jxe(this,Ou),ph(this,Or,new Xxe(this.hot)),ph(this,ll,new Qxe(this.hot)),ph(this,ma,[]),ph(this,wl,void 0),ph(this,qr,{}),ph(this,Ry,void 0)}static get PLUGIN_KEY(){return HE}static get PLUGIN_PRIORITY(){return ePe}isEnabled(){return!!this.hot.getSettings()[HE]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return rl(Ou,e,nPe).call(e,...r)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return rl(Ou,e,iPe).call(e,...r)}),this.addHook("afterScrollHorizontally",()=>rl(Ou,this,sPe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return rl(Ou,e,aPe).call(e,...r)}),this.buildPluginUI(),this.registerEvents(),ge(this.hot.rootElement,HL),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){We(this.hot.rootElement,HL),this.unregisterEvents(),Ue(Or,this).destroy(),Ue(ll,this).destroy(),super.disablePlugin()}moveRow(e,n){return this.moveRows([e],n)}moveRows(e,n){const r=Ue(Ry,this),i=this.isMovePossible(e,n),o=this.hot.runHooks("beforeRowMove",e,n,r,i);if(Qu(Ry,this,void 0),o===!1)return;i&&this.hot.rowIndexMapper.moveIndexes(e,n);const s=i&&this.isRowOrderChanged(e,n);return this.hot.runHooks("afterRowMove",e,n,r,i,s),s}dragRow(e,n){return this.dragRows([e],n)}dragRows(e,n){const r=this.countFinalIndex(e,n);return Qu(Ry,this,n),this.moveRows(e,r)}isMovePossible(e,n){const r=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),i=e.length+n>r,o=n<0,s=e.some(l=>l<0),a=e.some(l=>l>=r);return!(i||o||s||a)}isRowOrderChanged(e,n){return e.some((r,i)=>r-i!==n)}countFinalIndex(e,n){const r=kr(e,(i,o)=>(o<n&&(i+=1),i),0);return n-r}getRowsHeight(e,n){const r=this.hot.rowIndexMapper;let i=0;for(let o=e;o<=n;o++){const s=r.getRenderableFromVisualIndex(o);s!==null&&(i+=this.hot.view._wt.wtTable.getRowHeight(s)||23)}return i}moveBySettingsOrLoad(){const e=this.hot.getSettings()[HE];if(Array.isArray(e))this.moveRows(e,0);else if(e!==void 0){const n=this.persistentStateLoad();n.length&&this.moveRows(n,0)}}isFixedRowTop(e){return e<this.hot.getSettings().fixedRowsTop}isFixedRowBottom(e){return e>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualRowMove",e),e.value?e.value:[]}prepareRowsToMoving(){const e=this.hot.getSelectedRangeLast(),n=[];if(!e)return n;const{from:r,to:i}=e,o=Math.min(r.row,i.row),s=Math.max(r.row,i.row);return Ie(o,s,a=>{n.push(a)}),n}refreshPositions(){const e=Ue(qr,this).coords,n=this.hot.view.getFirstFullyVisibleRow(),r=this.hot.view.getLastFullyVisibleRow(),i=this.hot.countRows();this.isFixedRowTop(e.row)&&n>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(n-1,-1)),this.isFixedRowBottom(e.row)&&r<i&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(r+1,1),void 0,!0);const o=this.hot.view._wt.wtTable,s=Ue(qr,this).TD,a=this.hot.rootElement,l=zn(a),u=pd(a),c=o.holder.scrollTop,h=this.hot.rootWindow!==u?u.scrollTop:0,d=l.top-h,f=Ue(qr,this).eventPageY-d+c,g=o.hider.offsetHeight,v=o.TBODY.offsetTop,y=Ue(Or,this).getOffset().top,p=Ue(Or,this).getSize().height,m=s.offsetHeight/2,w=s.offsetHeight;let C=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,e.row-1);const S=f>=C+m;this.isFixedRowTop(e.row)&&(C+=this.hot.view._wt.wtOverlays.topOverlay.getOverlayOffset()),e.row<0?Ue(qr,this).row=n>0?n-1:n:S?(Ue(qr,this).row=e.row+1,C+=e.row===0?w-1:w):Ue(qr,this).row=e.row;let x=f,_=C;f+p+y>=g?x=g-p-y:f+y<v&&(x=v+Math.abs(y)),C>=g-1&&(_=g-1),Ue(Or,this).setPosition(x),Ue(ll,this).setPosition(_)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",n=>rl(Ou,this,rPe).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>rl(Ou,this,oPe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){Ue(Or,this).build(),Ue(ll,this).build()}destroy(){Ue(Or,this).destroy(),Ue(ll,this).destroy(),super.destroy()}}function nPe(t,e,n,r){const{wtTable:i,wtViewport:o}=this.hot.view._wt,s=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeLast();if(!a||!s||Ue(wl,this)||t.button!==0){Qu(wl,this,!1),Ue(ma,this).length=0,We(this.hot.rootElement,[vT,qC]);return}const l=Ue(ll,this).isBuilt()&&!Ue(ll,this).isAppended(),u=Ue(Or,this).isBuilt()&&!Ue(Or,this).isAppended();l&&u&&(Ue(ll,this).appendTo(i.hider),Ue(Or,this).appendTo(i.hider));const{from:c,to:h}=a,d=Math.min(c.row,h.row),f=Math.max(c.row,h.row);if(e.col<0&&e.row>=d&&e.row<=f){r.row=!0,Qu(wl,this,!0),Ue(qr,this).eventPageY=t.pageY,Ue(qr,this).coords=e,Ue(qr,this).TD=n,Qu(ma,this,this.prepareRowsToMoving());const g=i.holder.scrollLeft+o.getRowHeaderWidth(),v=this.getRowsHeight(d,e.row-1)+t.offsetY;Ue(Or,this).setPosition(null,g),Ue(Or,this).setSize(i.hider.offsetWidth-g,this.getRowsHeight(d,f)),Ue(Or,this).setOffset(-v,null),ge(this.hot.rootElement,vT),this.refreshPositions()}else We(this.hot.rootElement,yT),Qu(wl,this,!1),Ue(ma,this).length=0}function rPe(t){Ue(wl,this)&&(Ue(qr,this).eventPageY=t.pageY,this.refreshPositions())}function iPe(t,e,n,r){!this.hot.getSelectedRangeLast()||!Ue(wl,this)||(Ue(ma,this).indexOf(e.row)>-1?We(this.hot.rootElement,qC):ge(this.hot.rootElement,qC),r.row=!0,r.column=!0,r.cell=!0,Ue(qr,this).coords=e,Ue(qr,this).TD=n)}function oPe(){const t=Ue(qr,this).row,e=Ue(ma,this).length;if(Qu(wl,this,!1),We(this.hot.rootElement,[vT,qC,yT]),this.hot.selection.isSelectedByRowHeader()&&ge(this.hot.rootElement,yT),e<1||t===void 0)return;const n=Ue(ma,this)[0],r=this.hot.toPhysicalRow(n),i=this.dragRows(Ue(ma,this),t);if(Ue(ma,this).length=0,i===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();const o=this.hot.toVisualRow(r),s=o+e-1;this.hot.selectRows(o,s)}}function sPe(){const t=this.hot.view._wt.wtTable,e=this.hot.view._wt.wtViewport.getRowHeaderWidth(),n=t.holder.scrollLeft,r=e+n;Ue(Or,this).setPosition(null,r),Ue(Or,this).setSize(t.hider.offsetWidth-r)}function aPe(){this.moveBySettingsOrLoad()}function lPe(t,e){s3(t,e),e.add(t)}function hr(t,e,n){s3(t,e),e.set(t,n)}function s3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nn(t,e,n){return t.set(oa(t,e),n),n}function Se(t,e){return t.get(oa(t,e))}function oa(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const XC="manualRowResize",uPe=30,DL="manualRowHeights";var fs=new WeakMap,Ey=new WeakMap,hi=new WeakMap,qg=new WeakMap,ul=new WeakMap,QM=new WeakMap,id=new WeakMap,_y=new WeakMap,Sr=new WeakMap,cs=new WeakMap,wc=new WeakMap,ZC=new WeakMap,Xg=new WeakMap,Zg=new WeakMap,Co=new WeakMap,Qg=new WeakMap,Ga=new WeakSet;class cPe extends wt{static get PLUGIN_KEY(){return XC}static get PLUGIN_PRIORITY(){return uPe}constructor(e){super(e),lPe(this,Ga),hr(this,fs,null),hr(this,Ey,null),hr(this,hi,[]),hr(this,qg,null),hr(this,ul,null),hr(this,QM,null),hr(this,id,null),hr(this,_y,null),hr(this,Sr,this.hot.rootDocument.createElement("DIV")),hr(this,cs,this.hot.rootDocument.createElement("DIV")),hr(this,wc,!1),hr(this,ZC,!1),hr(this,Xg,0),hr(this,Zg,null),hr(this,Co,void 0),hr(this,Qg,void 0),ge(Se(Sr,this),"manualRowResizer"),ge(Se(cs,this),"manualRowResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[XC]}enablePlugin(){this.enabled||(nn(Co,this,new Yl),Se(Co,this).addLocalHook("init",()=>oa(Ga,this,vPe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,Se(Co,this)),this.addHook("modifyRowHeight",(e,n)=>oa(Ga,this,pPe).call(this,e,n)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){nn(Qg,this,Se(Co,this).getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualRowHeights(){this.hot.runHooks("persistentStateSave",DL,Se(Co,this).getValues())}loadManualRowHeights(){const e={};return this.hot.runHooks("persistentStateLoad",DL,e),e.value}setManualSize(e,n){const r=this.hot.toPhysicalRow(e),i=Math.max(n,yW);return Se(Co,this).setValueAtIndex(r,i),i}getLastDesiredRowHeight(){return Se(qg,this)}setupHandlePosition(e){nn(fs,this,e);const{view:n}=this.hot,{_wt:r}=n,i=r.wtTable.getCoords(Se(fs,this)),o=i.row;if(o<0)return;const s=Ft(Se(fs,this)),a=Se(fs,this).getBoundingClientRect(),l=o<r.getSetting("fixedRowsTop"),u=o>=n.countNotHiddenRowIndexes(0,1)-r.getSetting("fixedRowsBottom");let c;l?c=r.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(Se(fs,this),i.row,i.col):u&&(c=r.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(Se(fs,this),i.row,i.col)),c||(c=r.wtOverlays.inlineStartOverlay.getRelativeCellPosition(Se(fs,this),i.row,i.col)),nn(Ey,this,this.hot.rowIndexMapper.getVisualFromRenderableIndex(o)),nn(hi,this,[]);const h=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();if(this.hot.selection.isSelected()&&h){const d=this.hot.getSelectedRange();G(d,f=>{const g=f.getTopStartCorner().row,v=f.getBottomStartCorner().row;Ie(g,v,y=>{Se(hi,this).includes(y)||Se(hi,this).push(y)})})}Se(hi,this).includes(Se(Ey,this))||nn(hi,this,[Se(Ey,this)]),nn(_y,this,c.top-6),nn(id,this,parseInt(a.height,10)),Se(Sr,this).style.top=`${Se(_y,this)+Se(id,this)}px`,Se(Sr,this).style[this.inlineDir]=`${c.start}px`,Se(Sr,this).style.width=`${s}px`,this.hot.rootElement.appendChild(Se(Sr,this))}refreshHandlePosition(){Se(Sr,this).style.top=`${Se(_y,this)+Se(qg,this)}px`}setupGuidePosition(){const e=parseInt(Ft(Se(Sr,this)),10),n=parseInt(Se(Sr,this).style[this.inlineDir],10)+e,r=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);ge(Se(Sr,this),"active"),ge(Se(cs,this),"active"),Se(cs,this).style.top=Se(Sr,this).style.top,Se(cs,this).style[this.inlineDir]=`${n}px`,Se(cs,this).style.width=`${r-e}px`,this.hot.rootElement.appendChild(Se(cs,this))}refreshGuidePosition(){Se(cs,this).style.top=Se(Sr,this).style.top}hideHandleAndGuide(){We(Se(Sr,this),"active"),We(Se(cs,this),"active")}checkIfRowHeader(e){const n=hc(e,["TBODY"],this.hot.rootElement),{inlineStartOverlay:r,topInlineStartCornerOverlay:i,bottomInlineStartCornerOverlay:o}=this.hot.view._wt.wtOverlays;return[r.clone.wtTable.TBODY,i.clone.wtTable.TBODY,o.clone.wtTable.TBODY].includes(n)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}getActualRowHeight(e){const n=this.hot.view._wt.wtTable.getRowHeight(e);return n!==void 0&&Se(ul,this)<n?n:Se(ul,this)}afterMouseDownTimeout(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},n=(r,i)=>{const o=this.hot.runHooks("beforeRowResize",this.getActualRowHeight(r),r,!0);o!==void 0&&nn(ul,this,o),this.setManualSize(r,Se(ul,this)),this.hot.runHooks("afterRowResize",this.getActualRowHeight(r),r,!0),i&&e()};Se(Xg,this)>=2&&(Se(hi,this).length>1?(G(Se(hi,this),i=>{n(i)}),e()):G(Se(hi,this),i=>{n(i,!0)})),nn(Xg,this,0),nn(Zg,this,null)}bindEvents(){const{rootElement:e,rootWindow:n}=this.hot;this.eventManager.addEventListener(e,"mouseover",r=>oa(Ga,this,hPe).call(this,r)),this.eventManager.addEventListener(e,"mousedown",r=>oa(Ga,this,dPe).call(this,r)),this.eventManager.addEventListener(n,"mousemove",r=>oa(Ga,this,fPe).call(this,r)),this.eventManager.addEventListener(n,"mouseup",()=>oa(Ga,this,gPe).call(this)),this.eventManager.addEventListener(Se(Sr,this),"contextmenu",()=>oa(Ga,this,mPe).call(this))}destroy(){super.destroy()}}function hPe(t){if(!FV(t.target)&&Se(ZC,this)!==!0&&this.checkIfRowHeader(t.target)){const e=this.getClosestTHParent(t.target);e&&(Se(wc,this)||this.setupHandlePosition(e))}}function dPe(t){je(t.target,"manualRowResizer")&&(this.setupHandlePosition(Se(fs,this)),this.setupGuidePosition(),nn(wc,this,!0),Se(Zg,this)===null&&(nn(Zg,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(Se(Zg,this))),nn(Xg,this,Se(Xg,this)+1),nn(QM,this,t.pageY),nn(ul,this,Se(id,this)))}function fPe(t){Se(wc,this)&&(nn(qg,this,Se(id,this)+(t.pageY-Se(QM,this))),G(Se(hi,this),e=>{nn(ul,this,this.setManualSize(e,Se(qg,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition())}function gPe(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},e=(n,r)=>{this.hot.runHooks("beforeRowResize",this.getActualRowHeight(n),n,!1),r&&t(),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.getActualRowHeight(n),n,!1)};Se(wc,this)&&(this.hideHandleAndGuide(),nn(wc,this,!1),Se(ul,this)!==Se(id,this)&&(Se(hi,this).length>1?(G(Se(hi,this),r=>{e(r)}),t()):G(Se(hi,this),r=>{e(r,!0)})),this.setupHandlePosition(Se(fs,this)))}function mPe(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(Se(Sr,this)),this.hot.rootElement.removeChild(Se(cs,this)),nn(wc,this,!1),nn(ZC,this,!0),this.hot._registerImmediate(()=>{nn(ZC,this,!1)})}function pPe(t,e){let n=t;if(this.enabled){const r=this.hot.toPhysicalRow(e),i=Se(Co,this).getValueAtIndex(r);this.hot.getSettings()[XC]&&i&&(n=i)}return n}function vPe(){const t=this.hot.getSettings()[XC],e=this.loadManualRowHeights();this.hot.batchExecution(()=>{typeof e<"u"?e.forEach((n,r)=>{Se(Co,this).setValueAtIndex(r,n)}):Array.isArray(t)?(t.forEach((n,r)=>{Se(Co,this).setValueAtIndex(r,n)}),nn(Qg,this,t)):t===!0&&Array.isArray(Se(Qg,this))&&Se(Qg,this).forEach((n,r)=>{Se(Co,this).setValueAtIndex(r,n)})},!0)}function yPe(t,e,n){wPe(t,e),e.set(t,n)}function wPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xu(t,e,n){return(e=CPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CPe(t){var e=bPe(t,"string");return typeof e=="symbol"?e:e+""}function bPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LL(t,e){return t.get(a3(t,e))}function Ty(t,e,n){return t.set(a3(t,e),n),n}function a3(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Pu=new WeakMap;class gs{constructor(e,n,r,i,o,s){xu(this,"row",void 0),xu(this,"col",void 0),xu(this,"rowspan",void 0),xu(this,"colspan",void 0),xu(this,"removed",!1),xu(this,"cellCoordsFactory",void 0),xu(this,"cellRangeFactory",void 0),yPe(this,Pu,null),this.row=e,this.col=n,this.rowspan=r,this.colspan=i,this.cellCoordsFactory=o,this.cellRangeFactory=s}static NEGATIVE_VALUES_WARNING(e){let{row:n,col:r,rowspan:i,colspan:o}=e;return St`The merged cell declared with {row: ${n}, col: ${r},\x20
      rowspan: ${i}, colspan: ${o}} contains negative values, which is\x20
      not supported. It will not be added to the collection.`}static IS_OUT_OF_BOUNDS_WARNING(e){let{row:n,col:r}=e;return St`The merged cell declared at [${n}, ${r}] is positioned\x20
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`}static IS_SINGLE_CELL(e){let{row:n,col:r}=e;return St`The merged cell declared at [${n}, ${r}] has both "rowspan"\x20
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`}static ZERO_SPAN_WARNING(e){let{row:n,col:r}=e;return St`The merged cell declared at [${n}, ${r}] has "rowspan"\x20
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`}static containsNegativeValues(e){let{row:n,col:r,rowspan:i,colspan:o}=e;return n<0||r<0||i<0||o<0}static isSingleCell(e){let{rowspan:n,colspan:r}=e;return r===1&&n===1}static containsZeroSpan(e){let{rowspan:n,colspan:r}=e;return r===0||n===0}static isOutOfBounds(e,n,r){return e.row<0||e.col<0||e.row>=n||e.row+e.rowspan-1>=n||e.col>=r||e.col+e.colspan-1>=r}normalize(e){const n=e.countRows(),r=e.countCols();this.row<0?this.row=0:this.row>n-1&&(this.row=n-1),this.col<0?this.col=0:this.col>r-1&&(this.col=r-1),this.row+this.rowspan>n-1&&(this.rowspan=n-this.row),this.col+this.colspan>r-1&&(this.colspan=r-this.col),Ty(Pu,this,null)}includes(e,n){return this.row<=e&&this.col<=n&&this.row+this.rowspan-1>=e&&this.col+this.colspan-1>=n}includesHorizontally(e){return this.col<=e&&this.col+this.colspan-1>=e}includesVertically(e){return this.row<=e&&this.row+this.rowspan-1>=e}shift(e,n){const r=e[0]||e[1],i=n+Math.abs(e[0]||e[1])-1,o=e[0]?"colspan":"rowspan",s=e[0]?"col":"row",a=Math.min(n,i),l=Math.max(n,i),u=this[s],c=this[s]+this[o]-1;if(u>=n&&(this[s]+=r),r>0)n<=c&&n>u&&(this[o]+=r);else if(r<0){if(a<=u&&l>=c)return this.removed=!0,Ty(Pu,this,null),!1;if(u>=a&&u<=l){const h=l-u+1,d=Math.abs(r)-h;this[s]-=d+r,this[o]-=h}else if(u<=a&&c>=l)this[o]+=r;else if(u<=a&&c>=a&&c<l){const h=c-a+1;this[o]-=h}}return Ty(Pu,this,null),!0}isFarther(e,n){return e?n==="down"?e.row+e.rowspan-1<this.row+this.rowspan-1:n==="up"?e.row>this.row:n==="right"?e.col+e.colspan-1<this.col+this.colspan-1:n==="left"?e.col>this.col:null:!0}getLastRow(){return this.row+this.rowspan-1}getLastColumn(){return this.col+this.colspan-1}getRange(){return LL(Pu,this)||Ty(Pu,this,this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))),LL(Pu,this)}}function SPe(t,e){RPe(t,e),e.add(t)}function RPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Oy(t,e,n){return(e=EPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EPe(t){var e=_Pe(t,"string");return typeof e=="symbol"?e:e+""}function _Pe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mu(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Ka=new WeakSet;class QC{constructor(e){SPe(this,Ka),Oy(this,"plugin",void 0),Oy(this,"mergedCells",[]),Oy(this,"mergedCellsMatrix",new Map),Oy(this,"hot",void 0),this.plugin=e,this.hot=e.hot}static IS_OVERLAPPING_WARNING(e){let{row:n,col:r}=e;return St`The merged cell declared at [${n}, ${r}], overlaps\x20
      with the other declared merged cell. The overlapping merged cell was not added to the table, please\x20
      fix your setup.`}get(e,n){var r;return this.mergedCellsMatrix.has(e)&&(r=this.mergedCellsMatrix.get(e).get(n))!==null&&r!==void 0?r:!1}getByRange(e){let n=!1;return G(this.mergedCells,r=>r.row<=e.from.row&&r.row+r.rowspan-1>=e.to.row&&r.col<=e.from.col&&r.col+r.colspan-1>=e.to.col?(n=r,n):!0),n}filterOverlappingMergeCells(e){const n=new Set;return this.mergedCells.forEach(i=>{const{row:o,col:s,colspan:a,rowspan:l}=i;for(let u=o;u<o+l;u++)for(let c=s;c<s+a;c++)n.add(`r${u},c${c}`)}),e.filter(i=>{const{row:o,col:s,colspan:a,rowspan:l}=i,u=new Set;let c=!1;for(let h=o;h<o+l;h++){for(let d=s;d<s+a;d++){const f=`r${h},c${d}`;if(n.has(f)){bt(QC.IS_OVERLAPPING_WARNING(i)),c=!0;break}u.add(f)}if(c)break}return c||n.add(...u),!c})}getWithinRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{row:r,col:i}=e.getTopStartCorner(),{row:o,col:s}=e.getBottomEndCorner(),a=[];for(let l=r;l<=o;l++)for(let u=i;u<=s;u++){const c=this.get(l,u);c&&(n||!n&&c.row===l&&c.col===u)&&a.push(c)}return a}add(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=e.row,i=e.col,o=e.rowspan,s=e.colspan,a=new gs(r,i,o,s,this.hot._createCellCoords,this.hot._createCellRange),l=this.get(r,i),u=n?!1:this.isOverlapping(a);return!l&&!u?(this.hot&&a.normalize(this.hot),this.mergedCells.push(a),Mu(Ka,this,$L).call(this,a),a):(bt(QC.IS_OVERLAPPING_WARNING(a)),!1)}remove(e,n){const r=this.get(e,n),i=r?this.mergedCells.indexOf(r):-1;return r&&i!==-1?(this.mergedCells.splice(i,1),Mu(Ka,this,TPe).call(this,r),r):!1}clear(){G(this.mergedCells,e=>{let{row:n,col:r,rowspan:i,colspan:o}=e;Ie(n,n+i,s=>{Ie(r,r+o,a=>{const l=this.hot.getCell(s,a);l&&(l.removeAttribute("rowspan"),l.removeAttribute("colspan"),l.style.display="")})})}),this.mergedCells.length=0,this.mergedCellsMatrix=new Map}isOverlapping(e){const n=e.getRange();for(let r=0;r<this.mergedCells.length;r++)if(this.mergedCells[r].getRange().overlaps(n))return!0;return!1}isFirstRenderableMergedCell(e,n){const r=this.get(e,n);return r&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(r.row,1)===e&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(r.col,1)===n}getFirstRenderableCoords(e,n){const r=this.get(e,n);if(!r||this.isFirstRenderableMergedCell(e,n))return this.hot._createCellCoords(e,n);const i=this.hot.rowIndexMapper.getNearestNotHiddenIndex(r.row,1),o=this.hot.columnIndexMapper.getNearestNotHiddenIndex(r.col,1);return this.hot._createCellCoords(i,o)}getStartMostColumnIndex(e,n){const r=Mu(Ka,this,xy).call(this,e,"col",-1);let i=n;for(let o=0;o<r.length;o++)if(r[o]<=n){i=r[o];break}return i}getEndMostColumnIndex(e,n){const r=Mu(Ka,this,xy).call(this,e,"col",1);let i=n;for(let o=0;o<r.length;o++)if(r[o]>=n){i=r[o];break}return i}getTopMostRowIndex(e,n){const r=Mu(Ka,this,xy).call(this,e,"row",-1);let i=n;for(let o=0;o<r.length;o++)if(r[o]<=n){i=r[o];break}return i}getBottomMostRowIndex(e,n){const r=Mu(Ka,this,xy).call(this,e,"row",1);let i=n;for(let o=0;o<r.length;o++)if(r[o]>=n){i=r[o];break}return i}shiftCollections(e,n,r){const i=[0,0];switch(e){case"right":i[0]+=r;break;case"left":i[0]-=r;break;case"down":i[1]+=r;break;case"up":i[1]-=r;break}const o=[];this.mergedCells.forEach(s=>{s.shift(i,n),s.removed&&o.push(s)}),o.forEach(s=>{this.mergedCells.splice(this.mergedCells.indexOf(s),1)}),this.mergedCellsMatrix.clear(),this.mergedCells.forEach(s=>{Mu(Ka,this,$L).call(this,s)})}}function xy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=new Map,i=n===1?t.getTopStartCorner():t.getBottomEndCorner(),o=n===1?t.getBottomEndCorner():t.getTopStartCorner();for(let s=i.row;n===1?s<=o.row:s>=o.row;s+=n)for(let a=i.col;n===1?a<=o.col:a>=o.col;a+=n){const l=e==="row"?s:a,u=this.get(s,a);let c=l;u&&(c=n===1?u[e]+u[`${e}span`]-1:u[e]),r.has(l)||r.set(l,new Set),r.get(l).add(c)}return Array.from(new Set(Array.from(r.entries()).filter(s=>{let[,a]=s;return a.size===1}).flatMap(s=>{let[,a]=s;return Array.from(a)})))}function $L(t){for(let e=t.row;e<t.row+t.rowspan;e++)for(let n=t.col;n<t.col+t.colspan;n++)this.mergedCellsMatrix.has(e)||this.mergedCellsMatrix.set(e,new Map),this.mergedCellsMatrix.get(e).set(n,t)}function TPe(t){for(let e=t.row;e<t.row+t.rowspan;e++)for(let n=t.col;n<t.col+t.colspan;n++)this.mergedCellsMatrix.get(e).delete(n)}function DE(t,e,n){return(e=OPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OPe(t){var e=xPe(t,"string");return typeof e=="symbol"?e:e+""}function xPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class PPe{constructor(e){DE(this,"plugin",void 0),DE(this,"mergedCellsCollection",void 0),DE(this,"currentFillData",null),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection}correctSelectionAreaSize(e){if(e[0]===e[2]&&e[1]===e[3]){const n=this.mergedCellsCollection.get(e[0],e[1]);n&&(e[2]=e[0]+n.rowspan-1,e[3]=e[1]+n.colspan-1)}}getDirection(e,n){let r=null;return n[0]===e[0]&&n[1]===e[1]&&n[3]===e[3]?r="down":n[2]===e[2]&&n[1]===e[1]&&n[3]===e[3]?r="up":n[1]===e[1]&&n[2]===e[2]?r="right":r="left",r}snapDragArea(e,n,r,i){const o=n.slice(0),s=this.getAutofillSize(e,n,r),[a,l,u,c]=e,d=["up","down"].indexOf(r)>-1?u-a+1:c-l+1,f=Math.floor(s/d)*d,g=s-f,v=this.getFarthestCollection(e,n,r,i);if(v){if(r==="down"){const y=v.row+v.rowspan-a-g;o[2]+y>=this.plugin.hot.countRows()?o[2]-=g:o[2]+=g?y:0}else if(r==="right"){const y=v.col+v.colspan-l-g;o[3]+y>=this.plugin.hot.countCols()?o[3]-=g:o[3]+=g?y:0}else if(r==="up"){const y=u-g-v.row+1;o[0]+y<0?o[0]+=g:o[0]-=g?y:0}else if(r==="left"){const y=c-g-v.col+1;o[1]+y<0?o[1]+=g:o[1]-=g?y:0}}return this.updateCurrentFillCache({baseArea:e,dragDirection:r,foundMergedCells:i,fillSize:s,dragArea:o,cycleLength:d}),o}updateCurrentFillCache(e){this.currentFillData||(this.currentFillData={}),xn(this.currentFillData,e)}getAutofillSize(e,n,r){const[i,o,s,a]=e,[l,u,c,h]=n;switch(r){case"up":return i-l;case"down":return c-s;case"left":return o-u;case"right":return h-a;default:return null}}getDragArea(e,n,r){const[i,o,s,a]=e,[l,u,c,h]=n;switch(r){case"up":return[l,u,i-1,a];case"down":return[s+1,o,c,a];case"left":return[l,u,s,o-1];case"right":return[i,a+1,c,h];default:return null}}getFarthestCollection(e,n,r,i){const[o,s,a,l]=e,u=["up","down"].indexOf(r)>-1,c=u?a:l,h=u?o:s,d=this.getAutofillSize(e,n,r),f=u?a-o+1:l-s+1,g=Math.floor(d/f)*f,v=d-g;let y=null,p=null,m=null;switch(r){case"up":y="includesVertically",m=c-v+1;break;case"left":y="includesHorizontally",m=c-v+1;break;case"down":y="includesVertically",m=h+v-1;break;case"right":y="includesHorizontally",m=h+v-1;break}return G(i,w=>{w[y](m)&&w.isFarther(p,r)&&(p=w)}),p}recreateAfterDataPopulation(e){if(!this.currentFillData)return;const n=this.getRangeFromChanges(e),r=this.currentFillData.foundMergedCells,i=this.currentFillData.dragDirection,o=(u,c)=>{switch(i){case"up":return u.row-c>=n.from.row;case"down":return u.row+u.rowspan-1+c<=n.to.row;case"left":return u.col-c>=n.from.column;case"right":return u.col+u.colspan-1+c<=n.to.column;default:return null}};let s=0,a=null,l=1;do for(let u=0;u<r.length;u+=1){if(a=r[u],s=l*this.currentFillData.cycleLength,o(a,s))switch(i){case"up":this.plugin.mergedCellsCollection.add({row:a.row-s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-s,colspan:a.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+s,colspan:a.colspan});break}u===r.length-1&&(l+=1)}while(o(a,s));this.currentFillData=null,this.plugin.hot.render(),r.length>0&&this.plugin.ifChromeForceRepaint()}getRangeFromChanges(e){const n={min:null,max:null},r={min:null,max:null};return G(e,i=>{const o=i[0],s=this.plugin.hot.propToCol(i[1]);(n.min===null||o<n.min)&&(n.min=o),(n.max===null||o>n.max)&&(n.max=o),(r.min===null||s<r.min)&&(r.min=s),(r.max===null||s>r.max)&&(r.max=s)}),{from:{row:n.min,column:r.min},to:{row:n.max,column:r.max}}}dragAreaOverlapsCollections(e,n,r){const i=this.getDragArea(e,n,r),[o,s,a,l]=i,u=this.plugin.hot._createCellCoords(o,s),c=this.plugin.hot._createCellCoords(a,l),h=this.plugin.hot._createCellRange(u,u,c);return this.mergedCellsCollection.getWithinRange(h,!0).length>0}}function LE(t,e,n){return(e=MPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MPe(t){var e=APe(t,"string");return typeof e=="symbol"?e:e+""}function APe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class IPe{constructor(e){LE(this,"plugin",void 0),LE(this,"hot",void 0),LE(this,"fullySelectedMergedCellClassName","fullySelectedMergedCell"),this.plugin=e,this.hot=e.hot}getSelectedMergedCellClassName(e,n,r,i){const o=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]);if(i===void 0||!this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(e,n))return;const c=this.plugin.mergedCellsCollection.get(e,n);if(!c)return;const h=c.getLastRow(),d=c.getLastColumn();if(o<=c.row&&s<=c.col&&a>=h&&l>=d)return`${this.fullySelectedMergedCellClassName}-${i}`;if(this.isMergeCellFullySelected(c,this.plugin.hot.getSelectedRange()))return`${this.fullySelectedMergedCellClassName}-multiple`}isMergeCellFullySelected(e,n){const r=[];if(!n||!e)return!1;for(let i=0;i<e.rowspan;i+=1)for(let o=0;o<e.colspan;o+=1)r.push(this.hot._createCellCoords(e.row+i,e.col+o));for(let i=0;i<r.length;i+=1){const o=[];for(let s=0;s<n.length;s+=1)o[s]=n[s].includes(r[i]);if(!o.includes(!0))return!1}return!0}getSelectedMergedCellClassNameToRemove(){const e=[];for(let n=0;n<=7;n+=1)e.push(`${this.fullySelectedMergedCellClassName}-${n}`);return e.push(`${this.fullySelectedMergedCellClassName}-multiple`),e}}function NPe(t){return{key:"mergeCells",name(){const e=this.getSelectedLast();if(e){const n=t.mergedCellsCollection.get(e[0],e[1]);if(n.row===e[0]&&n.col===e[1]&&n.row+n.rowspan-1===e[2]&&n.col+n.colspan-1===e[3])return this.getTranslatedPhrase(CP)}return this.getTranslatedPhrase(wP)},callback(){const e=this.getSelectedRangeLast();if(!e)return;e.setDirection(this.isRtl()?"NE-SW":"NW-SE");const{from:n,to:r}=e;t.toggleMerge(e),this.selectCell(n.row,n.col,r.row,r.col,!1)},disabled(){const e=this.getSelectedLast();return e?gs.isSingleCell({row:e[0],col:e[1],rowspan:e[2]-e[0]+1,colspan:e[3]-e[1]+1})||this.selection.isSelectedByCorner():!0},hidden:!1}}function Jg(t,e,n){return(e=kPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kPe(t){var e=HPe(t,"string");return typeof e=="symbol"?e:e+""}function HPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class FL{constructor(e){Jg(this,"data",void 0),Jg(this,"next",null),Jg(this,"prev",null),this.data=e}}class Py{constructor(){Jg(this,"first",null),Jg(this,"last",null)}push(e){const n=new FL(e);if(this.first===null)this.first=n,this.last=n;else{const r=this.last;this.last=n,n.prev=r,r.next=n}return n}unshift(e){const n=new FL(e);if(this.first===null)this.first=n,this.last=n;else{const r=this.first;this.first=n,n.next=r,r.prev=n}}inorder(e){let n=this.first;for(;n;){const r=e(n);if(n===this.last||r===!0)break;n=n.next}}remove(e){if(this.first===null)return!1;let n=this.first,r,i;for(;n;){if(n.data===e)return r=n.next,i=n.prev,r&&(r.prev=i),i&&(i.next=r),n===this.first&&(this.first=r),n===this.last&&(this.last=i),!0;n=n.next}return!1}hasCycle(){let e=this.first,n=this.first;for(;;){if(e===null||(e=e.next,e===null))return!1;if(e=e.next,n=n.next,e===n)return!0}}pop(){if(this.last===null)return null;const e=this.last;return this.last=this.last.prev,e}shift(){if(this.first===null)return null;const e=this.first;return this.first=this.first.next,e}recursiveReverse(){function e(r,i){i&&(e(i,i.next),i.next=r)}if(!this.first)return;e(this.first,this.first.next),this.first.next=null;const n=this.first;this.first=this.last,this.last=n}reverse(){if(!this.first||!this.first.next)return;let e=this.first.next,n=this.first,r;for(;e;)r=e.next,e.next=n,n.prev=e,n=e,e=r;this.first.next=null,this.last.prev=null,r=this.first,this.first=n,this.last=r}}function DPe(t,e){l3(t,e),e.add(t)}function Au(t,e,n){l3(t,e),e.set(t,n)}function l3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yt(t,e){return t.get(JC(t,e))}function ii(t,e,n){return t.set(JC(t,e),n),n}function JC(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var is=new WeakMap,os=new WeakMap,ss=new WeakMap,as=new WeakMap,wT=new WeakMap,My=new WeakMap,Ay=new WeakMap,$E=new WeakSet;class LPe{constructor(e){let{mergedCellsGetter:n,rowIndexMapper:r,columnIndexMapper:i}=e;DPe(this,$E),Au(this,is,new Py),Au(this,os,new Py),Au(this,ss,null),Au(this,as,null),Au(this,wT,null),Au(this,My,null),Au(this,Ay,null),ii(wT,this,n),ii(My,this,r),ii(Ay,this,i)}getCurrentVerticalNode(){return yt(as,this).data}getFirstVerticalNode(){return yt(os,this).first.data}getNextVerticalNode(){return yt(as,this).next.data}getPrevVerticalNode(){return yt(as,this).prev.data}getCurrentHorizontalNode(){return yt(ss,this).data}getFirstHorizontalNode(){return yt(is,this).first.data}getNextHorizontalNode(){return yt(ss,this).next.data}getPrevHorizontalNode(){return yt(ss,this).prev.data}setPrevNodeAsActive(){ii(as,this,yt(as,this).prev),ii(ss,this,yt(ss,this).prev)}setNextNodeAsActive(){ii(as,this,yt(as,this).next),ii(ss,this,yt(ss,this).next)}buildFocusOrder(e){const n=e.getTopStartCorner(),r=e.getBottomEndCorner(),i=new WeakSet;ii(is,this,new Py);for(let s=n.row;s<=r.row;s++)if(!yt(My,this).isHidden(s))for(let a=n.col;a<=r.col;a++){if(yt(Ay,this).isHidden(a))continue;const l=JC($E,this,BL).call(this,e,yt(is,this),i,s,a);l&&ii(ss,this,l)}yt(is,this).first&&(yt(is,this).first.prev=yt(is,this).last,yt(is,this).last.next=yt(is,this).first);const o=new WeakSet;ii(os,this,new Py);for(let s=n.col;s<=r.col;s++)if(!yt(Ay,this).isHidden(s))for(let a=n.row;a<=r.row;a++){if(yt(My,this).isHidden(a))continue;const l=JC($E,this,BL).call(this,e,yt(os,this),o,a,s);l&&ii(as,this,l)}yt(os,this).first&&(yt(os,this).first.prev=yt(os,this).last,yt(os,this).last.next=yt(os,this).first)}setActiveNode(e,n){return yt(is,this).inorder(r=>{const{rowStart:i,rowEnd:o,colStart:s,colEnd:a}=r.data;if(e>=i&&e<=o&&n>=s&&n<=a)return ii(ss,this,r),!1}),yt(os,this).inorder(r=>{const{rowStart:i,rowEnd:o,colStart:s,colEnd:a}=r.data;if(e>=i&&e<=o&&n>=s&&n<=a)return ii(as,this,r),!1}),this}}function BL(t,e,n,r,i){const o=t.getTopStartCorner(),s=t.getBottomEndCorner(),a=t.highlight.clone().normalize(),l=yt(wT,this).call(this,r,i);if(l&&n.has(l))return null;const u={colStart:i,colEnd:i,rowStart:r,rowEnd:r};if(l){if(n.add(l),l.row<o.row||l.row+l.rowspan-1>s.row||l.col<o.col||l.col+l.colspan-1>s.col)return null;u.colStart=l.col,u.colEnd=l.col+l.colspan-1,u.rowStart=l.row,u.rowEnd=l.row+l.rowspan-1}const c=e.push(u);return r===a.row&&i===a.col||l&&a.row>=l.row&&a.row<=l.row+l.rowspan-1&&a.col>=l.col&&a.col<=l.col+l.colspan-1?c:null}function $Pe(t){const{hot:e}=t,{rowIndexMapper:n,columnIndexMapper:r}=e;function i(){}function o(s,a,l){const u=t.mergedCellsCollection.get(a,l);if(!Ze(u)){s.removeAttribute("rowspan"),s.removeAttribute("colspan"),s.style.display="";return}const{row:c,col:h,colspan:d,rowspan:f}=u,[g,v]=t.translateMergedCellToRenderable(c,f,h,d),y=n.getRenderableFromVisualIndex(a),p=r.getRenderableFromVisualIndex(l),m=g-y+1,w=v-p+1,C=n.getNearestNotHiddenIndex(c,1),S=r.getNearestNotHiddenIndex(h,1),x=Math.min(f,m),_=Math.min(d,w);C===a&&S===l?(s.setAttribute("rowspan",x),s.setAttribute("colspan",_)):(s.removeAttribute("rowspan"),s.removeAttribute("colspan"),s.style.display="none")}return{before:i,after:o}}function FPe(t,e){u3(t,e),e.add(t)}function Iy(t,e,n){u3(t,e),e.set(t,n)}function u3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function FE(t,e,n){return(e=BPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BPe(t){var e=jPe(t,"string");return typeof e=="symbol"?e:e+""}function jPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vm(t,e,n){return t.set(Ct(t,e),n),n}function Nt(t,e){return t.get(Ct(t,e))}function Ct(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Te.getSingleton().register("beforeMergeCells");Te.getSingleton().register("afterMergeCells");Te.getSingleton().register("beforeUnmergeCells");Te.getSingleton().register("afterUnmergeCells");const em="mergeCells",VPe=150,jL=em;var ji=new WeakMap,Vi=new WeakMap,Ss=new WeakMap,VL=new WeakMap,Rt=new WeakSet;class WPe extends wt{constructor(){super(...arguments),FPe(this,Rt),FE(this,"mergedCellsCollection",null),FE(this,"autofillCalculations",null),FE(this,"selectionCalculations",null),Iy(this,ji,null),Iy(this,Vi,{row:0,col:0}),Iy(this,Ss,new LPe({mergedCellsGetter:(e,n)=>this.mergedCellsCollection.get(e,n),rowIndexMapper:this.hot.rowIndexMapper,columnIndexMapper:this.hot.columnIndexMapper})),Iy(this,VL,$Pe(this))}static get PLUGIN_KEY(){return em}static get PLUGIN_PRIORITY(){return VPe}isEnabled(){return!!this.hot.getSettings()[em]}enablePlugin(){var e=this;this.enabled||(this.mergedCellsCollection=new QC(this),this.autofillCalculations=new PPe(this),this.selectionCalculations=new IPe(this),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,UPe).call(e,...r)}),this.addHook("modifyTransformFocus",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,YPe).call(e,...r)}),this.addHook("modifyTransformStart",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,GPe).call(e,...r)}),this.addHook("modifyTransformEnd",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,KPe).call(e,...r)}),this.addHook("beforeSelectionHighlightSet",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,qPe).call(e,...r)}),this.addHook("beforeSetRangeStart",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,WL).call(e,...r)}),this.addHook("beforeSetRangeStartOnly",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,WL).call(e,...r)}),this.addHook("beforeSelectionFocusSet",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,QPe).call(e,...r)}),this.addHook("afterSelectionFocusSet",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,JPe).call(e,...r)}),this.addHook("afterSelectionEnd",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,eMe).call(e,...r)}),this.addHook("modifyGetCellCoords",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,XPe).call(e,...r)}),this.addHook("afterIsMultipleSelection",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,zPe).call(e,...r)}),this.addHook("afterRenderer",function(){return Nt(VL,e).after(...arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,ZPe).call(e,...r)}),this.addHook("afterGetCellMeta",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,tMe).call(e,...r)}),this.addHook("afterViewportRowCalculatorOverride",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,nMe).call(e,...r)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,rMe).call(e,...r)}),this.addHook("modifyAutofillRange",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,iMe).call(e,...r)}),this.addHook("afterCreateCol",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,oMe).call(e,...r)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,sMe).call(e,...r)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,aMe).call(e,...r)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,lMe).call(e,...r)}),this.addHook("afterChange",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,uMe).call(e,...r)}),this.addHook("beforeDrawBorders",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,cMe).call(e,...r)}),this.addHook("afterDrawSelection",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,hMe).call(e,...r)}),this.addHook("beforeRemoveCellClassNames",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,dMe).call(e,...r)}),this.addHook("beforeBeginEditing",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,fMe).call(e,...r)}),this.addHook("modifyRowHeightByOverlayName",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ct(Rt,e,gMe).call(e,...r)}),this.addHook("beforeUndoStackChange",(n,r)=>{if(r==="MergeCells")return!1}),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),super.disablePlugin()}updatePlugin(){const e=this.hot.getSettings()[em];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(e),super.updatePlugin()}ifChromeForceRepaint(){if(!XV())return;const e=[];let n=[];this.mergedCellsCollection.mergedCells.forEach(r=>{const{row:i,rowspan:o}=r;for(let s=i+1;s<i+o;s++)n.push(s)}),n=[...new Set(n)],n.forEach(r=>{const i=this.hot.rowIndexMapper.getRenderableFromVisualIndex(r);this.hot.view._wt.wtOverlays.getOverlays(!0).map(o=>(o==null?void 0:o.name)==="master"?o:o.clone.wtTable).forEach(o=>{const s=o.getRow(i);s&&(s.style.background=Tm(s,"backgroundColor").replace(")",", 0.99)"),e.push(s))})}),this.hot._registerTimeout(()=>{e.forEach(r=>{r.style.background=Tm(r,"backgroundColor").replace(", 0.99)",")")})},1)}validateSetting(e){return e?gs.containsNegativeValues(e)?(bt(gs.NEGATIVE_VALUES_WARNING(e)),!1):gs.isOutOfBounds(e,this.hot.countRows(),this.hot.countCols())?(bt(gs.IS_OUT_OF_BOUNDS_WARNING(e)),!1):gs.isSingleCell(e)?(bt(gs.IS_SINGLE_CELL(e)),!1):gs.containsZeroSpan(e)?(bt(gs.ZERO_SPAN_WARNING(e)),!1):!0:!1}generateFromSettings(e){if(!Array.isArray(e))return;const n=e.filter(o=>this.validateSetting(o)),r=this.mergedCellsCollection.filterOverlappingMergeCells(n),i=[];r.forEach(o=>{const{row:s,col:a,rowspan:l,colspan:u}=o,c=this.hot._createCellCoords(s,a),h=this.hot._createCellCoords(s+l-1,a+u-1),d=this.hot._createCellRange(c,c,h);this.mergeRange(d,!0,!0);for(let f=s;f<s+l;f++)for(let g=a;g<a+u;g++)(f!==s||g!==a)&&i.push([f,g,null])}),i.length!==0&&this.hot.setDataAtCell(i,void 0,void 0,this.pluginName)}clearCollections(){this.mergedCellsCollection.clear()}canMergeRange(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?!0:this.validateSetting(e)}mergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;e.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");const{from:n,to:r}=e;this.unmergeRange(e,!0),this.mergeRange(e),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}unmergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;const{from:n,to:r}=e;this.unmergeRange(e,!0),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}mergeRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=e.getTopStartCorner(),o=e.getBottomEndCorner(),s={row:i.row,col:i.col,rowspan:o.row-i.row+1,colspan:o.col-i.col+1},a=[];let l=null;return this.canMergeRange(s,n)?(this.hot.runHooks("beforeMergeCells",e,n),Ie(0,s.rowspan-1,c=>{Ie(0,s.colspan-1,h=>{let d=null;a[c]||(a[c]=[]),c===0&&h===0?d=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s.row),this.hot.toPhysicalColumn(s.col)):this.hot.setCellMeta(s.row+c,s.col+h,"hidden",!0),a[c][h]=d})}),this.hot.setCellMeta(s.row,s.col,"spanned",!0),this.mergedCellsCollection.add(s,n)?(r?l=[s.row,s.col,a]:this.hot.populateFromArray(s.row,s.col,a,void 0,void 0,this.pluginName),n||this.ifChromeForceRepaint(),this.hot.runHooks("afterMergeCells",e,s,n),l):!0):!1}unmergeRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.mergedCellsCollection.getWithinRange(e);r.length!==0&&(this.hot.runHooks("beforeUnmergeCells",e,n),G(r,i=>{this.mergedCellsCollection.remove(i.row,i.col),Ie(0,i.rowspan-1,o=>{Ie(0,i.colspan-1,s=>{this.hot.removeCellMeta(i.row+o,i.col+s,"hidden"),this.hot.removeCellMeta(i.row+o,i.col+s,"copyable")})}),this.hot.removeCellMeta(i.row,i.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",e,n),this.hot.render())}toggleMerge(e){const n=this.mergedCellsCollection.get(e.from.row,e.from.col);n.row===e.from.row&&n.col===e.from.col&&n.row+n.rowspan-1===e.to.row&&n.col+n.colspan-1===e.to.col?this.unmergeRange(e):this.mergeSelection(e)}merge(e,n,r,i){const o=this.hot._createCellCoords(e,n),s=this.hot._createCellCoords(r,i);this.mergeRange(this.hot._createCellRange(o,o,s))}unmerge(e,n,r,i){const o=this.hot._createCellCoords(e,n),s=this.hot._createCellCoords(r,i);this.unmergeRange(this.hot._createCellRange(o,o,s))}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:()=>{const r=this.hot.getSelectedRangeLast();r&&!r.isSingleHeader()&&(this.toggleMerge(r),this.hot.render())},runOnlyIf:r=>!r.altKey,group:jL})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(jL)}modifyViewportRowStart(e,n){const r=this.hot.rowIndexMapper,i=r.getVisualFromRenderableIndex(e.startRow);for(let o=0;o<n;o+=1){const s=this.mergedCellsCollection.get(i,o);if(Ze(s)){const a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(s.row,1));if(a<e.startRow){e.startRow=a,this.modifyViewportRowStart(e,n);return}}}}modifyViewportRowEnd(e,n){const r=this.hot.rowIndexMapper,i=r.getVisualFromRenderableIndex(e.endRow);for(let o=0;o<n;o+=1){const s=this.mergedCellsCollection.get(i,o);if(Ze(s)){const a=s.row+s.rowspan-1,l=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(a,-1));if(l>e.endRow){e.endRow=l,this.modifyViewportRowEnd(e,n);return}}}}modifyViewportColumnStart(e,n){const r=this.hot.columnIndexMapper,i=r.getVisualFromRenderableIndex(e.startColumn);for(let o=0;o<n;o+=1){const s=this.mergedCellsCollection.get(o,i);if(Ze(s)){const a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(s.col,1));if(a<e.startColumn){e.startColumn=a,this.modifyViewportColumnStart(e,n);return}}}}modifyViewportColumnEnd(e,n){const r=this.hot.columnIndexMapper,i=r.getVisualFromRenderableIndex(e.endColumn);for(let o=0;o<n;o+=1){const s=this.mergedCellsCollection.get(o,i);if(Ze(s)){const a=s.col+s.colspan-1,l=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(a,-1));if(l>e.endColumn){e.endColumn=l,this.modifyViewportColumnEnd(e,n);return}}}}translateMergedCellToRenderable(e,n,r,i){const{rowIndexMapper:o,columnIndexMapper:s}=this.hot;let a,l;n===0?a=o.getNearestNotHiddenIndex(e,1):a=o.getNearestNotHiddenIndex(e+n-1,-1),i===0?l=s.getNearestNotHiddenIndex(r,1):l=s.getNearestNotHiddenIndex(r+i-1,-1);const u=e>=0?o.getRenderableFromVisualIndex(a):e,c=r>=0?s.getRenderableFromVisualIndex(l):r;return[u,c]}}function UPe(){this.generateFromSettings(this.hot.getSettings()[em]),this.hot.render()}function zPe(t){if(t){const e=this.mergedCellsCollection.mergedCells,n=this.hot.getSelectedRangeLast(),r=n.getTopStartCorner(),i=n.getBottomEndCorner();for(let o=0;o<e.length;o+=1)if(r.row===e[o].row&&r.col===e[o].col&&i.row===e[o].row+e[o].rowspan-1&&i.col===e[o].col+e[o].colspan-1)return!1}return t}function YPe(t){Nt(Vi,this).row=t.row,Nt(Vi,this).col=t.col}function GPe(t){const e=this.hot.getSelectedRangeLast(),{highlight:n}=e,{columnIndexMapper:r,rowIndexMapper:i}=this.hot;Nt(ji,this)&&(i.getRenderableFromVisualIndex(Nt(ji,this).row)!==null&&(n.row=Nt(ji,this).row),r.getRenderableFromVisualIndex(Nt(ji,this).col)!==null&&(n.col=Nt(ji,this).col),Vm(ji,this,null));const o=this.mergedCellsCollection.get(n.row,n.col);if(!o)return;const s=o.col,a=o.col+o.colspan-1;if(t.col<0){const c=n.col>=s&&n.col<=a?s-1:a,h=r.getNearestNotHiddenIndex(c,-1);h===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,n.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(h,n.col)-1,1)}else if(t.col>0){const c=n.col>=s&&n.col<=a?a+1:s,h=r.getNearestNotHiddenIndex(c,1);h===null?t.col=this.hot.view.countRenderableColumnsInRange(n.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(n.col,h)-1,1)}const l=o.row,u=o.row+o.rowspan-1;if(t.row<0){const c=n.row>=l&&n.row<=u?l-1:u,h=i.getNearestNotHiddenIndex(c,-1);h===null?t.row=-this.hot.view.countRenderableRowsInRange(0,n.row):t.row=-Math.max(this.hot.view.countRenderableRowsInRange(h,n.row)-1,1)}else if(t.row>0){const c=n.row>=l&&n.row<=u?u+1:l,h=i.getNearestNotHiddenIndex(c,1);h===null?t.row=this.hot.view.countRenderableRowsInRange(n.row,this.hot.countRows()):t.row=Math.max(this.hot.view.countRenderableRowsInRange(n.row,h)-1,1)}}function KPe(t){const e=this.hot.getSelectedRangeLast(),n=e.clone(),{to:r}=e,{columnIndexMapper:i,rowIndexMapper:o}=this.hot,s=(a,l)=>{n.expand(this.hot._createCellCoords(a,l));for(let u=0;u<this.mergedCellsCollection.mergedCells.length;u+=1)n.expandByRange(this.mergedCellsCollection.mergedCells[u].getRange())};if(t.col<0){let a=this.mergedCellsCollection.getStartMostColumnIndex(e,r.col)+t.col;s(r.row,a),e.getHorizontalDirection()==="E-W"&&n.getHorizontalDirection()==="E-W"&&(a=n.getTopStartCorner().col);const l=i.getNearestNotHiddenIndex(a,1);l!==null&&(t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(l,r.col)-1,1))}else if(t.col>0){let a=this.mergedCellsCollection.getEndMostColumnIndex(e,r.col)+t.col;s(r.row,a),e.getHorizontalDirection()==="W-E"&&n.getHorizontalDirection()==="W-E"&&(a=n.getBottomEndCorner().col);const l=i.getNearestNotHiddenIndex(a,-1);l!==null&&(t.col=Math.max(this.hot.view.countRenderableColumnsInRange(r.col,l)-1,1))}if(t.row<0){let a=this.mergedCellsCollection.getTopMostRowIndex(e,r.row)+t.row;s(a,r.col),e.getVerticalDirection()==="S-N"&&n.getVerticalDirection()==="S-N"&&(a=n.getTopStartCorner().row);const l=o.getNearestNotHiddenIndex(a,1);l!==null&&(t.row=-Math.max(this.hot.view.countRenderableRowsInRange(l,r.row)-1,1))}else if(t.row>0){let a=this.mergedCellsCollection.getBottomMostRowIndex(e,r.row)+t.row;s(a,r.col),e.getVerticalDirection()==="N-S"&&n.getVerticalDirection()==="N-S"&&(a=n.getBottomStartCorner().row);const l=o.getNearestNotHiddenIndex(a,-1);l!==null&&(t.row=Math.max(this.hot.view.countRenderableRowsInRange(r.row,l)-1,1))}}function qPe(){const t=this.hot.getSelectedRangeLast(),{highlight:e}=t;if(this.hot.selection.isSelectedByColumnHeader()||this.hot.selection.isSelectedByRowHeader()){Vm(ji,this,e.clone());return}for(let r=0;r<this.mergedCellsCollection.mergedCells.length;r+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[r].getRange(),!1);for(let r=0;r<this.mergedCellsCollection.mergedCells.length;r+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[r].getRange(),!1);const n=this.mergedCellsCollection.get(e.row,e.col);Vm(ji,this,e.clone()),n&&e.assign(n)}function XPe(t,e){if(t<0||e<0)return;const n=this.mergedCellsCollection.get(t,e);if(!n)return;const{row:r,col:i,colspan:o,rowspan:s}=n;return[r,i,r+s-1,i+o-1]}function ZPe(t){t.items.push({name:"---------"},NPe(this))}function WL(){Vm(ji,this,null)}function QPe(){if(Nt(ji,this).isCell())return;const t=this.hot.getSelectedRangeLast(),e=t.getVerticalDirection(),n=t.getHorizontalDirection(),r=Nt(ji,this).clone().normalize();Nt(Ss,this).setActiveNode(r.row,r.col),Nt(Vi,this).row>0||Nt(Vi,this).col>0?Nt(Ss,this).setPrevNodeAsActive():(n==="E-W"&&Nt(Vi,this).col<0||e==="S-N"&&Nt(Vi,this).row<0)&&Nt(Ss,this).setNextNodeAsActive()}function JPe(t,e){const n=this.hot.getSelectedRangeLast(),{columnIndexMapper:r,rowIndexMapper:i}=this.hot;let o=null,s=null;if(Nt(Vi,this).col<0){const{rowEnd:a,colEnd:l}=Nt(Ss,this).getPrevHorizontalNode();s=r.getNearestNotHiddenIndex(l,-1),o=i.getNearestNotHiddenIndex(a,-1)}else if(Nt(Vi,this).col>0){const{rowStart:a,colStart:l}=Nt(Ss,this).getNextHorizontalNode();s=r.getNearestNotHiddenIndex(l,1),o=i.getNearestNotHiddenIndex(a,1)}else if(Nt(Vi,this).row<0){const{rowEnd:a,colEnd:l}=Nt(Ss,this).getPrevVerticalNode();s=r.getNearestNotHiddenIndex(l,-1),o=i.getNearestNotHiddenIndex(a,-1)}else if(Nt(Vi,this).row>0){const{rowStart:a,colStart:l}=Nt(Ss,this).getNextVerticalNode();s=r.getNearestNotHiddenIndex(l,1),o=i.getNearestNotHiddenIndex(a,1)}if(o!==null||s!==null){const a=this.hot._createCellCoords(o,s),l=this.mergedCellsCollection.get(a.row,a.col),u=this.hot.selection.highlight.getFocus();t=a.row,e=a.col,l?n.highlight.assign({row:this.hot.rowIndexMapper.getNearestNotHiddenIndex(l.row,1),col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(l.col,1)}):n.highlight.assign(a),u.clear(),u.add(a).commit()}Nt(Ss,this).setActiveNode(t,e),Vm(Vi,this,{row:0,col:0})}function eMe(){this.hot.getSelectedRangeLast().isHeader()||Nt(Ss,this).buildFocusOrder(this.hot.getSelectedRangeLast())}function tMe(t,e,n){const r=this.mergedCellsCollection.get(t,e);r&&(r.row!==t||r.col!==e?n.copyable=!1:(n.rowspan=r.rowspan,n.colspan=r.colspan))}function nMe(t){const e=this.hot.countCols();this.modifyViewportRowStart(t,e),this.modifyViewportRowEnd(t,e)}function rMe(t){const e=this.hot.countRows();this.modifyViewportColumnStart(t,e),this.modifyViewportColumnEnd(t,e)}function iMe(t,e){this.autofillCalculations.correctSelectionAreaSize(e);const n=this.autofillCalculations.getDirection(e,t);let r=t;if(this.autofillCalculations.dragAreaOverlapsCollections(e,r,n))return r=e,r;const i=this.hot._createCellCoords(e[0],e[1]),o=this.hot._createCellCoords(e[2],e[3]),s=this.hot._createCellRange(i,i,o),a=this.mergedCellsCollection.getWithinRange(s);return a.length===0||(r=this.autofillCalculations.snapDragArea(e,r,n,a)),r}function oMe(t,e){this.mergedCellsCollection.shiftCollections("right",t,e)}function sMe(t,e){this.mergedCellsCollection.shiftCollections("left",t,e)}function aMe(t,e,n){n!=="auto"&&this.mergedCellsCollection.shiftCollections("down",t,e)}function lMe(t,e){this.mergedCellsCollection.shiftCollections("up",t,e)}function uMe(t,e){e==="Autofill.fill"&&this.autofillCalculations.recreateAfterDataPopulation(t)}function cMe(t,e){if(e&&e==="area"){const n=this.hot.getSelectedRangeLast(),r=this.mergedCellsCollection.getWithinRange(n);G(r,i=>{n.getBottomEndCorner().row===i.getLastRow()&&n.getBottomEndCorner().col===i.getLastColumn()&&(t[2]=i.row,t[3]=i.col)})}}function hMe(t,e,n,r){if(n)return this.selectionCalculations.getSelectedMergedCellClassName(t,e,n,r)}function dMe(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}function fMe(t,e,n,r){if(!(r instanceof MouseEvent))return;const i=this.hot.getSelectedRangeLast(),o=this.mergedCellsCollection.getByRange(i);if(!o)return;const s=this.hot._createCellCoords(o.row,o.col),a=this.hot._createCellCoords(o.row+o.rowspan-1,o.col+o.colspan-1);return this.hot.selection.getLayerLevel()===0&&i.isEqual(this.hot._createCellRange(s,s,a))}function gMe(t,e,n){if(this.hot.getSettings().rowHeaders||n==="bottom"||n==="bottom_inline_start_corner")return t;let r,i;if(n==="master")r=this.hot.view.getFirstRenderedVisibleColumn(),i=this.hot.view.getLastRenderedVisibleColumn();else{const d=this.hot.view.getOverlayByName(n);r=this.hot.columnIndexMapper.getVisualFromRenderableIndex(d.clone.wtTable.getFirstRenderedColumn()),i=this.hot.columnIndexMapper.getVisualFromRenderableIndex(d.clone.wtTable.getLastRenderedColumn())}if(!this.mergedCellsCollection.get(e,r))return t;const s=this.hot._createCellCoords(e,r),a=this.hot._createCellCoords(e,i),l=this.hot._createCellRange(s,s,a),u=this.mergedCellsCollection.getWithinRange(l),c=u.reduce((d,f)=>{let{rowspan:g}=f;return Math.max(d,g)},1);let h=0;return u.length>1&&u[0].rowspan<c&&(h=c-u[0].rowspan),u.forEach(d=>{var f;let{rowspan:g}=d,v=0;n==="top"||n==="top_inline_start_corner"?v=Math.min(c,this.hot.view.countNotHiddenFixedRowsTop()-e):v=g-h,t=Math.max((f=t)!==null&&f!==void 0?f:0,Ct(Rt,this,mMe).call(this,e,v))}),t}function mMe(t,e){const n=this.hot.view._wt.wtSettings.getSettingPure("defaultRowHeight"),r=this.hot.getPlugin("autoRowSize");let i=0;for(let s=t;s<t+e;s++)if(!this.hot.rowIndexMapper.isHidden(s)){var o;i+=(o=r==null?void 0:r.getRowHeight(s))!==null&&o!==void 0?o:n}return i}function pMe(t,e){return function(n,r){const[,...i]=n,[,...o]=r;return function s(a){const l=t[a],u=e[a],c=i[a],h=o[a],d=u.multiColumnSorting,g=(d.compareFunctionFactory?d.compareFunctionFactory:BU(u.type))(l,u,d)(c,h);if(g===Os){const v=a+1;if(typeof e[v]<"u")return s(v)}return g}(0)}}function UL(){bt(St`Plugins \`columnSorting\` and \`multiColumnSorting\` should not be enabled simultaneously. 
    Only \`multiColumnSorting\` will work. The \`columnSorting\` plugin will be disabled.`)}const c3="sort";function vMe(t,e,n){const r=[];return n===!1||t.isColumnSorted(e)&&t.getNumberOfSortedColumns()>1&&r.push(`${c3}-${t.getIndexOfColumnInSortQueue(e)+1}`),r}function yMe(t){const e=t.className.split(" "),n=new RegExp(`^${c3}-[0-9]{1,2}$`);return e.filter(r=>n.test(r))}function wMe(t,e,n){return(e=CMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CMe(t){var e=bMe(t,"string");return typeof e=="symbol"?e:e+""}function bMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const eb="multiColumnSorting",SMe=170,BE="columnSorting",zL=eb;FU(eb,pMe);class RMe extends qU{constructor(){super(...arguments),wMe(this,"pluginKey",eb)}static get PLUGIN_KEY(){return eb}static get PLUGIN_PRIORITY(){return SMe}isEnabled(){return super.isEnabled()}enablePlugin(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[BE]&&(UL(),this.hot.getPlugin(BE).disablePlugin()),super.enablePlugin()}disablePlugin(){super.disablePlugin()}registerShortcuts(){super.registerShortcuts(),this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Shift","Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();return e.row===-1&&e.col>=0&&this.sort(this.getNextSortConfig(e.col,DC)),!1},runOnlyIf:()=>{var e,n;const r=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return r&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingle())&&this.hot.selection.isCellVisible(r)&&r.isHeader()},relativeToGroup:Gl,position:"before",group:zL})}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(zL)}sort(e){super.sort(e)}clearSort(){super.clearSort()}isSorted(){return super.isSorted()}getSortConfig(e){return super.getSortConfig(e)}setSortConfig(e){super.setSortConfig(e)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e:[e]}updateHeaderClasses(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];super.updateHeaderClasses(e,...r),We(e,yMe(e)),this.enabled!==!1&&ge(e,vMe(...r))}onUpdateSettings(e){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[BE]&&UL(),super.onUpdateSettings(e)}onAfterOnCellMouseDown(e,n){$M(n.row,n.col,e)!==!1&&this.wasClickableHeaderClicked(e,n.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(n.col),this.sort(this.getNextSortConfig(n.col,DC))):this.sort(this.getColumnNextConfig(n.col)))}}function YL(t,e,n){return(e=EMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EMe(t){var e=_Me(t,"string");return typeof e=="symbol"?e:e+""}function _Me(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const TMe="multipleSelectionHandles",OMe=160;class xMe extends wt{constructor(){super(...arguments),YL(this,"dragged",[]),YL(this,"lastSetCell",null)}static get PLUGIN_KEY(){return TMe}static get PLUGIN_PRIORITY(){return OMe}isEnabled(){return ml()}enablePlugin(){this.enabled||(this.registerListeners(),super.enablePlugin())}registerListeners(){const e=this,{rootElement:n}=this.hot;function r(i){if(e.dragged.length===1)return e.dragged.splice(0,e.dragged.length),!0;const o=e.dragged.indexOf(i);if(o===-1)return!1;o===0?e.dragged=e.dragged.slice(0,1):o===1&&(e.dragged=e.dragged.slice(-1))}this.eventManager.addEventListener(n,"touchstart",i=>{let o;if(je(i.target,"topSelectionHandle-HitArea"))return o=e.hot.getSelectedRangeLast(),e.dragged.push("top"),e.touchStartRange={width:o.getWidth(),height:o.getHeight(),direction:o.getDirection()},i.preventDefault(),!1;if(je(i.target,"bottomSelectionHandle-HitArea"))return o=e.hot.getSelectedRangeLast(),e.dragged.push("bottom"),e.touchStartRange={width:o.getWidth(),height:o.getHeight(),direction:o.getDirection()},i.preventDefault(),!1}),this.eventManager.addEventListener(n,"touchend",i=>{if(je(i.target,"topSelectionHandle-HitArea"))return r.call(e,"top"),e.touchStartRange=void 0,i.preventDefault(),!1;if(je(i.target,"bottomSelectionHandle-HitArea"))return r.call(e,"bottom"),e.touchStartRange=void 0,i.preventDefault(),!1}),this.eventManager.addEventListener(n,"touchmove",i=>{const{rootDocument:o}=this.hot;let s,a,l,u,c,h;if(e.dragged.length===0)return;const d=o.elementFromPoint(i.touches[0].clientX,i.touches[0].clientY);!d||d===e.lastSetCell||((d.nodeName==="TD"||d.nodeName==="TH")&&(s=e.hot.getCoords(d),s.col===-1&&(s.col=0),a=e.hot.getSelectedRangeLast(),l=a.getWidth(),u=a.getHeight(),c=a.getDirection(),l===1&&u===1&&e.hot.selection.setRangeEnd(s),h=e.getCurrentRangeCoords(a,s,e.touchStartRange.direction,c,e.dragged[0]),h.start!==null&&e.hot.selection.setRangeStart(h.start),e.hot.selection.setRangeEnd(h.end),e.lastSetCell=d),i.preventDefault())})}getCurrentRangeCoords(e,n,r,i,o){const s=e.getTopStartCorner(),a=e.getBottomEndCorner(),l=e.getBottomStartCorner(),u=e.getTopEndCorner();let c={start:null,end:null};switch(r){case"NE-SW":switch(i){case"NE-SW":case"NW-SE":o==="top"?c={start:this.hot._createCellCoords(n.row,e.highlight.col),end:this.hot._createCellCoords(l.row,n.col)}:c={start:this.hot._createCellCoords(e.highlight.row,n.col),end:this.hot._createCellCoords(n.row,s.col)};break;case"SE-NW":o==="bottom"&&(c={start:this.hot._createCellCoords(a.row,n.col),end:this.hot._createCellCoords(n.row,s.col)});break}break;case"NW-SE":switch(i){case"NE-SW":o==="top"?c={start:n,end:l}:c.end=n;break;case"NW-SE":o==="top"?c={start:n,end:a}:c.end=n;break;case"SE-NW":o==="top"?c={start:n,end:s}:c.end=n;break;case"SW-NE":o==="top"?c={start:n,end:u}:c.end=n;break}break;case"SW-NE":switch(i){case"NW-SE":o==="bottom"?c={start:this.hot._createCellCoords(n.row,s.col),end:this.hot._createCellCoords(l.row,n.col)}:c={start:this.hot._createCellCoords(s.row,n.col),end:this.hot._createCellCoords(n.row,a.col)};break;case"SW-NE":o==="top"?c={start:this.hot._createCellCoords(e.highlight.row,n.col),end:this.hot._createCellCoords(n.row,a.col)}:c={start:this.hot._createCellCoords(n.row,s.col),end:this.hot._createCellCoords(s.row,n.col)};break;case"SE-NW":o==="bottom"?c={start:this.hot._createCellCoords(n.row,u.col),end:this.hot._createCellCoords(s.row,n.col)}:o==="top"&&(c={start:l,end:n});break}break;case"SE-NW":switch(i){case"NW-SE":case"NE-SW":case"SW-NE":o==="top"&&(c.end=n);break;case"SE-NW":o==="top"?c.end=n:c={start:n,end:s};break}break}return c}isDragged(){return this.dragged.length>0}}function CT(){let{label:t="",colspan:e=1,origColspan:n=1,collapsible:r=!1,crossHiddenColumns:i=[],isCollapsed:o=!1,isHidden:s=!1,isRoot:a=!1,isPlaceholder:l=!1,headerClassNames:u=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{label:t,colspan:e,origColspan:n,collapsible:r,isCollapsed:o,crossHiddenColumns:i,isHidden:s,isRoot:a,isPlaceholder:l,headerClassNames:u}}function h3(){return{label:"",isPlaceholder:!0}}function PMe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;const n=[];if(e===0)return n;G(t,i=>{const o=[];let s=0;n.push(o),G(i,a=>{const l=CT();if(Ze(a)){const{label:c,colspan:h,headerClassName:d}=a;l.label=bn(c),typeof h=="number"&&h>1&&(l.colspan=h,l.origColspan=h),typeof d=="string"&&(l.headerClassNames=[...d.split(" ")])}else l.label=bn(a);s+=l.origColspan;let u=!1;if(s>=e&&(l.colspan=l.origColspan-(s-e),l.origColspan=l.colspan,u=!0),o.push(l),l.colspan>1)for(let c=0;c<l.colspan-1;c++)o.push(h3());return!u})});const r=Math.max(...it(n,i=>i.length));return G(n,i=>{if(i.length<r){const o=it(new Array(r-i.length),()=>CT());i.splice(i.length,0,...o)}}),n}function jE(t,e,n){MMe(t,e),e.set(t,n)}function MMe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function uo(t,e){return t.get(d3(t,e))}function lg(t,e,n){return t.set(d3(t,e),n),n}function d3(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const GL=["label","collapsible"];var Xs=new WeakMap,Iu=new WeakMap,VE=new WeakMap;class AMe{constructor(){jE(this,Xs,[]),jE(this,Iu,0),jE(this,VE,1/0)}setColumnsLimit(e){lg(VE,this,e)}setData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];lg(Xs,this,PMe(e,uo(VE,this))),lg(Iu,this,uo(Xs,this).length)}getData(){return uo(Xs,this)}mergeWith(e){G(e,n=>{let{row:r,col:i,...o}=n;const s=this.getHeaderSettings(r,i);s!==null&&xn(s,o,GL)})}map(e){G(uo(Xs,this),n=>{G(n,r=>{const i=e({...r});Ze(i)&&xn(r,i,GL)})})}getHeaderSettings(e,n){var r;if(e>=uo(Iu,this)||e<0)return null;const i=uo(Xs,this)[e];return Array.isArray(i)===!1||n>=i.length?null:(r=i[n])!==null&&r!==void 0?r:null}getHeadersSettings(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const i=[];if(e>=uo(Iu,this)||e<0)return i;const o=uo(Xs,this)[e];let s=0;for(let a=n;a<o.length;a++){const l=o[a];if(l.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(s+=l.colspan,i.push(l),l.colspan>1&&(a+=l.colspan-1),s===r)break;if(s>r)throw new Error("The last column settings cannot overlap the other header layers")}return i}getLayersCount(){return uo(Iu,this)}getColumnsCount(){return uo(Iu,this)>0?uo(Xs,this)[0].length:0}clear(){lg(Xs,this,[]),lg(Iu,this,0)}}function WE(t,e,n){return(e=IMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IMe(t){var e=NMe(t,"string");return typeof e=="symbol"?e:e+""}function NMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const f3="DF-pre-order";function g3(t,e){let n=t.call(e,this);for(let r=0;r<this.childs.length;r++){if(n===!1)return!1;n=g3.call(this.childs[r],t,e)}return n}const kMe="DF-post-order";function m3(t,e){for(let n=0;n<this.childs.length;n++)if(m3.call(this.childs[n],t,e)===!1)return!1;return t.call(e,this)}const p3="BF";function HMe(t,e){const n=[this];function r(){if(n.length===0)return;const i=n.shift();n.push(...i.childs),t.call(e,i)!==!1&&r()}r()}const DMe=p3,KL=new Map([[f3,g3],[kMe,m3],[p3,HMe]]);class tb{constructor(e){WE(this,"data",{}),WE(this,"parent",null),WE(this,"childs",[]),this.data=e}addChild(e){e.parent=this,this.childs.push(e)}cloneTree(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this;const n=new tb({...e.data});for(let r=0;r<e.childs.length;r++)n.addChild(this.cloneTree(e.childs[r]));return n}replaceTreeWith(e){this.data={...e.data},this.childs=[];for(let n=0;n<e.childs.length;n++)this.addChild(e.childs[n])}walkDown(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DMe;if(!KL.has(n))throw new Error(`Traversal strategy "${n}" does not exist`);KL.get(n).call(this,e,this)}walkUp(e){const n=this,r=i=>{e.call(n,i)!==!1&&i.parent!==null&&r(i.parent)};r(this)}}function UE(t,e,n){LMe(t,e),e.set(t,n)}function LMe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function br(t,e){return t.get(v3(t,e))}function $Me(t,e,n){return t.set(v3(t,e),n),n}function v3(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var vh=new WeakMap,Nu=new WeakMap,yh=new WeakMap;class FMe{constructor(e){UE(this,vh,new Map),UE(this,Nu,new Map),UE(this,yh,null),$Me(yh,this,e)}getRoots(){return Array.from(br(vh,this).values())}getRootByColumn(e){let n;return br(Nu,this).has(e)&&(n=br(vh,this).get(br(Nu,this).get(e))),n}getNode(e,n){const r=this.getRootByColumn(n);if(!r)return;const i=n-br(Nu,this).get(n);let o=0,s;return r.walkDown(a=>{const{data:{origColspan:l,headerLevel:u}}=a;if(e===u){if(i>=o&&i<=o+l-1)return s=a,s.data.isRoot=n===s.data.columnIndex,!1;o+=l}}),s}rebuildTreeIndex(){let e=0;br(Nu,this).clear(),G(br(vh,this),n=>{let[,{data:{colspan:r}}]=n;for(let i=e;i<e+r;i++)br(Nu,this).set(i,e);e+=r})}buildTree(){this.clear();const e=br(yh,this).getColumnsCount();let n=0;for(;n<e;){const r=br(yh,this).getHeaderSettings(0,n),i=new tb;br(vh,this).set(n,i),this.buildLeaves(i,n,0,r.origColspan),n+=r.origColspan}this.rebuildTreeIndex()}buildLeaves(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const o=br(yh,this).getHeadersSettings(r,n,i);r+=1,G(o,s=>{const a={...s,headerLevel:r-1,columnIndex:n};let l;r===1?(e.data=a,l=e):(l=new tb(a),e.addChild(l)),r<br(yh,this).getLayersCount()&&this.buildLeaves(l,n,r,s.origColspan),n+=s.origColspan})}clear(){br(vh,this).clear(),br(Nu,this).clear()}}function y3(t,e){t.walkDown(n=>{let{data:r,childs:i}=n;if(!r.isHidden&&(e(r.columnIndex),i.length===0))for(let o=1;o<r.colspan;o++)e(r.columnIndex+o)})}function nb(t,e){let{childs:n}=t;if(n.length!==0)return n[0].data[e]}function rb(t){return nb(t,"origColspan")===t.data.origColspan}function JM(t){const{data:e,childs:n}=t;if(!e.isCollapsed||e.isHidden||e.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(rb(t))return JM(n[0]);e.isCollapsed=!1;const i=n.slice(1),o=new Set;let s=0;if(i.length>0)G(i,a=>{a.replaceTreeWith(a.data.clonedTree),a.data.clonedTree=null;const l=a.data;s+=l.colspan,y3(a,u=>{o.add(u)})});else{const{colspan:a,origColspan:l,columnIndex:u}=e;s=l-a;for(let c=1;c<l;c++)o.add(u+c)}return t.walkUp(a=>{const{data:l}=a;l.colspan+=s,l.colspan>=l.origColspan?(l.colspan=l.origColspan,l.isCollapsed=!1):rb(a)&&(l.isCollapsed=nb(a,"isCollapsed"))}),{rollbackModification:()=>eA(t),affectedColumns:Array.from(o),colspanCompensation:s}}function eA(t){var e;const{data:n,childs:r}=t;if(n.isCollapsed||n.isHidden||n.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(rb(t))return eA(r[0]);n.isCollapsed=!0;const o=r.slice(1),s=new Set;if(o.length>0)G(o,l=>{y3(l,u=>{s.add(u)}),l.data.clonedTree=l.cloneTree(),l.walkDown(u=>{let{data:c}=u;c.isHidden=!0})});else{const{origColspan:l,columnIndex:u}=n;for(let c=1;c<l;c++){const h=u+c;s.add(h)}}const a=n.colspan-((e=nb(t,"colspan"))!==null&&e!==void 0?e:1);return t.walkUp(l=>{const{data:u}=l;u.colspan-=a,u.colspan<=1?(u.colspan=1,u.isCollapsed=!0):rb(l)&&(u.isCollapsed=nb(l,"isCollapsed"))}),{rollbackModification:()=>JM(t),affectedColumns:Array.from(s),colspanCompensation:a}}function BMe(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(St`The passed node is not the last node on the tree. Only for\x20
the last node, the hide column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(n.includes(e))return;let r=!1;t.walkUp(i=>{const{data:{collapsible:o}}=i;if(o)return r=!0,!1}),!r&&t.walkUp(i=>{const{data:o}=i;o.crossHiddenColumns.push(e),o.colspan>1?o.colspan-=1:o.isHidden=!0})}function jMe(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(St`The passed node is not the last node on the tree. Only for\x20
the last node, the show column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(!n.includes(e))return;let r=!1;t.walkUp(i=>{const{data:{collapsible:o}}=i;if(o)return r=!0,!1}),!r&&t.walkUp(i=>{const{data:o}=i;o.crossHiddenColumns.splice(o.crossHiddenColumns.indexOf(e),1),!o.isHidden&&o.colspan<o.origColspan&&(o.colspan+=1),o.isHidden=!1})}const qL=new Map([["collapse",eA],["expand",JM],["hide-column",BMe],["show-column",jMe]]);function VMe(t,e,n){if(!qL.has(t))throw new Error(`The node modifier action ("${t}") does not exist.`);return qL.get(t)(e,n)}function Ny(t){const e=[];return G(t,n=>{n.walkDown(r=>{const i=r.data,{origColspan:o,columnIndex:s,headerLevel:a,crossHiddenColumns:l}=i,u=UMe(e,a);let c=!1;for(let h=s;h<s+o;h++)if(l.includes(h)||c)u.push(h3());else{const f=WMe(i);f.isRoot=!0,u.push(f),c=!0}})}),e}function WMe(t){const{crossHiddenColumns:e,...n}=CT(t);return n}function UMe(t,e){let n;return Array.isArray(t[e])?n=t[e]:(n=[],t[e]=n),n}function zE(t,e,n){zMe(t,e),e.set(t,n)}function zMe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ug(t,e,n){return t.set(w3(t,e),n),n}function en(t,e){return t.get(w3(t,e))}function w3(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ls=new WeakMap,jr=new WeakMap,ku=new WeakMap;class YMe{constructor(){zE(this,ls,new AMe),zE(this,jr,new FMe(en(ls,this))),zE(this,ku,[[]])}setState(e){en(ls,this).setData(e);let n=!1;try{en(jr,this).buildTree()}catch{en(jr,this).clear(),en(ls,this).clear(),n=!0}return ug(ku,this,Ny(en(jr,this).getRoots())),n}setColumnsLimit(e){en(ls,this).setColumnsLimit(e)}mergeStateWith(e){const n=it(e,r=>{let{row:i,...o}=r;return{row:i<0?this.rowCoordsToLevel(i):i,...o}});en(ls,this).mergeWith(n),en(jr,this).buildTree(),ug(ku,this,Ny(en(jr,this).getRoots()))}mapState(e){en(ls,this).map(e),en(jr,this).buildTree(),ug(ku,this,Ny(en(jr,this).getRoots()))}mapNodes(e){return kr(en(jr,this).getRoots(),(n,r)=>(r.walkDown(i=>{const o=e(i.data);o!==void 0&&n.push(o)}),n),[])}triggerNodeModification(e,n,r){n<0&&(n=this.rowCoordsToLevel(n));const i=en(jr,this).getNode(n,r);let o;return i&&(o=VMe(e,i,r),ug(ku,this,Ny(en(jr,this).getRoots()))),o}triggerColumnModification(e,n){return this.triggerNodeModification(e,-1,n)}rowCoordsToLevel(e){if(e>=0)return null;const n=e+Math.max(this.getLayersCount(),1);return n<0?null:n}levelToRowCoords(e){if(e<0)return null;const n=e-Math.max(this.getLayersCount(),1);return n>=0?null:n}getHeaderSettings(e,n){var r,i;return e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount()?null:(r=(i=en(ku,this)[e])===null||i===void 0?void 0:i[n])!==null&&r!==void 0?r:null}getHeaderTreeNodeData(e,n){const r=this.getHeaderTreeNode(e,n);return r?{...r.data}:null}getHeaderTreeNode(e,n){if(e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount())return null;const r=en(jr,this).getNode(e,n);return r||null}findTopMostEntireHeaderLevel(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;const i=r-e+1;let o=!1,s=null;for(let a=e;a<=r;a++){const l=en(jr,this).getRootByColumn(a);if(!l)break;o=!0,l.walkDown(u=>{const{columnIndex:c,headerLevel:h,origColspan:d,isHidden:f}=u.data;f||d<=i&&c>=e&&c+d-1<=r&&(s===null||h<s)&&(s=h)},f3)}return o&&s===null?-1:this.levelToRowCoords((n=s)!==null&&n!==void 0?n:0)}findLeftMostColumnIndex(e,n){var r;const{isRoot:i}=(r=this.getHeaderSettings(e,n))!==null&&r!==void 0?r:{isRoot:!0};if(i)return n;let o=n-1;for(;o>=0;){var s;const{isRoot:a}=(s=this.getHeaderSettings(e,o))!==null&&s!==void 0?s:{isRoot:!0};if(a)break;o-=1}return o}findRightMostColumnIndex(e,n){var r;const{isRoot:i,origColspan:o}=(r=this.getHeaderSettings(e,n))!==null&&r!==void 0?r:{isRoot:!0,origColspan:1};if(i)return n+o-1;let s=n+1;for(;s<this.getColumnsCount();){var a;const{isRoot:l}=(a=this.getHeaderSettings(e,s))!==null&&a!==void 0?a:{isRoot:!0};if(l)break;s+=1}return s-1}getLayersCount(){return en(ls,this).getLayersCount()}getColumnsCount(){return en(ls,this).getColumnsCount()}clear(){ug(ku,this,[]),en(ls,this).clear(),en(jr,this).clear()}}function cg(t,e,n){return(e=GMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GMe(t){var e=KMe(t,"string");return typeof e=="symbol"?e:e+""}function KMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qMe{constructor(e,n){cg(this,"hot",void 0),cg(this,"nestedHeaderSettingsGetter",void 0),cg(this,"layersCount",0),cg(this,"container",void 0),cg(this,"widthsMap",void 0),this.hot=e,this.nestedHeaderSettingsGetter=n,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}setLayersCount(e){return this.layersCount=e,this}getWidth(e){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e))}buildWidthsMap(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);const e=this.container.querySelectorAll("tr:last-of-type th"),n=e.length;this.widthsMap.clear();for(let r=0;r<n;r++){const i=this.hot.columnIndexMapper.getVisualFromRenderableIndex(r),o=this.hot.toPhysicalColumn(i);this.widthsMap.setValueAtIndex(o,e[r].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}_buildGhostTable(e){const{rootDocument:n,columnIndexMapper:r}=this.hot,i=n.createDocumentFragment(),o=n.createElement("table"),s=!!this.hot.getSettings().dropdownMenu,a=r.getRenderableIndexesLength();for(let l=0;l<this.layersCount;l++){const u=n.createElement("tr");for(let c=0;c<a;c++){let h=r.getVisualFromRenderableIndex(c);h===null&&(h=c);const d=n.createElement("th"),f=this.nestedHeaderSettingsGetter(l,h);if(f&&(!f.isPlaceholder||f.isHidden)){let g=f.label;s&&(g+='<button class="changeType"></button>'),Wd(d,g),d.colSpan=f.colspan,u.appendChild(d)}}o.appendChild(u)}i.appendChild(o),e.appendChild(i)}clear(){this.widthsMap.clear(),this.container=null}}function XMe(t,e){C3(t,e),e.add(t)}function XL(t,e,n){return(e=ZMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZMe(t){var e=QMe(t,"string");return typeof e=="symbol"?e:e+""}function QMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ky(t,e,n){C3(t,e),e.set(t,n)}function C3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ju(t,e,n){return t.set(tn(t,e),n),n}function ct(t,e){return t.get(tn(t,e))}function tn(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const ZL="nestedHeaders",JMe=280;var Tt=new WeakMap,qa=new WeakMap,tm=new WeakMap,kS=new WeakMap,hn=new WeakSet;class eAe extends wt{constructor(){super(...arguments),XMe(this,hn),ky(this,Tt,new YMe),ky(this,qa,null),ky(this,tm,null),ky(this,kS,!1),XL(this,"ghostTable",new qMe(this.hot,(e,n)=>this.getHeaderSettings(e,n))),XL(this,"detectedOverlappedHeaders",!1)}static get PLUGIN_KEY(){return ZL}static get PLUGIN_PRIORITY(){return JMe}isEnabled(){return!!this.hot.getSettings()[ZL]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:n}=this.hot.getSettings();(!Array.isArray(n)||!Array.isArray(n[0]))&&bt(St`Your Nested Headers plugin configuration is invalid. The settings has to be\x20
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`),this.addHook("init",()=>tn(hn,this,pAe).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,vAe).call(e,...i)}),this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,iAe).call(e,...i)}),this.addHook("afterOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,oAe).call(e,...i)}),this.addHook("beforeOnCellMouseOver",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,sAe).call(e,...i)}),this.addHook("beforeOnCellMouseUp",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,aAe).call(e,...i)}),this.addHook("beforeSelectionHighlightSet",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,lAe).call(e,...i)}),this.addHook("modifyTransformStart",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,uAe).call(e,...i)}),this.addHook("afterSelection",()=>tn(hn,this,Hy).call(this)),this.addHook("afterSelectionFocusSet",()=>tn(hn,this,Hy).call(this)),this.addHook("beforeViewportScrollHorizontally",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,tAe).call(e,...i)}),this.addHook("afterGetColumnHeaderRenderers",r=>tn(hn,this,hAe).call(this,r)),this.addHook("modifyColWidth",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,fAe).call(e,...i)}),this.addHook("modifyColumnHeaderValue",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,gAe).call(e,...i)}),this.addHook("beforeHighlightingColumnHeader",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,nAe).call(e,...i)}),this.addHook("beforeCopy",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,rAe).call(e,...i)}),this.addHook("beforeSelectColumns",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,cAe).call(e,...i)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,dAe).call(e,...i)}),this.addHook("modifyFocusedElement",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tn(hn,e,mAe).call(e,...i)}),this.hot.columnIndexMapper.addLocalHook("cacheUpdated",()=>tn(hn,this,Hy).call(this)),this.hot.rowIndexMapper.addLocalHook("cacheUpdated",()=>tn(hn,this,Hy).call(this)),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(!this.hot.view)return;const{nestedHeaders:e}=this.hot.getSettings();ct(Tt,this).setColumnsLimit(this.hot.countCols()),Array.isArray(e)&&(this.detectedOverlappedHeaders=ct(Tt,this).setState(e)),this.detectedOverlappedHeaders&&bt(St`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\x20
                        is currently not supported.`),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach((n,r)=>{const i=n===!0?"hide-column":"show-column";ct(Tt,this).triggerColumnModification(i,r)}),!ct(qa,this)&&this.enabled&&Ju(qa,this,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(n=>{n.forEach(r=>{let{op:i,index:o,newValue:s}=r;if(i==="replace"){const a=s===!0?"hide-column":"show-column";ct(Tt,this).triggerColumnModification(a,o)}}),this.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),super.updatePlugin()}disablePlugin(){this.clearColspans(),ct(Tt,this).clear(),ct(qa,this).unsubscribe(),Ju(qa,this,null),this.ghostTable.clear(),super.disablePlugin()}getStateManager(){return ct(Tt,this)}getLayersCount(){return ct(Tt,this).getLayersCount()}getHeaderSettings(e,n){return ct(Tt,this).getHeaderSettings(e,n)}clearColspans(){if(!this.hot.view)return;const{_wt:e}=this.hot.view,n=e.getSetting("columnHeaders").length,r=e.wtTable.THEAD,i=e.wtOverlays.topOverlay.clone.wtTable.THEAD,o=e.wtOverlays.topInlineStartCornerOverlay?e.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null;for(let s=0;s<n;s++){const a=r.childNodes[s];if(!a)break;const l=i.childNodes[s],u=o?o.childNodes[s]:null;for(let c=0,h=a.childNodes.length;c<h;c++)a.childNodes[c].removeAttribute("colspan"),We(a.childNodes[c],"hiddenHeader"),l&&l.childNodes[c]&&(l.childNodes[c].removeAttribute("colspan"),We(l.childNodes[c],"hiddenHeader")),o&&u&&u.childNodes[c]&&(u.childNodes[c].removeAttribute("colspan"),We(u.childNodes[c],"hiddenHeader"))}}headerRendererFactory(e){var n=this;const r=this.hot.view._wt.getSetting("fixedColumnsStart");return(i,o)=>{var s;const{columnIndexMapper:a,view:l}=this.hot;let u=a.getVisualFromRenderableIndex(i);u===null&&(u=i),o.removeAttribute("colspan"),We(o,"hiddenHeader");const{colspan:c,isHidden:h,isPlaceholder:d,headerClassNames:f}=(s=ct(Tt,this).getHeaderSettings(e,u))!==null&&s!==void 0?s:{};if(d||h)ge(o,"hiddenHeader");else if(c>1){var g,v;const{wtOverlays:y}=l._wt,p=(g=y.topInlineStartCornerOverlay)===null||g===void 0?void 0:g.clone.wtTable.THEAD.contains(o),m=(v=y.inlineStartOverlay)===null||v===void 0?void 0:v.clone.wtTable.THEAD.contains(o),w=p||m?Math.min(c,r-i):c;w>1&&o.setAttribute("colspan",w)}if(this.hot.view.appendColHeader(u,o,function(){return n.getColumnHeaderValue(...arguments)},e),!d&&!h){const y=o.querySelector("div.relative");y&&f&&f.length>0&&(We(y,this.hot.getColumnMeta(u).headerClassName),ge(y,f))}}}getColumnHeaderValue(e,n){var r;const{isHidden:i,isPlaceholder:o}=(r=ct(Tt,this).getHeaderSettings(n,e))!==null&&r!==void 0?r:{};return o||i?"":this.hot.getColHeader(e,n)}destroy(){Ju(Tt,this,null),ct(qa,this)!==null&&(ct(qa,this).unsubscribe(),Ju(qa,this,null)),super.destroy()}_getHeaderTreeNodeDataByCoords(e){if(!(e.row>=0||e.col<0))return ct(Tt,this).getHeaderTreeNodeData(e.row,e.col)}}function Hy(){var t;const e=(t=this.hot)===null||t===void 0?void 0:t.getSelectedRangeLast();if(!e)return;const{highlight:n}=e;if(n.isHeader()&&n.col>=0){const i=ct(Tt,this).findLeftMostColumnIndex(n.row,n.col),o=this.hot.selection.highlight.getFocus();o.visualCellRange.highlight.col=i,o.visualCellRange.from.col=i,o.visualCellRange.to.col=i,o.commit()}}function tAe(t){const e=this.hot.getSelectedRangeLast();if(!e)return t;const{highlight:n}=e;if(!(n.isHeader()&&n.col>=0))return t;const i=this.hot.view.getFirstFullyVisibleColumn(),o=this.hot.view.getLastFullyVisibleColumn(),s=ct(Tt,this).findLeftMostColumnIndex(n.row,n.col),a=ct(Tt,this).findRightMostColumnIndex(n.row,n.col);return s<i&&a>o?t:s<i?s:a}function nAe(t,e,n){const r=ct(Tt,this).getHeaderTreeNodeData(e,t);if(!r)return t;const{columnCursor:i,selectionType:o,selectionWidth:s}=n,{isRoot:a,colspan:l}=ct(Tt,this).getHeaderSettings(e,t);if(o===Fx){if(!a)return r.columnIndex}else if(o===xW&&(l>s-i||!a))return null;return t}function rAe(t,e,n){let{columnHeadersCount:r}=n;if(r!==0)for(let o=0;o<e.length;o++){const{startRow:s,startCol:a,endRow:l,endCol:u}=e[o],c=l-s+1,h=a-u+1;if(s>=0||h===1)break;for(let d=a;d<=u;d++)for(let f=s;f<=l;f++){var i;const g=c+f,v=d-a;if(v===0)continue;((i=ct(Tt,this).getHeaderTreeNodeData(f,d))===null||i===void 0?void 0:i.isRoot)===!1&&(t[g][v]="")}}}function iAe(t,e,n,r){this._getHeaderTreeNodeDataByCoords(e)&&(r.column=!0)}function oAe(t,e){const n=this._getHeaderTreeNodeDataByCoords(e);if(!n)return;Ju(tm,this,e.clone()),Ju(kS,this,!0);const{selection:r}=this.hot,i=r.isSelected()?r.getSelectedRange().current():null,o=[],{columnIndex:s,origColspan:a}=n,l=!r.inInSelection(e);t.shiftKey&&i?e.col<i.from.col?o.push(i.getTopEndCorner().col,s,e.row):e.col>i.from.col?o.push(i.getTopStartCorner().col,s+a-1,e.row):o.push(s,s+a-1,e.row):(_x(t)||fc(t)&&l||Che(t))&&o.push(s,s+a-1,e.row),r.selectColumns(...o)}function sAe(t,e,n,r){if(!this.hot.view.isMouseDown())return;const i=this._getHeaderTreeNodeDataByCoords(e);if(!i)return;const{columnIndex:o,origColspan:s}=i,a=this.hot.getSelectedRangeLast(),l=a.getTopStartCorner(),u=a.getBottomEndCorner(),{from:c}=a;r.column=!0,r.cell=!0;const h=[],d=_t(e.row,-1/0,-1);e.col<c.col?h.push(u.col,o,d):e.col>c.col?h.push(l.col,o+s-1,d):h.push(o,o+s-1,d),this.hot.selection.selectColumns(...h)}function aAe(){Ju(kS,this,!1)}function lAe(){const{navigableHeaders:t}=this.hot.getSettings();if(!this.hot.view.isMouseDown()||!ct(kS,this)||!t)return;const e=this.hot.getSelectedRangeLast(),n=e.getTopStartCorner().col,r=e.getBottomEndCorner().col,{columnIndex:i,origColspan:o}=ct(Tt,this).getHeaderTreeNodeData(ct(tm,this).row,ct(tm,this).col);if(e.setHighlight(ct(tm,this)),o>e.getWidth()||i<n||i+o-1>r){const s=ct(Tt,this).findTopMostEntireHeaderLevel(_t(n,i,i+o-1),_t(r,i,i+o-1));e.highlight.row=s,e.highlight.col=e.from.col}}function uAe(t){const{highlight:e}=this.hot.getSelectedRangeLast(),n=this.hot._createCellCoords(e.row+t.row,e.col+t.col);if(!(n.isHeader()&&n.col>=0))return;const i=ct(Tt,this).findLeftMostColumnIndex(n.row,n.col),o=ct(Tt,this).findRightMostColumnIndex(n.row,n.col);if(t.col<0){const s=e.col>=i&&e.col<=o?i-1:o,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(s,-1);a===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,e.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(a,e.col)-1,1)}else if(t.col>0){const s=e.col>=i&&e.col<=o?o+1:i,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(s,1);a===null?t.col=this.hot.view.countRenderableColumnsInRange(e.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(e.col,a)-1,1)}}function cAe(t,e){const n=t.row,r=this._getHeaderTreeNodeDataByCoords({row:n,col:t.col}),i=this._getHeaderTreeNodeDataByCoords({row:n,col:e.col});e.col<t.col?(r&&(t.col=r.columnIndex+r.origColspan-1),i&&(e.col=i.columnIndex)):e.col>=t.col&&(r&&(t.col=r.columnIndex),i&&(e.col=i.columnIndex+i.origColspan-1))}function hAe(t){t.length=0;for(let e=0;e<ct(Tt,this).getLayersCount();e++)t.push(this.headerRendererFactory(e))}function dAe(t){const e=ct(Tt,this).getLayersCount();let n=t.startColumn,r=!!e;for(let i=0;i<e;i++){const o=ct(Tt,this).findLeftMostColumnIndex(i,t.startColumn),s=this.hot.columnIndexMapper.getRenderableFromVisualIndex(o);if(o>=0&&(r=!1),xr(s)&&s<t.startColumn){n=s;break}}t.startColumn=r?ct(Tt,this).getHeaderTreeNodeData(0,n).columnIndex:n}function fAe(t,e){const n=this.ghostTable.getWidth(e);return t>n?t:n}function gAe(t,e,n){var r;const{label:i}=(r=ct(Tt,this).getHeaderTreeNodeData(n,e))!==null&&r!==void 0?r:{label:""};return i}function mAe(t,e){if(t<0)return this.hot.getCell(t,ct(Tt,this).findLeftMostColumnIndex(t,e),!0)}function pAe(){this.updatePlugin()}function vAe(t,e){e||this.updatePlugin()}function hg(t,e,n){return(e=yAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yAe(t){var e=wAe(t,"string");return typeof e=="symbol"?e:e+""}function wAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class CAe{constructor(e,n){hg(this,"hot",void 0),hg(this,"data",null),hg(this,"plugin",void 0),hg(this,"parentReference",new WeakMap),hg(this,"cache",{levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}),this.hot=n,this.plugin=e}setData(e){this.data=e}getData(){return this.data}getRawSourceData(){let e=null;return this.plugin.disableCoreAPIModifiers(),e=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),e}updateWithData(e){this.setData(e),this.rewriteCache()}rewriteCache(){this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Ie(0,this.data.length-1,e=>{this.cacheNode(this.data[e],0,null)})}cacheNode(e,n,r){this.cache.levels[n]||(this.cache.levels[n]=[],this.cache.levelCount+=1),this.cache.levels[n].push(e),this.cache.rows.push(e),this.cache.nodeInfo.set(e,{parent:r,row:this.cache.rows.length-1,level:n}),this.hasChildren(e)&&G(e.__children,i=>{this.cacheNode(i,n+1,e)})}getDataObject(e){return e==null?null:this.cache.rows[e]}readTreeNodes(e,n,r,i){let o=!1,s=n;if(isNaN(s)&&s.end)return s;let a=e;return a||(a={__children:this.data},o=!0,s-=1),r!=null&&s===r?{result:a,end:!0}:i!=null&&a===i?{result:s,end:!0}:(s+=1,a.__children&&G(a.__children,l=>{if(this.parentReference.set(l,o?null:a),s=this.readTreeNodes(l,s,r,i),isNaN(s)&&s.end)return!1}),s)}mockParent(){const e=this.mockNode();return e.__children=this.data,e}mockNode(){const e={};return Qe(this.data[0],(n,r)=>{e[r]=null}),e}getRowIndex(e){return e==null?null:this.cache.nodeInfo.get(e).row}getRowIndexWithinParent(e){let n=null;isNaN(e)?n=e:n=this.getDataObject(e);const r=this.getRowParent(e);return r==null?this.data.indexOf(n):r.__children.indexOf(n)}countAllRows(){const e={__children:this.data};return this.countChildren(e)}countChildren(e){let n=0,r=e;return isNaN(r)||(r=this.getDataObject(r)),!r||!r.__children?0:(G(r.__children,i=>{n+=1,i.__children&&(n+=this.countChildren(i))}),n)}getRowParent(e){let n;return isNaN(e)?n=e:n=this.getDataObject(e),this.getRowObjectParent(n)}getRowObjectParent(e){return!e||typeof e!="object"?null:this.cache.nodeInfo.get(e).parent}getRowLevel(e){let n=null;return isNaN(e)?n=e:n=this.getDataObject(e),n?this.getRowObjectLevel(n):null}getRowObjectLevel(e){return e==null?null:this.cache.nodeInfo.get(e).level}hasChildren(e){let n=e;return isNaN(n)||(n=this.getDataObject(n)),!!(n.__children&&n.__children.length)}isChild(e){return this.getRowParent(e)!==null}getChild(e,n){var r;return((r=e.__children)===null||r===void 0?void 0:r[n])||null}isRowHighestLevel(e){return!this.isChild(e)}isParent(e){var n;let r=e;return isNaN(r)||(r=this.getDataObject(r)),r&&!!r.__children&&((n=r.__children)===null||n===void 0?void 0:n.length)!==0}addChild(e,n){let r=n;this.hot.runHooks("beforeAddChild",e,r);let i=null;e&&(i=this.getRowIndex(e)),this.hot.runHooks("beforeCreateRow",i+this.countChildren(e)+1,1);let o=e;e||(o=this.mockParent()),o.__children||(o.__children=[]),r||(r=this.mockNode()),o.__children.push(r),this.rewriteCache();const s=this.getRowIndex(r);this.hot.rowIndexMapper.insertIndexes(s,1),this.hot.runHooks("afterCreateRow",s,1),this.hot.runHooks("afterAddChild",e,r)}addChildAtIndex(e,n,r){let i=r,o;if(i||(i=this.mockNode()),this.hot.runHooks("beforeAddChild",e,i,n),e){const a=this.getRowIndex(e)+n+1;this.hot.runHooks("beforeCreateRow",a,1),e.__children.splice(n,null,i),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(e),"__children",e.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(a,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",a,1),o=a}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",n,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),o=this.getRowIndex(this.data[n]);i=this.getDataObject(o),this.hot.runHooks("afterAddChild",e,i,n)}addSibling(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"below";const r=this.translateTrimmedRow(e),i=this.getRowParent(r),o=this.getRowIndexWithinParent(r);switch(n){case"below":this.addChildAtIndex(i,o+1,null);break;case"above":this.addChildAtIndex(i,o,null);break}}detachFromParent(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=null;const i=[];Array.isArray(e)?(Ie(e[0],e[2],d=>{const f=this.translateTrimmedRow(d);i.push(this.getDataObject(f))}),Ie(0,i.length-2,d=>{this.detachFromParent(i[d],!1)}),r=i[i.length-1]):r=e;const o=this.getRowIndex(r),s=this.countChildren(r),a=this.getRowIndexWithinParent(r),l=this.getRowParent(r),u=this.getRowParent(l),c=this.getRowIndex(u);let h=null;if(this.hot.runHooks("beforeDetachChild",l,r),a!=null){const d=Array.from(new Array(o+s+1).keys()).splice(-1*(s+1));if(this.hot.runHooks("beforeRemoveRow",o,s+1,d,this.plugin.pluginName),l.__children.splice(a,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",o,s+1,d,this.plugin.pluginName),u){h=c+this.countChildren(u);const f=this.getChild(u,this.countChildren(u)-1),g=this.getRowIndex(f);this.hot.runHooks("beforeCreateRow",g+1,s+1,this.plugin.pluginName),u.__children.push(r)}else h=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",h-2,s+1,this.plugin.pluginName),this.data.push(r)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",h-2,s+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",l,r,this.getRowIndex(r)),n&&this.hot.render()}filterData(e,n,r){const i=[];G(r,o=>{i.push(this.getDataObject(o))}),G(i,o=>{const s=this.getRowIndexWithinParent(o),a=this.getRowParent(o);a===null?this.data.splice(s,1):a.__children.splice(s,1)}),this.rewriteCache()}spliceData(e,n,r){const i=this.getDataObject(e-1);let o=null,s=e;i&&i.__children&&i.__children.length===0?(o=i,s=0):e<this.countAllRows()&&(o=this.getRowParent(e),s=this.getRowIndexWithinParent(e)),o?r?o.__children.splice(s,n,...r):o.__children.splice(s,n):r?this.data.splice(s,n,...r):this.data.splice(s,n),this.rewriteCache()}syncRowWithRawSource(e){let n=e,r=null;do r=this.getRowParent(r),r!==null&&(n=r);while(r!==null);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(n),"__children",n.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}moveRow(e,n,r,i){const o=n===this.hot.countRows(),s=this.getRowParent(e),a=this.getRowIndexWithinParent(e),l=s.__children.slice(a,a+1),u=e>n;let c=o?this.getRowParent(n-1):this.getRowParent(n);c==null&&(c=this.getRowParent(n-1)),c==null&&(c=this.getDataObject(n-1)),c?c.__children||(c.__children=[]):(c=this.getDataObject(n),c.__children=[]);const h=o||r||i?c.__children.length:this.getRowIndexWithinParent(n),d=s===c;c.__children.splice(h,0,l[0]),s.__children.splice(a+(u&&d?1:0),1),this.syncRowWithRawSource(s),d||this.syncRowWithRawSource(c)}translateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(e):e}untranslateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(e):e}}function QL(t,e,n){return(e=bAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bAe(t){var e=SAe(t,"string");return typeof e=="symbol"?e:e+""}function SAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tA{constructor(e,n){QL(this,"hot",void 0),QL(this,"plugin",void 0),this.hot=n,this.plugin=e}}class vs extends tA{static get CSS_CLASSES(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}constructor(e,n){super(e,n),this.dataManager=this.plugin.dataManager,this.collapsingUI=this.plugin.collapsingUI,this.rowHeaderWidthCache=null}appendLevelIndicators(e,n){const r=this.hot.toPhysicalRow(e),i=this.dataManager.getRowLevel(r),o=this.dataManager.getDataObject(r),s=n.getElementsByTagName("DIV")[0],a=s.querySelector("span.rowHeader"),l=s.querySelectorAll('[class^="ht_nesting"]'),u=this.hot.getSettings().ariaTags;if(G(l,c=>{c&&s.removeChild(c)}),ge(n,vs.CSS_CLASSES.indicatorContainer),i){const{rootDocument:c}=this.hot,h=a.cloneNode(!0);s.innerHTML="",Ie(0,i-1,()=>{const d=c.createElement("SPAN");ge(d,vs.CSS_CLASSES.emptyIndicator),s.appendChild(d)}),s.appendChild(h)}if(this.dataManager.hasChildren(o)){const c=this.hot.rootDocument.createElement("DIV");u&&Be(c,[Pc()]),ge(n,vs.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(r)?(ge(c,`${vs.CSS_CLASSES.button} ${vs.CSS_CLASSES.expandButton}`),u&&Be(n,[zi(!1)])):(ge(c,`${vs.CSS_CLASSES.button} ${vs.CSS_CLASSES.collapseButton}`),u&&Be(n,[zi(!0)])),s.appendChild(c)}}updateRowHeaderWidth(e){let n=e;n||(n=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*n+25),this.hot.render()}}class RAe extends tA{constructor(e,n){var r;super(e,n),r=this,this.dataManager=this.plugin.dataManager,this.collapsedRows=[],this.collapsedRowsStash={stash:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;r.lastCollapsedRows=r.collapsedRows.slice(0),r.expandMultipleChildren(r.lastCollapsedRows,i)},shiftStash:function(i,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o==null&&(o=1/0),G(r.lastCollapsedRows,(a,l)=>{a>=i&&a<o&&(r.lastCollapsedRows[l]=a+s)})},applyStash:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;r.collapseMultipleChildren(r.lastCollapsedRows,i),r.lastCollapsedRows=void 0},trimStash:(i,o)=>{Ie(i,i+o-1,s=>{const a=this.lastCollapsedRows.indexOf(s);a>-1&&this.lastCollapsedRows.splice(a,1)})}}}collapseChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];let o=null,s=null,a=null;return isNaN(e)?(o=e,s=this.dataManager.getRowIndex(o)):(o=this.dataManager.getDataObject(e),s=e),this.dataManager.hasChildren(o)&&G(o.__children,l=>{i.push(this.dataManager.getRowIndex(l))}),a=this.collapseRows(i,!0,!1),r&&this.trimRows(a),n&&this.renderAndAdjust(),this.collapsedRows.indexOf(s)===-1&&this.collapsedRows.push(s),a}collapseMultipleChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];G(e,o=>{i.push(...this.collapseChildren(o,!1,!1))}),r&&this.trimRows(i),n&&this.renderAndAdjust()}collapseRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.collapseRows([e],n)}collapseRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=[];return G(e,o=>{i.push(o),n&&this.collapseChildRows(o,i)}),r&&this.trimRows(i),i}collapseChildRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const i=this.dataManager.getDataObject(e);G(i.__children,o=>{const s=this.dataManager.getRowIndex(o);n.push(s),this.collapseChildRows(s,n)})}r&&this.trimRows(n)}expandRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.expandRows([e],n)}expandRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=[];return G(e,o=>{i.push(o),n&&this.expandChildRows(o,i)}),r&&this.untrimRows(i),i}expandChildRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const i=this.dataManager.getDataObject(e);G(i.__children,o=>{if(!this.isAnyParentCollapsed(o)){const s=this.dataManager.getRowIndex(o);n.push(s),this.expandChildRows(s,n)}})}r&&this.untrimRows(n)}expandChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];let o=null,s=null,a=null;return isNaN(e)?(o=e,s=this.dataManager.getRowIndex(e)):(o=this.dataManager.getDataObject(e),s=e),this.collapsedRows.splice(this.collapsedRows.indexOf(s),1),this.dataManager.hasChildren(o)&&G(o.__children,l=>{const u=this.dataManager.getRowIndex(l);i.push(u)}),a=this.expandRows(i,!0,!1),r&&this.untrimRows(a),n&&this.renderAndAdjust(),a}expandMultipleChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];G(e,o=>{i.push(...this.expandChildren(o,!1,!1))}),r&&this.untrimRows(i),n&&this.renderAndAdjust()}collapseAll(){const e=this.dataManager.getData(),n=[];G(e,r=>{this.dataManager.hasChildren(r)&&n.push(r)}),this.collapseMultipleChildren(n),this.renderAndAdjust()}expandAll(){const e=this.dataManager.getData(),n=[];G(e,r=>{this.dataManager.hasChildren(r)&&n.push(r)}),this.expandMultipleChildren(n),this.renderAndAdjust()}trimRows(e){this.hot.batchExecution(()=>{G(e,n=>{this.plugin.collapsedRowsMap.setValueAtIndex(n,!0)})},!0)}untrimRows(e){this.hot.batchExecution(()=>{G(e,n=>{this.plugin.collapsedRowsMap.setValueAtIndex(n,!1)})},!0)}areChildrenCollapsed(e){let n=isNaN(e)?e:this.dataManager.getDataObject(e),r=!0;return n===null&&(n={__children:this.dataManager.data}),this.dataManager.hasChildren(n)&&G(n.__children,i=>{const o=this.dataManager.getRowIndex(i);if(!this.plugin.collapsedRowsMap.getValueAtIndex(o))return r=!1,!1}),r}isAnyParentCollapsed(e){let n=e;for(;n!==null;){n=this.dataManager.getRowParent(n);const r=this.dataManager.getRowIndex(n);if(this.collapsedRows.indexOf(r)>-1)return!0}return!1}toggleState(e,n){if(n.col>=0)return;const r=this.translateTrimmedRow(n.row);je(e.target,vs.CSS_CLASSES.button)&&(this.areChildrenCollapsed(r)?this.expandChildren(r):this.collapseChildren(r),Bo(e))}translateTrimmedRow(e){return this.hot.toPhysicalRow(e)}untranslateTrimmedRow(e){return this.hot.toVisualRow(e)}renderAndAdjust(){this.hot.render(),this.hot.view.adjustElementsSize()}}function EAe(t,e,n){_Ae(t,e),e.set(t,n)}function _Ae(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function TAe(t,e,n){return(e=OAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OAe(t){var e=xAe(t,"string");return typeof e=="symbol"?e:e+""}function xAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PAe(t,e){return t.get(MAe(t,e))}function MAe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var JL=new WeakMap;class AAe extends tA{constructor(){super(...arguments),TAe(this,"dataManager",this.plugin.dataManager),EAe(this,JL,{row_above:(e,n)=>{const r=n[n.length-1];this.dataManager.addSibling(r.start.row,"above")},row_below:(e,n)=>{const r=n[n.length-1];this.dataManager.addSibling(r.start.row,"below")}})}appendOptions(e){const n=[{key:"add_child",name(){return this.getTranslatedPhrase(IP)},callback:()=>{const r=this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]),i=this.dataManager.getDataObject(r);this.dataManager.addChild(i)},disabled:()=>{const r=this.hot.getSelectedLast();return!r||r[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{key:"detach_from_parent",name(){return this.getTranslatedPhrase(NP)},callback:()=>{this.dataManager.detachFromParent(this.hot.getSelectedLast())},disabled:()=>{const r=this.hot.getSelectedLast(),i=this.dataManager.translateTrimmedRow(r[0]);return!this.dataManager.getRowParent(i)||!r||r[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{name:"---------"}];return Ie(0,e.items.length-1,r=>{if(r===0)return G(n,(i,o)=>{e.items.splice(r+o,0,i)}),!1}),this.modifyRowInsertingOptions(e)}modifyRowInsertingOptions(e){return Ie(0,e.items.length-1,n=>{const r=PAe(JL,this)[e.items[n].key];r!=null&&(e.items[n].callback=r)}),e}}function Dy(t,e,n){return(e=IAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IAe(t){var e=NAe(t,"string");return typeof e=="symbol"?e:e+""}function NAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class kAe{constructor(e){Dy(this,"plugin",void 0),Dy(this,"hot",void 0),Dy(this,"dataManager",void 0),Dy(this,"collapsingUI",void 0),this.plugin=e,this.hot=e.hot,this.dataManager=e.dataManager,this.collapsingUI=e.collapsingUI}onBeforeRowMove(e,n,r,i){if(this.displayAPICompatibilityWarning({rows:e,finalIndex:n,dropIndex:r,movePossible:i}))return!1;this.movedToCollapsed=!1;const s=r===this.hot.countRows(),a=s?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(r);let l=!0;const u=e.map(g=>{if(!l)return!1;const v=this.dataManager.translateTrimmedRow(g);return l=this.shouldAllowMoving(v,a),v}),c=u.indexOf(a)===-1;if(!l||!c)return!1;const h=this.getBaseParent(u),d=this.getTargetParent(s,a),f=h===d;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(d),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(u,a,f),this.moveRows(u,a,d),this.dataManager.rewriteCache(),this.moveCellsMeta(u,a),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",e,n,r,i,i&&this.isRowOrderChanged(e,n)),this.hot.render(),this.selectCells(e,r),!1}displayAPICompatibilityWarning(e){const{rows:n,finalIndex:r,dropIndex:i,movePossible:o}=e;let s=!1;return $t(i)&&(bt(St`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\x20
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`),this.hot.runHooks("afterRowMove",n,r,i,o,!1),s=!0),s}shouldAllowMoving(e,n){return!(this.dataManager.isParent(e)||this.dataManager.isRowHighestLevel(e)||e===n||n===0)}getBaseParent(e){return this.dataManager.getRowParent(e[0])}getTargetParent(e,n){let r=this.dataManager.getRowParent(e?n-1:n);return r==null&&(r=this.dataManager.getRowParent(n-1)),r}shiftCollapsibleParentsLocations(e,n,r){r||(Math.max(...e)<=n?this.collapsingUI.collapsedRowsStash.shiftStash(e[0],n,-1*e.length):this.collapsingUI.collapsedRowsStash.shiftStash(n,e[0],e.length))}moveRows(e,n,r){const i=n===this.dataManager.getRowIndex(r)+this.dataManager.countChildren(r)+1;this.hot.batchRender(()=>{e.forEach(o=>{this.dataManager.moveRow(o,n,this.movedToCollapsed,i)})})}moveCellsMeta(e,n){const r=[],i=Math.max(...e)<n;e.forEach(o=>{r.push(this.hot.getCellMetaAtRow(o))}),this.hot.spliceCellsMeta(e[0],e.length),this.hot.spliceCellsMeta(n-(i?r.length:0),0,...r)}selectCells(e,n){const r=e.length;let i=0,o=0,s=null,a=null;if(this.movedToCollapsed){let l=null;e[r-1]<n?l=this.dataManager.translateTrimmedRow(n-r):l=this.dataManager.translateTrimmedRow(n);const u=this.dataManager.getRowParent(l===null?this.hot.countSourceRows()-1:l-1),c=this.dataManager.getRowIndex(u);i=this.dataManager.untranslateTrimmedRow(c),o=i}else e[r-1]<n?(o=n-1,i=o-r+1):(i=n,o=i+r-1);s=this.hot.selection,a=this.hot.countCols()-1,s.setRangeStart(this.hot._createCellCoords(i,0)),s.setRangeEnd(this.hot._createCellCoords(o,a),!0)}isRowOrderChanged(e,n){return e.some((r,i)=>r-i!==n)}}function HAe(t,e){b3(t,e),e.add(t)}function e$(t,e,n){b3(t,e),e.set(t,n)}function b3(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function YE(t,e,n){return(e=DAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DAe(t){var e=LAe(t,"string");return typeof e=="symbol"?e:e+""}function LAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rw(t,e){return t.get(Hn(t,e))}function ib(t,e,n){return t.set(Hn(t,e),n),n}function Hn(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const ob="nestedRows",$Ae=300,t$=ob,FAe="The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled.";var HS=new WeakMap,wh=new WeakMap,jn=new WeakSet;class BAe extends wt{constructor(){super(...arguments),HAe(this,jn),YE(this,"dataManager",null),YE(this,"headersUI",null),YE(this,"collapsedRowsMap",null),e$(this,HS,!1),e$(this,wh,!1)}static get PLUGIN_KEY(){return ob}static get PLUGIN_PRIORITY(){return $Ae}isEnabled(){return!!this.hot.getSettings()[ob]}enablePlugin(){var e=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new yp),this.dataManager=new CAe(this,this.hot),this.collapsingUI=new RAe(this,this.hot),this.headersUI=new vs(this,this.hot),this.contextMenuUI=new AAe(this,this.hot),this.rowMoveController=new kAe(this),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,eIe).call(e,...r)}),this.addHook("beforeViewRender",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,tIe).call(e,...r)}),this.addHook("modifyRowData",function(){return e.onModifyRowData(...arguments)}),this.addHook("modifySourceLength",function(){return e.onModifySourceLength(...arguments)}),this.addHook("beforeDataSplice",function(){return e.onBeforeDataSplice(...arguments)}),this.addHook("filterData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,WAe).call(e,...r)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,UAe).call(e,...r)}),this.addHook("afterGetRowHeader",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,zAe).call(e,...r)}),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,VAe).call(e,...r)}),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,KAe).call(e,...r)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,GAe).call(e,...r)}),this.addHook("beforeAddChild",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,qAe).call(e,...r)}),this.addHook("afterAddChild",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,XAe).call(e,...r)}),this.addHook("beforeDetachChild",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,ZAe).call(e,...r)}),this.addHook("afterDetachChild",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,QAe).call(e,...r)}),this.addHook("modifyRowHeaderWidth",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,YAe).call(e,...r)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,JAe).call(e,...r)}),this.addHook("beforeRowMove",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Hn(jn,e,jAe).call(e,...r)}),this.addHook("beforeLoadData",n=>Hn(jn,this,n$).call(this,n)),this.addHook("beforeUpdateData",n=>Hn(jn,this,n$).call(this,n)),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),this.unregisterShortcuts(),super.disablePlugin()}updatePlugin(){this.disablePlugin();const e=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(e),super.updatePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast(),n=this.collapsingUI.translateTrimmedRow(e.row);return this.collapsingUI.areChildrenCollapsed(n)?this.collapsingUI.expandChildren(n):this.collapsingUI.collapseChildren(n),!1},runOnlyIf:()=>{var e,n;const r=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return r&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingle())&&this.hot.selection.isCellVisible(r)&&r.col===-1&&r.row>=0},group:t$,relativeToGroup:Gl,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(t$)}disableCoreAPIModifiers(){ib(wh,this,!0)}enableCoreAPIModifiers(){ib(wh,this,!1)}onModifyRowData(e){if(!Rw(wh,this))return this.dataManager.getDataObject(e)}onModifySourceLength(){if(!Rw(wh,this))return this.dataManager.countAllRows()}onBeforeDataSplice(e,n,r){return Rw(wh,this)||this.dataManager.isRowHighestLevel(e)?!0:(this.dataManager.spliceData(e,n,r),!1)}destroy(){super.destroy()}}function jAe(t,e,n,r){return this.rowMoveController.onBeforeRowMove(t,e,n,r)}function VAe(t,e,n){this.collapsingUI.toggleState(t,e,n)}function WAe(t,e,n){return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(n[0],e),this.collapsingUI.collapsedRowsStash.shiftStash(n[0],null,-1*e),this.dataManager.filterData(t,e,n),ib(HS,this,!0),this.dataManager.getData().slice()}function UAe(t){return this.contextMenuUI.appendOptions(t)}function zAe(t,e){this.headersUI.appendLevelIndicators(t,e)}function YAe(t){return Math.max(this.headersUI.rowHeaderWidthCache,t)}function GAe(t,e,n,r){r!==this.pluginName&&this.hot._registerTimeout(()=>{ib(HS,this,!1),this.headersUI.updateRowHeaderWidth(),this.collapsingUI.collapsedRowsStash.applyStash()})}function KAe(t,e,n){const r=Array.from(n.reduce((i,o)=>{if(this.dataManager.isParent(o)){const s=this.dataManager.getDataObject(o).__children;return i.add(o),Array.isArray(s)&&s.forEach(a=>i.add(this.dataManager.getRowIndex(a))),i}return i.add(o)},new Set));n.length=0,n.push(...r)}function qAe(){this.collapsingUI.collapsedRowsStash.stash()}function XAe(t,e){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(e)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function ZAe(){this.collapsingUI.collapsedRowsStash.stash()}function QAe(t,e,n){this.collapsingUI.collapsedRowsStash.shiftStash(n,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function JAe(){this.dataManager.rewriteCache()}function eIe(){this.headersUI.updateRowHeaderWidth()}function tIe(t,e){Rw(HS,this)&&(e.skipRender=!0)}function n$(t){if(!fpe(t)){Ox(FAe),this.hot.getSettings()[ob]=!1,this.disablePlugin();return}this.dataManager.setData(t),this.dataManager.rewriteCache()}function GE(t,e,n){return(e=nIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nIe(t){var e=rIe(t,"string");return typeof e=="symbol"?e:e+""}function rIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class iIe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;GE(this,"rootWindow",void 0),GE(this,"prefix",void 0),GE(this,"savedKeys",[]),this.rootWindow=n,this.prefix=e,this.loadSavedKeys()}saveValue(e,n){this.rootWindow.localStorage.setItem(`${this.prefix}_${e}`,JSON.stringify(n)),this.savedKeys.indexOf(e)===-1&&(this.savedKeys.push(e),this.saveSavedKeys())}loadValue(e,n){const r=typeof e>"u"?n:e,i=this.rootWindow.localStorage.getItem(`${this.prefix}_${r}`);return i===null?void 0:JSON.parse(i)}reset(e){this.rootWindow.localStorage.removeItem(`${this.prefix}_${e}`)}resetAll(){G(this.savedKeys,(e,n)=>{this.rootWindow.localStorage.removeItem(`${this.prefix}_${this.savedKeys[n]}`)}),this.clearSavedKeys()}loadSavedKeys(){const e=this.rootWindow.localStorage.getItem(`${this.prefix}__persistentStateKeys`),n=typeof e=="string"?JSON.parse(e):void 0;this.savedKeys=n||[]}saveSavedKeys(){this.rootWindow.localStorage.setItem(`${this.prefix}__persistentStateKeys`,JSON.stringify(this.savedKeys))}clearSavedKeys(){this.savedKeys.length=0,this.saveSavedKeys()}}function oIe(t,e,n){return(e=sIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sIe(t){var e=aIe(t,"string");return typeof e=="symbol"?e:e+""}function aIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Te.getSingleton().register("persistentStateSave");Te.getSingleton().register("persistentStateLoad");Te.getSingleton().register("persistentStateReset");const r$="persistentState",lIe=0;class uIe extends wt{constructor(){super(...arguments),oIe(this,"storage",void 0)}static get PLUGIN_KEY(){return r$}static get PLUGIN_PRIORITY(){return lIe}isEnabled(){return!!this.hot.getSettings()[r$]}enablePlugin(){this.enabled||(this.storage||(this.storage=new iIe(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",(e,n)=>this.saveValue(e,n)),this.addHook("persistentStateLoad",(e,n)=>this.loadValue(e,n)),this.addHook("persistentStateReset",()=>this.resetValue()),super.enablePlugin())}disablePlugin(){this.storage=void 0,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}loadValue(e,n){n.value=this.storage.loadValue(e)}saveValue(e,n){this.storage.saveValue(e,n)}resetValue(e){typeof e>"u"?this.storage.resetAll():this.storage.reset(e)}destroy(){super.destroy()}}function cIe(t,e){hIe(t,e),e.add(t)}function hIe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function KE(t,e,n){return(e=dIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dIe(t){var e=fIe(t,"string");return typeof e=="symbol"?e:e+""}function fIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i$(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const qE="search",gIe=190,mIe="htSearchResult",pIe=function(t,e,n,r,i){t.getCellMeta(e,n).isSearchResult=i},vIe=function(t,e,n){return $t(t)||t===null||!t.toLocaleLowerCase||t.length===0||$t(e)||e===null?!1:e.toString().toLocaleLowerCase(n.locale).indexOf(t.toLocaleLowerCase(n.locale))!==-1};var XE=new WeakSet;class yIe extends wt{constructor(){super(...arguments),cIe(this,XE),KE(this,"callback",pIe),KE(this,"queryMethod",vIe),KE(this,"searchResultClass",mIe)}static get PLUGIN_KEY(){return qE}static get PLUGIN_PRIORITY(){return gIe}isEnabled(){return this.hot.getSettings()[qE]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[qE];this.updatePluginSettings(n),this.addHook("beforeRenderer",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i$(XE,e,o$).call(e,...i)}),super.enablePlugin()}disablePlugin(){var e=this;const n=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i$(XE,e,o$).call(e,...i)};this.hot.addHook("beforeRenderer",n),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("beforeRenderer",n)}),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}query(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getCallback(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getQueryMethod();const i=this.hot.countRows(),o=this.hot.countCols(),s=[],a=this.hot;return Ie(0,i-1,l=>{Ie(0,o-1,u=>{const c=this.hot.getDataAtCell(l,u),h=this.hot.getCellMeta(l,u),d=h.search.callback||n,g=(h.search.queryMethod||r)(e,c,h);if(g){const v={row:l,col:u,data:c};s.push(v)}d&&d(a,l,u,c,g)})}),s}getCallback(){return this.callback}setCallback(e){this.callback=e}getQueryMethod(){return this.queryMethod}setQueryMethod(e){this.queryMethod=e}getSearchResultClass(){return this.searchResultClass}setSearchResultClass(e){this.searchResultClass=e}updatePluginSettings(e){Ze(e)&&(e.searchResultClass&&this.setSearchResultClass(e.searchResultClass),e.queryMethod&&this.setQueryMethod(e.queryMethod),e.callback&&this.setCallback(e.callback))}destroy(){super.destroy()}}function o$(t,e,n,r,i,o){const s=o.className||[];let a=[];typeof s=="string"?a=s.split(" "):a.push(...s),this.isEnabled()&&o.isSearchResult?a.includes(this.searchResultClass)||a.push(`${this.searchResultClass}`):a.includes(this.searchResultClass)&&a.splice(a.indexOf(this.searchResultClass),1),o.className=a.join(" ")}function wIe(t,e){CIe(t,e),e.add(t)}function CIe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ly(t,e,n){return(e=bIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bIe(t){var e=SIe(t,"string");return typeof e=="symbol"?e:e+""}function SIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZE(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const RIe="touchScroll",EIe=200;var $y=new WeakSet;class _Ie extends wt{constructor(){super(...arguments),wIe(this,$y),Ly(this,"scrollbars",[]),Ly(this,"clones",[]),Ly(this,"lockedCollection",!1),Ly(this,"freezeOverlays",!1)}static get PLUGIN_KEY(){return RIe}static get PLUGIN_PRIORITY(){return EIe}static get SETTING_KEYS(){return!0}isEnabled(){return qV()}enablePlugin(){this.enabled||(this.addHook("afterViewRender",()=>ZE($y,this,TIe).call(this)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.lockedCollection=!1,super.updatePlugin()}disablePlugin(){super.disablePlugin()}registerEvents(){this.addHook("beforeTouchScroll",()=>ZE($y,this,OIe).call(this)),this.addHook("afterMomentumScroll",()=>ZE($y,this,xIe).call(this))}}function TIe(){if(this.lockedCollection)return;const{topOverlay:t,bottomOverlay:e,inlineStartOverlay:n,topInlineStartCornerOverlay:r,bottomInlineStartCornerOverlay:i}=this.hot.view._wt.wtOverlays;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(t),e.clone&&this.scrollbars.push(e),this.scrollbars.push(n),r&&this.scrollbars.push(r),i&&i.clone&&this.scrollbars.push(i),this.clones=[],t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),r&&this.clones.push(r.clone.wtTable.holder.parentNode),i&&i.clone&&this.clones.push(i.clone.wtTable.holder.parentNode)}function OIe(){this.freezeOverlays=!0,G(this.clones,t=>{ge(t,"hide-tween")})}function xIe(){this.freezeOverlays=!1,G(this.clones,t=>{We(t,"hide-tween"),ge(t,"show-tween")}),this.hot._registerTimeout(()=>{G(this.clones,t=>{We(t,"show-tween")})},400),G(this.scrollbars,t=>{t.refresh(),t.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}function PIe(t,e){MIe(t,e),e.add(t)}function MIe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function AIe(t,e,n){return(e=IIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IIe(t){var e=NIe(t,"string");return typeof e=="symbol"?e:e+""}function NIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kIe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Ew="trimRows",HIe=330;var s$=new WeakSet;class DIe extends wt{constructor(){super(...arguments),PIe(this,s$),AIe(this,"trimmedRowsMap",null)}static get PLUGIN_KEY(){return Ew}static get PLUGIN_PRIORITY(){return HIe}isEnabled(){return!!this.hot.getSettings()[Ew]}enablePlugin(){this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new yp),this.trimmedRowsMap.addLocalHook("init",()=>kIe(s$,this,LIe).call(this)),super.enablePlugin())}updatePlugin(){const e=this.hot.getSettings()[Ew];Array.isArray(e)&&this.hot.batchExecution(()=>{this.trimmedRowsMap.clear(),G(e,n=>{this.trimmedRowsMap.setValueAtIndex(n,!0)})},!0),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("trimRows"),super.disablePlugin()}getTrimmedRows(){return this.trimmedRowsMap.getTrimmedIndexes()}trimRows(e){const n=this.getTrimmedRows(),r=this.isValidConfig(e);let i=n;r&&(i=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeTrimRow",n,i,r)!==!1&&(r&&this.hot.batchExecution(()=>{G(e,s=>{this.trimmedRowsMap.setValueAtIndex(s,!0)})},!0),this.hot.runHooks("afterTrimRow",n,i,r,r&&i.length>n.length))}trimRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.trimRows(n)}untrimRows(e){const n=this.getTrimmedRows(),r=this.isValidConfig(e);let i=n;const o=this.trimmedRowsMap.getValues().slice(),s=e.length>0;r&&s&&(G(e,l=>{o[l]=!1}),i=kr(o,(l,u,c)=>(u&&l.push(c),l),[])),this.hot.runHooks("beforeUntrimRow",n,i,r&&s)!==!1&&(r&&s&&this.trimmedRowsMap.setValues(o),this.hot.runHooks("afterUntrimRow",n,i,r&&s,r&&i.length<n.length))}untrimRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.untrimRows(n)}isTrimmed(e){return this.trimmedRowsMap.getValueAtIndex(e)||!1}untrimAll(){this.untrimRows(this.getTrimmedRows())}isValidConfig(e){const n=this.hot.countSourceRows();return e.every(r=>Number.isInteger(r)&&r>=0&&r<n)}destroy(){super.destroy()}}function LIe(){const t=this.hot.getSettings()[Ew];Array.isArray(t)&&this.hot.batchExecution(()=>{G(t,e=>{this.trimmedRowsMap.setValueAtIndex(e,!0)})},!0)}var S3={},$Ie=Wl,FIe=S3,BIe=$Ie("iterator"),jIe=Array.prototype,VIe=function(t){return t!==void 0&&(FIe.Array===t||jIe[BIe]===t)},WIe=rj,a$=Ub,UIe=PO,zIe=S3,YIe=Wl,GIe=YIe("iterator"),R3=function(t){if(!UIe(t))return a$(t,GIe)||a$(t,"@@iterator")||zIe[WIe(t)]},KIe=Do,qIe=tp,XIe=Pa,ZIe=Wb,QIe=R3,JIe=TypeError,eNe=function(t,e){var n=arguments.length<2?QIe(t):e;if(qIe(n))return XIe(KIe(n,t));throw new JIe(ZIe(t)+" is not iterable")},tNe=Cj,nNe=Do,rNe=Pa,iNe=Wb,oNe=VIe,sNe=op,l$=jb,aNe=eNe,lNe=R3,u$=VO,uNe=TypeError,_w=function(t,e){this.stopped=t,this.result=e},c$=_w.prototype,cNe=function(t,e,n){var r=n&&n.that,i=!!(n&&n.AS_ENTRIES),o=!!(n&&n.IS_RECORD),s=!!(n&&n.IS_ITERATOR),a=!!(n&&n.INTERRUPTED),l=tNe(e,r),u,c,h,d,f,g,v,y=function(m){return u&&u$(u,"normal"),new _w(!0,m)},p=function(m){return i?(rNe(m),a?l(m[0],m[1],y):l(m[0],m[1])):a?l(m,y):l(m)};if(o)u=t.iterator;else if(s)u=t;else{if(c=lNe(t),!c)throw new uNe(iNe(t)+" is not iterable");if(oNe(c)){for(h=0,d=sNe(t);d>h;h++)if(f=p(t[h]),f&&l$(c$,f))return f;return new _w(!1)}u=aNe(t,c)}for(g=o?t.next:u.next;!(v=nNe(g,u)).done;){try{f=p(v.value)}catch(m){u$(u,"throw",m)}if(typeof f=="object"&&f&&l$(c$,f))return f}return new _w(!1)},hNe=Ho,dNe=Ul,fNe=Fb,gNe=function(t,e,n){hNe?dNe.f(t,e,fNe(0,n)):t[e]=n},mNe=rr,pNe=cNe,vNe=gNe;mNe({target:"Object",stat:!0},{fromEntries:function(e){var n={};return pNe(e,function(r,i){vNe(n,r,i)},{AS_ENTRIES:!0}),n}});const E3="undoRedo",yNe="undoRedo";function be(t){const e=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,t.addHook("afterChange",function(r,i){const o=r&&r.length;if(!o||!r.find(l=>{const[,,u,c]=l;return u!==c}))return;const a=()=>{const l=r.reduce((c,h)=>(c.push([...h]),c),[]);G(l,c=>{c[1]=t.propToCol(c[1])});const u=o>1?this.getSelected():[[l[0][0],l[0][1]]];return new be.ChangeAction(l,u)};e.done(a,i)}),t.addHook("afterCreateRow",(r,i,o)=>{e.done(()=>new be.CreateRowAction(r,i),o)});const n=(r,i,o,s)=>{const a=["visualRow","visualCol","row","col","prop"],l=a.length,u=[];return Ie(o,s,c=>{Ie(r,i,h=>{const d=t.getCellMeta(h,c);if(Object.keys(d).length!==l){const f=Object.fromEntries(Object.entries(d).filter(g=>{let[v]=g;return a.includes(v)===!1}));u.push([d.visualRow,d.visualCol,f])}})}),u};t.addHook("beforeRemoveRow",(r,i,o,s)=>{const a=()=>{const l=t.toPhysicalRow(r),u=l+i-1,c=Ar(e.instance.getSourceData(l,0,l+i-1,e.instance.countSourceCols()-1));return new be.RemoveRowAction(l,c,t.getSettings().fixedRowsBottom,t.getSettings().fixedRowsTop,t.rowIndexMapper.getIndexesSequence(),n(l,u,0,t.countCols()-1))};e.done(a,s)}),t.addHook("afterCreateCol",(r,i,o)=>{e.done(()=>new be.CreateColumnAction(r,i),o)}),t.addHook("beforeRemoveCol",(r,i,o,s)=>{const a=()=>{const l=e.instance.getSourceDataArray(),u=(e.instance.countCols()+r)%e.instance.countCols(),c=u+i-1,h=[],d=[],f=[];Ie(l.length-1,y=>{const p=[],m=l[y];Ie(u,c,w=>{p.push(m[t.toPhysicalColumn(w)])}),h.push(p)}),Ie(i-1,y=>{f.push(t.toPhysicalColumn(u+y))}),Array.isArray(t.getSettings().colHeaders)&&Ie(i-1,y=>{d.push(t.getSettings().colHeaders[t.toPhysicalColumn(u+y)]||null)});const g=t.columnIndexMapper.getIndexesSequence(),v=t.rowIndexMapper.getIndexesSequence();return new be.RemoveColumnAction(u,f,h,d,g,v,t.getSettings().fixedColumnsStart,n(0,t.countRows(),u,c))};e.done(a,s)}),t.addHook("beforeCellAlignment",(r,i,o,s)=>{e.done(()=>new be.CellAlignmentAction(r,i,o,s))}),t.addHook("beforeFilter",(r,i)=>{e.done(()=>new be.FiltersAction(r,i))}),t.addHook("beforeRowMove",(r,i)=>{r!==!1&&e.done(()=>new be.RowMoveAction(r,i))}),t.addHook("beforeColumnMove",(r,i)=>{r!==!1&&e.done(()=>new be.ColumnMoveAction(r,i))}),t.addHook("beforeMergeCells",(r,i)=>{i||e.done(()=>new be.MergeCellsAction(t,r))}),t.addHook("afterUnmergeCells",(r,i)=>{i||e.done(()=>new be.UnmergeCellsAction(t,r))}),t.addHook("beforeColumnSort",(r,i,o)=>{o&&e.done(()=>new be.ColumnSortAction(r,i))}),t.addHook("afterInit",()=>{e.init()})}be.prototype.done=function(t,e){if(this.ignoreNewActions||e==="UndoRedo.undo"||e==="UndoRedo.redo"||e==="auto")return;const r=this.doneActions.slice();if(this.instance.runHooks("beforeUndoStackChange",r,e)===!1)return;const o=t(),s=this.undoneActions.slice();this.doneActions.push(o),this.instance.runHooks("afterUndoStackChange",r,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",s),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",s,this.undoneActions.slice())};be.prototype.undo=function(){if(this.isUndoAvailable()){const t=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",t);const e=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",t,this.doneActions.slice());const n=Ar(e);if(this.instance.runHooks("beforeUndo",n)===!1)return;this.ignoreNewActions=!0;const i=this,o=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",o),e.undo(this.instance,()=>{i.ignoreNewActions=!1,i.undoneActions.push(e)}),this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.instance.runHooks("afterUndo",n)}};be.prototype.redo=function(){if(this.isRedoAvailable()){const t=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",t);const e=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",t,this.undoneActions.slice());const n=Ar(e);if(this.instance.runHooks("beforeRedo",n)===!1)return;this.ignoreNewActions=!0;const i=this,o=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",o),e.redo(this.instance,()=>{i.ignoreNewActions=!1,i.doneActions.push(e)}),this.instance.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.instance.runHooks("afterRedo",n)}};be.prototype.isUndoAvailable=function(){return this.doneActions.length>0};be.prototype.isRedoAvailable=function(){return this.undoneActions.length>0};be.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0};be.prototype.isEnabled=function(){return this.enabled};be.prototype.enable=function(){if(this.isEnabled())return;const t=this.instance;this.enabled=!0,bNe(t),this.registerShortcuts(),t.addHook("afterChange",_3)};be.prototype.disable=function(){if(!this.isEnabled())return;const t=this.instance;this.enabled=!1,SNe(t),this.unregisterShortcuts(),t.removeHook("afterChange",_3)};be.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null};be.Action=function(){};be.Action.prototype.undo=function(){};be.Action.prototype.redo=function(){};be.ChangeAction=function(t,e){this.changes=t,this.selected=e,this.actionType="change"};Ds(be.ChangeAction,be.Action);be.ChangeAction.prototype.undo=function(t,e){const n=Ar(this.changes),r=t.countEmptyRows(!0),i=t.countEmptyCols(!0);for(let s=0,a=n.length;s<a;s++)n[s].splice(3,1);t.addHookOnce("afterChange",e),t.setDataAtCell(n,null,null,"UndoRedo.undo");for(let s=0,a=n.length;s<a;s++){const[l,u]=n[s];t.getSettings().minSpareRows&&l+1+t.getSettings().minSpareRows===t.countRows()&&r===t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(l+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&u+1+t.getSettings().minSpareCols===t.countCols()&&i===t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(u+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())}const o=t.getSelectedLast();if(o!==void 0){const[s,a]=n[0],[l,u]=o,c=t.view.getFirstFullyVisibleRow(),h=t.view.getFirstFullyVisibleColumn(),d=s>=c,f=a>=h;if((d&&f)===!1&&(l!==s||u!==a)===!0){const y={row:s,col:a};d===!1&&(y.verticalSnap="top"),f===!1&&(y.horizontalSnap="start"),t.scrollViewportTo(y)}}t.selectCells(this.selected,!1,!1)};be.ChangeAction.prototype.redo=function(t,e){const n=Ar(this.changes);for(let r=0,i=n.length;r<i;r++)n[r].splice(2,1);t.addHookOnce("afterChange",e),t.setDataAtCell(n,null,null,"UndoRedo.redo"),this.selected&&t.selectCells(this.selected,!1,!1)};be.CreateRowAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_row"};Ds(be.CreateRowAction,be.Action);be.CreateRowAction.prototype.undo=function(t,e){const n=t.countRows(),r=t.getSettings().minSpareRows;this.index>=n&&this.index-r<n&&(this.index-=r),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount,"UndoRedo.undo")};be.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")};be.RemoveRowAction=function(t,e,n,r,i,o){this.index=t,this.data=e,this.actionType="remove_row",this.fixedRowsBottom=n,this.fixedRowsTop=r,this.rowIndexesSequence=i,this.removedCellMetas=o};Ds(be.RemoveRowAction,be.Action);be.RemoveRowAction.prototype.undo=function(t,e){const n=t.getSettings(),r=[];n.fixedRowsBottom=this.fixedRowsBottom,n.fixedRowsTop=this.fixedRowsTop,this.data.forEach((i,o)=>{Object.keys(i).forEach(s=>{const a=parseInt(s,10);r.push([this.index+o,isNaN(a)?s:a,i[s]])})}),t.alter("insert_row_above",this.index,this.data.length,"UndoRedo.undo"),this.removedCellMetas.forEach(i=>{let[o,s,a]=i;t.setCellMetaObject(o,s,a)}),t.addHookOnce("afterViewRender",e),t.setSourceDataAtCell(r,null,null,"UndoRedo.undo"),t.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence)};be.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")};be.CreateColumnAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_col"};Ds(be.CreateColumnAction,be.Action);be.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.undo")};be.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")};be.RemoveColumnAction=function(t,e,n,r,i,o,s,a){this.index=t,this.indexes=e,this.data=n,this.amount=this.data[0].length,this.headers=r,this.columnPositions=i.slice(0),this.rowPositions=o.slice(0),this.actionType="remove_col",this.fixedColumnsStart=s,this.removedCellMetas=a};Ds(be.RemoveColumnAction,be.Action);be.RemoveColumnAction.prototype.undo=function(t,e){const n=t.getSettings();n.fixedColumnsStart=this.fixedColumnsStart;const r=this.indexes.slice(0).sort(),i=(u,c,h)=>h[this.indexes.indexOf(r[c])],o=this.data.length,s=[];for(let u=0;u<o;u++)s.push(it(this.data[u],i));const a=it(this.headers,i),l=[];t.alter("insert_col_start",this.indexes[0],this.indexes.length,"UndoRedo.undo"),G(t.getSourceDataArray(),(u,c)=>{G(r,(h,d)=>{u[h]=s[c][d],l.push([c,h,u[h]])})}),t.setSourceDataAtCell(l,void 0,void 0,"UndoRedo.undo"),typeof this.headers<"u"&&G(a,(u,c)=>{t.getSettings().colHeaders[r[c]]=u}),this.removedCellMetas.forEach(u=>{let[c,h,d]=u;t.setCellMetaObject(c,h,d)}),t.batchExecution(()=>{t.rowIndexMapper.setIndexesSequence(this.rowPositions),t.columnIndexMapper.setIndexesSequence(this.columnPositions)},!0),t.addHookOnce("afterViewRender",e),t.render()};be.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.redo")};be.CellAlignmentAction=function(t,e,n,r){this.stateBefore=t,this.range=e,this.type=n,this.alignment=r};be.CellAlignmentAction.prototype.undo=function(t,e){G(this.range,n=>{n.forAll((r,i)=>{r>=0&&i>=0&&t.setCellMeta(r,i,"className",this.stateBefore[r][i]||" htLeft")})}),t.addHookOnce("afterViewRender",e),t.render()};be.CellAlignmentAction.prototype.redo=function(t,e){Xa(this.range,this.type,this.alignment,(n,r)=>t.getCellMeta(n,r),(n,r,i,o)=>t.setCellMeta(n,r,i,o)),t.addHookOnce("afterViewRender",e),t.render()};be.FiltersAction=function(t,e){this.previousConditionsStack=e,this.conditionsStack=t,this.actionType="filter"};Ds(be.FiltersAction,be.Action);be.FiltersAction.prototype.undo=function(t,e){const n=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),this.previousConditionsStack&&n.conditionCollection.importAllConditions(this.previousConditionsStack),n.filter()};be.FiltersAction.prototype.redo=function(t,e){const n=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),n.conditionCollection.importAllConditions(this.conditionsStack),n.filter()};class wNe extends be.Action{constructor(e,n){super(),this.cellRange=n;const r=this.cellRange.getTopStartCorner(),i=this.cellRange.getBottomEndCorner();this.rangeData=e.getData(r.row,r.col,i.row,i.col)}undo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.unmergeRange(this.cellRange,!0);const i=this.cellRange.getTopStartCorner();e.populateFromArray(i.row,i.col,this.rangeData,void 0,void 0,"MergeCells")}redo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.mergeRange(this.cellRange)}}be.MergeCellsAction=wNe;class CNe extends be.Action{constructor(e,n){super(),this.cellRange=n}undo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.mergeRange(this.cellRange,!0)}redo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.unmergeRange(this.cellRange,!0),e.render()}}be.UnmergeCellsAction=CNe;be.RowMoveAction=function(t,e){this.rows=t.slice(),this.finalRowIndex=e,this.actionType="row_move"};Ds(be.RowMoveAction,be.Action);be.RowMoveAction.prototype.undo=function(t,e){const n=t.getPlugin("manualRowMove");t.addHookOnce("afterViewRender",e),XM(this.rows,this.finalRowIndex,t.rowIndexMapper.getNumberOfIndexes()).reverse().forEach(i=>{let{from:o,to:s}=i;o<s&&(s-=1),n.moveRow(s,o)}),t.render(),t.deselectCell(),t.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)};be.RowMoveAction.prototype.redo=function(t,e){const n=t.getPlugin("manualRowMove");t.addHookOnce("afterViewRender",e),n.moveRows(this.rows.slice(),this.finalRowIndex),t.render(),t.deselectCell(),t.selectRows(this.finalRowIndex,this.finalRowIndex+this.rows.length-1)};be.ColumnMoveAction=function(t,e){this.columns=t.slice(),this.finalColumnIndex=e,this.actionType="col_move"};Ds(be.ColumnMoveAction,be.Action);be.ColumnMoveAction.prototype.undo=function(t,e){const n=t.getPlugin("manualColumnMove");t.addHookOnce("afterViewRender",e),XM(this.columns,this.finalColumnIndex,t.columnIndexMapper.getNumberOfIndexes()).reverse().forEach(i=>{let{from:o,to:s}=i;o<s&&(s-=1),n.moveColumn(s,o)}),t.render(),t.deselectCell(),t.selectColumns(this.columns[0],this.columns[0]+this.columns.length-1)};be.ColumnMoveAction.prototype.redo=function(t,e){const n=t.getPlugin("manualColumnMove");t.addHookOnce("afterViewRender",e),n.moveColumns(this.columns.slice(),this.finalColumnIndex),t.render(),t.deselectCell(),t.selectColumns(this.finalColumnIndex,this.finalColumnIndex+this.columns.length-1)};be.ColumnSortAction=function(t,e){this.previousSortState=t,this.nextSortState=e};Ds(be.ColumnSortAction,be.Action);be.ColumnSortAction.prototype.undo=function(t,e){const n=t.getPlugin("columnSorting"),r=t.getPlugin("multiColumnSorting"),i=r.isEnabled()?r:n;this.previousSortState.length?i.sort(this.previousSortState):i.clearSort(),e()};be.ColumnSortAction.prototype.redo=function(t,e){const n=t.getPlugin("columnSorting"),r=t.getPlugin("multiColumnSorting");(r.isEnabled()?r:n).sort(this.nextSortState),e()};be.prototype.init=function(){const t=this.instance.getSettings().undo,e=typeof t>"u"||t;this.instance.undoRedo||(this.instance.undoRedo=this),e?this.instance.undoRedo.enable():this.instance.undoRedo.disable()};be.prototype.registerShortcuts=function(){const e=this.instance.getShortcutManager().getContext("grid"),r={runOnlyIf:i=>!i.altKey,group:E3};e.addShortcuts([{keys:[["Control/Meta","z"]],callback:()=>{this.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:()=>{this.redo()}}],r)};be.prototype.unregisterShortcuts=function(){this.instance.getShortcutManager().getContext("grid").removeShortcutsByGroup(E3)};function _3(t,e){const n=this;if(e==="loadData")return n.undoRedo.clear()}function bNe(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function SNe(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}const Op=Te.getSingleton();Op.add("afterUpdateSettings",function(){var t;(t=this.getPlugin("undoRedo"))===null||t===void 0||t.init()});Op.register("beforeUndo");Op.register("afterUndo");Op.register("beforeRedo");Op.register("afterRedo");be.PLUGIN_KEY=yNe;be.SETTING_KEYS=!0;function RNe(){ft($g),ft(Qbe),ft(Fg),ft(ISe),ft(BSe),ft(qU),ft(k0e),ft(wRe),ft(PS),ft($Ee),ft(c1e),ft(y1e),ft(IS),ft(Y1e),ft(UTe),ft(bOe),ft(GOe),ft(ixe),ft(pxe),ft(Oxe),ft(Lxe),ft(tPe),ft(cPe),ft(WPe),ft(RMe),ft(xMe),ft(eAe),ft(BAe),ft(uIe),ft(yIe),ft(_Ie),ft(DIe),ft(be)}function ENe(){OCe(),zCe(),ebe(),Cbe(),RNe()}ENe();function _Ne(){const{id:t}=P2(),[e,n]=de.useState([]),[r,i]=de.useState(""),[o,s]=de.useState(!0),[a,l]=de.useState(!1),[u,c]=de.useState([]),h=de.useRef(null),d=de.useRef(null);de.useEffect(()=>((async()=>{var y,p,m;try{const w=await Ag.get(Number(t));i(w.data.title),n(((m=(p=(y=w.data.data)==null?void 0:y.sheets)==null?void 0:p[0])==null?void 0:m.data)||[])}catch(w){console.error("Failed to load spreadsheet:",w)}finally{s(!1)}})(),t&&(h.current=new PB("spreadsheet",Number(t)),h.current.connect(),h.current.on("cell_change",y=>{var p;(p=y.changes)==null||p.forEach(m=>{e[m.row]&&(e[m.row][m.col]=m.value)}),n([...e])}),h.current.on("user_joined",y=>{c(p=>[...new Set([...p,y.username])])}),h.current.on("user_left",y=>{c(p=>p.filter(m=>m!==y.username))})),()=>{var y;(y=h.current)==null||y.disconnect(),d.current&&clearTimeout(d.current)}),[t]);const f=async()=>{l(!0);try{await Ag.update(Number(t),{data:{sheets:[{name:"Sheet1",data:e}]}})}catch(v){console.error("Failed to save:",v)}finally{l(!1)}},g=()=>{d.current&&clearTimeout(d.current),d.current=setTimeout(f,1500)};return o?ce.jsx("div",{className:"text-center py-8",children:"Loading spreadsheet..."}):ce.jsxs("div",{className:"h-screen flex flex-col bg-white",children:[ce.jsxs("div",{className:"border-b bg-gray-50 p-4 flex justify-between items-center",children:[ce.jsxs("div",{className:"flex-1",children:[ce.jsx("input",{type:"text",value:r,onChange:v=>i(v.target.value),className:"text-2xl font-bold outline-none",placeholder:"Spreadsheet Title"}),ce.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Active: ",u.join(", ")||"You"]})]}),ce.jsxs("div",{className:"flex gap-2 items-center",children:[ce.jsxs("button",{onClick:f,disabled:a,className:"btn btn-primary flex items-center gap-2",children:[ce.jsx(fB,{size:18}),a?"Saving...":"Save"]}),ce.jsx("button",{className:"btn btn-secondary p-2",children:ce.jsx(Jw,{size:18})}),ce.jsx("button",{className:"btn btn-secondary p-2",children:ce.jsx(dB,{size:18})})]})]}),ce.jsx("div",{className:"flex-1 overflow-hidden",children:ce.jsx(wU,{data:e,rowHeaders:!0,colHeaders:!0,height:"100%",afterChange:g,contextMenu:!0,dropdownMenu:!0,licenseKey:"non-commercial-and-evaluation"})})]})}function TNe(){const{user:t}=Eb(),{notifications:e}=L6(),n=xd(),[r,i]=de.useState(!1),o=async()=>{await Mb.logout(),n("/login")},s=e.filter(a=>!a.read).length;return ce.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ce.jsx("header",{className:"bg-white shadow-sm",children:ce.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:ce.jsxs("div",{className:"flex justify-between items-center",children:[ce.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>n("/dashboard"),children:[ce.jsx("img",{src:"/Docs-Hub.png",alt:"DocsHub Logo",className:"h-10 w-10"}),ce.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"DocsHub"})]}),ce.jsxs("div",{className:"flex items-center gap-4",children:[ce.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900",children:[ce.jsx(m8,{size:20}),s>0&&ce.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:s})]}),ce.jsxs("div",{className:"relative",children:[ce.jsx("button",{onClick:()=>i(!r),className:"p-2 text-gray-600 hover:text-gray-900",children:ce.jsx(y8,{size:20})}),r&&ce.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50",children:[ce.jsx("div",{className:"px-4 py-2 border-b text-sm text-gray-600",children:t==null?void 0:t.email}),ce.jsxs("button",{onClick:o,className:"w-full text-left px-4 py-2 text-red-600 hover:bg-gray-100 flex items-center gap-2",children:[ce.jsx(v8,{size:16}),"Logout"]})]})]})]})]})})}),ce.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ce.jsx(QY,{})})]})}function ONe(){const{user:t,setUser:e}=Eb();return de.useEffect(()=>{(async()=>{try{const r=await Mb.getProfile();e(r.data)}catch{e(null)}})()},[]),ce.jsx(a6,{children:ce.jsxs(e6,{children:[ce.jsx(Lu,{path:"/login",element:ce.jsx(b8,{})}),ce.jsx(Lu,{path:"/register",element:ce.jsx(S8,{})}),ce.jsxs(Lu,{path:"/*",element:t?ce.jsx(TNe,{}):ce.jsx(ZY,{to:"/login"}),children:[ce.jsx(Lu,{index:!0,element:ce.jsx(R8,{})}),ce.jsx(Lu,{path:"documents/:id",element:ce.jsx(iQ,{})}),ce.jsx(Lu,{path:"spreadsheets/:id",element:ce.jsx(_Ne,{})})]})]})})}QE.createRoot(document.getElementById("root")).render(ce.jsx(Dt.StrictMode,{children:ce.jsx(ONe,{})}))});export default xNe();
